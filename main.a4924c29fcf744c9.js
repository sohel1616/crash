var PUe=Object.defineProperty,xUe=Object.defineProperties,IUe=Object.getOwnPropertyDescriptors,Vw=Object.getOwnPropertySymbols,XX=Object.prototype.hasOwnProperty,KX=Object.prototype.propertyIsEnumerable,ia=Math.pow,$X=(ot,ut,_e)=>ut in ot?PUe(ot,ut,{enumerable:!0,configurable:!0,writable:!0,value:_e}):ot[ut]=_e,Ze=(ot,ut)=>{for(var _e in ut||(ut={}))XX.call(ut,_e)&&$X(ot,_e,ut[_e]);if(Vw)for(var _e of Vw(ut))KX.call(ut,_e)&&$X(ot,_e,ut[_e]);return ot},Ln=(ot,ut)=>xUe(ot,IUe(ut)),qX=(ot,ut)=>{var _e={};for(var xe in ot)XX.call(ot,xe)&&ut.indexOf(xe)<0&&(_e[xe]=ot[xe]);if(null!=ot&&Vw)for(var xe of Vw(ot))ut.indexOf(xe)<0&&KX.call(ot,xe)&&(_e[xe]=ot[xe]);return _e};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{176:(ot,ut,_e)=>{"use strict";var xe={};_e.r(xe),_e.d(xe,{BaseTextureCache:()=>Hl,CanvasRenderTarget:()=>em,DATA_URI:()=>Ej,EventEmitter:()=>Z_(),ProgramCache:()=>RI,TextureCache:()=>Ga,clearTextureCache:()=>dme,correctBlendMode:()=>xI,createIndicesForQuads:()=>bj,decomposeDataUri:()=>hme,deprecation:()=>Su,destroyTextureCache:()=>ume,determineCrossOrigin:()=>Tj,earcut:()=>CI(),getBufferType:()=>HC,getResolutionOfUrl:()=>Xy,hex2rgb:()=>sd,hex2string:()=>jC,interleaveTypedArrays:()=>lme,isMobile:()=>cl,isPow2:()=>AI,isWebGLSupported:()=>vj,log2:()=>DI,nextPow2:()=>$y,premultiplyBlendMode:()=>PI,premultiplyRgba:()=>yj,premultiplyTint:()=>GC,premultiplyTintToRgba:()=>II,removeItems:()=>Df,rgb2hex:()=>OI,sayHello:()=>wI,sign:()=>Rf,skipHello:()=>mj,string2hex:()=>ma,trimCanvas:()=>Cj,uid:()=>ch,url:()=>Af});var Ke={};function N(n){return"function"==typeof n}function U(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}_e.r(Ke),_e.d(Ke,{ALPHA_MODES:()=>cs,AbstractBatchRenderer:()=>gG,AbstractMultiResource:()=>JC,AbstractRenderer:()=>w2,AccessibilityManager:()=>UI,AnimatedSprite:()=>w7,AppLoaderPlugin:()=>AG,Application:()=>o0,ArrayResource:()=>YI,Attribute:()=>ZI,BLEND_MODES:()=>ht,BUFFER_BITS:()=>ah,BUFFER_TYPE:()=>Bo,BaseImageResource:()=>Cu,BasePrepare:()=>Z2,BaseRenderTexture:()=>Qy,BaseTexture:()=>Ai,BatchDrawCall:()=>lE,BatchGeometry:()=>O2,BatchPluginFactory:()=>yG,BatchRenderer:()=>bG,BatchShaderGenerator:()=>_G,BatchSystem:()=>n2,BatchTextureArray:()=>cE,BitmapFont:()=>ud,BitmapFontData:()=>p0,BitmapFontLoader:()=>m7,BitmapText:()=>g0,BlobResource:()=>kG,Bounds:()=>tm,Buffer:()=>Uo,BufferResource:()=>nm,CLEAR_MODES:()=>Ys,CanvasExtract:()=>LH,CanvasGraphicsRenderer:()=>DH,CanvasMeshRenderer:()=>xH,CanvasPrepare:()=>BH,CanvasRenderer:()=>wu,CanvasResource:()=>Zy,CanvasSpriteRenderer:()=>NH,Circle:()=>Oj,CompressedTextureLoader:()=>LG,CompressedTextureResource:()=>fE,Container:()=>Br,ContextSystem:()=>r2,CountLimiter:()=>i7,CubeResource:()=>$I,DDSLoader:()=>UG,DEG_TO_RAD:()=>Mj,DRAW_MODES:()=>Os,DisplayObject:()=>to,ENV:()=>ls,Ellipse:()=>Pj,Extract:()=>wG,FORMATS:()=>mt,FORMATS_TO_COMPONENTS:()=>GG,FillStyle:()=>L2,Filter:()=>ld,FilterState:()=>Hj,FilterSystem:()=>t2,Framebuffer:()=>QC,FramebufferSystem:()=>o2,GC_MODES:()=>Q_,GLFramebuffer:()=>zj,GLProgram:()=>uG,GLTexture:()=>aE,GRAPHICS_CURVES:()=>sm,Geometry:()=>im,GeometrySystem:()=>a2,Graphics:()=>Wl,GraphicsData:()=>z2,GraphicsGeometry:()=>e7,IGLUniformData:()=>Zme,INSTALLED:()=>Jy,INTERNAL_FORMATS:()=>qn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>s0,ImageBitmapResource:()=>qI,ImageResource:()=>ZC,InteractionData:()=>GI,InteractionEvent:()=>kj,InteractionManager:()=>VI,InteractionTrackingData:()=>$C,KTXLoader:()=>VG,LINE_CAP:()=>Tu,LINE_JOIN:()=>Eu,LineStyle:()=>t7,Loader:()=>$s,LoaderResource:()=>no,MASK_TYPES:()=>Ui,MIPMAP_MODES:()=>_a,MSAA_QUALITY:()=>oi,MaskData:()=>Wj,MaskSystem:()=>g2,Matrix:()=>tr,Mesh:()=>Yl,MeshBatchUvs:()=>h7,MeshGeometry:()=>f0,MeshMaterial:()=>$f,NineSlicePlane:()=>_0,ObjectRenderer:()=>e0,ObservablePoint:()=>Nf,PI_2:()=>Ky,PRECISION:()=>Fo,ParticleContainer:()=>WG,ParticleRenderer:()=>$G,PlaneGeometry:()=>b7,Point:()=>Or,Polygon:()=>qy,Prepare:()=>o7,Program:()=>rm,ProjectionSystem:()=>v2,Quad:()=>Gj,QuadUv:()=>QI,RAD_TO_DEG:()=>wj,RENDERER_TYPE:()=>Ic,Rectangle:()=>wi,RenderTexture:()=>Vl,RenderTexturePool:()=>Uj,RenderTextureSystem:()=>y2,Renderer:()=>Dc,Resource:()=>Uf,RopeGeometry:()=>S7,RoundedRectangle:()=>xj,Runner:()=>Ps,SAMPLER_TYPES:()=>lh,SCALE_MODES:()=>Lo,SHAPES:()=>Fi,SVGResource:()=>XI,ScissorSystem:()=>_2,Shader:()=>ad,ShaderSystem:()=>b2,SimpleMesh:()=>T7,SimplePlane:()=>E7,SimpleRope:()=>C7,Sprite:()=>xs,SpriteMaskFilter:()=>iG,Spritesheet:()=>s7,SpritesheetLoader:()=>a7,State:()=>dh,StateSystem:()=>S2,StencilSystem:()=>m2,System:()=>pve,TARGETS:()=>ja,TEXT_GRADIENT:()=>Wf,TYPES:()=>Wt,TYPES_TO_BYTES_PER_COMPONENT:()=>N2,TYPES_TO_BYTES_PER_PIXEL:()=>HG,TemporaryDisplayObject:()=>BI,Text:()=>d0,TextMetrics:()=>ul,TextStyle:()=>Yf,Texture:()=>un,TextureGCSystem:()=>C2,TextureLoader:()=>DG,TextureMatrix:()=>oE,TextureSystem:()=>E2,TextureUvs:()=>JI,Ticker:()=>us,TickerPlugin:()=>Nj,TilingSprite:()=>c7,TilingSpriteRenderer:()=>d7,TimeLimiter:()=>yye,Transform:()=>kI,UPDATE_PRIORITY:()=>Ac,UniformGroup:()=>uh,VERSION:()=>s0e,VideoResource:()=>KI,ViewableBuffer:()=>uE,WRAP_MODES:()=>Gl,accessibleTarget:()=>Aj,autoDetectRenderer:()=>fG,autoDetectResource:()=>qC,canvasUtils:()=>Co,checkMaxIfStatementsInShader:()=>tG,createUBOElements:()=>aG,defaultFilterVertex:()=>M2,defaultVertex:()=>pG,filters:()=>a0e,generateProgram:()=>dG,generateUniformBufferSync:()=>cG,getTestContext:()=>qj,getUBOData:()=>lG,graphicsUtils:()=>nye,groupD8:()=>Fr,interactiveTarget:()=>Lj,isMobile:()=>cl,resources:()=>SG,settings:()=>Ut,systems:()=>CG,uniformParsers:()=>jf,utils:()=>xe});const h=U(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function y(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class m{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(N(i))try{i()}catch(o){t=o instanceof h?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{A(o)}catch(s){t=null!=t?t:[],s instanceof h?t=[...t,...s.errors]:t.push(s)}}if(t)throw new h(t)}}add(t){var e;if(t&&t!==this)if(this.closed)A(t);else{if(t instanceof m){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&y(e,t)}remove(t){const{_finalizers:e}=this;e&&y(e,t),t instanceof m&&t._removeParent(this)}}m.EMPTY=(()=>{const n=new m;return n.closed=!0,n})();const v=m.EMPTY;function C(n){return n instanceof m||n&&"closed"in n&&N(n.remove)&&N(n.add)&&N(n.unsubscribe)}function A(n){N(n)?n():n.unsubscribe()}const V={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g={setTimeout(n,t,...e){const{delegate:i}=g;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=g;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function P(n){g.setTimeout(()=>{const{onUnhandledError:t}=V;if(!t)throw n;t(n)})}function D(){}const F=E("C",void 0,void 0);function E(n,t,e){return{kind:n,value:t,error:e}}let b=null;function w(n){if(V.useDeprecatedSynchronousErrorHandling){const t=!b;if(t&&(b={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=b;if(b=null,e)throw i}}else n()}class M extends m{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,C(t)&&t.add(this)):this.destination=Q}static create(t,e,i){return new X(t,e,i)}next(t){this.isStopped?me(function O(n){return E("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?me(function L(n){return E("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?me(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H=Function.prototype.bind;function j(n,t){return H.call(n,t)}class G{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){fe(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){fe(i)}else fe(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){fe(e)}}}class X extends M{constructor(t,e,i){let r;if(super(),N(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&V.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&j(t.next,o),error:t.error&&j(t.error,o),complete:t.complete&&j(t.complete,o)}):r=t}this.destination=new G(r)}}function fe(n){V.useDeprecatedSynchronousErrorHandling?function S(n){V.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=n)}(n):P(n)}function me(n,t){const{onStoppedNotification:e}=V;e&&g.setTimeout(()=>e(n,t))}const Q={closed:!0,next:D,error:function Me(n){throw n},complete:D},z="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}let ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function ze(n){return n&&n instanceof M||function pe(n){return n&&N(n.next)&&N(n.error)&&N(n.complete)}(n)&&C(n)}(e)?e:new X(e,i,r);return w(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=he(i))((r,o)=>{const s=new X({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[z](){return this}pipe(...e){return function re(n){return 0===n.length?ne:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=he(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function he(n){var t;return null!==(t=null!=n?n:V.Promise)&&void 0!==t?t:Promise}const at=U(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xe=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Pt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new at}next(e){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){w(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?v:(this.currentObservers=null,o.push(e),new m(()=>{this.currentObservers=null,y(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new ue;return e.source=this,e}}return n.create=(t,e)=>new Pt(t,e),n})();class Pt extends Xe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:v}}function it(n){return t=>{if(function bt(n){return N(null==n?void 0:n.lift)}(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(n,t,e,i,r){return new Te(n,t,e,i,r)}class Te extends M{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ae(n,t){return it((e,i)=>{let r=0;e.subscribe(rt(i,o=>{i.next(n.call(t,o,r++))}))})}function qe(n,t,e,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function nt(n){return this instanceof nt?(this.v=n,this):new nt(n)}function Le(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(p){return new Promise(function(T,x){o.push([f,p,T,x])>1||a(f,p)})})}function a(f,p){try{!function l(f){f.value instanceof nt?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(i[f](p))}catch(T){d(o[0][3],T)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function et(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ji(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const ln=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function $n(n){return N(null==n?void 0:n.then)}function Dn(n){return N(n[z])}function sn(n){return Symbol.asyncIterator&&N(null==n?void 0:n[Symbol.asyncIterator])}function An(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lo=function vo(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Di(n){return N(null==n?void 0:n[lo])}function Zi(n){return Le(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield nt(e.read());if(r)return yield nt(void 0);yield yield nt(i)}}finally{e.releaseLock()}})}function Hi(n){return N(null==n?void 0:n.getReader)}function rn(n){if(n instanceof ue)return n;if(null!=n){if(Dn(n))return function Dr(n){return new ue(t=>{const e=n[z]();if(N(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ln(n))return function Oo(n){return new ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if($n(n))return function qt(n){return new ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,P)})}(n);if(sn(n))return Sr(n);if(Di(n))return function Sn(n){return new ue(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Hi(n))return function Ra(n){return Sr(Zi(n))}(n)}throw An(n)}function Sr(n){return new ue(t=>{(function eu(n,t){var e,i,r,o;return function Fn(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=et(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function jr(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function dr(n,t,e=1/0){return N(t)?dr((i,r)=>Ae((o,s)=>t(i,o,r,s))(rn(n(i,r))),e):("number"==typeof t&&(e=t),it((i,r)=>function Ss(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},p=x=>c<i?T(x):l.push(x),T=x=>{o&&t.next(x),c++;let k=!1;rn(e(x,u++)).subscribe(rt(t,B=>{null==r||r(B),o?p(B):t.next(B)},()=>{k=!0},void 0,()=>{if(k)try{for(c--;l.length&&c<i;){const B=l.shift();s?jr(t,s,()=>T(B)):T(B)}f()}catch(B){t.error(B)}}))};return n.subscribe(rt(t,p,()=>{d=!0,f()})),()=>{null==a||a()}}(i,r,n,e)))}function Hu(n=1/0){return dr(ne,n)}const Rr=new ue(n=>n.complete());function Ri(n){return n&&N(n.schedule)}function qr(n){return n[n.length-1]}function Pi(n){return N(qr(n))?n.pop():void 0}function Ls(n){return Ri(qr(n))?n.pop():void 0}function hr(n,t=0){return it((e,i)=>{e.subscribe(rt(i,r=>jr(i,n,()=>i.next(r),t),()=>jr(i,n,()=>i.complete(),t),r=>jr(i,n,()=>i.error(r),t)))})}function Ht(n,t=0){return it((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Jr(n,t){if(!n)throw new Error("Iterable cannot be null");return new ue(e=>{jr(e,t,()=>{const i=n[Symbol.asyncIterator]();jr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ni(n,t){return t?function En(n,t){if(null!=n){if(Dn(n))return function Yt(n,t){return rn(n).pipe(Ht(t),hr(t))}(n,t);if(ln(n))return function mi(n,t){return new ue(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if($n(n))return function dn(n,t){return rn(n).pipe(Ht(t),hr(t))}(n,t);if(sn(n))return Jr(n,t);if(Di(n))return function Cn(n,t){return new ue(e=>{let i;return jr(e,t,()=>{i=n[lo](),jr(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>N(null==i?void 0:i.return)&&i.return()})}(n,t);if(Hi(n))return function fc(n,t){return Jr(Zi(n),t)}(n,t)}throw An(n)}(n,t):rn(n)}function Nr(n){return n<=0?()=>Rr:it((t,e)=>{let i=0;t.subscribe(rt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ka(n={}){const{connector:t=(()=>new Xe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},p=()=>{f(),s=l=null,u=d=!1},T=()=>{const x=s;p(),null==x||x.unsubscribe()};return it((x,k)=>{c++,!d&&!u&&f();const B=l=null!=l?l:t();k.add(()=>{c--,0===c&&!d&&!u&&(a=Cr(T,r))}),B.subscribe(k),s||(s=new X({next:$=>B.next($),error:$=>{d=!0,f(),a=Cr(p,e,$),B.error($)},complete:()=>{u=!0,f(),a=Cr(p,i),B.complete()}}),Ni(x).subscribe(s))})(o)}}function Cr(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Nr(1)).subscribe(()=>n())}function ui(n){for(let t in n)if(n[t]===ui)return t;throw Error("Could not find renamed property on target object.")}function ra(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ci(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ci).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Fe(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Se=ui({__forward_ref__:ui});function de(n){return n.__forward_ref__=de,n.toString=function(){return Ci(this())},n}function be(n){return ce(n)?n():n}function ce(n){return"function"==typeof n&&n.hasOwnProperty(Se)&&n.__forward_ref__===de}class Oe extends Error{constructor(t,e){super(function ct(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function tt(n){return"string"==typeof n?n:null==n?"":String(n)}function jt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():tt(n)}function kr(n,t){const e=t?` in ${t}`:"";throw new Oe(-201,`No provider for ${jt(n)} found${e}`)}function Cs(n,t){null==n&&function Bi(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ct(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xw(n){return ek(n,Jb)||ek(n,nk)}function ek(n,t){return n.hasOwnProperty(t)?n[t]:null}function tk(n){return n&&(n.hasOwnProperty(Kw)||n.hasOwnProperty(QX))?n[Kw]:null}const Jb=ui({\u0275prov:ui}),Kw=ui({\u0275inj:ui}),nk=ui({ngInjectableDef:ui}),QX=ui({ngInjectorDef:ui});var Gn=(()=>((Gn=Gn||{})[Gn.Default=0]="Default",Gn[Gn.Host=1]="Host",Gn[Gn.Self=2]="Self",Gn[Gn.SkipSelf=4]="SkipSelf",Gn[Gn.Optional=8]="Optional",Gn))();let qw;function Ud(n){const t=qw;return qw=n,t}function ik(n,t,e){const i=Xw(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Gn.Optional?null:void 0!==t?t:void kr(Ci(n),"Injector")}function jd(n){return{toString:n}.toString()}var pc=(()=>((pc=pc||{})[pc.OnPush=0]="OnPush",pc[pc.Default=1]="Default",pc))(),gc=(()=>{return(n=gc||(gc={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",gc;var n})();const tK="undefined"!=typeof globalThis&&globalThis,nK="undefined"!=typeof window&&window,iK="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rr=tK||"undefined"!=typeof global&&global||nK||iK,xg={},fr=[],Zb=ui({\u0275cmp:ui}),Jw=ui({\u0275dir:ui}),Qb=ui({\u0275pipe:ui}),rk=ui({\u0275mod:ui}),zu=ui({\u0275fac:ui}),Sv=ui({__NG_ELEMENT_ID__:ui});let rK=0;function _t(n){return jd(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===pc.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||fr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||gc.Emulated,id:"c",styles:n.styles||fr,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=rK++,i.inputs=lk(n.inputs,e),i.outputs=lk(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(ok):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(sk):null,i})}function ok(n){return Es(n)||function Gd(n){return n[Jw]||null}(n)}function sk(n){return function ef(n){return n[Qb]||null}(n)}const ak={};function Et(n){return jd(()=>{const t={type:n.type,bootstrap:n.bootstrap||fr,declarations:n.declarations||fr,imports:n.imports||fr,exports:n.exports||fr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ak[n.id]=n.type),t})}function lk(n,t){if(null==n)return xg;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const $t=_t;function xo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Es(n){return n[Zb]||null}function Ml(n,t){const e=n[rk]||null;if(!e&&!0===t)throw new Error(`Type ${Ci(n)} does not have '\u0275mod' property.`);return e}function tu(n){return Array.isArray(n)&&"object"==typeof n[1]}function mc(n){return Array.isArray(n)&&!0===n[1]}function eM(n){return 0!=(8&n.flags)}function r1(n){return 2==(2&n.flags)}function o1(n){return 1==(1&n.flags)}function vc(n){return null!==n.template}function uK(n){return 0!=(512&n[2])}function sf(n,t){return n.hasOwnProperty(zu)?n[zu]:null}class fK{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function sa(){return uk}function uk(n){return n.type.prototype.ngOnChanges&&(n.setInput=gK),pK}function pK(){const n=hk(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===xg)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function gK(n,t,e,i){const r=hk(n)||function _K(n,t){return n[dk]=t}(n,{previous:xg,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new fK(l&&l.currentValue,t,s===xg),n[i]=t}sa.ngInherit=!0;const dk="__ngSimpleChanges__";function hk(n){return n[dk]||null}let oM;function sM(){return void 0!==oM?oM:"undefined"!=typeof document?document:void 0}function uo(n){return!!n.listen}const fk={createRenderer:(n,t)=>sM()};function Io(n){for(;Array.isArray(n);)n=n[0];return n}function s1(n,t){return Io(t[n])}function Qa(n,t){return Io(t[n.index])}function aM(n,t){return n.data[t]}function Ng(n,t){return n[t]}function el(n,t){const e=t[n];return tu(e)?e:e[0]}function pk(n){return 4==(4&n[2])}function lM(n){return 128==(128&n[2])}function Hd(n,t){return null==t?null:n[t]}function gk(n){n[18]=0}function cM(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Bn={lFrame:Tk(null),bindingsEnabled:!0};function mk(){return Bn.bindingsEnabled}function Rt(){return Bn.lFrame.lView}function xi(){return Bn.lFrame.tView}function Tt(n){return Bn.lFrame.contextLView=n,n[8]}function Vo(){let n=vk();for(;null!==n&&64===n.type;)n=n.parent;return n}function vk(){return Bn.lFrame.currentTNode}function nu(n,t){const e=Bn.lFrame;e.currentTNode=n,e.isParent=t}function uM(){return Bn.lFrame.isParent}function dM(){Bn.lFrame.isParent=!1}function aa(){const n=Bn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Wu(){return Bn.lFrame.bindingIndex}function kg(){return Bn.lFrame.bindingIndex++}function Yu(n){const t=Bn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function RK(n,t){const e=Bn.lFrame;e.bindingIndex=e.bindingRootIndex=n,hM(t)}function hM(n){Bn.lFrame.currentDirectiveIndex=n}function Sk(){return Bn.lFrame.currentQueryIndex}function pM(n){Bn.lFrame.currentQueryIndex=n}function kK(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Ck(n,t,e){if(e&Gn.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Gn.Host||(r=kK(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Bn.lFrame=Ek();return i.currentTNode=t,i.lView=n,!0}function l1(n){const t=Ek(),e=n[1];Bn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ek(){const n=Bn.lFrame,t=null===n?null:n.child;return null===t?Tk(n):t}function Tk(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function wk(){const n=Bn.lFrame;return Bn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Mk=wk;function c1(){const n=wk();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function la(){return Bn.lFrame.selectedIndex}function Vd(n){Bn.lFrame.selectedIndex=n}function Zr(){const n=Bn.lFrame;return aM(n.tView,n.selectedIndex)}function u1(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function d1(n,t,e){Pk(n,t,3,e)}function h1(n,t,e,i){(3&n[2])===e&&Pk(n,t,e,i)}function gM(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Pk(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(VK(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function VK(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Mv{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function f1(n,t,e){const i=uo(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];mM(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function xk(n){return 3===n||4===n||6===n}function mM(n){return 64===n.charCodeAt(0)}function p1(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Ik(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Ik(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Ak(n){return-1!==n}function Lg(n){return 32767&n}function Fg(n,t){let e=function XK(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let vM=!0;function g1(n){const t=vM;return vM=n,t}let KK=0;function Pv(n,t){const e=bM(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,yM(i.data,n),yM(t,null),yM(i.blueprint,null));const r=_1(n,t),o=n.injectorIndex;if(Ak(r)){const s=Lg(r),a=Fg(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function yM(n,t){n.push(0,0,0,0,0,0,0,0,t)}function bM(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function _1(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function m1(n,t,e){!function qK(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Sv)&&(i=e[Sv]),null==i&&(i=e[Sv]=KK++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Nk(n,t,e){if(e&Gn.Optional)return n;kr(t,"NodeInjector")}function kk(n,t,e,i){if(e&Gn.Optional&&void 0===i&&(i=null),0==(e&(Gn.Self|Gn.Host))){const r=n[9],o=Ud(void 0);try{return r?r.get(t,i,e&Gn.Optional):ik(t,i,e&Gn.Optional)}finally{Ud(o)}}return Nk(i,t,e)}function Lk(n,t,e,i=Gn.Default,r){if(null!==n){const o=function eq(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Sv)?n[Sv]:void 0;return"number"==typeof t?t>=0?255&t:ZK:t}(e);if("function"==typeof o){if(!Ck(t,n,i))return i&Gn.Host?Nk(r,e,i):kk(t,e,i,r);try{const s=o(i);if(null!=s||i&Gn.Optional)return s;kr(e)}finally{Mk()}}else if("number"==typeof o){let s=null,a=bM(n,t),l=-1,c=i&Gn.Host?t[16][6]:null;for((-1===a||i&Gn.SkipSelf)&&(l=-1===a?_1(n,t):t[a+8],-1!==l&&Uk(i,!1)?(s=t[1],a=Lg(l),t=Fg(l,t)):a=-1);-1!==a;){const u=t[1];if(Bk(o,a,u.data)){const d=QK(a,t,e,s,i,c);if(d!==Fk)return d}l=t[a+8],-1!==l&&Uk(i,t[1].data[a+8]===c)&&Bk(o,a,t)?(s=u,a=Lg(l),t=Fg(l,t)):a=-1}}}return kk(t,e,i,r)}const Fk={};function ZK(){return new Bg(Vo(),Rt())}function QK(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=v1(a,s,e,null==i?r1(a)&&vM:i!=s&&0!=(3&a.type),r&Gn.Host&&o===a);return null!==u?xv(t,s,u,a):Fk}function v1(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,f=r?a+u:n.directiveEnd;for(let p=i?a:a+u;p<f;p++){const T=s[p];if(p<l&&e===T||p>=l&&T.type===e)return p}if(r){const p=s[l];if(p&&vc(p)&&p.type===e)return l}return null}function xv(n,t,e,i){let r=n[e];const o=t.data;if(function zK(n){return n instanceof Mv}(r)){const s=r;s.resolving&&function Vt(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${n}${e}`)}(jt(o[e]));const a=g1(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ud(s.injectImpl):null;Ck(n,i,Gn.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function HK(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=uk(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Ud(l),g1(a),s.resolving=!1,Mk()}}return r}function Bk(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Uk(n,t){return!(n&Gn.Self||n&Gn.Host&&t)}class Bg{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Lk(this._tNode,this._lView,t,i,e)}}function Bs(n){return jd(()=>{const t=n.prototype.constructor,e=t[zu]||SM(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[zu]||SM(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function SM(n){return ce(n)?()=>{const t=SM(be(n));return t&&t()}:sf(n)}const jg="__parameters__";function Hg(n,t,e){return jd(()=>{const i=function CM(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(jg)?l[jg]:Object.defineProperty(l,jg,{value:[]})[jg];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class gn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=It({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function xl(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),xl(i,t)):t!==n&&t.push(i)}return t}function iu(n,t){n.forEach(e=>Array.isArray(e)?iu(e,t):t(e))}function Gk(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function y1(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Rv(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function tl(n,t,e){let i=Vg(n,t);return i>=0?n[1|i]=e:(i=~i,function rq(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function TM(n,t){const e=Vg(n,t);if(e>=0)return n[1|e]}function Vg(n,t){return function zk(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Nv={},MM="__NG_DI_FLAG__",S1="ngTempTokenPath",dq=/\n/gm,Yk="__source",fq=ui({provide:String,useValue:ui});let kv;function $k(n){const t=kv;return kv=n,t}function pq(n,t=Gn.Default){if(void 0===kv)throw new Oe(203,"");return null===kv?ik(n,void 0,t):kv.get(n,t&Gn.Optional?null:void 0,t)}function lt(n,t=Gn.Default){return(function eK(){return qw}()||pq)(be(n),t)}const Kk=lt;function OM(n){const t=[];for(let e=0;e<n.length;e++){const i=be(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Oe(900,"");let r,o=Gn.Default;for(let s=0;s<i.length;s++){const a=i[s],l=gq(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(lt(r,o))}else t.push(lt(i))}return t}function Lv(n,t){return n[MM]=t,n.prototype[MM]=t,n}function gq(n){return n[MM]}const C1=Lv(Hg("Optional"),8),E1=Lv(Hg("SkipSelf"),4);var nl=(()=>((nl=nl||{})[nl.Important=1]="Important",nl[nl.DashCase=2]="DashCase",nl))();const n3="__ngContext__";function Us(n,t){n[n3]=t}function AM(n){const t=function Bv(n){return n[n3]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function RM(n,t){return undefined(n,t)}function Uv(n){const t=n[3];return mc(t)?t[3]:t}function NM(n){return u3(n[13])}function kM(n){return u3(n[4])}function u3(n){for(;null!==n&&!mc(n);)n=n[4];return n}function Wg(n,t,e,i,r){if(null!=i){let o,s=!1;mc(i)?o=i:tu(i)&&(s=!0,i=i[0]);const a=Io(i);0===n&&null!==e?null==r?_3(t,e,a):af(t,e,a,r||null,!0):1===n&&null!==e?af(t,e,a,r||null,!0):2===n?function HM(n,t,e){const i=w1(n,t);i&&function Yq(n,t,e,i){uo(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function Kq(n,t,e,i,r){const o=e[7];o!==Io(e)&&Wg(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];jv(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function FM(n,t,e){if(uo(n))return n.createElement(t,e);{const i=null!==e?function bK(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function h3(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,cM(r,-1)),e.splice(i,1)}function BM(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&h3(r,i),t>0&&(n[e-1][4]=i[4]);const o=y1(n,10+t);!function Bq(n,t){jv(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function f3(n,t){if(!(256&t[2])){const e=t[11];uo(e)&&e.destroyNode&&jv(n,t,e,3,null,null),function Gq(n){let t=n[13];if(!t)return UM(n[1],n);for(;t;){let e=null;if(tu(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)tu(t)&&UM(t[1],t),t=t[3];null===t&&(t=n),tu(t)&&UM(t[1],t),e=t&&t[4]}t=e}}(t)}}function UM(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Wq(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Mv)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function zq(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Io(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&uo(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&mc(t[3])){e!==t[3]&&h3(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function p3(n,t,e){return function g3(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===gc.None||r===gc.Emulated)return null}return Qa(i,e)}(n,t.parent,e)}function af(n,t,e,i,r){uo(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function _3(n,t,e){uo(n)?n.appendChild(t,e):t.appendChild(e)}function m3(n,t,e,i,r){null!==i?af(n,t,e,i,r):_3(n,t,e)}function w1(n,t){return uo(n)?n.parentNode(t):t.parentNode}function v3(n,t,e){return b3(n,t,e)}let P1,x1,b3=function y3(n,t,e){return 40&n.type?Qa(n,e):null};function M1(n,t,e,i){const r=p3(n,i,t),o=t[11],a=v3(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)m3(o,r,e[l],a,!1);else m3(o,r,e,a,!1)}function O1(n,t){if(null!==t){const e=t.type;if(3&e)return Qa(t,n);if(4&e)return GM(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return O1(n,i);{const r=n[t.index];return mc(r)?GM(-1,r):Io(r)}}if(32&e)return RM(t,n)()||Io(n[t.index]);{const i=C3(n,t);return null!==i?Array.isArray(i)?i[0]:O1(Uv(n[16]),i):O1(n,t.next)}}return null}function C3(n,t){return null!==t?n[16][6].projection[t.projection]:null}function GM(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return O1(i,r)}return t[7]}function VM(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Us(Io(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)VM(n,t,e.child,i,r,o,!1),Wg(t,n,r,a,o);else if(32&l){const c=RM(e,i);let u;for(;u=c();)Wg(t,n,r,u,o);Wg(t,n,r,a,o)}else 16&l?E3(n,t,i,e,r,o):Wg(t,n,r,a,o);e=s?e.projectionNext:e.next}}function jv(n,t,e,i,r,o){VM(e,i,n.firstChild,t,r,o,!1)}function E3(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Wg(t,n,r,l[c],o);else VM(n,t,l,s[3],r,o,!0)}function T3(n,t,e){uo(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function zM(n,t,e){uo(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function lf(n){var t;return(null===(t=function WM(){if(void 0===P1&&(P1=null,rr.trustedTypes))try{P1=rr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return P1}())||void 0===t?void 0:t.createHTML(n))||n}function YM(){if(void 0===x1&&(x1=null,rr.trustedTypes))try{x1=rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return x1}function w3(n){var t;return(null===(t=YM())||void 0===t?void 0:t.createHTML(n))||n}function O3(n){var t;return(null===(t=YM())||void 0===t?void 0:t.createScriptURL(n))||n}class cf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class eJ extends cf{getTypeName(){return"HTML"}}class tJ extends cf{getTypeName(){return"Style"}}class nJ extends cf{getTypeName(){return"Script"}}class iJ extends cf{getTypeName(){return"URL"}}class rJ extends cf{getTypeName(){return"ResourceURL"}}function il(n){return n instanceof cf?n.changingThisBreaksApplicationSecurity:n}function ru(n,t){const e=P3(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function P3(n){return n instanceof cf&&n.getTypeName()||null}class uJ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(lf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class dJ{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=lf(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=lf(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const fJ=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pJ=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gv(n){return(n=String(n)).match(fJ)||n.match(pJ)?n:"unsafe:"+n}function I3(n){return(n=String(n)).split(",").map(t=>Gv(t.trim())).join(", ")}function ou(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Hv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const A3=ou("area,br,col,hr,img,wbr"),D3=ou("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),R3=ou("rp,rt"),$M=Hv(A3,Hv(D3,ou("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hv(R3,ou("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hv(R3,D3)),XM=ou("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KM=ou("srcset"),N3=Hv(XM,KM,ou("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ou("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gJ=ou("script,style,template");class _J{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!$M.hasOwnProperty(e))return this.sanitizedSomething=!0,!gJ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!N3.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;XM[a]&&(l=Gv(l)),KM[a]&&(l=I3(l)),this.buf.push(" ",s,'="',k3(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();$M.hasOwnProperty(e)&&!A3.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(k3(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mJ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vJ=/([^\#-~ |!])/g;function k3(n){return n.replace(/&/g,"&amp;").replace(mJ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vJ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let I1;function L3(n,t){let e=null;try{I1=I1||function x3(n){const t=new dJ(n);return function hJ(){try{return!!(new window.DOMParser).parseFromString(lf(""),"text/html")}catch(n){return!1}}()?new uJ(t):t}(n);let i=t?String(t):"";e=I1.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=I1.getInertBodyElement(i)}while(i!==o);return lf((new _J).sanitizeChildren(qM(e)||e))}finally{if(e){const i=qM(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qM(n){return"content"in n&&function yJ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Tr=(()=>((Tr=Tr||{})[Tr.NONE=0]="NONE",Tr[Tr.HTML=1]="HTML",Tr[Tr.STYLE=2]="STYLE",Tr[Tr.SCRIPT=3]="SCRIPT",Tr[Tr.URL=4]="URL",Tr[Tr.RESOURCE_URL=5]="RESOURCE_URL",Tr))();function A1(n){const t=Vv();return t?w3(t.sanitize(Tr.HTML,n)||""):ru(n,"HTML")?w3(il(n)):L3(sM(),tt(n))}function pn(n){const t=Vv();return t?t.sanitize(Tr.URL,n)||"":ru(n,"URL")?il(n):Gv(tt(n))}function D1(n){const t=Vv();if(t)return O3(t.sanitize(Tr.RESOURCE_URL,n)||"");if(ru(n,"ResourceURL"))return O3(il(n));throw new Oe(904,"")}function Vv(){const n=Rt();return n&&n[12]}function ZM(n){return n.ngOriginalError}function xJ(n,...t){n.error(...t)}class Yg{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function PJ(n){return n&&n.ngErrorLogger||xJ}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&ZM(t);for(;e&&ZM(e);)e=ZM(e);return e||null}}const LJ=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rr))();function su(n){return n instanceof Function?n():n}function B3(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const U3="ng-template";function jJ(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==B3(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function j3(n){return 4===n.type&&n.value!==U3}function GJ(n,t,e){return t===(4!==n.type||e?n.value:U3)}function HJ(n,t,e){let i=4;const r=n.attrs||[],o=function WJ(n){for(let t=0;t<n.length;t++)if(xk(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!GJ(n,l,e)||""===l&&1===t.length){if(yc(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!jJ(n.attrs,c,e)){if(yc(i))return!1;s=!0}continue}const d=VJ(8&i?"class":l,r,j3(n),e);if(-1===d){if(yc(i))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":r[d+1].toLowerCase();const p=8&i?f:null;if(p&&-1!==B3(p,c,0)||2&i&&c!==f){if(yc(i))return!1;s=!0}}}}else{if(!s&&!yc(i)&&!yc(l))return!1;if(s&&yc(l))continue;s=!1,i=l|1&i}}return yc(i)||s}function yc(n){return 0==(1&n)}function VJ(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function YJ(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function G3(n,t,e=!1){for(let i=0;i<t.length;i++)if(HJ(n,t[i],e))return!0;return!1}function $J(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function H3(n,t){return n?":not("+t.trim()+")":t}function XJ(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!yc(s)&&(t+=H3(o,r),r=""),i=s,o=o||!yc(i);e++}return""!==r&&(t+=H3(o,r)),t}const Un={};function _(n){V3(xi(),Rt(),la()+n,!1)}function V3(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&d1(t,o,e)}else{const o=n.preOrderHooks;null!==o&&h1(t,o,0,e)}Vd(e)}function R1(n,t){return n<<17|t<<2}function bc(n){return n>>17&32767}function QM(n){return 2|n}function $u(n){return(131068&n)>>2}function eO(n,t){return-131069&n|t<<2}function tO(n){return 1|n}function eL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];pM(r),s.contentQueries(2,t[o],o)}}}function zv(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,gk(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function Xg(n,t,e,i,r){let o=n.data[t];if(null===o)o=function uO(n,t,e,i,r){const o=vk(),s=uM(),l=n.data[t]=function hZ(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function DK(){return Bn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function wv(){const n=Bn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return nu(o,!0),o}function Kg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Wv(n,t,e){l1(t);try{const i=n.viewQuery;null!==i&&yO(1,i,e);const r=n.template;null!==r&&tL(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&eL(n,t),n.staticViewQueries&&yO(2,n.viewQuery,e);const o=n.components;null!==o&&function cZ(n,t){for(let e=0;e<t.length;e++)IZ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,c1()}}function qg(n,t,e,i){const r=t[2];if(256!=(256&r)){l1(t);try{gk(t),function yk(n){return Bn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&tL(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&d1(t,c,null)}else{const c=n.preOrderHooks;null!==c&&h1(t,c,0,null),gM(t,0)}if(function PZ(n){for(let t=NM(n);null!==t;t=kM(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&cM(o,1),r[2]|=1024}}}(t),function OZ(n){for(let t=NM(n);null!==t;t=kM(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];lM(i)&&qg(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&eL(n,t),s){const c=n.contentCheckHooks;null!==c&&d1(t,c)}else{const c=n.contentHooks;null!==c&&h1(t,c,1),gM(t,1)}!function aZ(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Vd(~r);else{const o=r,s=e[++i],a=e[++i];RK(s,o),a(2,t[o])}}}finally{Vd(-1)}}(n,t);const a=n.components;null!==a&&function lZ(n,t){for(let e=0;e<t.length;e++)xZ(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&yO(2,l,i),s){const c=n.viewCheckHooks;null!==c&&d1(t,c)}else{const c=n.viewHooks;null!==c&&h1(t,c,2),gM(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,cM(t[3],-1))}finally{c1()}}}function uZ(n,t,e,i){const r=t[10],s=pk(t);try{!s&&r.begin&&r.begin(),s&&Wv(n,t,i),qg(n,t,e,i)}finally{!s&&r.end&&r.end()}}function tL(n,t,e,i,r){const o=la(),s=2&i;try{Vd(-1),s&&t.length>20&&V3(n,t,20,!1),e(i,r)}finally{Vd(o)}}function nL(n,t,e){if(eM(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function dO(n,t,e){!mk()||(function yZ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Pv(e,t),Us(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=vc(l);c&&TZ(t,e,l);const u=xv(t,n,a,e);Us(u,t),null!==s&&wZ(0,a-r,u,l,0,s),c&&(el(e.index,t)[8]=u)}}(n,t,e,Qa(e,t)),128==(128&e.flags)&&function bZ(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function NK(){return Bn.lFrame.currentDirectiveIndex}();try{Vd(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];hM(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&uL(c,u)}}finally{Vd(-1),hM(a)}}(n,t,e))}function hO(n,t,e=Qa){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function iL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=L1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function L1(n,t,e,i,r,o,s,a,l,c){const u=20+i,d=u+r,f=function dZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Un);return e}(u,d),p="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function sL(n,t,e,i){const r=_L(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&mL(n).push(i,r.length-1))}function aL(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function rl(n,t,e,i,r,o,s,a){const l=Qa(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(bL(n,e,u,i,r),r1(t)&&function gZ(n,t){const e=el(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function pZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,uo(o)?o.setProperty(l,i,r):mM(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function fO(n,t,e,i){let r=!1;if(mk()){const o=function SZ(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];G3(e,s.selectors,!1)&&(r||(r=[]),m1(Pv(e,t),n,s.type),vc(s)?(dL(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,hL(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Kg(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=p1(e.mergedAttrs,d.hostAttrs),fL(n,e,t,c,d),EZ(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function fZ(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,f=null===o||j3(t)?null:MZ(d,o);s.push(f),a=aL(d,c,a),l=aL(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function CZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new Oe(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=p1(e.mergedAttrs,e.attrs),r}function cL(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function vZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function uL(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function dL(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function EZ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;vc(t)&&(e[""]=n)}}function hL(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function fL(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=sf(r.type)),s=new Mv(o,vc(r),null);n.blueprint[i]=s,e[i]=s,cL(n,t,0,i,Kg(n,e,r.hostVars,Un),r)}function TZ(n,t,e){const i=Qa(t,n),r=iL(e),o=n[10],s=F1(n,zv(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function au(n,t,e,i,r,o){const s=Qa(n,t);!function pO(n,t,e,i,r,o,s){if(null==o)uo(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?tt(o):s(o,i||"",r);uo(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function wZ(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function MZ(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function pL(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function xZ(n,t){const e=el(t,n);if(lM(e)){const i=e[1];80&e[2]?qg(i,e,i.template,e[8]):e[5]>0&&gO(e)}}function gO(n){for(let i=NM(n);null!==i;i=kM(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];qg(s,o,s.template,o[8])}else o[5]>0&&gO(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=el(e[i],n);lM(r)&&r[5]>0&&gO(r)}}function IZ(n,t){const e=el(t,n),i=e[1];(function AZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Wv(i,e,e[8])}function F1(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function _O(n){for(;n;){n[2]|=64;const t=Uv(n);if(uK(n)&&!t)return n;n=t}return null}function gL(n){!function mO(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=AM(e),r=i[1];uZ(r,i,r.template,e)}}(n[8])}function yO(n,t,e){pM(0),t(n,e)}const RZ=(()=>Promise.resolve(null))();function _L(n){return n[7]||(n[7]=[])}function mL(n){return n.cleanup||(n.cleanup=[])}function yL(n,t){const e=n[9],i=e?e.get(Yg,null):null;i&&i.handleError(t)}function bL(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Xu(n,t,e){const i=s1(t,n);!function d3(n,t,e){uo(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function B1(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Fe(r,a):2==o&&(i=Fe(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const bO=new gn("INJECTOR",-1);class SL{get(t,e=Nv){if(e===Nv){const i=new Error(`NullInjectorError: No provider for ${Ci(t)}!`);throw i.name="NullInjectorError",i}return e}}const SO=new gn("Set Injector scope."),Yv={},LZ={};let CO;function CL(){return void 0===CO&&(CO=new SL),CO}function EL(n,t=null,e=null,i){const r=TL(n,t,e,i);return r._resolveInjectorDefTypes(),r}function TL(n,t=null,e=null,i){return new FZ(n,e,t||CL(),i)}class FZ{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&iu(e,a=>this.processProvider(a,t,e)),iu([t],a=>this.processInjectorType(a,[],o)),this.records.set(bO,Jg(void 0,this));const s=this.records.get(SO);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Ci(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Nv,i=Gn.Default){this.assertNotDestroyed();const r=$k(this),o=Ud(void 0);try{if(!(i&Gn.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function WZ(n){return"function"==typeof n||"object"==typeof n&&n instanceof gn}(t)&&Xw(t);a=l&&this.injectableDefInScope(l)?Jg(EO(t),Yv):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Gn.Self?CL():this.parent).get(t,e=i&Gn.Optional&&e===Nv?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[S1]=s[S1]||[]).unshift(Ci(t)),r)throw s;return function _q(n,t,e,i){const r=n[S1];throw t[Yk]&&r.unshift(t[Yk]),n.message=function mq(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Ci(t);if(Array.isArray(t))r=t.map(Ci).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ci(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(dq,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[S1]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Ud(o),$k(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Ci(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(t,e,i){if(!(t=be(t)))return!1;let r=tk(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=tk(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{iu(r.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:p}=u[d];iu(p,T=>this.processProvider(T,f,p||fr))}}this.injectorDefTypes.add(s);const l=sf(s)||(()=>new s);this.records.set(s,Jg(l,Yv));const c=r.providers;if(null!=c&&!a){const u=t;iu(c,d=>this.processProvider(d,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=Zg(t=be(t))?t:be(t&&t.provide);const o=function UZ(n,t,e){return ML(n)?Jg(void 0,n.useValue):Jg(wL(n),Yv)}(t);if(Zg(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Jg(void 0,Yv,!0),s.factory=()=>OM(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===Yv&&(e.value=LZ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function zZ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=be(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function EO(n){const t=Xw(n),e=null!==t?t.factory:sf(n);if(null!==e)return e;if(n instanceof gn)throw new Oe(204,!1);if(n instanceof Function)return function BZ(n){const t=n.length;if(t>0)throw Rv(t,"?"),new Oe(204,!1);const e=function JX(n){const t=n&&(n[Jb]||n[nk]);if(t){const e=function ZX(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Oe(204,!1)}function wL(n,t,e){let i;if(Zg(n)){const r=be(n);return sf(r)||EO(r)}if(ML(n))i=()=>be(n.useValue);else if(function GZ(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...OM(n.deps||[]));else if(function jZ(n){return!(!n||!n.useExisting)}(n))i=()=>lt(be(n.useExisting));else{const r=be(n&&(n.useClass||n.provide));if(!function VZ(n){return!!n.deps}(n))return sf(r)||EO(r);i=()=>new r(...OM(n.deps))}return i}function Jg(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ML(n){return null!==n&&"object"==typeof n&&fq in n}function Zg(n){return"function"==typeof n}let js=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return EL({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return EL({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=Nv,n.NULL=new SL,n.\u0275prov=It({token:n,providedIn:"any",factory:()=>lt(bO)}),n.__NG_ELEMENT_ID__=-1,n})();function QZ(n,t){u1(AM(n)[1],Vo())}function Vi(n){let t=function BL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(vc(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Oe(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=MO(n.inputs),s.declaredInputs=MO(n.declaredInputs),s.outputs=MO(n.outputs);const a=r.hostBindings;a&&iQ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&tQ(n,l),c&&nQ(n,c),ra(n.inputs,r.inputs),ra(n.declaredInputs,r.declaredInputs),ra(n.outputs,r.outputs),vc(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Vi&&(e=!1)}}t=Object.getPrototypeOf(t)}!function eQ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=p1(r.hostAttrs,e=p1(e,r.hostAttrs))}}(i)}function MO(n){return n===xg?{}:n===fr?[]:n}function tQ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function nQ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function iQ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let U1=null;function Qg(){if(!U1){const n=rr.Symbol;if(n&&n.iterator)U1=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(U1=i)}}}return U1}function $v(n){return!!OO(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qg()in n)}function OO(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function lu(n,t,e){return n[t]=e}function Gs(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function uf(n,t,e,i){const r=Gs(n,t,e);return Gs(n,t+1,i)||r}function j1(n,t,e,i,r){const o=uf(n,t,e,i);return Gs(n,t+2,r)||o}function Ei(n,t,e,i){const r=Rt();return Gs(r,kg(),t)&&(xi(),au(Zr(),r,n,t,e,i)),Ei}function t_(n,t,e,i){return Gs(n,kg(),e)?t+tt(e)+i:Un}function te(n,t,e,i,r,o,s,a){const l=Rt(),c=xi(),u=n+20,d=c.firstCreatePass?function uQ(n,t,e,i,r,o,s,a,l){const c=t.consts,u=Xg(t,n,4,s||null,Hd(c,a));fO(t,e,u,Hd(c,l)),u1(t,u);const d=u.tViews=L1(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];nu(d,!1);const f=l[11].createComment("");M1(c,l,f,d),Us(f,l),F1(l,l[u]=pL(f,l,f,d)),o1(d)&&dO(c,l,d),null!=s&&hO(l,d,a)}function Ki(n){return Ng(function AK(){return Bn.lFrame.contextLView}(),20+n)}function Z(n,t=Gn.Default){const e=Rt();return null===e?lt(n,t):Lk(Vo(),e,be(n),t)}function W(n,t,e){const i=Rt();return Gs(i,kg(),t)&&rl(xi(),Zr(),i,n,t,i[11],e,!1),W}function DO(n,t,e,i,r){const s=r?"class":"style";bL(n,e,t.inputs[s],s,i)}function I(n,t,e,i){const r=Rt(),o=xi(),s=20+n,a=r[11],l=r[s]=FM(a,t,function GK(){return Bn.lFrame.currentNamespace}()),c=o.firstCreatePass?function DQ(n,t,e,i,r,o,s){const a=t.consts,c=Xg(t,n,2,r,Hd(a,o));return fO(t,e,c,Hd(a,s)),null!==c.attrs&&B1(c,c.attrs,!1),null!==c.mergedAttrs&&B1(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];nu(c,!0);const u=c.mergedAttrs;null!==u&&f1(a,l,u);const d=c.classes;null!==d&&zM(a,l,d);const f=c.styles;return null!==f&&T3(a,l,f),64!=(64&c.flags)&&M1(o,r,l,c),0===function MK(){return Bn.lFrame.elementDepthCount}()&&Us(l,r),function OK(){Bn.lFrame.elementDepthCount++}(),o1(c)&&(dO(o,r,c),nL(o,c,r)),null!==i&&hO(r,c),I}function R(){let n=Vo();uM()?dM():(n=n.parent,nu(n,!1));const t=n;!function PK(){Bn.lFrame.elementDepthCount--}();const e=xi();return e.firstCreatePass&&(u1(e,n),eM(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function YK(n){return 0!=(16&n.flags)}(t)&&DO(e,t,Rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $K(n){return 0!=(32&n.flags)}(t)&&DO(e,t,Rt(),t.stylesWithoutHost,!1),R}function ye(n,t,e,i){return I(n,t,e,i),R(),ye}function vt(n,t,e){const i=Rt(),r=xi(),o=n+20,s=r.firstCreatePass?function RQ(n,t,e,i,r){const o=t.consts,s=Hd(o,i),a=Xg(t,n,8,"ng-container",s);return null!==s&&B1(a,s,!0),fO(t,e,a,Hd(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];nu(s,!0);const a=i[o]=i[11].createComment("");return M1(r,i,a,s),Us(a,i),o1(s)&&(dO(r,i,s),nL(r,s,i)),null!=e&&hO(i,s),vt}function yt(){let n=Vo();const t=xi();return uM()?dM():(n=n.parent,nu(n,!1)),t.firstCreatePass&&(u1(t,n),eM(n)&&t.queries.elementEnd(n)),yt}function os(n,t,e){return vt(n,t,e),yt(),os}function Ot(){return Rt()}function H1(n){return!!n&&"function"==typeof n.then}function rF(n){return!!n&&"function"==typeof n.subscribe}const oF=rF;function Be(n,t,e,i){const r=Rt(),o=xi(),s=Vo();return function aF(n,t,e,i,r,o,s,a){const l=o1(i),u=n.firstCreatePass&&mL(n),d=t[8],f=_L(t);let p=!0;if(3&i.type||a){const k=Qa(i,t),B=a?a(k):k,$=f.length,q=a?ee=>a(Io(ee[i.index])):i.index;if(uo(e)){let ee=null;if(!a&&l&&(ee=function NQ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==ee)(ee.__ngLastListenerFn__||ee).__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,p=!1;else{o=RO(i,t,d,o,!1);const se=e.listen(B,r,o);f.push(o,se),u&&u.push(r,q,$,$+1)}}else o=RO(i,t,d,o,!0),B.addEventListener(r,o,s),f.push(o),u&&u.push(r,q,$,s)}else o=RO(i,t,d,o,!1);const T=i.outputs;let x;if(p&&null!==T&&(x=T[r])){const k=x.length;if(k)for(let B=0;B<k;B+=2){const ae=t[x[B]][x[B+1]].subscribe(o),Ee=f.length;f.push(o,ae),u&&u.push(r,i.index,Ee,-(Ee+1))}}}(o,r,r[11],s,n,t,!!e,i),Be}function lF(n,t,e,i){try{return!1!==e(i)}catch(r){return yL(n,r),!1}}function RO(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?el(n.index,t):t;0==(32&t[2])&&_O(a);let l=lF(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=lF(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function oe(n=1){return function LK(n){return(Bn.lFrame.contextLView=function FK(n,t){for(;n>0;)t=t[15],n--;return t}(n,Bn.lFrame.contextLView))[8]}(n)}function kQ(n,t){let e=null;const i=function zJ(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?G3(n,o,!0):$J(i,o))return r}else e=r}return e}function Kv(n){const t=Rt()[16][6];if(!t.projection){const i=t.projection=Rv(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?kQ(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function qv(n,t=0,e){const i=Rt(),r=xi(),o=Xg(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),dM(),64!=(64&o.flags)&&function Xq(n,t,e){E3(t[11],0,t,e,p3(n,e,t),v3(e.parent||t[6],e,t))}(r,i,o)}function Ku(n,t,e){return V1(n,"",t,"",e),Ku}function V1(n,t,e,i,r){const o=Rt(),s=t_(o,t,e,i);return s!==Un&&rl(xi(),Zr(),o,n,s,o[11],r,!1),V1}function mF(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?bc(o):$u(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];BQ(n[a],t)&&(l=!0,n[a+1]=i?tO(u):QM(u)),a=i?bc(u):$u(u)}l&&(n[e+1]=i?QM(o):tO(o))}function BQ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Vg(n,t)>=0}const Wo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vF(n){return n.substring(Wo.key,Wo.keyEnd)}function yF(n,t){const e=Wo.textEnd;return e===t?-1:(t=Wo.keyEnd=function HQ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Wo.key=t,e),u_(n,t,e))}function u_(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Al(n,t,e){return Cc(n,t,e,!1),Al}function Lt(n,t){return Cc(n,t,null,!0),Lt}function df(n){Ec(tl,uu,n,!0)}function uu(n,t){for(let e=function jQ(n){return function SF(n){Wo.key=0,Wo.keyEnd=0,Wo.value=0,Wo.valueEnd=0,Wo.textEnd=n.length}(n),yF(n,u_(n,0,Wo.textEnd))}(t);e>=0;e=yF(t,e))tl(n,vF(t),!0)}function Cc(n,t,e,i){const r=Rt(),o=xi(),s=Yu(2);o.firstUpdatePass&&wF(o,n,s,i),t!==Un&&Gs(r,s,t)&&OF(o,o.data[la()],r,r[11],n,r[s+1]=function ZQ(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ci(il(n)))),n}(t,e),i,s)}function Ec(n,t,e,i){const r=xi(),o=Yu(2);r.firstUpdatePass&&wF(r,null,o,i);const s=Rt();if(e!==Un&&Gs(s,o,e)){const a=r.data[la()];if(xF(a,i)&&!TF(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Fe(l,e||"")),DO(r,a,s,e,i)}else!function JQ(n,t,e,i,r,o,s,a){r===Un&&(r=fr);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<r.length?r[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let x,T=null;u===d?(l+=2,c+=2,f!==p&&(T=d,x=p)):null===d||null!==u&&u<d?(l+=2,T=u):(c+=2,T=d,x=p),null!==T&&OF(n,t,e,i,T,x,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function qQ(n,t,e){if(null==e||""===e)return fr;const i=[],r=il(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function TF(n,t){return t>=n.expandoStartIndex}function wF(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[la()],s=TF(n,e);xF(o,i)&&null===t&&!s&&(t=!1),t=function YQ(n,t,e,i){const r=function fM(n){const t=Bn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Jv(e=NO(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=NO(r,n,t,e,i),null===o){let l=function $Q(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==$u(i))return n[bc(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=NO(null,n,t,l[1],i),l=Jv(l,t.attrs,i),function XQ(n,t,e,i){n[bc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function KQ(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Jv(i,n[o].hostAttrs,e);return Jv(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function LQ(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=bc(s),l=$u(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Vg(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const f=bc(n[a+1]);n[i+1]=R1(f,a),0!==f&&(n[f+1]=eO(n[f+1],i)),n[a+1]=function JJ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=R1(a,0),0!==a&&(n[a+1]=eO(n[a+1],i)),a=i;else n[i+1]=R1(l,0),0===a?a=i:n[l+1]=eO(n[l+1],i),l=i;c&&(n[i+1]=QM(n[i+1])),mF(n,u,i,!0),mF(n,u,i,!1),function FQ(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Vg(o,t)>=0&&(e[i+1]=tO(e[i+1]))}(t,u,n,i,o),s=R1(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function NO(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Jv(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Jv(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tl(n,s,!!e||t[++o]))}return void 0===n?null:n}function OF(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];z1(function Y3(n){return 1==(1&n)}(c)?PF(l,t,e,r,$u(c),s):void 0)||(z1(o)||function W3(n){return 2==(2&n)}(c)&&(o=PF(l,null,e,r,a,s)),function qq(n,t,e,i,r){const o=uo(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:nl.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=nl.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,s1(la(),e),r,o))}function PF(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=e[r+1];f===Un&&(f=d?fr:void 0);let p=d?TM(f,i):u===i?f:void 0;if(c&&!z1(p)&&(p=TM(l,i)),z1(p)&&(a=p,s))return a;const T=n[r+1];r=s?bc(T):$u(T)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=TM(l,i))}return a}function z1(n){return void 0!==n}function xF(n,t){return 0!=(n.flags&(t?16:32))}function Y(n,t=""){const e=Rt(),i=xi(),r=n+20,o=i.firstCreatePass?Xg(i,r,1,t,null):i.data[r],s=e[r]=function LM(n,t){return uo(n)?n.createText(t):n.createTextNode(t)}(e[11],t);M1(i,e,s,o),nu(o,!1)}function dt(n){return ie("",n,""),dt}function ie(n,t,e){const i=Rt(),r=t_(i,n,t,e);return r!==Un&&Xu(i,la(),r),ie}function Hn(n,t,e,i,r){const o=Rt(),s=function n_(n,t,e,i,r,o){const a=uf(n,Wu(),e,r);return Yu(2),a?t+tt(e)+i+tt(r)+o:Un}(o,n,t,e,i,r);return s!==Un&&Xu(o,la(),s),Hn}function d_(n,t,e,i,r,o,s){const a=Rt(),l=function i_(n,t,e,i,r,o,s,a){const c=j1(n,Wu(),e,r,s);return Yu(3),c?t+tt(e)+i+tt(r)+o+tt(s)+a:Un}(a,n,t,e,i,r,o,s);return l!==Un&&Xu(a,la(),l),d_}function Zv(n,t,e){Ec(tl,uu,t_(Rt(),n,t,e),!0)}const ff=void 0;var mee=["en",[["a","p"],["AM","PM"],ff],[["AM","PM"],ff,ff],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ff,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ff,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ff,"{1} 'at' {0}",ff],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _ee(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let h_={};function ua(n){const t=function vee(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=$F(t);if(e)return e;const i=t.split("-")[0];if(e=$F(i),e)return e;if("en"===i)return mee;throw new Error(`Missing locale data for the locale "${n}".`)}function $F(n){return n in h_||(h_[n]=rr.ng&&rr.ng.common&&rr.ng.common.locales&&rr.ng.common.locales[n]),h_[n]}var en=(()=>((en=en||{})[en.LocaleId=0]="LocaleId",en[en.DayPeriodsFormat=1]="DayPeriodsFormat",en[en.DayPeriodsStandalone=2]="DayPeriodsStandalone",en[en.DaysFormat=3]="DaysFormat",en[en.DaysStandalone=4]="DaysStandalone",en[en.MonthsFormat=5]="MonthsFormat",en[en.MonthsStandalone=6]="MonthsStandalone",en[en.Eras=7]="Eras",en[en.FirstDayOfWeek=8]="FirstDayOfWeek",en[en.WeekendRange=9]="WeekendRange",en[en.DateFormat=10]="DateFormat",en[en.TimeFormat=11]="TimeFormat",en[en.DateTimeFormat=12]="DateTimeFormat",en[en.NumberSymbols=13]="NumberSymbols",en[en.NumberFormats=14]="NumberFormats",en[en.CurrencyCode=15]="CurrencyCode",en[en.CurrencySymbol=16]="CurrencySymbol",en[en.CurrencyName=17]="CurrencyName",en[en.Currencies=18]="Currencies",en[en.Directionality=19]="Directionality",en[en.PluralCase=20]="PluralCase",en[en.ExtraData=21]="ExtraData",en))();const W1="en-US";let XF=W1;function BO(n,t,e,i,r){if(n=be(n),Array.isArray(n))for(let o=0;o<n.length;o++)BO(n[o],t,e,i,r);else{const o=xi(),s=Rt();let a=Zg(n)?n:be(n.provide),l=wL(n);const c=Vo(),u=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(Zg(n)||!n.multi){const p=new Mv(l,r,Z),T=jO(a,t,r?u:u+f,d);-1===T?(m1(Pv(c,s),o,a),UO(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(p),s.push(p)):(e[T]=p,s[T]=p)}else{const p=jO(a,t,u+f,d),T=jO(a,t,u,u+f),x=p>=0&&e[p],k=T>=0&&e[T];if(r&&!k||!r&&!x){m1(Pv(c,s),o,a);const B=function pte(n,t,e,i,r){const o=new Mv(n,e,Z);return o.multi=[],o.index=t,o.componentProviders=0,vB(o,r,i&&!e),o}(r?fte:hte,e.length,r,i,l);!r&&k&&(e[T].providerFactory=B),UO(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(B),s.push(B)}else UO(o,n,p>-1?p:T,vB(e[r?T:p],l,!r&&i));!r&&i&&k&&e[T].componentProviders++}}}function UO(n,t,e,i){const r=Zg(t),o=function HZ(n){return!!n.useClass}(t);if(r||o){const l=(o?be(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function vB(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function jO(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function hte(n,t,e,i){return GO(this.multi,[])}function fte(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=xv(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),GO(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],GO(r,o);return o}function GO(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ni(n,t=[]){return e=>{e.providersResolver=(i,r)=>function dte(n,t,e){const i=xi();if(i.firstCreatePass){const r=vc(n);BO(e,i.data,i.blueprint,r,!0),BO(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class yB{}class mte{resolveComponentFactory(t){throw function _te(n){const t=Error(`No component factory found for ${Ci(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let p_=(()=>{class n{}return n.NULL=new mte,n})();function vte(){return g_(Vo(),Rt())}function g_(n,t){return new zi(Qa(n,t))}let zi=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=vte,n})();function yte(n){return n instanceof zi?n.nativeElement:n}class __{}let ol=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ste(){const n=Rt(),e=el(Vo().index,n);return function bte(n){return n[11]}(tu(e)?e:n)}(),n})(),Cte=(()=>{class n{}return n.\u0275prov=It({token:n,providedIn:"root",factory:()=>null}),n})();class q1{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const J1=new q1("13.4.0"),HO={};function Z1(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Io(o)),mc(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Z1(l[1],l,c,i)}const s=e.type;if(8&s)Z1(n,t,e.child,i);else if(32&s){const a=RM(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=C3(t,e);if(Array.isArray(a))i.push(...a);else{const l=Uv(t[16]);Z1(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class iy{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Z1(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(mc(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(BM(t,i),y1(e,i))}this._attachedToViewContainer=!1}f3(this._lView[1],this._lView)}onDestroy(t){sL(this._lView[1],this._lView,null,t)}markForCheck(){_O(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function vO(n,t,e){const i=t[10];i.begin&&i.begin();try{qg(n,t,n.template,e)}catch(r){throw yL(t,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jq(n,t){jv(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=t}}class Ete extends iy{constructor(t){super(t),this._view=t}detectChanges(){gL(this._view)}checkNoChanges(){}get context(){return null}}class SB extends p_{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Es(t);return new VO(e,this.ngModule)}}function CB(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class VO extends yB{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function KJ(n){return n.map(XJ).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return CB(this.componentDef.inputs)}get outputs(){return CB(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function wte(n,t){return{get:(e,i,r)=>{const o=n.get(e,HO,r);return o!==HO||i===HO?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(__,fk),a=o.get(Cte,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function oL(n,t,e){if(uo(n))return n.selectRootElement(t,e===gc.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):FM(s.createRenderer(null,this.componentDef),c,function Tte(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),d=this.componentDef.onPush?576:528,f=function FL(n,t){return{components:[],scheduler:n||LJ,clean:RZ,playerHandler:t||null,flags:0}}(),p=L1(0,null,null,1,0,null,null,null,null,null),T=zv(null,p,f,d,null,null,s,l,a,o);let x,k;l1(T);try{const B=function kL(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=Xg(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(B1(l,c,!0),null!==n&&(f1(r,n,c),null!==l.classes&&zM(r,n,l.classes),null!==l.styles&&T3(r,n,l.styles)));const u=i.createRenderer(n,t),d=zv(e,iL(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(m1(Pv(l,e),s,t.type),dL(s,l),hL(l,e.length,1)),F1(e,d),e[20]=d}(u,this.componentDef,T,s,l);if(u)if(i)f1(l,u,["ng-version",J1.full]);else{const{attrs:$,classes:q}=function qJ(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!yc(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);$&&f1(l,u,$),q&&q.length>0&&zM(l,u,q.join(" "))}if(k=aM(p,20),void 0!==e){const $=k.projection=[];for(let q=0;q<this.ngContentSelectors.length;q++){const ee=e[q];$.push(null!=ee?Array.from(ee):null)}}x=function LL(n,t,e,i,r){const o=e[1],s=function mZ(n,t,e){const i=Vo();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),fL(n,i,t,Kg(n,t,1,null),e));const r=xv(t,n,i.directiveStart,i);Us(r,t);const o=Qa(i,t);return o&&Us(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=Vo();t.contentQueries(1,s,l.directiveStart)}const a=Vo();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Vd(a.index),cL(e[1],a,0,a.directiveStart,a.directiveEnd,t),uL(t,s)),s}(B,this.componentDef,T,f,[QZ]),Wv(p,T,null)}finally{c1()}return new Ote(this.componentType,x,g_(k,T),T,k)}}class Ote extends class gte{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new Ete(r),this.componentType=t}get injector(){return new Bg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class m_{}const v_=new Map;class wB extends m_{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SB(this);const i=Ml(t);this._bootstrapComponents=su(i.bootstrap),this._r3Injector=TL(t,e,[{provide:m_,useValue:this},{provide:p_,useValue:this.componentFactoryResolver}],Ci(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=js.THROW_IF_NOT_FOUND,i=Gn.Default){return t===js||t===m_||t===bO?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zO extends class xte{}{constructor(t){super(),this.moduleType=t,null!==Ml(t)&&function Ite(n){const t=new Set;!function e(i){const r=Ml(i,!0),o=r.id;null!==o&&(function EB(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ci(t)} vs ${Ci(t.name)}`)}(o,v_.get(o),i),v_.set(o,i));const s=su(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new wB(this.moduleType,t)}}function Ii(n,t,e,i){return MB(Rt(),aa(),n,t,e,i)}function sl(n,t,e,i,r){return OB(Rt(),aa(),n,t,e,i,r)}function y_(n,t,e,i,r,o){return function PB(n,t,e,i,r,o,s,a){const l=t+e;return j1(n,l,r,o,s)?lu(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):ry(n,l+3)}(Rt(),aa(),n,t,e,i,r,o)}function WO(n,t,e,i,r,o,s){return function xB(n,t,e,i,r,o,s,a,l){const c=t+e;return function Il(n,t,e,i,r,o){const s=uf(n,t,e,i);return uf(n,t+2,r,o)||s}(n,c,r,o,s,a)?lu(n,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):ry(n,c+4)}(Rt(),aa(),n,t,e,i,r,o,s)}function ry(n,t){const e=n[t];return e===Un?void 0:e}function MB(n,t,e,i,r,o){const s=t+e;return Gs(n,s,r)?lu(n,s+1,o?i.call(o,r):i(r)):ry(n,s+1)}function OB(n,t,e,i,r,o,s){const a=t+e;return uf(n,a,r,o)?lu(n,a+2,s?i.call(s,r,o):i(r,o)):ry(n,a+2)}function K(n,t){const e=xi();let i;const r=n+20;e.firstCreatePass?(i=function Fte(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=sf(i.type)),s=Ud(Z);try{const a=g1(!1),l=o();return g1(a),function dQ(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Rt(),r,l),l}finally{Ud(s)}}function J(n,t,e){const i=n+20,r=Rt(),o=Ng(r,i);return oy(r,i)?MB(r,aa(),t,o.transform,e,o):o.transform(e)}function nn(n,t,e,i){const r=n+20,o=Rt(),s=Ng(o,r);return oy(o,r)?OB(o,aa(),t,s.transform,e,i,s):s.transform(e,i)}function oy(n,t){return n[1].data[t].pure}function YO(n){return t=>{setTimeout(n,void 0,t)}}const vn=class Gte extends Xe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const d=t;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=YO(l),a&&(a=YO(a)),c&&(c=YO(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof m&&t.add(u),u}};function Hte(){return this._results[Qg()]()}class $O{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Qg(),i=$O.prototype;i[e]||(i[e]=Hte)}get changes(){return this._changes||(this._changes=new vn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=xl(t);(this._changesDetected=!function nq(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wte,n})();const Vte=Lr,zte=class extends Vte{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=zv(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Wv(e,i,t),new iy(i)}};function Wte(){return Q1(Vo(),Rt())}function Q1(n,t){return 4&n.type?new zte(t,n,g_(n,t)):null}let Dl=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yte,n})();function Yte(){return RB(Vo(),Rt())}const $te=Dl,AB=class extends $te{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return g_(this._hostTNode,this._hostLView)}get injector(){return new Bg(this._hostTNode,this._hostLView)}get parentInjector(){const t=_1(this._hostTNode,this._hostLView);if(Ak(t)){const e=Fg(t,this._hostLView),i=Lg(t);return new Bg(e[1].data[i+8],e)}return new Bg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=DB(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function Dv(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.ngModuleRef}const l=s?t:new VO(Es(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?c:this.parentInjector).get(m_,null);f&&(o=f)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function wK(n){return mc(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],f=new AB(d,d[6],d[3]);f.detach(f.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function Hq(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],Gk(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function Vq(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=GM(o,s),l=i[11],c=w1(l,s[7]);return null!==c&&function Uq(n,t,e,i,r,o){i[0]=r,i[6]=t,jv(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),Gk(XO(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=DB(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=BM(this._lContainer,e);i&&(y1(XO(this._lContainer),e),f3(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=BM(this._lContainer,e);return i&&null!=y1(XO(this._lContainer),e)?new iy(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function DB(n){return n[8]}function XO(n){return n[8]||(n[8]=[])}function RB(n,t){let e;const i=t[n.index];if(mc(i))e=i;else{let r;if(8&n.type)r=Io(i);else{const o=t[11];r=o.createComment("");const s=Qa(n,t);af(o,w1(o,s),r,function $q(n,t){return uo(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=pL(i,t,r,n),F1(t,e)}return new AB(e,n,t)}class KO{constructor(t){this.queryList=t,this.matches=null}clone(){return new KO(this.queryList)}setDirty(){this.queryList.setDirty()}}class qO{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new qO(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==BB(t,e).matches&&this.queries[e].setDirty()}}class NB{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class JO{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new JO(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ZO{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ZO(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,qte(e,o)),this.matchTNodeWithReadOption(t,e,v1(e,t,o,!1,!1))}else i===Lr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,v1(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===zi||r===Dl||r===Lr&&4&e.type)this.addMatch(e.index,-2);else{const o=v1(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qte(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Zte(n,t,e,i){return-1===e?function Jte(n,t){return 11&n.type?g_(n,t):4&n.type?Q1(n,t):null}(t,n):-2===e?function Qte(n,t,e){return e===zi?g_(t,n):e===Lr?Q1(t,n):e===Dl?RB(t,n):void 0}(n,t,i):xv(n,n[1],e,t)}function kB(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:Zte(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function QO(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=kB(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const f=u[d];f[17]===f[3]&&QO(f[1],f,c,i)}if(null!==u[9]){const d=u[9];for(let f=0;f<d.length;f++){const p=d[f];QO(p[1],p,c,i)}}}}}return i}function ii(n){const t=Rt(),e=xi(),i=Sk();pM(i+1);const r=BB(e,i);if(n.dirty&&pk(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?QO(e,t,i,[]):kB(e,t,r,i);n.reset(o,yte),n.notifyOnChanges()}return!0}return!1}function fo(n,t,e){const i=xi();i.firstCreatePass&&(FB(i,new NB(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),LB(i,Rt(),t)}function Yo(n,t,e,i){const r=xi();if(r.firstCreatePass){const o=Vo();FB(r,new NB(t,e,i),o.index),function tne(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}LB(r,Rt(),e)}function ri(){return function ene(n,t){return n[19].queries[t].queryList}(Rt(),Sk())}function LB(n,t,e){const i=new $O(4==(4&e));sL(n,t,i,i.destroy),null===t[19]&&(t[19]=new qO),t[19].queries.push(new KO(i))}function FB(n,t,e){null===n.queries&&(n.queries=new JO),n.queries.track(new ZO(t,e))}function BB(n,t){return n.queries.getByIndex(t)}function Hs(n,t){return Q1(n,t)}function nS(...n){}const oP=new gn("Application Initializer");let sP=(()=>{class n{constructor(e){this.appInits=e,this.resolve=nS,this.reject=nS,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(H1(o))e.push(o);else if(oF(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(lt(oP,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ay=new gn("AppId",{providedIn:"root",factory:function t4(){return`${aP()}${aP()}${aP()}`}});function aP(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n4=new gn("Platform Initializer"),S_=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vne=new gn("appBootstrapListener"),Xd=new gn("LocaleId",{providedIn:"root",factory:()=>Kk(Xd,Gn.Optional|Gn.SkipSelf)||function yne(){return"undefined"!=typeof $localize&&$localize.locale||W1}()}),Ene=(()=>Promise.resolve(0))();function lP(n){"undefined"==typeof Zone?Ene.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ti{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vn(!1),this.onMicrotaskEmpty=new vn(!1),this.onStable=new vn(!1),this.onError=new vn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Tne(){let n=rr.requestAnimationFrame,t=rr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function One(n){const t=()=>{!function Mne(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uP(n),n.isCheckStableRunning=!0,cP(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return i4(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),r4(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return i4(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),r4(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,uP(n),cP(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ti.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ti.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,wne,nS,nS);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const wne={};function cP(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function i4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function r4(n){n._nesting--,cP(n)}class Pne{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vn,this.onMicrotaskEmpty=new vn,this.onStable=new vn,this.onError=new vn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let dP=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ti.assertNotInAngularZone(),lP(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lP(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),xne=(()=>{class n{constructor(){this._applications=new Map,hP.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return hP.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Ine{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let hP=new Ine,pf=null;const o4=new gn("AllowMultipleToken"),s4=new gn("PlatformOnDestroy");function a4(n,t,e=[]){const i=`Platform: ${t}`,r=new gn(i);return(o=[])=>{let s=fP();if(!s||s.injector.get(o4,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function Nne(n){if(pf&&!pf.get(o4,!1))throw new Oe(400,"");pf=n;const t=n.get(l4),e=n.get(n4,null);e&&e.forEach(i=>i())}(function Lne(n=[],t){return js.create({name:t,providers:[{provide:SO,useValue:"platform"},{provide:s4,useValue:()=>pf=null},...n]})}(a,i))}return function kne(n){const t=fP();if(!t)throw new Oe(401,"");return t}()}}function fP(){var n;return null!==(n=null==pf?void 0:pf.get(l4))&&void 0!==n?n:null}let l4=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function Fne(n,t){let e;return e="noop"===n?new Pne:("zone.js"===n?void 0:n)||new Ti({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ti,useValue:a}];return a.run(()=>{const c=js.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),d=u.injector.get(Yg,null);if(!d)throw new Oe(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:p=>{d.handleError(p)}});u.onDestroy(()=>{gP(this._modules,u),f.unsubscribe()})}),function Bne(n,t,e){try{const i=e();return H1(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const f=u.injector.get(sP);return f.runInitializers(),f.donePromise.then(()=>(function Cee(n){Cs(n,"Expected localeId to be defined"),"string"==typeof n&&(XF=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Xd,W1)||W1),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=c4({},i);return function Dne(n,t,e){const i=new zO(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(pP);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Oe(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(s4,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(lt(js))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function c4(n,t){return Array.isArray(t)?t.reduce(c4,n):Object.assign(Object.assign({},n),t)}let pP=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ue(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new ue(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ti.assertNotInAngularZone(),lP(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ti.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function Na(...n){const t=Ls(n),e=function Ho(n,t){return"number"==typeof qr(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?rn(i[0]):Hu(e)(Ni(i,t)):Rr}(s,a.pipe(ka()))}bootstrap(e,i){if(!this._initStatus.done)throw new Oe(405,"");let r;r=e instanceof yB?e:this._injector.get(p_).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function Rne(n){return n.isBoundToModule}(r)?void 0:this._injector.get(m_),a=r.create(js.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(dP,null),u=c&&a.injector.get(xne);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),gP(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;gP(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vne,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(lt(Ti),lt(js),lt(Yg),lt(sP))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let d4=!0,Rn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gne,n})();function Gne(n){return function Hne(n,t,e){if(r1(n)&&!e){const i=el(n.index,t);return new iy(i,i)}return 47&n.type?new iy(t[16],t):null}(Vo(),Rt(),16==(16&n))}class _4{constructor(){}supports(t){return $v(t)}create(t){return new Xne(t)}}const $ne=(n,t)=>t;class Xne{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$ne}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<v4(i,r,o)?e:i,a=v4(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){const p=f<o.length?o[f]:o[f]=0,T=p+f;u<=T&&T<c&&(o[f]=p+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!$v(t))throw new Oe(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function cQ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Qg()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Kne(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new m4),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m4),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Kne{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qne{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class m4{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new qne,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function v4(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class y4{constructor(){}supports(t){return t instanceof Map||OO(t)}create(){return new Jne}}class Jne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||OO(t)))throw new Oe(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Zne(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Zne{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function b4(){return new ly([new _4])}let ly=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||b4()),deps:[[n,new E1,new C1]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Oe(901,"")}}return n.\u0275prov=It({token:n,providedIn:"root",factory:b4}),n})();function S4(){return new cy([new y4])}let cy=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||S4()),deps:[[n,new E1,new C1]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new Oe(901,"")}}return n.\u0275prov=It({token:n,providedIn:"root",factory:S4}),n})();const tie=a4(null,"core",[]);let nie=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(lt(pP))},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})(),oS=null;function _f(){return oS}const Qr=new gn("DocumentToken");var La=(()=>((La=La||{})[La.Decimal=0]="Decimal",La[La.Percent=1]="Percent",La[La.Currency=2]="Currency",La[La.Scientific=3]="Scientific",La))(),bo=(()=>((bo=bo||{})[bo.Format=0]="Format",bo[bo.Standalone=1]="Standalone",bo))(),di=(()=>((di=di||{})[di.Narrow=0]="Narrow",di[di.Abbreviated=1]="Abbreviated",di[di.Wide=2]="Wide",di[di.Short=3]="Short",di))(),eo=(()=>((eo=eo||{})[eo.Short=0]="Short",eo[eo.Medium=1]="Medium",eo[eo.Long=2]="Long",eo[eo.Full=3]="Full",eo))(),Tn=(()=>((Tn=Tn||{})[Tn.Decimal=0]="Decimal",Tn[Tn.Group=1]="Group",Tn[Tn.List=2]="List",Tn[Tn.PercentSign=3]="PercentSign",Tn[Tn.PlusSign=4]="PlusSign",Tn[Tn.MinusSign=5]="MinusSign",Tn[Tn.Exponential=6]="Exponential",Tn[Tn.SuperscriptingExponent=7]="SuperscriptingExponent",Tn[Tn.PerMille=8]="PerMille",Tn[Tn.Infinity=9]="Infinity",Tn[Tn.NaN=10]="NaN",Tn[Tn.TimeSeparator=11]="TimeSeparator",Tn[Tn.CurrencyDecimal=12]="CurrencyDecimal",Tn[Tn.CurrencyGroup=13]="CurrencyGroup",Tn))();function sS(n,t){return Nl(ua(n)[en.DateFormat],t)}function aS(n,t){return Nl(ua(n)[en.TimeFormat],t)}function lS(n,t){return Nl(ua(n)[en.DateTimeFormat],t)}function Rl(n,t){const e=ua(n),i=e[en.NumberSymbols][t];if(void 0===i){if(t===Tn.CurrencyDecimal)return e[en.NumberSymbols][Tn.Decimal];if(t===Tn.CurrencyGroup)return e[en.NumberSymbols][Tn.Group]}return i}function w4(n){if(!n[en.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[en.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nl(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function SP(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Sie=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,uy={},Cie=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $o=(()=>(($o=$o||{})[$o.Short=0]="Short",$o[$o.ShortGMT=1]="ShortGMT",$o[$o.Long=2]="Long",$o[$o.Extended=3]="Extended",$o))(),Pn=(()=>((Pn=Pn||{})[Pn.FullYear=0]="FullYear",Pn[Pn.Month=1]="Month",Pn[Pn.Date=2]="Date",Pn[Pn.Hours=3]="Hours",Pn[Pn.Minutes=4]="Minutes",Pn[Pn.Seconds=5]="Seconds",Pn[Pn.FractionalSeconds=6]="FractionalSeconds",Pn[Pn.Day=7]="Day",Pn))(),Qn=(()=>((Qn=Qn||{})[Qn.DayPeriods=0]="DayPeriods",Qn[Qn.Days=1]="Days",Qn[Qn.Months=2]="Months",Qn[Qn.Eras=3]="Eras",Qn))();function Eie(n,t,e,i){let r=function Die(n){if(P4(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return cS(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Sie))return function Rie(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!P4(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=qu(e,t)||t;let a,s=[];for(;t;){if(a=Cie.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=O4(i,l),r=function Aie(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Iie(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(O4(t,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const d=function xie(n){if(EP[n])return EP[n];let t;switch(n){case"G":case"GG":case"GGG":t=wr(Qn.Eras,di.Abbreviated);break;case"GGGG":t=wr(Qn.Eras,di.Wide);break;case"GGGGG":t=wr(Qn.Eras,di.Narrow);break;case"y":t=Do(Pn.FullYear,1,0,!1,!0);break;case"yy":t=Do(Pn.FullYear,2,0,!0,!0);break;case"yyy":t=Do(Pn.FullYear,3,0,!1,!0);break;case"yyyy":t=Do(Pn.FullYear,4,0,!1,!0);break;case"Y":t=fS(1);break;case"YY":t=fS(2,!0);break;case"YYY":t=fS(3);break;case"YYYY":t=fS(4);break;case"M":case"L":t=Do(Pn.Month,1,1);break;case"MM":case"LL":t=Do(Pn.Month,2,1);break;case"MMM":t=wr(Qn.Months,di.Abbreviated);break;case"MMMM":t=wr(Qn.Months,di.Wide);break;case"MMMMM":t=wr(Qn.Months,di.Narrow);break;case"LLL":t=wr(Qn.Months,di.Abbreviated,bo.Standalone);break;case"LLLL":t=wr(Qn.Months,di.Wide,bo.Standalone);break;case"LLLLL":t=wr(Qn.Months,di.Narrow,bo.Standalone);break;case"w":t=CP(1);break;case"ww":t=CP(2);break;case"W":t=CP(1,!0);break;case"d":t=Do(Pn.Date,1);break;case"dd":t=Do(Pn.Date,2);break;case"c":case"cc":t=Do(Pn.Day,1);break;case"ccc":t=wr(Qn.Days,di.Abbreviated,bo.Standalone);break;case"cccc":t=wr(Qn.Days,di.Wide,bo.Standalone);break;case"ccccc":t=wr(Qn.Days,di.Narrow,bo.Standalone);break;case"cccccc":t=wr(Qn.Days,di.Short,bo.Standalone);break;case"E":case"EE":case"EEE":t=wr(Qn.Days,di.Abbreviated);break;case"EEEE":t=wr(Qn.Days,di.Wide);break;case"EEEEE":t=wr(Qn.Days,di.Narrow);break;case"EEEEEE":t=wr(Qn.Days,di.Short);break;case"a":case"aa":case"aaa":t=wr(Qn.DayPeriods,di.Abbreviated);break;case"aaaa":t=wr(Qn.DayPeriods,di.Wide);break;case"aaaaa":t=wr(Qn.DayPeriods,di.Narrow);break;case"b":case"bb":case"bbb":t=wr(Qn.DayPeriods,di.Abbreviated,bo.Standalone,!0);break;case"bbbb":t=wr(Qn.DayPeriods,di.Wide,bo.Standalone,!0);break;case"bbbbb":t=wr(Qn.DayPeriods,di.Narrow,bo.Standalone,!0);break;case"B":case"BB":case"BBB":t=wr(Qn.DayPeriods,di.Abbreviated,bo.Format,!0);break;case"BBBB":t=wr(Qn.DayPeriods,di.Wide,bo.Format,!0);break;case"BBBBB":t=wr(Qn.DayPeriods,di.Narrow,bo.Format,!0);break;case"h":t=Do(Pn.Hours,1,-12);break;case"hh":t=Do(Pn.Hours,2,-12);break;case"H":t=Do(Pn.Hours,1);break;case"HH":t=Do(Pn.Hours,2);break;case"m":t=Do(Pn.Minutes,1);break;case"mm":t=Do(Pn.Minutes,2);break;case"s":t=Do(Pn.Seconds,1);break;case"ss":t=Do(Pn.Seconds,2);break;case"S":t=Do(Pn.FractionalSeconds,1);break;case"SS":t=Do(Pn.FractionalSeconds,2);break;case"SSS":t=Do(Pn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=dS($o.Short);break;case"ZZZZZ":t=dS($o.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=dS($o.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=dS($o.Long);break;default:return null}return EP[n]=t,t}(u);c+=d?d(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function cS(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function qu(n,t){const e=function cie(n){return ua(n)[en.LocaleId]}(n);if(uy[e]=uy[e]||{},uy[e][t])return uy[e][t];let i="";switch(t){case"shortDate":i=sS(n,eo.Short);break;case"mediumDate":i=sS(n,eo.Medium);break;case"longDate":i=sS(n,eo.Long);break;case"fullDate":i=sS(n,eo.Full);break;case"shortTime":i=aS(n,eo.Short);break;case"mediumTime":i=aS(n,eo.Medium);break;case"longTime":i=aS(n,eo.Long);break;case"fullTime":i=aS(n,eo.Full);break;case"short":const r=qu(n,"shortTime"),o=qu(n,"shortDate");i=uS(lS(n,eo.Short),[r,o]);break;case"medium":const s=qu(n,"mediumTime"),a=qu(n,"mediumDate");i=uS(lS(n,eo.Medium),[s,a]);break;case"long":const l=qu(n,"longTime"),c=qu(n,"longDate");i=uS(lS(n,eo.Long),[l,c]);break;case"full":const u=qu(n,"fullTime"),d=qu(n,"fullDate");i=uS(lS(n,eo.Full),[u,d])}return i&&(uy[e][t]=i),i}function uS(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Tc(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),o+s}function Do(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function wie(n,t){switch(n){case Pn.FullYear:return t.getFullYear();case Pn.Month:return t.getMonth();case Pn.Date:return t.getDate();case Pn.Hours:return t.getHours();case Pn.Minutes:return t.getMinutes();case Pn.Seconds:return t.getSeconds();case Pn.FractionalSeconds:return t.getMilliseconds();case Pn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Pn.Hours)0===a&&-12===e&&(a=12);else if(n===Pn.FractionalSeconds)return function Tie(n,t){return Tc(n,3).substr(0,t)}(a,t);const l=Rl(s,Tn.MinusSign);return Tc(a,t,l,i,r)}}function wr(n,t,e=bo.Format,i=!1){return function(r,o){return function Mie(n,t,e,i,r,o){switch(e){case Qn.Months:return function hie(n,t,e){const i=ua(n),o=Nl([i[en.MonthsFormat],i[en.MonthsStandalone]],t);return Nl(o,e)}(t,r,i)[n.getMonth()];case Qn.Days:return function die(n,t,e){const i=ua(n),o=Nl([i[en.DaysFormat],i[en.DaysStandalone]],t);return Nl(o,e)}(t,r,i)[n.getDay()];case Qn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function _ie(n){const t=ua(n);return w4(t),(t[en.ExtraData][2]||[]).map(i=>"string"==typeof i?SP(i):[SP(i[0]),SP(i[1])])}(t),u=function mie(n,t,e){const i=ua(n);w4(i);const o=Nl([i[en.ExtraData][0],i[en.ExtraData][1]],t)||[];return Nl(o,e)||[]}(t,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){const[p,T]=f,x=s>=p.hours&&a>=p.minutes,k=s<T.hours||s===T.hours&&a<T.minutes;if(p.hours<T.hours){if(x&&k)return!0}else if(x||k)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function uie(n,t,e){const i=ua(n),o=Nl([i[en.DayPeriodsFormat],i[en.DayPeriodsStandalone]],t);return Nl(o,e)}(t,r,i)[s<12?0:1];case Qn.Eras:return function fie(n,t){return Nl(ua(n)[en.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function dS(n){return function(t,e,i){const r=-1*i,o=Rl(e,Tn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case $o.Short:return(r>=0?"+":"")+Tc(s,2,o)+Tc(Math.abs(r%60),2,o);case $o.ShortGMT:return"GMT"+(r>=0?"+":"")+Tc(s,1,o);case $o.Long:return"GMT"+(r>=0?"+":"")+Tc(s,2,o)+":"+Tc(Math.abs(r%60),2,o);case $o.Extended:return 0===i?"Z":(r>=0?"+":"")+Tc(s,2,o)+":"+Tc(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function M4(n){return cS(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function CP(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=M4(e),s=function Pie(n){const t=cS(n,0,1).getDay();return cS(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Tc(r,n,Rl(i,Tn.MinusSign))}}function fS(n,t=!1){return function(e,i){return Tc(M4(e).getFullYear(),n,Rl(i,Tn.MinusSign),t)}}const EP={};function O4(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function P4(n){return n instanceof Date&&!isNaN(n.valueOf())}const Nie=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gS(n,t,e){return function wP(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function Gie(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function jie(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){const $=o.match(Nie);if(null===$)throw new Error(`${o} is not a valid digit info`);const q=$[1],ee=$[3],se=$[5];null!=q&&(u=OP(q)),null!=ee&&(d=OP(ee)),null!=se?f=OP(se):null!=ee&&d>f&&(f=d)}!function Hie(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let d=s;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let d=1;d<s;d++)i[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(d,f,p,T){return T[p]=(f+=d)<10?f:f-10,l&&(0===T[p]&&p>=c?T.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,f);let p=c.digits,T=c.integerLen;const x=c.exponent;let k=[];for(l=p.every($=>!$);T<u;T++)p.unshift(0);for(;T<0;T++)p.unshift(0);T>0?k=p.splice(T,p.length):(k=p,p=[0]);const B=[];for(p.length>=t.lgSize&&B.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)B.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&B.unshift(p.join("")),a=B.join(Rl(e,i)),k.length&&(a+=Rl(e,r)+k.join("")),x&&(a+=Rl(e,Tn.Exponential)+"+"+x)}else a=Rl(e,Tn.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function MP(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?e.minFrac=e.maxFrac=u+1:"#"===d?e.maxFrac=u+1:e.posSuf+=d}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,d=o.indexOf("#");e.negPre=o.substr(0,d).replace(/'/g,""),e.negSuf=o.substr(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function bP(n,t){return ua(n)[en.NumberFormats][t]}(t,La.Decimal),Rl(t,Tn.MinusSign)),t,Tn.Group,Tn.Decimal,e)}function OP(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function D4(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Xo=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&($v(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ci(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(Z(ly),Z(cy),Z(zi),Z(ol))},n.\u0275dir=$t({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Wie{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Wie(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),R4(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{R4(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(Z(Dl),Z(Lr),Z(ly))},n.\u0275dir=$t({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function R4(n,t){n.context.$implicit=t.item}let zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Yie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){N4("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){N4("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(Z(Dl),Z(Lr))},n.\u0275dir=$t({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Yie{constructor(){this.$implicit=null,this.ngIf=null}}function N4(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ci(t)}'.`)}const k4="browser";function hy(n){return n===k4}class AP{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ko=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=$t({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ts=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new AP(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(Z(Dl),Z(Lr),Z(Ko,9))},n.\u0275dir=$t({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),du=(()=>{class n{constructor(e,i,r){r._addDefault(new AP(e,i))}}return n.\u0275fac=function(e){return new(e||n)(Z(Dl),Z(Lr),Z(Ko,9))},n.\u0275dir=$t({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),mf=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(Z(zi),Z(cy),Z(ol))},n.\u0275dir=$t({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Kd=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(Z(Dl))},n.\u0275dir=$t({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[sa]}),n})();function wc(n,t){return new Oe(2100,"")}class Cre{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ere{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Tre=new Ere,wre=new Cre;let pr=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(H1(e))return Tre;if(rF(e))return wre;throw wc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(Z(Rn,16))},n.\u0275pipe=xo({name:"async",type:n,pure:!1}),n})();const Ire=new gn("DATE_PIPE_DEFAULT_TIMEZONE");let al=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var s;if(null==e||""===e||e!=e)return null;try{return Eie(e,i,o||this.locale,null!==(s=null!=r?r:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw wc()}}}return n.\u0275fac=function(e){return new(e||n)(Z(Xd,16),Z(Ire,24))},n.\u0275pipe=xo({name:"date",type:n,pure:!0}),n})(),Ju=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function DP(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return gS(function RP(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw wc()}}}return n.\u0275fac=function(e){return new(e||n)(Z(Xd,16))},n.\u0275pipe=xo({name:"number",type:n,pure:!0}),n})();let Nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();class V4{}class NP extends class Hre extends class oie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function rie(n){oS||(oS=n)}(new NP)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vre(){return py=py||document.querySelector("base"),py?py.getAttribute("href"):null}();return null==e?null:function zre(n){vS=vS||document.createElement("a"),vS.setAttribute("href",n);const t=vS.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){py=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return D4(document.cookie,t)}}let vS,py=null;const z4=new gn("TRANSITION_ID"),Yre=[{provide:oP,useFactory:function Wre(n,t,e){return()=>{e.get(sP).donePromise.then(()=>{const i=_f(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[z4,Qr,js],multi:!0}];class kP{static init(){!function Ane(n){hP=n}(new kP)}addToWindow(t){rr.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},rr.getAllAngularTestabilities=()=>t.getAllTestabilities(),rr.getAllAngularRootElements=()=>t.getAllRootElements(),rr.frameworkStabilizers||(rr.frameworkStabilizers=[]),rr.frameworkStabilizers.push(i=>{const r=rr.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?_f().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $re=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const yS=new gn("EventManagerPlugins");let bS=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(lt(yS),lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class W4{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=_f().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Y4=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),gy=(()=>{class n extends Y4{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach($4),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach($4))}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function $4(n){_f().remove(n)}const LP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FP=/%COMP%/g;function SS(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?SS(n,r,e):(r=r.replace(FP,n),e.push(r))}return e}function q4(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let CS=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new BP(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case gc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Qre(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case gc.ShadowDom:return new eoe(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=SS(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(lt(bS),lt(gy),lt(ay))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class BP{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(LP[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=LP[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=LP[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(nl.DashCase|nl.Important)?t.style.setProperty(e,i,r&nl.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&nl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,q4(i)):this.eventManager.addEventListener(t,e,q4(i))}}class Qre extends BP{constructor(t,e,i,r){super(t),this.component=i;const o=SS(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function qre(n){return"_ngcontent-%COMP%".replace(FP,n)}(r+"-"+i.id),this.hostAttr=function Jre(n){return"_nghost-%COMP%".replace(FP,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class eoe extends BP{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=SS(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let toe=(()=>{class n extends W4{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const Z4=["alt","control","meta","shift"],ioe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q4={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},roe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ooe=(()=>{class n extends W4{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_f().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(Z4.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function soe(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Q4.hasOwnProperty(t)&&(t=Q4[t]))}return ioe[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Z4.forEach(o=>{o!=r&&roe[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const uoe=a4(tie,"browser",[{provide:S_,useValue:k4},{provide:n4,useValue:function aoe(){NP.makeCurrent(),kP.init()},multi:!0},{provide:Qr,useFactory:function coe(){return function SK(n){oM=n}(document),document},deps:[]}]),doe=[{provide:SO,useValue:"root"},{provide:Yg,useFactory:function loe(){return new Yg},deps:[]},{provide:yS,useClass:toe,multi:!0,deps:[Qr,Ti,S_]},{provide:yS,useClass:ooe,multi:!0,deps:[Qr]},{provide:CS,useClass:CS,deps:[bS,gy,ay]},{provide:__,useExisting:CS},{provide:Y4,useExisting:gy},{provide:gy,useClass:gy,deps:[Qr]},{provide:dP,useClass:dP,deps:[Ti]},{provide:bS,useClass:bS,deps:[yS,Ti]},{provide:V4,useClass:$re,deps:[]}];let e5=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:ay,useValue:e.appId},{provide:z4,useExisting:ay},Yre]}}}return n.\u0275fac=function(e){return new(e||n)(lt(n,12))},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:doe,imports:[Nt,nie]}),n})();"undefined"!=typeof window&&window;let jP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:function(e){let i=null;return i=e?new(e||n):lt(i5),i},providedIn:"root"}),n})(),i5=(()=>{class n extends jP{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Tr.NONE:return i;case Tr.HTML:return ru(i,"HTML")?il(i):L3(this._doc,String(i)).toString();case Tr.STYLE:return ru(i,"Style")?il(i):i;case Tr.SCRIPT:if(ru(i,"Script"))return il(i);throw new Error("unsafe value used in a script context");case Tr.URL:return P3(i),ru(i,"URL")?il(i):Gv(String(i));case Tr.RESOURCE_URL:if(ru(i,"ResourceURL"))return il(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function oJ(n){return new eJ(n)}(e)}bypassSecurityTrustStyle(e){return function sJ(n){return new tJ(n)}(e)}bypassSecurityTrustScript(e){return function aJ(n){return new nJ(n)}(e)}bypassSecurityTrustUrl(e){return function lJ(n){return new iJ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function cJ(n){return new rJ(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr))},n.\u0275prov=It({token:n,factory:function(e){let i=null;return i=e?new e:function Soe(n){return new i5(n.get(Qr))}(lt(js)),i},providedIn:"root"}),n})();function ES(n){return n&&n.Math==Math?n:void 0}const Ro="object"==typeof globalThis&&ES(globalThis)||"object"==typeof window&&ES(window)||"object"==typeof self&&ES(self)||"object"==typeof global&&ES(global)||function(){return this}()||{};function r5(n,t,e){const i=e||Ro,r=i.__SENTRY__=i.__SENTRY__||{};return r[n]||(r[n]=t())}const TS="production",o5=Object.prototype.toString;function C_(n,t){return o5.call(n)===`[object ${t}]`}function GP(n){return C_(n,"String")}function s5(n){return"object"==typeof n&&null!==n&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function _y(n){return C_(n,"Object")}function wS(n){return Boolean(n&&n.then&&"function"==typeof n.then)}function a5(n){return"number"==typeof n&&n!=n}function MS(n,t){try{return n instanceof t}catch(e){return!1}}const E_=function Coe(){return Ro}();function Doe(n,t){const e=n,i=[];let r,o,s,a,l;if(!e||!e.tagName)return"";if(E_.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;i.push(e.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>e.getAttribute(d)).map(d=>[d,e.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(e.id&&i.push(`#${e.id}`),r=e.className,r&&GP(r))for(o=r.split(/\s+/),l=0;l<o.length;l++)i.push(`.${o[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)s=u[l],a=e.getAttribute(s),a&&i.push(`[${s}="${a}"]`);return i.join("")}const OS="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l5=["debug","info","warn","error","log","assert","trace"],c5={};function PS(n){if(!("console"in Ro))return n();const t=Ro.console,e={},i=Object.keys(c5);i.forEach(r=>{const o=c5[r];e[r]=t[r],t[r]=o});try{return n()}finally{i.forEach(r=>{t[r]=e[r]})}}const an=function Noe(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return l5.forEach(OS?e=>{t[e]=(...i)=>{n&&PS(()=>{Ro.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}();function xS(n,t,e){try{Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0})}catch(i){OS&&an.log(`Failed to add non-enumerable property "${t}" to object`,n)}}function d5(n){try{return function Moe(n){return"undefined"!=typeof Element&&MS(n,Element)}(n)?function Aoe(n,t={}){if(!n)return"<unknown>";try{let e=n;const i=5,r=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;e&&o++<i&&(c=Doe(e,u),!("html"===c||o>1&&s+r.length*l+c.length>=d));)r.push(c),s+=c.length,e=e.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}(n):Object.prototype.toString.call(n)}catch(t){return"<unknown>"}}function h5(n){if("object"==typeof n&&null!==n){const t={};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}return{}}function Fa(n){return HP(n,new Map)}function HP(n,t){if(function Boe(n){if(!_y(n))return!1;try{const t=Object.getPrototypeOf(n).constructor.name;return!t||"Object"===t}catch(t){return!0}}(n)){const e=t.get(n);if(void 0!==e)return e;const i={};t.set(n,i);for(const r of Object.keys(n))void 0!==n[r]&&(i[r]=HP(n[r],t));return i}if(Array.isArray(n)){const e=t.get(n);if(void 0!==e)return e;const i=[];return t.set(n,i),n.forEach(r=>{i.push(HP(r,t))}),i}return n}function ha(){const t=Ro.crypto||Ro.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&e())>>i/4).toString(16))}function f5(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function vf(n){const{message:t,event_id:e}=n;if(t)return t;const i=f5(n);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||e||"<unknown>":e||"<unknown>"}function p5(n){if(n&&n.__sentry_captured__)return!0;try{xS(n,"__sentry_captured__",!0)}catch(t){}return!1}function g5(n){return Array.isArray(n)?n:[n]}function IS(){return Date.now()/1e3}const my=function Goe(){const{performance:n}=Ro;if(!n||!n.now)return IS;const t=Date.now()-n.now(),e=null==n.timeOrigin?t:n.timeOrigin;return()=>(e+n.now())/1e3}();let AS;(()=>{const{performance:n}=Ro;if(!n||!n.now)return void(AS="none");const t=36e5,e=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+e-i):t,o=r<t,s=n.timing&&n.timing.navigationStart,l="number"==typeof s?Math.abs(s+e-i):t;AS=o||l<t?r<=l?"timeOrigin":"navigationStart":"dateNow"})();const mn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var Zu;function DS(n){return new kl(t=>{t(n)})}function m5(n){return new kl((t,e)=>{e(n)})}!function(n){n[n.PENDING=0]="PENDING",n[n.RESOLVED=1]="RESOLVED",n[n.REJECTED=2]="REJECTED"}(Zu||(Zu={}));class kl{constructor(t){kl.prototype.__init.call(this),kl.prototype.__init2.call(this),kl.prototype.__init3.call(this),kl.prototype.__init4.call(this),this._state=Zu.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new kl((i,r)=>{this._handlers.push([!1,o=>{if(t)try{i(t(o))}catch(s){r(s)}else i(o)},o=>{if(e)try{i(e(o))}catch(s){r(s)}else r(o)}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new kl((e,i)=>{let r,o;return this.then(s=>{o=!1,r=s,t&&t()},s=>{o=!0,r=s,t&&t()}).then(()=>{o?i(r):e(r)})})}__init(){this._resolve=t=>{this._setResult(Zu.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Zu.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{if(this._state===Zu.PENDING){if(wS(e))return void e.then(this._resolve,this._reject);this._state=t,this._value=e,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Zu.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===Zu.RESOLVED&&e[1](this._value),this._state===Zu.REJECTED&&e[2](this._value),e[0]=!0)})}}}function VP(){return r5("globalEventProcessors",()=>[])}function Hoe(n){VP().push(n)}function RS(n,t,e,i=0){return new kl((r,o)=>{const s=n[i];if(null===t||"function"!=typeof s)r(t);else{const a=s(Ze({},t),e);mn&&s.id&&null===a&&an.log(`Event processor "${s.id}" dropped event`),wS(a)?a.then(l=>RS(n,l,e,i+1).then(r)).then(null,o):RS(n,a,e,i+1).then(r).then(null,o)}})}function v5(n){const t=my(),e={sid:ha(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function Voe(n){return Fa({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(e)};return n&&yf(e,n),e}function yf(n,t={}){if(t.user&&(!n.ipAddress&&t.user.ip_address&&(n.ipAddress=t.user.ip_address),!n.did&&!t.did&&(n.did=t.user.id||t.user.email||t.user.username)),n.timestamp=t.timestamp||my(),t.abnormal_mechanism&&(n.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(n.ignoreDuration=t.ignoreDuration),t.sid&&(n.sid=32===t.sid.length?t.sid:ha()),void 0!==t.init&&(n.init=t.init),!n.did&&t.did&&(n.did=`${t.did}`),"number"==typeof t.started&&(n.started=t.started),n.ignoreDuration)n.duration=void 0;else if("number"==typeof t.duration)n.duration=t.duration;else{const e=n.timestamp-n.started;n.duration=e>=0?e:0}t.release&&(n.release=t.release),t.environment&&(n.environment=t.environment),!n.ipAddress&&t.ipAddress&&(n.ipAddress=t.ipAddress),!n.userAgent&&t.userAgent&&(n.userAgent=t.userAgent),"number"==typeof t.errors&&(n.errors=t.errors),t.status&&(n.status=t.status)}function y5(n,t){let e={};t?e={status:t}:"ok"===n.status&&(e={status:"exited"}),yf(n,e)}function NS(n){return n.transaction}function zP(n){const{spanId:t,traceId:e}=n.spanContext(),{data:i,op:r,parent_span_id:o,status:s,tags:a,origin:l}=qo(n);return Fa({data:i,op:r,parent_span_id:o,span_id:t,status:s,tags:a,trace_id:e,origin:l})}function kS(n){const{traceId:t,spanId:e}=n.spanContext();return function Woe(n=ha(),t=ha().substring(16),e){let i="";return void 0!==e&&(i=e?"-1":"-0"),`${n}-${t}${i}`}(t,e,WP(n))}function LS(n){return"number"==typeof n?C5(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?C5(n.getTime()):my()}function C5(n){return n>9999999999?n/1e3:n}function qo(n){return function $oe(n){return"function"==typeof n.getSpanJSON}(n)?n.getSpanJSON():"function"==typeof n.toJSON?n.toJSON():{}}function WP(n){const{traceFlags:t}=n.spanContext();return Boolean(1&t)}function FS(n,t,e){const i=t.getOptions(),{publicKey:r}=t.getDsn()||{},{segment:o}=e&&e.getUser()||{},s=Fa({environment:i.environment||TS,release:i.release,user_segment:o,public_key:r,trace_id:n});return t.emit&&t.emit("createDsc",s),s}function T_(n){const t=Hr();if(!t)return{};const e=FS(qo(n).trace_id||"",t,Ll()),i=NS(n);if(!i)return e;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:o,source:s}=i.metadata;null!=o&&(e.sample_rate=`${o}`);const a=qo(i);return s&&"url"!==s&&(e.transaction=a.description),e.sampled=String(WP(i)),t.emit&&t.emit("createDsc",e),e}function E5(n,t){const{fingerprint:e,span:i,breadcrumbs:r,sdkProcessingMetadata:o}=t;(function Xoe(n,t){const{extra:e,tags:i,user:r,contexts:o,level:s,transactionName:a}=t,l=Fa(e);l&&Object.keys(l).length&&(n.extra=Ze(Ze({},l),n.extra));const c=Fa(i);c&&Object.keys(c).length&&(n.tags=Ze(Ze({},c),n.tags));const u=Fa(r);u&&Object.keys(u).length&&(n.user=Ze(Ze({},u),n.user));const d=Fa(o);d&&Object.keys(d).length&&(n.contexts=Ze(Ze({},d),n.contexts)),s&&(n.level=s),a&&(n.transaction=a)})(n,t),i&&function Joe(n,t){n.contexts=Ze({trace:zP(t)},n.contexts);const e=NS(t);if(e){n.sdkProcessingMetadata=Ze({dynamicSamplingContext:T_(t)},n.sdkProcessingMetadata);const i=qo(e).description;i&&(n.tags=Ze({transaction:i},n.tags))}}(n,i),function Zoe(n,t){n.fingerprint=n.fingerprint?g5(n.fingerprint):[],t&&(n.fingerprint=n.fingerprint.concat(t)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}(n,e),function Koe(n,t){const e=[...n.breadcrumbs||[],...t];n.breadcrumbs=e.length?e:void 0}(n,r),function qoe(n,t){n.sdkProcessingMetadata=Ze(Ze({},n.sdkProcessingMetadata),t)}(n,o)}function T5(n,t){const{extra:e,tags:i,user:r,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:f,transactionName:p,span:T}=t;vy(n,"extra",e),vy(n,"tags",i),vy(n,"user",r),vy(n,"contexts",o),vy(n,"sdkProcessingMetadata",a),s&&(n.level=s),p&&(n.transactionName=p),T&&(n.span=T),l.length&&(n.breadcrumbs=[...n.breadcrumbs,...l]),c.length&&(n.fingerprint=[...n.fingerprint,...c]),u.length&&(n.eventProcessors=[...n.eventProcessors,...u]),d.length&&(n.attachments=[...n.attachments,...d]),n.propagationContext=Ze(Ze({},n.propagationContext),f)}function vy(n,t,e){if(e&&Object.keys(e).length){n[t]=Ze({},n[t]);for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[t][i]=e[i])}}let BS;class Qu{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=w5()}static clone(t){return t?t.clone():new Qu}clone(){const t=new Qu;return t._breadcrumbs=[...this._breadcrumbs],t._tags=Ze({},this._tags),t._extra=Ze({},this._extra),t._contexts=Ze({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=Ze({},this._sdkProcessingMetadata),t._propagationContext=Ze({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&yf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=Ze(Ze({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,e){return this._tags=Ln(Ze({},this._tags),{[t]:e}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=Ze(Ze({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,e){return this._extra=Ln(Ze({},this._extra),{[t]:e}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t;if(e instanceof Qu){const i=e.getScopeData();this._tags=Ze(Ze({},this._tags),i.tags),this._extra=Ze(Ze({},this._extra),i.extra),this._contexts=Ze(Ze({},this._contexts),i.contexts),i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),e.getRequestSession()&&(this._requestSession=e.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(_y(e)){const i=t;this._tags=Ze(Ze({},this._tags),i.tags),this._extra=Ze(Ze({},this._extra),i.extra),this._contexts=Ze(Ze({},this._contexts),i.contexts),i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=w5(),this}addBreadcrumb(t,e){const i="number"==typeof e?e:100;if(i<=0)return this;const r=Ze({timestamp:IS()},t),o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>i?o.slice(-i):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:e,_contexts:i,_tags:r,_extra:o,_user:s,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:f,_span:p}=this;return{breadcrumbs:t,attachments:e,contexts:i,tags:r,extra:o,user:s,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:f,span:p}}applyToEvent(t,e={},i=[]){return E5(t,this.getScopeData()),RS([...i,...VP(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ze(Ze({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const i=e&&e.event_id?e.event_id:ha();if(!this._client)return an.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(t,Ln(Ze({originalException:t,syntheticException:r},e),{event_id:i}),this),i}captureMessage(t,e,i){const r=i&&i.event_id?i.event_id:ha();if(!this._client)return an.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,Ln(Ze({originalException:t,syntheticException:o},i),{event_id:r}),this),r}captureEvent(t,e){const i=e&&e.event_id?e.event_id:ha();return this._client?(this._client.captureEvent(t,Ln(Ze({},e),{event_id:i}),this),i):(an.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function w5(){return{traceId:ha(),spanId:ha().substring(16)}}const YP="7.119.0",$P=parseFloat(YP),tse=100;class XP{constructor(t,e,i,r=$P){let o,s;this._version=r,e?o=e:(o=new Qu,o.setClient(t)),i?s=i:(s=new Qu,s.setClient(t)),this._stack=[{scope:o}],t&&this.bindClient(t),this._isolationScope=s}isOlderThan(t){return this._version<t}bindClient(t){const e=this.getStackTop();e.client=t,e.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(t){const e=this.pushScope();let i;try{i=t(e)}catch(r){throw this.popScope(),r}return wS(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const i=this._lastEventId=e&&e.event_id?e.event_id:ha(),r=new Error("Sentry syntheticException");return this.getScope().captureException(t,Ln(Ze({originalException:t,syntheticException:r},e),{event_id:i})),i}captureMessage(t,e,i){const r=this._lastEventId=i&&i.event_id?i.event_id:ha(),o=new Error(t);return this.getScope().captureMessage(t,e,Ln(Ze({originalException:t,syntheticException:o},i),{event_id:r})),r}captureEvent(t,e){const i=e&&e.event_id?e.event_id:ha();return t.type||(this._lastEventId=i),this.getScope().captureEvent(t,Ln(Ze({},e),{event_id:i})),i}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=tse}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const a=IS(),l=Ze({timestamp:a},t),c=o?PS(()=>o(l,e)):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,e),i.addBreadcrumb(c,s))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e),this.getIsolationScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e),this.getIsolationScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e),this.getIsolationScope().setContext(t,e)}configureScope(t){const{scope:e,client:i}=this.getStackTop();i&&t(e)}run(t){const e=M5(this);try{t(this)}finally{M5(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(i){return mn&&an.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const i=this._callExtensionMethod("startTransaction",t,e);return mn&&!i&&(this.getClient()?an.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):an.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,i=e.getSession();i&&y5(i),this._sendSessionUpdate(),e.setSession()}startSession(t){const{scope:e,client:i}=this.getStackTop(),{release:r,environment:o=TS}=i&&i.getOptions()||{},{userAgent:s}=Ro.navigator||{},a=v5(Ze(Ze({release:r,environment:o,user:e.getUser()},s&&{userAgent:s}),t)),l=e.getSession&&e.getSession();return l&&"ok"===l.status&&yf(l,{status:"exited"}),this.endSession(),e.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),i=t.getSession();i&&e&&e.captureSession&&e.captureSession(i)}_callExtensionMethod(t,...e){const r=bf().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);mn&&an.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function bf(){return Ro.__SENTRY__=Ro.__SENTRY__||{extensions:{},hub:void 0},Ro}function M5(n){const t=bf(),e=US(t);return KP(t,n),e}function ss(){const n=bf();if(n.__SENTRY__&&n.__SENTRY__.acs){const t=n.__SENTRY__.acs.getCurrentHub();if(t)return t}return function O5(n=bf()){return(!function P5(n){return!!(n&&n.__SENTRY__&&n.__SENTRY__.hub)}(n)||US(n).isOlderThan($P))&&KP(n,new XP),US(n)}(n)}function Sf(){return ss().getIsolationScope()}function US(n){return r5("hub",()=>new XP,n)}function KP(n,t){return!!n&&((n.__SENTRY__=n.__SENTRY__||{}).hub=t,!0)}function qP(n,t=0){return"string"!=typeof n||0===t||n.length<=t?n:`${n.slice(0,t)}...`}function jS(n,t=[],e=!1){return t.some(i=>function nse(n,t,e=!1){return!!GP(n)&&(function Ooe(n){return C_(n,"RegExp")}(t)?t.test(n):!!GP(t)&&(e?n===t:n.includes(t)))}(n,i,e))}const JP="<anonymous>";function D5(n){try{return n&&"function"==typeof n&&n.name||JP}catch(t){return JP}}function Jd(n,t=100,e=1/0){try{return ZP("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function ZP(n,t,e=1/0,i=1/0,r=function ise(){const n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let o=0;o<t.length;o++)if(t[o]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}]}()){const[o,s]=r;if(null==t||["number","boolean","string"].includes(typeof t)&&!a5(t))return t;const a=function ase(n,t){try{if("domain"===n&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===n)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(function xoe(n){return!("object"!=typeof n||null===n||!n.__isVue&&!n._isVue)}(t))return"[VueViewModel]";if(function Poe(n){return _y(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${D5(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const e=function lse(n){const t=Object.getPrototypeOf(n);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(e)?`[HTMLElement: ${e}]`:`[object ${e}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:e;if(0===l)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return ZP("",c.toJSON(),l-1,i,r)}catch(p){}const u=Array.isArray(t)?[]:{};let d=0;const f=function u5(n){if(function Eoe(n){switch(o5.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return MS(n,Error)}}(n))return Ze({message:n.message,name:n.name,stack:n.stack},h5(n));if(function woe(n){return"undefined"!=typeof Event&&MS(n,Event)}(n)){const t=Ze({type:n.type,target:d5(n.target),currentTarget:d5(n.currentTarget)},h5(n));return"undefined"!=typeof CustomEvent&&MS(n,CustomEvent)&&(t.detail=n.detail),t}return n}(t);for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p)){if(d>=i){u[p]="[MaxProperties ~]";break}u[p]=ZP(p,f[p],l-1,i,r),d++}return s(t),u}const R5=new WeakMap;const bse=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function yy(n,t){return ss().captureException(n,function vse(n){if(n)return function yse(n){return n instanceof Qu||"function"==typeof n}(n)||function Sse(n){return Object.keys(n).some(t=>bse.includes(t))}(n)?{captureContext:n}:n}(t))}function N5(n,t){return ss().captureEvent(n,t)}function as(n,t){ss().addBreadcrumb(n,t)}function hu(n,t){ss().setTag(n,t)}function k5(...n){const t=ss();if(2===n.length){const[e,i]=n;return t.withScope(e?()=>(t.getStackTop().scope=e,i(e)):i)}return t.withScope(n[0])}function Hr(){return ss().getClient()}function Ll(){return ss().getScope()}function F5(n){const t=Hr(),e=Sf(),i=Ll(),{release:r,environment:o=TS}=t&&t.getOptions()||{},{userAgent:s}=Ro.navigator||{},a=v5(Ze(Ze({release:r,environment:o,user:i.getUser()||e.getUser()},s&&{userAgent:s}),n)),l=e.getSession();return l&&"ok"===l.status&&yf(l,{status:"exited"}),B5(),e.setSession(a),i.setSession(a),a}function B5(){const n=Sf(),t=Ll(),e=t.getSession()||n.getSession();e&&y5(e),U5(),n.setSession(),t.setSession()}function U5(){const n=Sf(),t=Ll(),e=Hr(),i=t.getSession()||n.getSession();i&&e&&e.captureSession&&e.captureSession(i)}function j5(n=!1){n?B5():U5()}const G5=[];function wse(n){const t=n.defaultIntegrations||[],e=n.integrations;let i;t.forEach(s=>{s.isDefaultInstance=!0}),i=Array.isArray(e)?[...t,...e]:"function"==typeof e?g5(e(t)):t;const r=function Tse(n){const t={};return n.forEach(e=>{const{name:i}=e,r=t[i];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[i]=e)}),Object.keys(t).map(e=>t[e])}(i),o=function Ose(n,t){for(let e=0;e<n.length;e++)if(!0===t(n[e]))return e;return-1}(r,s=>"Debug"===s.name);if(-1!==o){const[s]=r.splice(o,1);r.push(s)}return r}function H5(n,t){for(const e of t)e&&e.afterAllSetup&&e.afterAllSetup(n)}function V5(n,t,e){if(e[t.name])mn&&an.log(`Integration skipped because it was already installed: ${t.name}`);else{if(e[t.name]=t,-1===G5.indexOf(t.name)&&(t.setupOnce(Hoe,ss),G5.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(n),n.on&&"function"==typeof t.preprocessEvent){const i=t.preprocessEvent.bind(t);n.on("preprocessEvent",(r,o)=>i(r,o,n))}if(n.addEventProcessor&&"function"==typeof t.processEvent){const i=t.processEvent.bind(t),r=Object.assign((o,s)=>i(o,s,n),{id:t.name});n.addEventProcessor(r)}mn&&an.log(`Integration installed: ${t.name}`)}}function ed(n,t){return Object.assign(function(...i){return t(...i)},{id:n})}const Pse=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],xse=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],z5="InboundFilters",W5=(n={})=>({name:z5,setupOnce(){},processEvent(t,e,i){const r=i.getOptions(),o=function Ise(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],...n.disableErrorDefaults?[]:Pse],ignoreTransactions:[...n.ignoreTransactions||[],...t.ignoreTransactions||[],...n.disableTransactionDefaults?[]:xse],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(n,r);return function Ase(n,t){return t.ignoreInternal&&function Fse(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(mn&&an.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${vf(n)}`),!0):function Dse(n,t){return!(n.type||!t||!t.length)&&function Lse(n){const t=[];let e;n.message&&t.push(n.message);try{e=n.exception.values[n.exception.values.length-1]}catch(i){}return e&&e.value&&(t.push(e.value),e.type&&t.push(`${e.type}: ${e.value}`)),mn&&0===t.length&&an.error(`Could not extract message for event ${vf(n)}`),t}(n).some(e=>jS(e,t))}(n,t.ignoreErrors)?(mn&&an.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${vf(n)}`),!0):function Rse(n,t){if("transaction"!==n.type||!t||!t.length)return!1;const e=n.transaction;return!!e&&jS(e,t)}(n,t.ignoreTransactions)?(mn&&an.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${vf(n)}`),!0):function Nse(n,t){if(!t||!t.length)return!1;const e=GS(n);return!!e&&jS(e,t)}(n,t.denyUrls)?(mn&&an.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${vf(n)}.\nUrl: ${GS(n)}`),!0):!function kse(n,t){if(!t||!t.length)return!0;const e=GS(n);return!e||jS(e,t)}(n,t.allowUrls)&&(mn&&an.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${vf(n)}.\nUrl: ${GS(n)}`),!0)}(t,o)?null:t}});function GS(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function Bse(n=[]){for(let t=n.length-1;t>=0;t--){const e=n[t];if(e&&"<anonymous>"!==e.filename&&"[native code]"!==e.filename)return e.filename||null}return null}(t):null}catch(t){return mn&&an.error(`Cannot extract url for event ${vf(n)}`),null}}let Y5;ed(z5,W5);const $5="FunctionToString",X5=new WeakMap,K5=()=>({name:$5,setupOnce(){Y5=Function.prototype.toString;try{Function.prototype.toString=function(...n){const t=function Loe(n){return n.__sentry_original__}(this),e=X5.has(Hr())&&void 0!==t?t:this;return Y5.apply(e,n)}}catch(n){}},setup(n){X5.set(n,!0)}});ed($5,K5);const Hse=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function by(n,t=!1){const{host:e,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}function q5(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function J5(n){const t="string"==typeof n?function zse(n){const t=Hse.exec(n);if(!t)return void PS(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[e,i,r="",o,s="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return q5({host:o,pass:r,path:l,projectId:c,port:s,protocol:e,publicKey:i})}(n):q5(n);if(t&&function Wse(n){if(!OS)return!0;const{port:t,projectId:e,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(s=>!n[s]&&(an.error(`Invalid Sentry Dsn: ${s} missing`),!0))||(e.match(/^\d+$/)?function Vse(n){return"http"===n||"https"===n}(i)?t&&isNaN(parseInt(t,10))&&(an.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(an.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(an.error(`Invalid Sentry Dsn: Invalid projectId ${e}`),1)))}(t))return t}function Z5(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function Kse(n,t={}){const i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function $se(n){return`${Z5(n)}${n.projectId}/envelope/`}(n)}?${function Xse(n,t){return function Foe(n){return Object.keys(n).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`).join("&")}(Ze({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,i)}`}const e8=/\(error: (.*)\)/,t8=/captureMessage|captureException/;function n8(...n){const t=n.sort((e,i)=>e[0]-i[0]).map(e=>e[1]);return(e,i=0)=>{const r=[],o=e.split("\n");for(let s=i;s<o.length;s++){const a=o[s];if(a.length>1024)continue;const l=e8.test(a)?a.replace(e8,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){r.push(u);break}}if(r.length>=50)break}}return function Zse(n){if(!n.length)return[];const t=Array.from(n);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),t8.test(t[t.length-1].function||"")&&(t.pop(),t8.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map(e=>Ln(Ze({},e),{filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(r)}}function Jse(n){return Array.isArray(n)?n8(...n):n}const tx="<anonymous>";function Zd(n){try{return n&&"function"==typeof n&&n.name||tx}catch(t){return tx}}const HS="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function VS(n){return n&&n.Math==Math?n:void 0}const Vr="object"==typeof globalThis&&VS(globalThis)||"object"==typeof window&&VS(window)||"object"==typeof self&&VS(self)||"object"==typeof global&&VS(global)||function(){return this}()||{};function nx(){return Vr}const ix=["debug","info","warn","error","log","assert","trace"],zS={},fa=function tae(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return ix.forEach(HS?e=>{t[e]=(...i)=>{n&&function eae(n){if(!("console"in Vr))return n();const t=Vr.console,e={},i=Object.keys(zS);i.forEach(r=>{const o=zS[r];e[r]=t[r],t[r]=o});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{Vr.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),WS=nx();function rx(){if(!("fetch"in WS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(n){return!1}}function ox(n){return n&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}const i8=Object.prototype.toString;function r8(n){switch(i8.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ef(n,Error)}}function w_(n,t){return i8.call(n)===`[object ${t}]`}function sx(n){return w_(n,"ErrorEvent")}function o8(n){return w_(n,"DOMError")}function Cf(n){return w_(n,"String")}function s8(n){return"object"==typeof n&&null!==n&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function a8(n){return null===n||s8(n)||"object"!=typeof n&&"function"!=typeof n}function l8(n){return w_(n,"Object")}function YS(n){return"undefined"!=typeof Event&&Ef(n,Event)}function Ef(n,t){try{return n instanceof t}catch(e){return!1}}function c8(n){return!("object"!=typeof n||null===n||!n.__isVue&&!n._isVue)}const M_=nx();function u8(n,t={}){if(!n)return"<unknown>";try{let e=n;const i=5,r=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;e&&o++<i&&(c=cae(e,u),!("html"===c||o>1&&s+r.length*l+c.length>=d));)r.push(c),s+=c.length,e=e.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}function cae(n,t){const e=n,i=[];let r,o,s,a,l;if(!e||!e.tagName)return"";if(M_.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;i.push(e.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>e.getAttribute(d)).map(d=>[d,e.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(e.id&&i.push(`#${e.id}`),r=e.className,r&&Cf(r))for(o=r.split(/\s+/),l=0;l<o.length;l++)i.push(`.${o[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)s=u[l],a=e.getAttribute(s),a&&i.push(`[${s}="${a}"]`);return i.join("")}function ax(n,t=0){return"string"!=typeof n||0===t||n.length<=t?n:`${n.slice(0,t)}...`}function d8(n,t){if(!Array.isArray(n))return"";const e=[];for(let i=0;i<n.length;i++){const r=n[i];try{c8(r)?e.push("[VueViewModel]"):e.push(String(r))}catch(o){e.push("[value cannot be serialized]")}}return e.join(t)}function ws(n,t,e){if(!(t in n))return;const i=n[t],r=e(i);"function"==typeof r&&h8(r,i),n[t]=r}function $S(n,t,e){try{Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0})}catch(i){HS&&fa.log(`Failed to add non-enumerable property "${t}" to object`,n)}}function h8(n,t){try{n.prototype=t.prototype=t.prototype||{},$S(n,"__sentry_original__",t)}catch(e){}}function f8(n){return n.__sentry_original__}function p8(n){if(r8(n))return Ze({message:n.message,name:n.name,stack:n.stack},_8(n));if(YS(n)){const t=Ze({type:n.type,target:g8(n.target),currentTarget:g8(n.currentTarget)},_8(n));return"undefined"!=typeof CustomEvent&&Ef(n,CustomEvent)&&(t.detail=n.detail),t}return n}function g8(n){try{return function rae(n){return"undefined"!=typeof Element&&Ef(n,Element)}(n)?u8(n):Object.prototype.toString.call(n)}catch(t){return"<unknown>"}}function _8(n){if("object"==typeof n&&null!==n){const t={};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}return{}}const XS=nx(),O_={},m8={};function Tf(n,t){O_[n]=O_[n]||[],O_[n].push(t)}function wf(n,t){m8[n]||(t(),m8[n]=!0)}function Mc(n,t){const e=n&&O_[n];if(e)for(const i of e)try{i(t)}catch(r){HS&&fa.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${Zd(i)}\nError:`,r)}}const Sy=Vr;let KS;function v8(n){const t="history";Tf(t,n),wf(t,_ae)}function _ae(){if(!function gae(){const n=XS.chrome;return!(n&&n.app&&n.app.runtime||!("history"in XS)||!XS.history.pushState||!XS.history.replaceState)}())return;const n=Sy.onpopstate;function t(e){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const o=KS,s=String(r);KS=s,Mc("history",{from:o,to:s})}return e.apply(this,i)}}Sy.onpopstate=function(...e){const i=Sy.location.href,r=KS;if(KS=i,Mc("history",{from:r,to:i}),n)try{return n.apply(this,e)}catch(s){}},ws(Sy.history,"pushState",t),ws(Sy.history,"replaceState",t)}function Cy(n,t=[]){return[n,t]}function mae(n,t){const[e,i]=n;return[e,[...i,t]]}function cx(n,t){const e=n[1];for(const i of e)if(t(i,i[0].type))return!0;return!1}function ux(n,t){return(t||new TextEncoder).encode(n)}function vae(n,t){const[e,i]=n;let r=JSON.stringify(e);function o(s){"string"==typeof r?r="string"==typeof s?r+s:[ux(r,t),s]:r.push("string"==typeof s?ux(s,t):s)}for(const s of i){const[a,l]=s;if(o(`\n${JSON.stringify(a)}\n`),"string"==typeof l||l instanceof Uint8Array)o(l);else{let c;try{c=JSON.stringify(l)}catch(u){c=JSON.stringify(Jd(l))}o(c)}}return"string"==typeof r?r:function yae(n){const t=n.reduce((r,o)=>r+o.length,0),e=new Uint8Array(t);let i=0;for(const r of n)e.set(r,i),i+=r.length;return e}(r)}function bae(n,t){const e="string"==typeof n.data?ux(n.data,t):n.data;return[Fa({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}const Sae={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function y8(n){return Sae[n]}function b8(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}class fu extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}const S8="Not capturing exception because it's already been captured.";function C8(n){return void 0===n.type}function E8(n){return"transaction"===n.type}function T8(n,t,e=[t],i="npm"){const r=n._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${t}`,packages:e.map(o=>({name:`${i}:@sentry/${o}`,version:YP})),version:YP}),n._metadata=r}function w8(n,t=[]){return[n,t]}function O8(){return Date.now()/1e3}let qS;function P8(n,t=!1){const{host:e,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}!function jae(){const{performance:n}=Vr;if(!n||!n.now)return O8;const t=Date.now()-n.now(),e=null==n.timeOrigin?t:n.timeOrigin}(),(()=>{const{performance:n}=Vr;if(!n||!n.now)return void(qS="none");const t=36e5,e=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+e-i):t,o=r<t,s=n.timing&&n.timing.navigationStart,l="number"==typeof s?Math.abs(s+e-i):t;qS=o||l<t?r<=l?"timeOrigin":"navigationStart":"dateNow"})();const Fl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function $ae(n,t=100,e=1/0){try{return hx("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function I8(n,t=3,e=102400){const i=$ae(n,t);return function Jae(n){return function qae(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>e?I8(n,t-1,e):i}function hx(n,t,e=1/0,i=1/0,r=function Yae(){const n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let o=0;o<t.length;o++)if(t[o]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}]}()){const[o,s]=r;if(null==t||["number","boolean","string"].includes(typeof t)&&!function aae(n){return"number"==typeof n&&n!=n}(t))return t;const a=function Xae(n,t){try{if("domain"===n&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===n)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(c8(t))return"[VueViewModel]";if(function sae(n){return l8(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Zd(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const e=function Kae(n){const t=Object.getPrototypeOf(n);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(e)?`[HTMLElement: ${e}]`:`[object ${e}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:e;if(0===l)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return hx("",c.toJSON(),l-1,i,r)}catch(p){}const u=Array.isArray(t)?[]:{};let d=0;const f=p8(t);for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p)){if(d>=i){u[p]="[MaxProperties ~]";break}u[p]=hx(p,f[p],l-1,i,r),d++}return s(t),u}function A8(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function Qae(n){const{message:t,event_id:e}=n;if(t)return t;const i=A8(n);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||e||"<unknown>":e||"<unknown>"}function fx(n,t,e){const i=n.exception=n.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{};o.value||(o.value=t||""),o.type||(o.type=e||"Error")}function JS(n,t){const e=A8(n);if(!e)return;const r=e.mechanism;if(e.mechanism=Ze(Ze(Ze({},{type:"generic",handled:!0}),r),t),t&&"data"in t){const o=Ze(Ze({},r&&r.data),t.data);e.mechanism.data=o}}var td;function D8(n){return new pu(t=>{t(n)})}!function(n){n[n.PENDING=0]="PENDING",n[n.RESOLVED=1]="RESOLVED",n[n.REJECTED=2]="REJECTED"}(td||(td={}));class pu{constructor(t){pu.prototype.__init.call(this),pu.prototype.__init2.call(this),pu.prototype.__init3.call(this),pu.prototype.__init4.call(this),this._state=td.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new pu((i,r)=>{this._handlers.push([!1,o=>{if(t)try{i(t(o))}catch(s){r(s)}else i(o)},o=>{if(e)try{i(e(o))}catch(s){r(s)}else r(o)}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new pu((e,i)=>{let r,o;return this.then(s=>{o=!1,r=s,t&&t()},s=>{o=!0,r=s,t&&t()}).then(()=>{o?i(r):e(r)})})}__init(){this._resolve=t=>{this._setResult(td.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(td.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{if(this._state===td.PENDING){if(function oae(n){return Boolean(n&&n.then&&"function"==typeof n.then)}(e))return void e.then(this._resolve,this._reject);this._state=t,this._value=e,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===td.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===td.RESOLVED&&e[1](this._value),this._state===td.REJECTED&&e[2](this._value),e[0]=!0)})}}}function R8(n,t){const e=gx(n,t),i={type:t&&t.name,value:ole(t)};return e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function px(n,t){return{exception:{values:[R8(n,t)]}}}function gx(n,t){const e=t.stacktrace||t.stack||"",i=function rle(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(ile.test(n.message))return 1}return 0}(t);try{return n(e,i)}catch(r){}return[]}const ile=/Minified React error #\d+;/i;function ole(n){const t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function _x(n,t,e,i,r){let o;if(sx(t)&&t.error)return px(n,t.error);if(o8(t)||function iae(n){return w_(n,"DOMException")}(t)){const s=t;if("stack"in t)o=px(n,t);else{const a=s.name||(o8(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=mx(n,l,e,i),fx(o,l)}return"code"in s&&(o.tags=Ln(Ze({},o.tags),{"DOMException.code":`${s.code}`})),o}return r8(t)?px(n,t):l8(t)||YS(t)?(o=function nle(n,t,e,i){const r=Hr(),o=r&&r.getOptions().normalizeDepth,s={exception:{values:[{type:YS(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:lle(t,{isUnhandledRejection:i})}]},extra:{__serialized__:I8(t,o)}};if(e){const a=gx(n,e);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}(n,t,e,r),JS(o,{synthetic:!0}),o):(o=mx(n,t,e,i),fx(o,`${t}`,void 0),JS(o,{synthetic:!0}),o)}function mx(n,t,e,i){const r={};if(i&&e){const o=gx(n,e);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(s8(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return r.logentry={message:o,params:s},r}return r.message=t,r}function lle(n,{isUnhandledRejection:t}){const e=function fae(n,t=40){const e=Object.keys(p8(n));if(e.sort(),!e.length)return"[object has no keys]";if(e[0].length>=t)return ax(e[0],t);for(let i=e.length;i>0;i--){const r=e.slice(0,i).join(", ");if(!(r.length>t))return i===e.length?r:ax(r,t)}return""}(n),i=t?"promise rejection":"exception";return sx(n)?`Event \`ErrorEvent\` captured as ${i} with message \`${n.message}\``:YS(n)?`Event \`${function cle(n){try{const t=Object.getPrototypeOf(n);return t?t.constructor.name:void 0}catch(t){}}(n)}\` (type=${n.type}) captured as ${i}`:`Object captured as ${i} with keys: ${e}`}const ki=Vr;let vx=0;function N8(){return vx>0}function ule(){vx++,setTimeout(()=>{vx--})}function P_(n,t={},e){if("function"!=typeof n)return n;try{const r=n.__sentry_wrapped__;if(r)return r;if(f8(n))return n}catch(r){return n}const i=function(){const r=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);const o=r.map(s=>P_(s,t));return n.apply(this,o)}catch(o){throw ule(),k5(s=>{s.addEventProcessor(a=>(t.mechanism&&(fx(a,void 0,void 0),JS(a,t.mechanism)),a.extra=Ln(Ze({},a.extra),{arguments:r}),a)),yy(o)}),o}};try{for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}catch(r){}h8(i,n),$S(n,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>n.name})}catch(r){}return i}class fle extends class Rae{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=J5(t.dsn):mn&&an.warn("No DSN provided, client will not send events."),this._dsn){const e=Kse(this._dsn,t);this._transport=t.transport(Ln(Ze({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}}captureException(t,e,i){if(p5(t))return void(mn&&an.log(S8));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(o=>this._captureEvent(o,e,i)).then(o=>{r=o})),r}captureMessage(t,e,i,r){let o=i&&i.event_id;const s=s5(t)?t:String(t),a=function Toe(n){return null===n||s5(n)||"object"!=typeof n&&"function"!=typeof n}(t)?this.eventFromMessage(s,e,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,r)).then(l=>{o=l})),o}captureEvent(t,e,i){if(e&&e.originalException&&p5(e.originalException))return void(mn&&an.log(S8));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,(t.sdkProcessingMetadata||{}).capturedSpanScope||i).then(a=>{r=a})),r}captureSession(t){"string"!=typeof t.release?mn&&an.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),yf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(i=>e.flush(t).then(r=>i&&r))):DS(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return mn&&an.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const e=this._integrations[t.name];V5(this,t,this._integrations),e||H5(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let i=function wae(n,t,e,i){const r=b8(e),o=n.type&&"replay_event"!==n.type?n.type:"event";!function Eae(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);const s=function Cae(n,t,e,i){const r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return Ze(Ze(Ze({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&i&&{dsn:by(i)}),r&&{trace:Fa(Ze({},r))})}(n,r,i,t);return delete n.sdkProcessingMetadata,Cy(s,[[{type:o},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of e.attachments||[])i=mae(i,bae(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(i);r&&r.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const e=function Tae(n,t,e,i){const r=b8(e);return Cy(Ze(Ze({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&t&&{dsn:by(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}recordDroppedEvent(t,e,i){if(this._options.sendClientReports){const r="number"==typeof i?i:1,o=`${t}:${e}`;mn&&an.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(t){mn&&an.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const e=function Aae(n,t,e,i){const r={sent_at:(new Date).toISOString()};e&&e.sdk&&(r.sdk={name:e.sdk.name,version:e.sdk.version}),i&&t&&(r.dsn=by(t));const o=function Dae(n){const t=function Mae(n){let t="";for(const e of n){const i=Object.entries(e.tags),r=i.length>0?`|#${i.map(([o,s])=>`${o}:${s}`).join(",")}`:"";t+=`${e.name}@${e.unit}:${e.metric}|${e.metricType}${r}|T${e.timestamp}\n`}return t}(n);return[{type:"statsd",length:t.length},t]}(n);return Cy(r,[o])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach(i=>i(...e))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function Mse(n,t){const e={};return t.forEach(i=>{i&&V5(n,i,e)}),e}(this,t),H5(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,e){let i=!1,r=!1;const o=e.exception&&e.exception.values;if(o){r=!0;for(const l of o){const c=l.mechanism;if(c&&!1===c.handled){i=!0;break}}}const s="ok"===t.status;(s&&0===t.errors||s&&i)&&(yf(t,Ln(Ze({},i&&{status:"crashed"}),{errors:t.errors||Number(r||i)})),this.captureSession(t))}_isClientDoneProcessing(t){return new kl(e=>{let i=0;const o=setInterval(()=>{0==this._numProcessing?(clearInterval(o),e(!0)):(i+=1,t&&i>=t&&(clearInterval(o),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,i,r=Sf()){const o=this.getOptions(),s=Object.keys(this._integrations);return!e.integrations&&s.length>0&&(e.integrations=s),this.emit("preprocessEvent",t,e),function dse(n,t,e,i,r,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=n,l=Ln(Ze({},t),{event_id:t.event_id||e.event_id||ha(),timestamp:t.timestamp||IS()}),c=e.integrations||n.integrations.map(k=>k.name);(function hse(n,t){const{environment:e,release:i,dist:r,maxValueLength:o=250}=t;"environment"in n||(n.environment="environment"in t?e:TS),void 0===n.release&&void 0!==i&&(n.release=i),void 0===n.dist&&void 0!==r&&(n.dist=r),n.message&&(n.message=qP(n.message,o));const s=n.exception&&n.exception.values&&n.exception.values[0];s&&s.value&&(s.value=qP(s.value,o));const a=n.request;a&&a.url&&(a.url=qP(a.url,o))})(l,n),function gse(n,t){t.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function fse(n,t){const e=Ro._sentryDebugIds;if(!e)return;let i;const r=R5.get(t);r?i=r:(i=new Map,R5.set(t,i));const o=Object.keys(e).reduce((s,a)=>{let l;const c=i.get(a);c?l=c:(l=t(a),i.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){s[d.filename]=e[a];break}}return s},{});try{n.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch(s){}}(l,n.stackParser);const u=function mse(n,t){if(!t)return n;const e=n?n.clone():new Qu;return e.update(t),e}(i,e.captureContext);e.mechanism&&function Uoe(n,t){const e=f5(n);if(!e)return;const r=e.mechanism;if(e.mechanism=Ze(Ze(Ze({},{type:"generic",handled:!0}),r),t),t&&"data"in t){const o=Ze(Ze({},r&&r.data),t.data);e.mechanism.data=o}}(l,e.mechanism);const d=r&&r.getEventProcessors?r.getEventProcessors():[],f=function ese(){return BS||(BS=new Qu),BS}().getScopeData();o&&T5(f,o.getScopeData()),u&&T5(f,u.getScopeData());const p=[...e.attachments||[],...f.attachments];return p.length&&(e.attachments=p),E5(l,f),RS([...d,...VP(),...f.eventProcessors],l,e).then(k=>(k&&function pse(n){const t={};try{n.exception.values.forEach(i=>{i.stacktrace.frames.forEach(r=>{r.debug_id&&(r.abs_path?t[r.abs_path]=r.debug_id:r.filename&&(t[r.filename]=r.debug_id),delete r.debug_id)})})}catch(i){}if(0===Object.keys(t).length)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const e=n.debug_meta.images;Object.keys(t).forEach(i=>{e.push({type:"sourcemap",code_file:i,debug_id:t[i]})})}(k),"number"==typeof s&&s>0?function _se(n,t,e){if(!n)return null;const i=Ze(Ze(Ze(Ze(Ze({},n),n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(r=>Ze(Ze({},r),r.data&&{data:Jd(r.data,t,e)}))}),n.user&&{user:Jd(n.user,t,e)}),n.contexts&&{contexts:Jd(n.contexts,t,e)}),n.extra&&{extra:Jd(n.extra,t,e)});return n.contexts&&n.contexts.trace&&i.contexts&&(i.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(i.contexts.trace.data=Jd(n.contexts.trace.data,t,e))),n.spans&&(i.spans=n.spans.map(r=>{const o=qo(r).data;return o&&(r.data=Jd(o,t,e)),r})),i}(k,s,a):k))}(o,t,e,i,this,r).then(a=>{if(null===a)return a;const l=Ze(Ze({},r.getPropagationContext()),i?i.getPropagationContext():void 0);if((!a.contexts||!a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:f,dsc:p}=l;a.contexts=Ze({trace:{trace_id:u,span_id:d,parent_span_id:f}},a.contexts);const T=p||FS(u,this,i);a.sdkProcessingMetadata=Ze({dynamicSamplingContext:T},a.sdkProcessingMetadata)}return a})}_captureEvent(t,e={},i){return this._processEvent(t,e,i).then(r=>r.event_id,r=>{if(mn){const o=r;"log"===o.logLevel?an.log(o.message):an.warn(o)}})}_processEvent(t,e,i){const r=this.getOptions(),{sampleRate:o}=r,s=E8(t),a=C8(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",t),m5(new fu(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const u="replay_event"===l?"replay":l;return this._prepareEvent(t,e,i,(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(p=>{if(null===p)throw this.recordDroppedEvent("event_processor",u,t),new fu("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return p;const x=function kae(n,t,e){const{beforeSend:i,beforeSendTransaction:r}=n;if(C8(t)&&i)return i(t,e);if(E8(t)&&r){if(t.spans){const o=t.spans.length;t.sdkProcessingMetadata=Ln(Ze({},t.sdkProcessingMetadata),{spanCountBeforeProcessing:o})}return r(t,e)}return t}(r,p,e);return function Nae(n,t){const e=`${t} must return \`null\` or a valid event.`;if(wS(n))return n.then(i=>{if(!_y(i)&&null!==i)throw new fu(e);return i},i=>{throw new fu(`${t} rejected with ${i}`)});if(!_y(n)&&null!==n)throw new fu(e);return n}(x,c)}).then(p=>{if(null===p)throw this.recordDroppedEvent("before_send",u,t),s&&this.recordDroppedEvent("before_send","span",1+(t.spans||[]).length),new fu(`${c} returned \`null\`, will not send event.`,"log");const T=i&&i.getSession();if(!s&&T&&this._updateSessionFromEvent(T,p),s){const $=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);$>0&&this.recordDroppedEvent("before_send","span",$)}const x=p.transaction_info;if(s&&x&&p.transaction!==t.transaction){const k="custom";p.transaction_info=Ln(Ze({},x),{source:k})}return this.sendEvent(p,e),p}).then(null,p=>{throw p instanceof fu?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new fu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${p}`))})}_process(t){this._numProcessing++,t.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,e=>{mn&&an.error("Error while sending event:",e)});mn&&an.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[i,r]=e.split(":");return{reason:i,category:r,quantity:t[e]}})}}{constructor(t){T8(t,"browser",["browser"],ki.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&ki.document&&ki.document.addEventListener("visibilitychange",()=>{"hidden"===ki.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function sle(n,t,e,i){const o=_x(n,t,e&&e.syntheticException||void 0,i);return JS(o),o.level="error",e&&e.event_id&&(o.event_id=e.event_id),D8(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",i){return function ale(n,t,e="info",i,r){const s=mx(n,t,i&&i.syntheticException||void 0,r);return s.level=e,i&&i.event_id&&(s.event_id=i.event_id),D8(s)}(this._options.stackParser,t,e,i,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Fl&&fa.warn("SDK not enabled, will not capture user feedback."));const e=function dle(n,{metadata:t,tunnel:e,dsn:i}){const r=Ze(Ze({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!e&&!!i&&{dsn:P8(i)}),o=function hle(n){return[{type:"user_report"},n]}(n);return w8(r,[o])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,i)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(Fl&&fa.log("No outcomes to send"));if(!this._dsn)return void(Fl&&fa.log("No dsn provided, will not send outcomes"));Fl&&fa.log("Sending outcomes:",t);const e=function Gae(n,t,e){return w8(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||O8(),discarded_events:n}]])}(t,this._options.tunnel&&P8(this._dsn));this._sendEnvelope(e)}}function gle(){"console"in Vr&&ix.forEach(function(n){n in Vr.console&&ws(Vr.console,n,function(t){return zS[n]=t,function(...e){Mc("console",{args:e,level:n});const r=zS[n];r&&r.apply(Vr.console,e)}})})}const x_=Vr;let k8,yx,bx;function vle(){if(!x_.document)return;const n=Mc.bind(null,"dom"),t=L8(n,!0);x_.document.addEventListener("click",t,!1),x_.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(e=>{const i=x_[e]&&x_[e].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(ws(i,"addEventListener",function(r){return function(o,s,a){if("click"===o||"keypress"==o)try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const d=L8(n);u.handler=d,r.call(this,o,d,a)}u.refCount++}catch(l){}return r.call(this,o,s,a)}}),ws(i,"removeEventListener",function(r){return function(o,s,a){if("click"===o||"keypress"==o)try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(r.call(this,o,u.handler,a),u.handler=void 0,delete c[o]),0===Object.keys(c).length&&delete l.__sentry_instrumentation_handlers__)}catch(l){}return r.call(this,o,s,a)}}))})}function L8(n,t=!1){return e=>{if(!e||e._sentryCaptured)return;const i=function Sle(n){try{return n.target}catch(t){return null}}(e);if(function ble(n,t){return!("keypress"!==n||t&&t.tagName&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable))}(e.type,i))return;$S(e,"_sentryCaptured",!0),i&&!i._sentryId&&$S(i,"_sentryId",function Zae(){const t=Vr.crypto||Vr.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&e())>>i/4).toString(16))}());const r="keypress"===e.type?"input":e.type;(function yle(n){if(n.type!==yx)return!1;try{if(!n.target||n.target._sentryId!==bx)return!1}catch(t){}return!0})(e)||(n({event:e,name:r,global:t}),yx=e.type,bx=i?i._sentryId:void 0),clearTimeout(k8),k8=x_.setTimeout(()=>{bx=void 0,yx=void 0},1e3)}}const Cle=Vr,Ey="__sentry_xhr_v3__";function Tle(){if(!Cle.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;ws(n,"open",function(t){return function(...e){const i=Date.now(),r=Cf(e[0])?e[0].toUpperCase():void 0,o=function wle(n){if(Cf(n))return n;try{return n.toString()}catch(t){}}(e[1]);if(!r||!o)return t.apply(this,e);this[Ey]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[Ey];if(a&&4===this.readyState){try{a.status_code=this.status}catch(c){}Mc("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:i,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ws(this,"onreadystatechange",function(a){return function(...l){return s(),a.apply(this,l)}}):this.addEventListener("readystatechange",s),ws(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[Ey];return d&&Cf(c)&&Cf(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,e)}}),ws(n,"send",function(t){return function(...e){const i=this[Ey];return i?(void 0!==e[0]&&(i.body=e[0]),Mc("xhr",{args:[i.method,i.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)):t.apply(this,e)}})}function Ole(){!function nae(){if("string"==typeof EdgeRuntime)return!0;if(!rx())return!1;if(ox(WS.fetch))return!0;let n=!1;const t=WS.document;if(t&&"function"==typeof t.createElement)try{const e=t.createElement("iframe");e.hidden=!0,t.head.appendChild(e),e.contentWindow&&e.contentWindow.fetch&&(n=ox(e.contentWindow.fetch)),t.head.removeChild(e)}catch(e){HS&&fa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return n}()||ws(Vr,"fetch",function(n){return function(...t){const{method:e,url:i}=function Ple(n){if(0===n.length)return{method:"GET",url:""};if(2===n.length){const[e,i]=n;return{url:F8(e),method:Sx(i,"method")?String(i.method).toUpperCase():"GET"}}const t=n[0];return{url:F8(t),method:Sx(t,"method")?String(t.method).toUpperCase():"GET"}}(t),r={args:t,fetchData:{method:e,url:i},startTimestamp:Date.now()};return Mc("fetch",Ze({},r)),n.apply(Vr,t).then(o=>(Mc("fetch",Ln(Ze({},r),{endTimestamp:Date.now(),response:o})),o),o=>{throw Mc("fetch",Ln(Ze({},r),{endTimestamp:Date.now(),error:o})),o})}})}function Sx(n,t){return!!n&&"object"==typeof n&&!!n[t]}function F8(n){return"string"==typeof n?n:n?Sx(n,"url")?n.url:n.toString?n.toString():"":""}const xle=["fatal","error","warning","log","info","debug"];function B8(n){return"warn"===n?"warning":xle.includes(n)?n:"log"}function Cx(n){if(!n)return{};const t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const e=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:e,hash:i,relative:t[5]+e+i}}const U8="Breadcrumbs",j8=(n={})=>{const t=Ze({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},n);return{name:U8,setupOnce(){},setup(e){t.console&&function ple(n){const t="console";Tf(t,n),wf(t,gle)}(function Dle(n){return function(e){if(Hr()!==n)return;const i={category:"console",data:{arguments:e.args,logger:"console"},level:B8(e.level),message:d8(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;i.message=`Assertion failed: ${d8(e.args.slice(1)," ")||"console.assert"}`,i.data.arguments=e.args.slice(1)}as(i,{input:e.args,level:e.level})}}(e)),t.dom&&function mle(n){Tf("dom",n),wf("dom",vle)}(function Ale(n,t){return function(i){if(Hr()!==n)return;let r,o,s="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>1024&&(Fl&&fa.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof s&&(s=[s]);try{const c=i.event,u=function Lle(n){return!!n&&!!n.target}(c)?c.target:c;r=u8(u,{keyAttrs:s,maxStringLength:a}),o=function dae(n){if(!M_.HTMLElement)return null;let t=n;for(let i=0;i<5;i++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(u)}catch(c){r="<unknown>"}if(0===r.length)return;const l={category:`ui.${i.name}`,message:r};o&&(l.data={"ui.component_name":o}),as(l,{event:i.event,name:i.name,global:i.global})}}(e,t.dom)),t.xhr&&function Ele(n){Tf("xhr",n),wf("xhr",Tle)}(function Rle(n){return function(e){if(Hr()!==n)return;const{startTimestamp:i,endTimestamp:r}=e,o=e.xhr[Ey];if(!i||!r||!o)return;const{method:s,url:a,status_code:l,body:c}=o;as({category:"xhr",data:{method:s,url:a,status_code:l},type:"http"},{xhr:e.xhr,input:c,startTimestamp:i,endTimestamp:r})}}(e)),t.fetch&&function Mle(n){const t="fetch";Tf(t,n),wf(t,Ole)}(function Nle(n){return function(e){if(Hr()!==n)return;const{startTimestamp:i,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error)as({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:i,endTimestamp:r});else{const o=e.response;as({category:"fetch",data:Ln(Ze({},e.fetchData),{status_code:o&&o.status}),type:"http"},{input:e.args,response:o,startTimestamp:i,endTimestamp:r})}}}(e)),t.history&&v8(function kle(n){return function(e){if(Hr()!==n)return;let i=e.from,r=e.to;const o=Cx(ki.location.href);let s=i?Cx(i):void 0;const a=Cx(r);(!s||!s.path)&&(s=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===s.protocol&&o.host===s.host&&(i=s.relative),as({category:"navigation",data:{from:i,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function Ile(n){return function(e){Hr()===n&&as({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Qae(e)},{event:e})}}(e))}}};ed(U8,j8);const H8=()=>{let n;return{name:"Dedupe",setupOnce(){},processEvent(t){if(t.type)return t;try{if(function Fle(n,t){return!(!t||!function Ble(n,t){const e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!z8(n,t)||!V8(n,t))}(n,t)&&!function Ule(n,t){const e=W8(t),i=W8(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&z8(n,t)&&V8(n,t))}(n,t))}(t,n))return Fl&&fa.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return n=t}}};function V8(n,t){let e=Y8(n),i=Y8(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||i.length!==e.length)return!1;for(let r=0;r<i.length;r++){const o=i[r],s=e[r];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function z8(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;try{return e.join("")===i.join("")}catch(r){return!1}}function W8(n){return n.exception&&n.exception.values&&n.exception.values[0]}function Y8(n){const t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}ed("Dedupe",H8);let QS=null;function Gle(){QS=Vr.onerror,Vr.onerror=function(n,t,e,i,r){return Mc("error",{column:i,error:r,line:e,msg:n,url:t}),!(!QS||QS.__SENTRY_LOADER__)&&QS.apply(this,arguments)},Vr.onerror.__SENTRY_INSTRUMENTED__=!0}let eC=null;function Vle(){eC=Vr.onunhandledrejection,Vr.onunhandledrejection=function(n){return Mc("unhandledrejection",n),!(eC&&!eC.__SENTRY_LOADER__)||eC.apply(this,arguments)},Vr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const $8="GlobalHandlers",X8=(n={})=>{const t=Ze({onerror:!0,onunhandledrejection:!0},n);return{name:$8,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function zle(n){!function jle(n){const t="error";Tf(t,n),wf(t,Gle)}(t=>{const{stackParser:e,attachStacktrace:i}=J8();if(Hr()!==n||N8())return;const{msg:r,url:o,line:s,column:a,error:l}=t,c=void 0===l&&Cf(r)?function Xle(n,t,e,i){let o=sx(n)?n.message:n,s="Error";const a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],o=a[2]),K8({exception:{values:[{type:s,value:o}]}},t,e,i)}(r,o,s,a):K8(_x(e,l||r,void 0,i,!1),o,s,a);c.level="error",N5(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}(e),q8("onerror")),t.onunhandledrejection&&(function Wle(n){!function Hle(n){const t="unhandledrejection";Tf(t,n),wf(t,Vle)}(t=>{const{stackParser:e,attachStacktrace:i}=J8();if(Hr()!==n||N8())return;const r=function Yle(n){if(a8(n))return n;const t=n;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return n}(t),o=a8(r)?function $le(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):_x(e,r,void 0,i,!0);o.level="error",N5(o,{originalException:r,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(e),q8("onunhandledrejection"))}}};function K8(n,t,e,i){const r=n.exception=n.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(e,10))?void 0:e,d=Cf(t)&&t.length>0?t:function uae(){try{return M_.document.location.href}catch(n){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),n}function q8(n){Fl&&fa.log(`Global Handler attached: ${n}`)}function J8(){const n=Hr();return n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}ed($8,X8);const Z8="HttpContext",Q8=()=>({name:Z8,setupOnce(){},preprocessEvent(n){if(!ki.navigator&&!ki.location&&!ki.document)return;const t=n.request&&n.request.url||ki.location&&ki.location.href,{referrer:e}=ki.document||{},{userAgent:i}=ki.navigator||{},r=Ze(Ze(Ze({},n.request&&n.request.headers),e&&{Referer:e}),i&&{"User-Agent":i}),o=Ln(Ze(Ze({},n.request),t&&{url:t}),{headers:r});n.request=o}});function Kle(n,t,e=250,i,r,o,s){if(!(o.exception&&o.exception.values&&s&&Ef(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=function qle(n,t){return n.map(e=>(e.value&&(e.value=ax(e.value,t)),e))}(Ex(n,t,r,s.originalException,i,o.exception.values,a,0),e))}function Ex(n,t,e,i,r,o,s,a){if(o.length>=e+1)return o;let l=[...o];if(Ef(i[r],Error)){eU(s,a);const c=n(t,i[r]),u=l.length;tU(c,r,u,a),l=Ex(n,t,e,i[r],r,[c,...l],c,u)}return Array.isArray(i.errors)&&i.errors.forEach((c,u)=>{if(Ef(c,Error)){eU(s,a);const d=n(t,c),f=l.length;tU(d,`errors[${u}]`,f,a),l=Ex(n,t,e,c,r,[d,...l],d,f)}}),l}function eU(n,t){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism=Ln(Ze(Ze({},n.mechanism),"AggregateError"===n.type&&{is_exception_group:!0}),{exception_id:t})}function tU(n,t,e,i){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism=Ln(Ze({},n.mechanism),{type:"chained",source:t,exception_id:e,parent_id:i})}ed(Z8,Q8);const nU="LinkedErrors",iU=(n={})=>{const t=n.limit||5,e=n.key||"cause";return{name:nU,setupOnce(){},preprocessEvent(i,r,o){const s=o.getOptions();Kle(R8,s.stackParser,s.maxValueLength,e,t,i,r)}}},Qle=(ed(nU,iU),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),rU="TryCatch",oU=(n={})=>{const t=Ze({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},n);return{name:rU,setupOnce(){t.setTimeout&&ws(ki,"setTimeout",sU),t.setInterval&&ws(ki,"setInterval",sU),t.requestAnimationFrame&&ws(ki,"requestAnimationFrame",ece),t.XMLHttpRequest&&"XMLHttpRequest"in ki&&ws(XMLHttpRequest.prototype,"send",tce);const e=t.eventTarget;e&&(Array.isArray(e)?e:Qle).forEach(nce)}}};function sU(n){return function(...t){return t[0]=P_(t[0],{mechanism:{data:{function:Zd(n)},handled:!1,type:"instrument"}}),n.apply(this,t)}}function ece(n){return function(t){return n.apply(this,[P_(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Zd(n)},handled:!1,type:"instrument"}})])}}function tce(n){return function(...t){const e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in e&&"function"==typeof e[r]&&ws(e,r,function(o){const s={mechanism:{data:{function:r,handler:Zd(o)},handled:!1,type:"instrument"}},a=f8(o);return a&&(s.mechanism.data.handler=Zd(a)),P_(o,s)})}),n.apply(this,t)}}function nce(n){const e=ki[n]&&ki[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||(ws(e,"addEventListener",function(i){return function(r,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=P_(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Zd(o),target:n},handled:!1,type:"instrument"}}))}catch(a){}return i.apply(this,[r,P_(o,{mechanism:{data:{function:"addEventListener",handler:Zd(o),target:n},handled:!1,type:"instrument"}}),s])}}),ws(e,"removeEventListener",function(i){return function(r,o,s){const a=o;try{const l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,s)}catch(l){}return i.call(this,r,a,s)}}))}function Ty(n,t,e,i){const r={filename:n,function:t,in_app:!0};return void 0!==e&&(r.lineno=e),void 0!==i&&(r.colno=i),r}ed(rU,oU);const lce=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cce=/\((\S*)(?::(\d+))(?::(\d+))\)/,uce=[30,n=>{const t=lce.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){const o=cce.exec(t[2]);o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3])}const[i,r]=aU(t[1]||"?",t[2]);return Ty(r,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],dce=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,hce=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,fce=[50,n=>{const t=dce.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=hce.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let i=t[3],r=t[1]||"?";return[r,i]=aU(r,i),Ty(i,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],pce=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,gce=[40,n=>{const t=pce.exec(n);return t?Ty(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],vce=n8(uce,fce,gce),aU=(n,t)=>{const e=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return e||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function lU(n,t,e=function yce(n){const t=[];function i(s){return t.splice(t.indexOf(s),1)[0]}return{$:t,add:function r(s){if(!function e(){return void 0===n||t.length<n}())return m5(new fu("Not adding Promise because buffer limit was reached."));const a=s();return-1===t.indexOf(a)&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function o(s){return new kl((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(d=>{DS(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};function o(s){const a=[];if(cx(s,(d,f)=>{const p=y8(f);if(function Ece(n,t,e=Date.now()){return function Cce(n,t){return n[t]||n.all||0}(n,t)>e}(i,p)){const T=cU(d,f);n.recordDroppedEvent("ratelimit_backoff",p,T)}else a.push(d)}),0===a.length)return DS();const l=Cy(s[0],a),c=d=>{cx(l,(f,p)=>{const T=cU(f,p);n.recordDroppedEvent(d,y8(p),T)})};return e.add(()=>t({body:vae(l,n.textEncoder)}).then(d=>(void 0!==d.statusCode&&(d.statusCode<200||d.statusCode>=300)&&mn&&an.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=function Tce(n,{statusCode:t,headers:e},i=Date.now()){const r=Ze({},n),o=e&&e["x-sentry-rate-limits"],s=e&&e["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),f=1e3*(isNaN(d)?60:d);if(c)for(const p of c.split(";"))"metric_bucket"===p?(!u||u.split(";").includes("custom"))&&(r[p]=i+f):r[p]=i+f;else r.all=i+f}else s?r.all=i+function Sce(n,t=Date.now()){const e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;const i=Date.parse(`${n}`);return isNaN(i)?6e4:i-t}(s,i):429===t&&(r.all=i+6e4);return r}(i,d),d),d=>{throw c("network_error"),d})).then(d=>d,d=>{if(d instanceof fu)return mn&&an.error("Skipped sending event because buffer is full."),c("queue_overflow"),DS();throw d})}return o.__sentry__baseTransport__=!0,{send:o,flush:s=>e.drain(s)}}function cU(n,t){if("event"===t||"transaction"===t)return Array.isArray(n)?n[1]:void 0}let wy;function Pce(n,t=function Mce(){if(wy)return wy;if(ox(ki.fetch))return wy=ki.fetch.bind(ki);const n=ki.document;let t=ki.fetch;if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i.fetch&&(t=i.fetch),n.head.removeChild(e)}catch(e){Fl&&fa.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return wy=t.bind(ki)}()){let e=0,i=0;return lU(n,function r(o){const s=o.body.length;e+=s,i++;const a=Ze({body:o.body,method:"POST",referrerPolicy:"origin",headers:n.headers,keepalive:e<=6e4&&i<15},n.fetchOptions);try{return t(n.url,a).then(l=>(e-=s,i--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return function Oce(){wy=void 0}(),e-=s,i--,function tle(n){return new pu((t,e)=>{e(n)})}(l)}})}function Ice(n){return lU(n,function t(e){return new pu((i,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&i({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",n.url);for(const s in n.headers)Object.prototype.hasOwnProperty.call(n.headers,s)&&o.setRequestHeader(s,n.headers[s]);o.send(e.body)})})}const Ace=[W5(),K5(),oU(),j8(),X8(),iU(),H8(),Q8()];function uU(n){return[...Ace]}function Dce(n={}){void 0===n.defaultIntegrations&&(n.defaultIntegrations=uU()),void 0===n.release&&("string"==typeof __SENTRY_RELEASE__&&(n.release=__SENTRY_RELEASE__),ki.SENTRY_RELEASE&&ki.SENTRY_RELEASE.id&&(n.release=ki.SENTRY_RELEASE.id)),void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);const t=Ln(Ze({},n),{stackParser:Jse(n.stackParser||vce),integrations:wse(n),transport:n.transport||(rx()?Pce:Ice)});(function Use(n,t){!0===t.debug&&(mn?an.enable():PS(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ll().update(t.initialScope);const i=new n(t);(function jse(n){const e=ss().getStackTop();e.client=n,e.scope.setClient(n)})(i),function Gse(n){n.init?n.init():n.setupIntegrations&&n.setupIntegrations()}(i)})(fle,t),n.autoSessionTracking&&function Rce(){void 0!==ki.document?(F5({ignoreDuration:!0}),j5(),v8(({from:n,to:t})=>{void 0!==n&&n!==t&&(F5({ignoreDuration:!0}),j5())})):Fl&&fa.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}const dU=(n={},t=ss())=>{if(!ki.document)return void(Fl&&fa.error("Global document not defined in showReportDialog call"));const{client:e,scope:i}=t.getStackTop(),r=n.dsn||e&&e.getDsn();if(!r)return void(Fl&&fa.error("DSN not configured for showReportDialog call"));i&&(n.user=Ze(Ze({},i.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());const o=ki.document.createElement("script");o.async=!0,o.crossOrigin="anonymous",o.src=function qse(n,t){const e=J5(n);if(!e)return"";const i=`${Z5(e)}embed/error-page/`;let r=`dsn=${by(e)}`;for(const o in t)if("dsn"!==o&&"onClose"!==o)if("user"===o){const s=t.user;if(!s)continue;s.name&&(r+=`&name=${encodeURIComponent(s.name)}`),s.email&&(r+=`&email=${encodeURIComponent(s.email)}`)}else r+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${i}?${r}`}(r,n),n.onLoad&&(o.onload=n.onLoad);const{onClose:s}=n;if(s){const l=c=>{if("__sentry_reportdialog_closed__"===c.data)try{s()}finally{ki.removeEventListener("message",l)}};ki.addEventListener("message",l)}const a=ki.document.head||ki.document.body;a?a.appendChild(o):Fl&&fa.error("Not injecting report dialog. No injection point found in HTML")};const Qd="sentry.source",A_="sentry.sample_rate",tC="sentry.op",D_="sentry.origin";var pU;function Tx(n,t){n.setTag("http.status_code",String(t)),n.setData("http.response.status_code",t);const e=function kce(n){if(n<400&&n>=100)return"ok";if(n>=400&&n<500)switch(n){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(n>=500&&n<600)switch(n){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==e&&n.setStatus(e)}!function(n){n.Ok="ok",n.DeadlineExceeded="deadline_exceeded",n.Unauthenticated="unauthenticated",n.PermissionDenied="permission_denied",n.NotFound="not_found",n.ResourceExhausted="resource_exhausted",n.InvalidArgument="invalid_argument",n.Unimplemented="unimplemented",n.Unavailable="unavailable",n.InternalError="internal_error",n.UnknownError="unknown_error",n.Cancelled="cancelled",n.AlreadyExists="already_exists",n.FailedPrecondition="failed_precondition",n.Aborted="aborted",n.OutOfRange="out_of_range",n.DataLoss="data_loss"}(pU||(pU={}));class gU{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class nC{constructor(t={}){this._traceId=t.traceId||ha(),this._spanId=t.spanId||ha().substring(16),this._startTime=t.startTimestamp||my(),this.tags=t.tags?Ze({},t.tags):{},this.data=t.data?Ze({},t.data):{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes(Ze({[D_]:t.origin||"manual",[tC]:t.op},t.attributes)),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),void 0!==t.exclusiveTime&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?Ze({},t.measurements):{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[tC]}set op(t){this.setAttribute(tC,t)}get origin(){return this._attributes[D_]}set origin(t){this.setAttribute(D_,t)}spanContext(){const{_spanId:t,_traceId:e,_sampled:i}=this;return{spanId:t,traceId:e,traceFlags:i?1:0}}startChild(t){const e=new nC(Ln(Ze({},t),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e);const i=NS(this);if(e.transaction=i,mn&&i){const a=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${qo(e).description||"< unknown name >"}' (${i.spanContext().spanId}).`;an.log(a),this._logMessage=a}return e}setTag(t,e){return this.tags=Ln(Ze({},this.tags),{[t]:e}),this}setData(t,e){return this.data=Ln(Ze({},this.data),{[t]:e}),this}setAttribute(t,e){void 0===e?delete this._attributes[t]:this._attributes[t]=e}setAttributes(t){Object.keys(t).forEach(e=>this.setAttribute(e,t[e]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return Tx(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return"ok"===this._status}finish(t){return this.end(t)}end(t){if(this._endTime)return;const e=NS(this);if(mn&&e&&e.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&an.log(i.replace("Starting","Finishing"))}this._endTime=LS(t)}toTraceparent(){return kS(this)}toContext(){return Fa({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return zP(this)}getSpanJSON(){return Fa({data:this._getData(),description:this._name,op:this._attributes[tC],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[D_],_metrics_summary:void 0,profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:e}=this,i=Object.keys(t).length>0,r=Object.keys(e).length>0;if(i||r)return i&&r?Ze(Ze({},t),e):i?t:e}}function R_(n){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=Hr(),e=n||t&&t.getOptions();return!!e&&(e.enableTracing||"tracesSampleRate"in e||"tracesSampler"in e)}function _U(n){if(!R_())return;const t=function rC(n){if(n.startTime){const t=Ze({},n);return t.startTimestamp=LS(n.startTime),delete t.startTime,t}return n}(n),e=ss(),i=n.scope?n.scope.getSpan():wx();if(n.onlyIfParent&&!i)return;const s=(n.scope||Ll()).clone();return function iC(n,{parentSpan:t,spanContext:e,forceTransaction:i,scope:r}){if(!R_())return;const o=Sf();let s;if(t&&!i)s=t.startChild(e);else if(t){const a=T_(t),{traceId:l,spanId:c}=t.spanContext(),u=WP(t);s=n.startTransaction(Ln(Ze({traceId:l,parentSpanId:c,parentSampled:u},e),{metadata:Ze({dynamicSamplingContext:a},e.metadata)}))}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}=Ze(Ze({},o.getPropagationContext()),r.getPropagationContext());s=n.startTransaction(Ln(Ze({traceId:a,parentSpanId:c,parentSampled:u},e),{metadata:Ze({dynamicSamplingContext:l},e.metadata)}))}return r.setSpan(s),function Lce(n,t,e){n&&(xS(n,vU,e),xS(n,mU,t))}(s,r,o),s}(e,{parentSpan:i,spanContext:t,forceTransaction:n.forceTransaction,scope:s})}function wx(){return Ll().getSpan()}const mU="_sentryScope",vU="_sentryIsolationScope";class yU extends nC{constructor(t,e){super(t),this._contexts={},this._hub=e||ss(),this._name=t.name||"",this._metadata=Ze({},t.metadata),this._trimEnd=t.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext=Ze({},i))}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return Ze(Ze(Ze({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Qd]&&{source:this._attributes[Qd]}),this._attributes[A_]&&{sampleRate:this._attributes[A_]})}set metadata(t){this._metadata=t}setName(t,e="custom"){this._name=t,this.setAttribute(Qd,e)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new gU(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,i=""){this._measurements[t]={value:e,unit:i}}setMetadata(t){this._metadata=Ze(Ze({},this._metadata),t)}end(t){const e=LS(t),i=this._finishTransaction(e);if(i)return this._hub.captureEvent(i)}toContext(){const t=super.toContext();return Fa(Ln(Ze({},t),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return T_(this)}setHub(t){this._hub=t}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(t){if(void 0!==this._endTime)return;this._name||(mn&&an.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this._sampled)return mn&&an.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const i=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&qo(u).timestamp):[];if(this._trimEnd&&i.length>0){const u=i.map(d=>qo(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,f)=>d>f?d:f)}const{scope:r,isolationScope:o}=function Fce(n){return{scope:n[mU],isolationScope:n[vU]}}(this),{metadata:s}=this,{source:a}=s,l=Ze({contexts:Ln(Ze({},this._contexts),{trace:zP(this)}),spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:Ze(Ln(Ze({},s),{capturedSpanScope:r,capturedSpanIsolationScope:o}),Fa({dynamicSamplingContext:T_(this)})),_metrics_summary:void 0},a&&{transaction_info:{source:a}});return Object.keys(this._measurements).length>0&&(mn&&an.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),mn&&an.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const oC={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},N_=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Uce extends gU{constructor(t,e,i,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=i}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const e=t.end;t.end=(...i)=>(this._popActivity(t.spanContext().spanId),e.apply(t,i)),void 0===qo(t).timestamp&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class jce extends yU{constructor(t,e,i=oC.idleTimeout,r=oC.finalTimeout,o=oC.heartbeatInterval,s=!1,a=!1){super(t,e),this._idleHub=e,this._idleTimeout=i,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=N_[4],this._autoFinishAllowed=!a,s&&(mn&&an.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),e.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=N_[3],this.end())},this._finalTimeout)}end(t){const e=LS(t);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){mn&&an.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const i of this._beforeFinishCallbacks)i(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(i=>{if(i.spanContext().spanId===this.spanContext().spanId)return!0;qo(i).timestamp||(i.setStatus("cancelled"),i.end(e),mn&&an.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(i,void 0,2)));const{start_timestamp:r,timestamp:o}=qo(i),s=r&&r<e,l=o&&r&&o-r<(this._finalTimeout+this._idleTimeout)/1e3;if(mn){const c=JSON.stringify(i,void 0,2);s?l||an.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):an.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return s&&l}),mn&&an.log("[Tracing] flushing IdleTransaction")}else mn&&an.log("[Tracing] No active IdleTransaction");if(this._onScope){const i=this._idleHub.getScope();i.getTransaction()===this&&i.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){this.spanRecorder||(this.spanRecorder=new Uce(r=>{this._finished||this._pushActivity(r)},r=>{this._finished||this._popActivity(r)},this.spanContext().spanId,t),mn&&an.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=N_[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(mn&&an.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&(this._finishReason=N_[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),mn&&an.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,mn&&an.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(mn&&an.log(`[Tracing] popActivity ${t}`),delete this.activities[t],mn&&an.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=my();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=N_[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(mn&&an.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=N_[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){mn&&an.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}const k_={},bU={};function SU(n,t){k_[n]=k_[n]||[],k_[n].push(t)}function CU(n,t){bU[n]||(t(),bU[n]=!0)}function EU(n,t){const e=n&&k_[n];if(e)for(const i of e)try{i(t)}catch(r){OS&&an.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${D5(i)}\nError:`,r)}}let sC=null;function Hce(){sC=Ro.onerror,Ro.onerror=function(n,t,e,i,r){return EU("error",{column:i,error:r,line:e,msg:n,url:t}),!(!sC||sC.__SENTRY_LOADER__)&&sC.apply(this,arguments)},Ro.onerror.__SENTRY_INSTRUMENTED__=!0}let aC=null;function zce(){aC=Ro.onunhandledrejection,Ro.onunhandledrejection=function(n){return EU("unhandledrejection",n),!(aC&&!aC.__SENTRY_LOADER__)||aC.apply(this,arguments)},Ro.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Mf(n){return(n||ss()).getScope().getTransaction()}let TU=!1;function Mx(){const n=Mf();if(n){const t="internal_error";mn&&an.log(`[Tracing] Transaction: ${t} -> Global error occured`),n.setStatus(t)}}function wU(n,t,e){if(!R_(t))return n.sampled=!1,n;if(void 0!==n.sampled)return n.setAttribute(A_,Number(n.sampled)),n;let i;return"function"==typeof t.tracesSampler?(i=t.tracesSampler(e),n.setAttribute(A_,Number(i))):void 0!==e.parentSampled?i=e.parentSampled:void 0!==t.tracesSampleRate?(i=t.tracesSampleRate,n.setAttribute(A_,Number(i))):(i=1,n.setAttribute(A_,i)),MU(i)?i?(n.sampled=Math.random()<i,n.sampled?(mn&&an.log(`[Tracing] starting ${n.op} transaction - ${qo(n).description}`),n):(mn&&an.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),n)):(mn&&an.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),n.sampled=!1,n):(mn&&an.warn("[Tracing] Discarding transaction because of invalid sample rate."),n.sampled=!1,n)}function MU(n){return a5(n)||"number"!=typeof n&&"boolean"!=typeof n?(mn&&an.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`),!1):!(n<0||n>1)||(mn&&an.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${n}.`),!1)}function Yce(){const t=this.getScope().getSpan();return t?{"sentry-trace":kS(t)}:{}}function $ce(n,t){const e=this.getClient(),i=e&&e.getOptions()||{},r=i.instrumenter||"sentry",o=n.instrumenter||"sentry";r!==o&&(mn&&an.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${r}\` instrumenter.\nThe transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),n.sampled=!1);let s=new yU(n,this);return s=wU(s,i,Ze({name:n.name,parentSampled:n.parentSampled,transactionContext:n,attributes:Ze(Ze({},n.data),n.attributes)},t)),s.isRecording()&&s.initSpanRecorder(i._experiments&&i._experiments.maxSpans),e&&e.emit&&e.emit("startTransaction",s),s}function OU(n,t,e,i,r,o,s,a=!1){const l=n.getClient(),c=l&&l.getOptions()||{};let u=new jce(t,n,e,i,s,r,a);return u=wU(u,c,Ze({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:Ze(Ze({},t.data),t.attributes)},o)),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}Mx.tag="sentry_tracingErrorCallback";const Oy="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,PU=Object.prototype.toString;function L_(n,t){return PU.call(n)===`[object ${t}]`}function eh(n){return L_(n,"String")}function Py(n,t){try{return n instanceof t}catch(e){return!1}}function lC(n){return n&&n.Math==Math?n:void 0}const ll="object"==typeof globalThis&&lC(globalThis)||"object"==typeof window&&lC(window)||"object"==typeof self&&lC(self)||"object"==typeof global&&lC(global)||function(){return this}()||{};function Ox(){return ll}const xU=["debug","info","warn","error","log","assert","trace"],IU={},gr=function eue(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return xU.forEach(Oy?e=>{t[e]=(...i)=>{n&&function Qce(n){if(!("console"in ll))return n();const t=ll.console,e={},i=Object.keys(IU);i.forEach(r=>{const o=IU[r];e[r]=t[r],t[r]=o});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{ll.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),Px="baggage",AU="sentry-",tue=/^sentry-/;function DU(n){if(n)return function rue(n){if(0!==Object.keys(n).length)return Object.entries(n).reduce((t,[e,i],r)=>{const o=`${encodeURIComponent(e)}=${encodeURIComponent(i)}`,s=0===r?o:`${t},${o}`;return s.length>8192?(Oy&&gr.warn(`Not adding key: ${e} with val: ${i} to baggage header due to exceeding baggage size limits.`),t):s},"")}(Object.entries(n).reduce((e,[i,r])=>(r&&(e[`${AU}${i}`]=r),e),{}))}function RU(n){return n.split(",").map(t=>t.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((t,[e,i])=>(t[e]=i,t),{})}function Of(){const t=ll.crypto||ll.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&e())>>i/4).toString(16))}const sue=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function aue(n,t){const e=function kU(n){if(!n)return;const t=n.match(sue);if(!t)return;let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}(n),i=function iue(n){if(!eh(n)&&!Array.isArray(n))return;let t={};if(Array.isArray(n))t=n.reduce((i,r)=>{const o=RU(r);for(const s of Object.keys(o))i[s]=o[s];return i},{});else{if(!n)return;t=RU(n)}const e=Object.entries(t).reduce((i,[r,o])=>(r.match(tue)&&(i[r.slice(AU.length)]=o),i),{});return Object.keys(e).length>0?e:void 0}(t),{traceId:r,parentSpanId:o,parentSampled:s}=e||{};return e?{traceId:r||Of(),parentSpanId:o||Of().substring(16),spanId:Of().substring(16),sampled:s,dsc:i||{}}:{traceId:r||Of(),spanId:Of().substring(16)}}function LU(n=Of(),t=Of().substring(16),e){let i="";return void 0!==e&&(i=e?"-1":"-0"),`${n}-${t}${i}`}function lue(){return Date.now()/1e3}let cC;!function cue(){const{performance:n}=ll;if(!n||!n.now)return lue;const t=Date.now()-n.now(),e=null==n.timeOrigin?t:n.timeOrigin}();const Bl=(()=>{const{performance:n}=ll;if(!n||!n.now)return void(cC="none");const t=36e5,e=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+e-i):t,o=r<t,s=n.timing&&n.timing.navigationStart,l="number"==typeof s?Math.abs(s+e-i):t;return o||l<t?r<=l?(cC="timeOrigin",n.timeOrigin):(cC="navigationStart",s):(cC="dateNow",i)})();function Pf(n,t,e){if(!(t in n))return;const i=n[t],r=e(i);"function"==typeof r&&function due(n,t){try{n.prototype=t.prototype=t.prototype||{},function uue(n,t,e){try{Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0})}catch(i){Oy&&gr.log(`Failed to add non-enumerable property "${t}" to object`,n)}}(n,"__sentry_original__",t)}catch(e){}}(r,i),n[t]=r}const uC=Ox(),Ix="<anonymous>";function VU(n){try{return n&&"function"==typeof n&&n.name||Ix}catch(t){return Ix}}const F_={},zU={};function Ax(n,t){F_[n]=F_[n]||[],F_[n].push(t)}function Dx(n,t){zU[n]||(t(),zU[n]=!0)}function xf(n,t){const e=n&&F_[n];if(e)for(const i of e)try{i(t)}catch(r){Oy&&gr.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${VU(i)}\nError:`,r)}}const xy=ll;let dC;function vue(){if(!function pue(){const n=uC.chrome;return!(n&&n.app&&n.app.runtime||!("history"in uC)||!uC.history.pushState||!uC.history.replaceState)}())return;const n=xy.onpopstate;function t(e){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const o=dC,s=String(r);dC=s,xf("history",{from:o,to:s})}return e.apply(this,i)}}xy.onpopstate=function(...e){const i=xy.location.href,r=dC;if(dC=i,xf("history",{from:r,to:i}),n)try{return n.apply(this,e)}catch(s){}},Pf(xy.history,"pushState",t),Pf(xy.history,"replaceState",t)}const B_=Ox();function hC(n,t={}){if(!n)return"<unknown>";try{let e=n;const i=5,r=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;e&&o++<i&&(c=bue(e,u),!("html"===c||o>1&&s+r.length*l+c.length>=d));)r.push(c),s+=c.length,e=e.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}function bue(n,t){const e=n,i=[];let r,o,s,a,l;if(!e||!e.tagName)return"";if(B_.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;i.push(e.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>e.getAttribute(d)).map(d=>[d,e.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(e.id&&i.push(`#${e.id}`),r=e.className,r&&eh(r))for(o=r.split(/\s+/),l=0;l<o.length;l++)i.push(`.${o[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)s=u[l],a=e.getAttribute(s),a&&i.push(`[${s}="${a}"]`);return i.join("")}function Cue(n){if(!B_.HTMLElement)return null;let t=n;for(let i=0;i<5;i++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const zr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Vn=ll,Iy=(n,t,e)=>{let i,r;return o=>{t.value>=0&&(o||e)&&(r=t.value-(i||0),(r||void 0===i)&&(i=t.value,t.delta=r,n(t)))}},fC=()=>Vn.__WEB_VITALS_POLYFILL__?Vn.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const n=Vn.performance.timing,t=Vn.performance.navigation.type,e={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const i in n)"navigationStart"!==i&&"toJSON"!==i&&(e[i]=Math.max(n[i]-n.navigationStart,0));return e})()):Vn.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Rx=()=>{const n=fC();return n&&n.activationStart||0},Ay=(n,t)=>{const e=fC();let i="navigate";return e&&(i=Vn.document&&Vn.document.prerendering||Rx()>0?"prerender":e.type.replace(/_/g,"-")),{name:n,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},U_=(n,t,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){const i=new PerformanceObserver(r=>{t(r.getEntries())});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch(i){}},Dy=(n,t)=>{const e=i=>{("pagehide"===i.type||"hidden"===Vn.document.visibilityState)&&(n(i),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};Vn.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))};let pC=-1;const Nx=()=>(pC<0&&(Vn.document&&Vn.document.visibilityState&&(pC="hidden"!==Vn.document.visibilityState||Vn.document.prerendering?1/0:0),Dy(({timeStamp:n})=>{pC=n},!0)),{get firstHiddenTime(){return pC}});let WU=0,kx=1/0,gC=0;const Iue=n=>{n.forEach(t=>{t.interactionId&&(kx=Math.min(kx,t.interactionId),gC=Math.max(gC,t.interactionId),WU=gC?(gC-kx)/7+1:0)})};let Lx;const YU=()=>Lx?WU:performance.interactionCount||0,nd=[],Fx={},XU=n=>{const e=Fx[n.interactionId];if(e||nd.length<10||n.duration>nd[nd.length-1].latency){if(e)e.entries.push(n),e.latency=Math.max(e.latency,n.duration);else{const i={id:n.interactionId,latency:n.duration,entries:[n]};Fx[i.id]=i,nd.push(i)}nd.sort((i,r)=>r.latency-i.latency),nd.splice(10).forEach(i=>{delete Fx[i.id]})}},KU={},Bx=n=>{!Vn.document||(Vn.document.prerendering?addEventListener("prerenderingchange",()=>Bx(n),!0):"complete"!==Vn.document.readyState?addEventListener("load",()=>Bx(n),!0):setTimeout(n,0))},Ry={},_C={};let qU,JU,ZU,QU,e6;function Ny(n,t){return t6(n,t),_C[n]||(function $ue(n){const t={};"event"===n&&(t.durationThreshold=0),U_(n,e=>{j_(n,{entries:e})},t)}(n),_C[n]=!0),n6(n,t)}function j_(n,t){const e=Ry[n];if(e&&e.length)for(const i of e)try{i(t)}catch(r){zr&&gr.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${VU(i)}\nError:`,r)}}function Hue(){return((n,t={})=>{const e=Ay("CLS",0);let i,r=0,o=[];const s=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=o[0],d=o[o.length-1];r&&0!==o.length&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,o.push(c)):(r=c.value,o=[c]),r>e.value&&(e.value=r,e.entries=o,i&&i())}})},a=U_("layout-shift",s);if(a){i=Iy(n,e,t.reportAllChanges);const l=()=>{s(a.takeRecords()),i(!0)};return Dy(l),l}})(n=>{j_("cls",{metric:n}),qU=n},{reportAllChanges:!0})}function Vue(){return(n=>{const t=Nx(),e=Ay("FID");let i;const r=a=>{a.startTime<t.firstHiddenTime&&(e.value=a.processingStart-a.startTime,e.entries.push(a),i(!0))},o=a=>{a.forEach(r)},s=U_("first-input",o);i=Iy(n=>{j_("fid",{metric:n}),JU=n},e),s&&Dy(()=>{o(s.takeRecords()),s.disconnect()},!0)})()}function zue(){return(n=>{const t=Nx(),e=Ay("LCP");let i;const r=s=>{const a=s[s.length-1];if(a){const l=Math.max(a.startTime-Rx(),0);l<t.firstHiddenTime&&(e.value=l,e.entries=[a],i())}},o=U_("largest-contentful-paint",r);if(o){i=Iy(n=>{j_("lcp",{metric:n}),ZU=n},e);const s=()=>{KU[e.id]||(r(o.takeRecords()),o.disconnect(),KU[e.id]=!0,i(!0))};return["keydown","click"].forEach(a=>{Vn.document&&addEventListener(a,s,{once:!0,capture:!0})}),Dy(s,!0),s}})()}function Wue(){return((n,t)=>{t=t||{};const e=Ay("TTFB"),i=Iy(n=>{j_("ttfb",{metric:n}),QU=n},e,t.reportAllChanges);Bx(()=>{const r=fC();if(r){if(e.value=Math.max(r.responseStart-Rx(),0),e.value<0||e.value>performance.now())return;e.entries=[r],i(!0)}})})()}function Yue(){return((n,t)=>{t=t||{},"interactionCount"in performance||Lx||(Lx=U_("event",Iue,{type:"event",buffered:!0,durationThreshold:0}));const e=Ay("INP");let i;const r=s=>{s.forEach(l=>{l.interactionId&&XU(l),"first-input"===l.entryType&&!nd.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&XU(l)});const a=(()=>{const n=Math.min(nd.length-1,Math.floor(YU()/50));return nd[n]})();a&&a.latency!==e.value&&(e.value=a.latency,e.entries=a.entries,i())},o=U_("event",r,{durationThreshold:t.durationThreshold||40});i=Iy(n,e,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Dy(()=>{r(o.takeRecords()),e.value<0&&YU()>0&&(e.value=0,e.entries=[]),i(!0)}))})(n=>{j_("inp",{metric:n}),e6=n})}function ky(n,t,e,i,r=!1){let o;return t6(n,t),_C[n]||(o=e(),_C[n]=!0),i&&t({metric:i}),n6(n,t,r?o:void 0)}function t6(n,t){Ry[n]=Ry[n]||[],Ry[n].push(t)}function n6(n,t,e){return()=>{e&&e();const i=Ry[n];if(!i)return;const r=i.indexOf(t);-1!==r&&i.splice(r,1)}}function Kue(n){return[{type:"span"},n]}function mC(n){if(!n)return{};const t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const e=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:e,hash:i,relative:t[5]+e+i}}function Ux(n){return"number"==typeof n&&isFinite(n)}function G_(n,i){var r=i,{startTimestamp:t}=r,e=qX(r,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(Ze({startTimestamp:t},e))}function Jo(n){return n/1e3}function jx(){return Vn&&Vn.addEventListener&&Vn.performance}let gu,Ly,i6=0,po={};const r6={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function vC(n,t,e,i,r,o){const s=o?t[o]:t[`${e}End`],a=t[`${e}Start`];!a||!s||G_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:r||e,startTimestamp:i+Jo(a),endTimestamp:i+Jo(s)})}function Gx(n,t,e,i){const r=t[e];null!=r&&r<2147483647&&(n[i]=r)}const yC=Ox();function s6(n){return n&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}function vde(){!function _de(){if("string"==typeof EdgeRuntime)return!0;if(!function o6(){if(!("fetch"in yC))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(n){return!1}}())return!1;if(s6(yC.fetch))return!0;let n=!1;const t=yC.document;if(t&&"function"==typeof t.createElement)try{const e=t.createElement("iframe");e.hidden=!0,t.head.appendChild(e),e.contentWindow&&e.contentWindow.fetch&&(n=s6(e.contentWindow.fetch)),t.head.removeChild(e)}catch(e){Oy&&gr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return n}()||Pf(ll,"fetch",function(n){return function(...t){const{method:e,url:i}=function yde(n){if(0===n.length)return{method:"GET",url:""};if(2===n.length){const[e,i]=n;return{url:a6(e),method:Hx(i,"method")?String(i.method).toUpperCase():"GET"}}const t=n[0];return{url:a6(t),method:Hx(t,"method")?String(t.method).toUpperCase():"GET"}}(t),r={args:t,fetchData:{method:e,url:i},startTimestamp:Date.now()};return xf("fetch",Ze({},r)),n.apply(ll,t).then(o=>(xf("fetch",Ln(Ze({},r),{endTimestamp:Date.now(),response:o})),o),o=>{throw xf("fetch",Ln(Ze({},r),{endTimestamp:Date.now(),error:o})),o})}})}function Hx(n,t){return!!n&&"object"==typeof n&&!!n[t]}function a6(n){return"string"==typeof n?n:n?Hx(n,"url")?n.url:n.toString?n.toString():"":""}const bde=ll,Fy="__sentry_xhr_v3__";function Cde(){if(!bde.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;Pf(n,"open",function(t){return function(...e){const i=Date.now(),r=eh(e[0])?e[0].toUpperCase():void 0,o=function Ede(n){if(eh(n))return n;try{return n.toString()}catch(t){}}(e[1]);if(!r||!o)return t.apply(this,e);this[Fy]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const a=this[Fy];if(a&&4===this.readyState){try{a.status_code=this.status}catch(c){}xf("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:i,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Pf(this,"onreadystatechange",function(a){return function(...l){return s(),a.apply(this,l)}}):this.addEventListener("readystatechange",s),Pf(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[Fy];return d&&eh(c)&&eh(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,e)}}),Pf(n,"send",function(t){return function(...e){const i=this[Fy];return i?(void 0!==e[0]&&(i.body=e[0]),xf("xhr",{args:[i.method,i.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)):t.apply(this,e)}})}const Vx=["localhost",/^\/(?!\/)/],zx={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Vx,tracePropagationTargets:Vx};function Ide(n){const{traceFetch:t,traceXHR:e,tracePropagationTargets:i,tracingOrigins:r,shouldCreateSpanForRequest:o,enableHTTPTimings:s}=Ze({traceFetch:zx.traceFetch,traceXHR:zx.traceXHR},n),a="function"==typeof o?o:u=>!0,l=u=>function Nde(n,t){return function wde(n,t=[],e=!1){return t.some(i=>function Tde(n,t,e=!1){return!!eh(n)&&(function Jce(n){return L_(n,"RegExp")}(t)?t.test(n):!!eh(t)&&(e?n===t:n.includes(t)))}(n,i,e))}(n,t||Vx)}(u,i||r),c={};t&&function mde(n){const t="fetch";Ax(t,n),Dx(t,vde)}(u=>{const d=function Mde(n,t,e,i,r="auto.http.browser"){if(!R_()||!n.fetchData)return;const o=t(n.fetchData.url);if(n.endTimestamp&&o){const p=n.fetchData.__span;if(!p)return;const T=i[p];return void(T&&(function xde(n,t){if(t.response){Tx(n,t.response.status);const e=t.response&&t.response.headers&&t.response.headers.get("content-length");if(e){const i=parseInt(e);i>0&&n.setAttribute("http.response_content_length",i)}}else t.error&&n.setStatus("internal_error");n.end()}(T,n),delete i[p]))}const s=Ll(),a=Hr(),{method:l,url:c}=n.fetchData,u=function Pde(n){try{return new URL(n).href}catch(t){return}}(c),d=u?mC(u).host:void 0,f=o?_U({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[D_]:r},op:"http.client"}):void 0;if(f&&(n.fetchData.__span=f.spanContext().spanId,i[f.spanContext().spanId]=f),e(n.fetchData.url)&&a){const p=n.args[0];n.args[1]=n.args[1]||{};const T=n.args[1];T.headers=function Ode(n,t,e,i,r){const o=r||e.getSpan(),s=Sf(),{traceId:a,spanId:l,sampled:c,dsc:u}=Ze(Ze({},s.getPropagationContext()),e.getPropagationContext()),d=o?kS(o):LU(a,l,c),f=DU(u||(o?T_(o):FS(a,t,e))),p=i.headers||("undefined"!=typeof Request&&Py(n,Request)?n.headers:void 0);if(p){if("undefined"!=typeof Headers&&Py(p,Headers)){const T=new Headers(p);return T.append("sentry-trace",d),f&&T.append(Px,f),T}if(Array.isArray(p)){const T=[...p,["sentry-trace",d]];return f&&T.push([Px,f]),T}{const T="baggage"in p?p.baggage:void 0,x=[];return Array.isArray(T)?x.push(...T):T&&x.push(T),f&&x.push(f),Ln(Ze({},p),{"sentry-trace":d,baggage:x.length>0?x.join(","):void 0})}}return{"sentry-trace":d,baggage:f}}(p,a,s,T,f)}return f}(u,a,l,c);if(d){const f=c6(u.fetchData.url),p=f?mC(f).host:void 0;d.setAttributes({"http.url":f,"server.address":p})}s&&d&&l6(d)}),e&&function Sde(n){Ax("xhr",n),Dx("xhr",Cde)}(u=>{const d=function kde(n,t,e,i){const r=n.xhr,o=r&&r[Fy];if(!R_()||!r||r.__sentry_own_request__||!o)return;const s=t(o.url);if(n.endTimestamp&&s){const p=r.__sentry_xhr_span_id__;if(!p)return;const T=i[p];return void(T&&void 0!==o.status_code&&(Tx(T,o.status_code),T.end(),delete i[p]))}const a=Ll(),l=Sf(),c=c6(o.url),u=c?mC(c).host:void 0,d=s?_U({name:`${o.method} ${o.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":o.method,"http.url":c,url:o.url,"server.address":u,[D_]:"auto.http.browser"},op:"http.client"}):void 0;d&&(r.__sentry_xhr_span_id__=d.spanContext().spanId,i[r.__sentry_xhr_span_id__]=d);const f=Hr();if(r.setRequestHeader&&e(o.url)&&f){const{traceId:p,spanId:T,sampled:x,dsc:k}=Ze(Ze({},l.getPropagationContext()),a.getPropagationContext());!function Lde(n,t,e){try{n.setRequestHeader("sentry-trace",t),e&&n.setRequestHeader(Px,e)}catch(i){}}(r,d?kS(d):LU(p,T,x),DU(k||(d?T_(d):FS(p,f,a))))}return d}(u,a,l,c);s&&d&&l6(d)})}function l6(n){const{url:t}=qo(n).data||{};if(!t||"string"!=typeof t)return;const e=Ny("resource",({entries:i})=>{i.forEach(r=>{(function Ade(n){return"resource"===n.entryType&&"initiatorType"in n&&"string"==typeof n.nextHopProtocol&&("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)})(r)&&r.name.endsWith(t)&&(function Rde(n){const{name:t,version:e}=function Dde(n){let t="unknown",e="unknown",i="";for(const r of n){if("/"===r){[t,e]=n.split("/");break}if(!isNaN(Number(r))){t="h"===i?"http":i,e=n.split(i)[1];break}i+=r}return i===n&&(t=i),{name:t,version:e}}(n.nextHopProtocol),i=[];return i.push(["network.protocol.version",e],["network.protocol.name",t]),Bl?[...i,["http.request.redirect_start",_u(n.redirectStart)],["http.request.fetch_start",_u(n.fetchStart)],["http.request.domain_lookup_start",_u(n.domainLookupStart)],["http.request.domain_lookup_end",_u(n.domainLookupEnd)],["http.request.connect_start",_u(n.connectStart)],["http.request.secure_connection_start",_u(n.secureConnectionStart)],["http.request.connection_end",_u(n.connectEnd)],["http.request.request_start",_u(n.requestStart)],["http.request.response_start",_u(n.responseStart)],["http.request.response_end",_u(n.responseEnd)]]:i}(r).forEach(s=>n.setAttribute(...s)),setTimeout(e))})})}function _u(n=0){return((Bl||performance.timeOrigin)+n)/1e3}function c6(n){try{return new URL(n,Vn.location.origin).href}catch(t){return}}const Bde=Ze(Ln(Ze({},oC),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),zx),Ude=(n={})=>{const t=!(!zr||!n.tracePropagationTargets&&!n.tracingOrigins);(function Xce(){const n=bf();!n.__SENTRY__||(n.__SENTRY__.extensions=n.__SENTRY__.extensions||{},n.__SENTRY__.extensions.startTransaction||(n.__SENTRY__.extensions.startTransaction=$ce),n.__SENTRY__.extensions.traceHeaders||(n.__SENTRY__.extensions.traceHeaders=Yce),function Wce(){TU||(TU=!0,function Gce(n){const t="error";SU(t,n),CU(t,Hce)}(Mx),function Vce(n){const t="unhandledrejection";SU(t,n),CU(t,zce)}(Mx))}())})(),!n.tracePropagationTargets&&n.tracingOrigins&&(n.tracePropagationTargets=n.tracingOrigins);const e=Ze(Ze({},Bde),n),i=function Zue(){const n=jx();if(n&&Bl){n.mark&&Vn.performance.mark("sentry-tracing-init");const t=function rde(){return function jue(n){return ky("fid",n,Vue,JU)}(({metric:n})=>{const t=n.entries[n.entries.length-1];if(!t)return;const e=Jo(Bl),i=Jo(t.startTime);zr&&gr.log("[Measurements] Adding FID"),po.fid={value:n.value,unit:"millisecond"},po["mark.fid"]={value:e+i,unit:"second"}})}(),e=function nde(){return function Fue(n,t=!1){return ky("cls",n,Hue,qU,t)}(({metric:n})=>{const t=n.entries[n.entries.length-1];!t||(zr&&gr.log("[Measurements] Adding CLS"),po.cls={value:n.value,unit:""},Ly=t)},!0)}(),i=function ide(){return function Bue(n,t=!1){return ky("lcp",n,zue,ZU,t)}(({metric:n})=>{const t=n.entries[n.entries.length-1];!t||(zr&&gr.log("[Measurements] Adding LCP"),po.lcp={value:n.value,unit:"millisecond"},gu=t)},!0)}(),r=function ode(){return function Uue(n){return ky("ttfb",n,Wue,QU)}(({metric:n})=>{!n.entries[n.entries.length-1]||(zr&&gr.log("[Measurements] Adding TTFB"),po.ttfb={value:n.value,unit:"millisecond"})})}();return()=>{t(),e(),i(),r()}}return()=>{}}(),r={};e.enableInp&&function tde(n,t){if(jx()&&Bl){const i=function sde(n,t){return function Gue(n){return ky("inp",n,Yue,e6)}(({metric:e})=>{if(void 0===e.value)return;const i=e.entries.find(q=>q.duration===e.value&&void 0!==r6[q.name]),r=Hr();if(!i||!r)return;const o=r6[i.name],s=r.getOptions(),a=Jo(Bl+i.startTime),l=Jo(e.value),c=void 0!==i.interactionId?n[i.interactionId]:void 0;if(void 0===c)return;const{routeName:u,parentContext:d,activeTransaction:f,user:p,replayId:T}=c,x=void 0!==p?p.email||p.id||p.ip_address:void 0,k=void 0!==f?f.getProfileId():void 0,B=new nC({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${o}`,name:hC(i.target),attributes:Ze(Ze(Ze({release:s.release,environment:s.environment,transaction:u},void 0!==x&&""!==x?{user:x}:{}),void 0!==k?{profile_id:k}:{}),void 0!==T?{replay_id:T}:{}),exclusiveTime:e.value,measurements:{inp:{value:e.value,unit:"millisecond"}}}),$=function gde(n,t,e){if(!R_(t))return!1;let i;return i=void 0!==n&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:n,name:n.name,parentSampled:n.parentSampled,attributes:Ze(Ze({},n.data),n.attributes),location:Vn.location}):void 0!==n&&void 0!==n.sampled?n.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,MU(i)?!0===i?e:!1===i?0:i*e:(zr&&gr.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,s,t);if($&&Math.random()<$){const q=B?function Xue(n,t){const e={sent_at:(new Date).toISOString()};return t&&(e.dsn=by(t)),Cy(e,n.map(Kue))}([B],r.getDsn()):void 0,ee=r&&r.getTransport();ee&&q&&ee.send(q).then(null,se=>{zr&&gr.error("Error while sending interaction:",se)})}})}(n,t);return()=>{i()}}return()=>{}}(r,e.interactionsSampleRate),e.enableLongTask&&function Que(){Ny("longtask",({entries:n})=>{for(const t of n){const e=Mf();if(!e)return;const i=Jo(Bl+t.startTime),r=Jo(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+r})}})}(),e._experiments.enableInteractions&&function ede(){Ny("event",({entries:n})=>{for(const t of n){const e=Mf();if(!e)return;if("click"===t.name){const i=Jo(Bl+t.startTime),r=Jo(t.duration),o={description:hC(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+r},s=Cue(t.target);s&&(o.attributes={"ui.component_name":s}),e.startChild(o)}}})}();const o={name:void 0,context:void 0};function s(a){const l=ss(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:f}=e,p="pageload"===a.op;let T;if(p){const $=p?u6("sentry-trace"):"",q=p?u6("baggage"):void 0,{traceId:ee,dsc:se,parentSpanId:ae,sampled:Ee}=aue($,q);T=Ln(Ze({traceId:ee,parentSpanId:ae,parentSampled:Ee},a),{metadata:Ln(Ze({},a.metadata),{dynamicSamplingContext:se}),trimEnd:!0})}else T=Ze({trimEnd:!0},a);const x=c?c(T):T;x.metadata=x.name!==T.name?Ln(Ze({},x.metadata),{source:"custom"}):x.metadata,o.name=x.name,o.context=x,!1===x.sampled&&zr&&gr.log(`[Tracing] Will not send ${x.op} transaction because of beforeNavigate.`),zr&&gr.log(`[Tracing] Starting ${x.op} transaction on scope`);const{location:k}=Vn,B=OU(l,x,u,d,!0,{location:k},f,p);return p&&Vn.document&&(Vn.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Vn.document.readyState)&&B.sendAutoFinishSignal()}),["interactive","complete"].includes(Vn.document.readyState)&&B.sendAutoFinishSignal()),B.registerBeforeFinishCallback($=>{i(),function ade(n){const t=jx();if(!t||!Vn.performance.getEntries||!Bl)return;zr&&gr.log("[Tracing] Adding & adjusting spans using Performance API");const e=Jo(Bl),i=t.getEntries(),{op:r,start_timestamp:o}=qo(n);if(i.slice(i6).forEach(s=>{const a=Jo(s.startTime),l=Jo(s.duration);if(!("navigation"===n.op&&o&&e+a<o))switch(s.entryType){case"navigation":!function cde(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{vC(n,t,i,e)}),vC(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),vC(n,t,"fetch",e,"cache","domainLookupStart"),vC(n,t,"domainLookup",e,"DNS"),function ude(n,t,e){t.responseEnd&&(G_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:e+Jo(t.requestStart),endTimestamp:e+Jo(t.responseEnd)}),G_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:e+Jo(t.responseStart),endTimestamp:e+Jo(t.responseEnd)}))}(n,t,e)}(n,s,e);break;case"mark":case"paint":case"measure":{!function lde(n,t,e,i,r){const o=r+e;G_(n,{description:t.name,endTimestamp:o+i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})}(n,s,a,l,e);const c=Nx(),u=s.startTime<c.firstHiddenTime;"first-paint"===s.name&&u&&(zr&&gr.log("[Measurements] Adding FP"),po.fp={value:s.startTime,unit:"millisecond"}),"first-contentful-paint"===s.name&&u&&(zr&&gr.log("[Measurements] Adding FCP"),po.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":!function dde(n,t,e,i,r,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s=mC(e),a={};Gx(a,t,"transferSize","http.response_transfer_size"),Gx(a,t,"encodedBodySize","http.response_content_length"),Gx(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop()),s.host&&(a["server.address"]=s.host),a["url.same_origin"]=e.includes(Vn.location.origin);const l=o+i,c=l+r;G_(n,{description:e.replace(Vn.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}(n,s,s.name,a,l,e)}}),i6=Math.max(i.length-1,0),function hde(n){const t=Vn.navigator;if(!t)return;const e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),Ux(e.rtt)&&(po["connection.rtt"]={value:e.rtt,unit:"millisecond"})),Ux(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),Ux(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(n),"pageload"===r){(function pde(n){const t=fC();if(!t)return;const{responseStart:e,requestStart:i}=t;i<=e&&(zr&&gr.log("[Measurements] Adding TTFB Request Time"),n["ttfb.requestTime"]={value:e-i,unit:"millisecond"})})(po),["fcp","fp","lcp"].forEach(a=>{if(!po[a]||!o||e>=o)return;const l=po[a].value,c=e+Jo(l),u=Math.abs(1e3*(c-o));zr&&gr.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${u-l})`),po[a].value=u});const s=po["mark.fid"];s&&po.fid&&(G_(n,{description:"first input delay",endTimestamp:s.value+Jo(po.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:s.value}),delete po["mark.fid"]),"fcp"in po||delete po.cls,Object.keys(po).forEach(a=>{!function que(n,t,e){const i=Mf();i&&i.setMeasurement(n,t,e)}(a,po[a].value,po[a].unit)}),function fde(n){gu&&(zr&&gr.log("[Measurements] Adding LCP Data"),gu.element&&n.setTag("lcp.element",hC(gu.element)),gu.id&&n.setTag("lcp.id",gu.id),gu.url&&n.setTag("lcp.url",gu.url.trim().slice(0,200)),n.setTag("lcp.size",gu.size)),Ly&&Ly.sources&&(zr&&gr.log("[Measurements] Adding CLS Data"),Ly.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,hC(t.node))))}(n)}gu=void 0,Ly=void 0,po={}}($)}),B}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:T}=e,x=l&&l.tracePropagationTargets,k=x||e.tracePropagationTargets;zr&&t&&x&&gr.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let B,$=Vn.location&&Vn.location.href;a.on&&(a.on("startNavigationSpan",q=>{B&&(zr&&gr.log(`[Tracing] Finishing current transaction with op: ${qo(B).op}`),B.end()),B=s(Ze({op:"navigation"},q))}),a.on("startPageLoadSpan",q=>{B&&(zr&&gr.log(`[Tracing] Finishing current transaction with op: ${qo(B).op}`),B.end()),B=s(Ze({op:"pageload"},q))})),e.instrumentPageLoad&&a.emit&&Vn.location&&function jde(n,t){if(!n.emit)return;n.emit("startPageLoadSpan",t);const e=wx();e&&qo(e)}(a,{name:Vn.location.pathname,startTimestamp:Bl?Bl/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Qd]:"url"}}),e.instrumentNavigation&&a.emit&&Vn.location&&function mue(n){const t="history";Ax(t,n),Dx(t,vue)}(({to:q,from:ee})=>{void 0===ee&&$&&-1!==$.indexOf(q)?$=void 0:ee!==q&&($=void 0,function Gde(n,t){if(!n.emit)return;n.emit("startNavigationSpan",t);const e=wx();e&&qo(e)}(a,{name:Vn.location.pathname,origin:"auto.navigation.browser",attributes:{[Qd]:"url"}}))}),c&&function Eue(){Vn.document?Vn.document.addEventListener("visibilitychange",()=>{const n=Mf();if(Vn.document.hidden&&n){const t="cancelled",{op:e,status:i}=qo(n);zr&&gr.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e}`),i||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.end()}}):zr&&gr.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),T.enableInteractions&&function Hde(n,t){let e;const i=()=>{const{idleTimeout:r,finalTimeout:o,heartbeatInterval:s}=n,a="ui.action.click",l=Mf();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(zr&&gr.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!t.name)return void(zr&&gr.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`));const{location:c}=Vn,u={name:t.name,op:a,trimEnd:!0,data:{[Qd]:t.context?Wde(t.context):"url"}};e=OU(ss(),u,r,o,!0,{location:c},s)};["click"].forEach(r=>{Vn.document&&addEventListener(r,i,{once:!1,capture:!0})})}(e,o),e.enableInp&&function zde(n,t){const e=({entries:i})=>{const r=Hr(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,s=void 0!==o?o.getReplayId():void 0,a=Mf(),l=Ll(),c=void 0!==l?l.getUser():void 0;i.forEach(u=>{if(function Vde(n){return"duration"in n}(u)){const d=u.interactionId;if(void 0===d)return;const f=n[d],p=u.duration,T=u.startTime,x=Object.keys(n),k=x.length>0?x.reduce((B,$)=>n[B].duration<n[$].duration?B:$):void 0;if("first-input"===u.entryType&&x.map($=>n[$]).some($=>$.duration===p&&$.startTime===T)||!d)return;if(f)f.duration=Math.max(f.duration,p);else if(x.length<10||void 0===k||p>n[k].duration){const B=t.name,$=t.context;B&&$&&(k&&Object.keys(n).length>=10&&delete n[k],n[d]={routeName:B,duration:p,parentContext:$,user:c,activeTransaction:a,replayId:s,startTime:T})}}})};Ny("event",e),Ny("first-input",e)}(r,o),Ide({traceFetch:u,traceXHR:d,tracePropagationTargets:k,shouldCreateSpanForRequest:f,enableHTTPTimings:p})},options:e}};function u6(n){const t=function Sue(n){return B_.document&&B_.document.querySelector?B_.document.querySelector(n):null}(`meta[name=${n}]`);return t?t.getAttribute("content"):void 0}function Wde(n){return n.attributes&&n.attributes[Qd]||n.data&&n.data[Qd]||n.metadata&&n.metadata.source}const Yde="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function bC(n){return n&&n.Math==Math?n:void 0}const By="object"==typeof globalThis&&bC(globalThis)||"object"==typeof window&&bC(window)||"object"==typeof self&&bC(self)||"object"==typeof global&&bC(global)||function(){return this}()||{},h6=["debug","info","warn","error","log","assert","trace"],f6={},qde=function Kde(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return h6.forEach(Yde?e=>{t[e]=(...i)=>{n&&function Xde(n){if(!("console"in By))return n();const t=By.console,e={},i=Object.keys(f6);i.forEach(r=>{const o=f6[r];e[r]=t[r],t[r]=o});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{By.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),p6=Object.prototype.toString;function Wx(n){return function H_(n,t){return p6.call(n)===`[object ${t}]`}(n,"String")}function mu(...n){return Ni(n,Ls(n))}function cn(n,t){return it((e,i)=>{let r=0;e.subscribe(rt(i,o=>n.call(t,o,r++)&&i.next(o)))})}class g6{}class _6{}class id{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof id?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new id;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof id?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ehe{encodeKey(t){return m6(t)}encodeValue(t){return m6(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const nhe=/%(\d[a-f0-9])/gi,ihe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function m6(n){return encodeURIComponent(n).replace(nhe,(t,e)=>{var i;return null!==(i=ihe[e])&&void 0!==i?i:t})}function v6(n){return`${n}`}class th{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ehe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function the(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new th({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(v6(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(v6(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class rhe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function y6(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function b6(n){return"undefined"!=typeof Blob&&n instanceof Blob}function S6(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Uy{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ohe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new id),this.context||(this.context=new rhe),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new th,this.urlWithParams=e}serializeBody(){return null===this.body?null:y6(this.body)||b6(this.body)||S6(this.body)||function she(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof th?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||S6(this.body)?null:b6(this.body)?this.body.type||null:y6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof th?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((f,p)=>f.set(p,t.setHeaders[p]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,p)=>f.set(p,t.setParams[p]),u)),new Uy(i,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:o,withCredentials:a})}}var No=(()=>((No=No||{})[No.Sent=0]="Sent",No[No.UploadProgress=1]="UploadProgress",No[No.ResponseHeader=2]="ResponseHeader",No[No.DownloadProgress=3]="DownloadProgress",No[No.Response=4]="Response",No[No.User=5]="User",No))();class $x{constructor(t,e=200,i="OK"){this.headers=t.headers||new id,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Xx extends $x{constructor(t={}){super(t),this.type=No.ResponseHeader}clone(t={}){return new Xx({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class SC extends $x{constructor(t={}){super(t),this.type=No.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new SC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class CC extends $x{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Kx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qx=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Uy)o=e;else{let l,c;l=r.headers instanceof id?r.headers:new id(r.headers),r.params&&(c=r.params instanceof th?r.params:new th({fromObject:r.params})),o=new Uy(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=mu(o).pipe(function Qde(n,t){return N(t)?dr(n,t,1):dr(n,1)}(l=>this.handler.handle(l)));if(e instanceof Uy||"events"===r.observe)return s;const a=s.pipe(cn(l=>l instanceof SC));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ae(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ae(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ae(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ae(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new th).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Kx(r,i))}post(e,i,r={}){return this.request("POST",e,Kx(r,i))}put(e,i,r={}){return this.request("PUT",e,Kx(r,i))}}return n.\u0275fac=function(e){return new(e||n)(lt(g6))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class C6{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const E6=new gn("HTTP_INTERCEPTORS");let ahe=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const lhe=/^\)\]\}',?\n/;let T6=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((p,T)=>r.setRequestHeader(p,T.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const p=e.detectContentTypeHeader();null!==p&&r.setRequestHeader("Content-Type",p)}if(e.responseType){const p=e.responseType.toLowerCase();r.responseType="json"!==p?p:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const p=r.statusText||"OK",T=new id(r.getAllResponseHeaders()),x=function che(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Xx({headers:T,status:r.status,statusText:p,url:x}),s},l=()=>{let{headers:p,status:T,statusText:x,url:k}=a(),B=null;204!==T&&(B=void 0===r.response?r.responseText:r.response),0===T&&(T=B?200:0);let $=T>=200&&T<300;if("json"===e.responseType&&"string"==typeof B){const q=B;B=B.replace(lhe,"");try{B=""!==B?JSON.parse(B):null}catch(ee){B=q,$&&($=!1,B={error:ee,text:B})}}$?(i.next(new SC({body:B,headers:p,status:T,statusText:x,url:k||void 0})),i.complete()):i.error(new CC({error:B,headers:p,status:T,statusText:x,url:k||void 0}))},c=p=>{const{url:T}=a(),x=new CC({error:p,status:r.status||0,statusText:r.statusText||"Unknown Error",url:T||void 0});i.error(x)};let u=!1;const d=p=>{u||(i.next(a()),u=!0);let T={type:No.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(T.total=p.total),"text"===e.responseType&&!!r.responseText&&(T.partialText=r.responseText),i.next(T)},f=p=>{let T={type:No.UploadProgress,loaded:p.loaded};p.lengthComputable&&(T.total=p.total),i.next(T)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",f)),r.send(o),i.next({type:No.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(lt(V4))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const Jx=new gn("XSRF_COOKIE_NAME"),Zx=new gn("XSRF_HEADER_NAME");class w6{}let uhe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=D4(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr),lt(S_),lt(Jx))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Qx=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(w6),lt(Zx))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),dhe=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(E6,[]);this.chain=i.reduceRight((r,o)=>new C6(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(_6),lt(js))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),hhe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Qx,useClass:ahe}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Jx,useValue:e.cookieName}:[],e.headerName?{provide:Zx,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[Qx,{provide:E6,useExisting:Qx,multi:!0},{provide:w6,useClass:uhe},{provide:Jx,useValue:"XSRF-TOKEN"},{provide:Zx,useValue:"X-XSRF-TOKEN"}]}),n})(),fhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[qx,{provide:g6,useClass:dhe},T6,{provide:_6,useExisting:T6}],imports:[[hhe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const phe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,mhe="undefined"!=typeof Zone&&!!Zone.current;function M6(n){if(n instanceof Error)return!0;if(null===n||"object"!=typeof n)return!1;const t=n;return Wx(t.name)&&Wx(t.message)&&(void 0===t.stack||Wx(t.stack))}let She=(()=>{class n{constructor(e){this._registeredAfterSendEventHandler=!1,this._options=Object.assign({logErrors:!0},e)}handleError(e){const i=this._extractError(e)||"Handled unknown error",r=function vhe(n){return mhe?Zone.root.run(n):n()}(()=>yy(i,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(i),this._options.showDialog){const o=Hr();o&&o.on&&!this._registeredAfterSendEventHandler?(o.on("afterSendEvent",s=>{s.type||dU(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:s.event_id}))}),this._registeredAfterSendEventHandler=!0):(!o||!o.on)&&dU(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}}_extractError(e){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(e,i)}return this._defaultExtractor(e)}_defaultExtractor(e){const i=function yhe(n){return n&&n.ngOriginalError?n.ngOriginalError:n}(e);return i instanceof CC?function bhe(n){return M6(n.error)?n.error:n.error instanceof ErrorEvent&&n.error.message?n.error.message:"string"==typeof n.error?`Server returned code ${n.status} with body "${n.error}"`:n.message}(i):"string"==typeof i||M6(i)?i:null}}return n.\u0275fac=function(e){return new(e||n)(lt("errorHandlerOptions"))},n.\u0275prov=It({factory:function(){return new n(lt("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function Che(n){return new She(n)}let P6,Mhe=!1;var or=(()=>{return(n=or||(or={})).None="none",n.GameReady="gameReady",n.Reconnecting="reconnecting",n.Disconnected="disconnected",n.SlowConnection="slowConnection",or;var n})(),Ba=(()=>{return(n=Ba||(Ba={})).Ban="ban",n.Inactivity="inactivity",n.LoginError="loginError",n.Network="network",n.RealityCheck="realityCheck",n.Kick="kick",n.NotAllowedCurrency="notAllowedCurrency",Ba;var n})();const{isArray:xhe}=Array;function tI(n){return Ae(t=>function Ihe(n,t){return xhe(t)?n(...t):n(t)}(n,t))}const Ahe=["addListener","removeListener"],Dhe=["addEventListener","removeEventListener"],Rhe=["on","off"];function Li(n,t,e,i){if(N(e)&&(i=e,e=void 0),i)return Li(n,t,e).pipe(tI(i));const[r,o]=function Lhe(n){return N(n.addEventListener)&&N(n.removeEventListener)}(n)?Dhe.map(s=>a=>n[s](t,a,e)):function Nhe(n){return N(n.addListener)&&N(n.removeListener)}(n)?Ahe.map(x6(n,t)):function khe(n){return N(n.on)&&N(n.off)}(n)?Rhe.map(x6(n,t)):[];if(!r&&ln(n))return dr(s=>Li(s,t,e))(rn(n));if(!r)throw new TypeError("Invalid event target");return new ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function x6(n,t){return e=>i=>n[e](t,i)}var I6,rd,V_=9e15,nh=1e9,nI="0123456789abcdef",EC="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",TC="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",iI={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-V_,maxE:V_,crypto:!1},Nn=!0,wC="[DecimalError] ",ih=wC+"Invalid argument: ",A6=wC+"Precision limit exceeded",D6=wC+"crypto unavailable",R6="[object Decimal]",Vs=Math.floor,Zo=Math.pow,Fhe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Bhe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Uhe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,N6=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oc=1e7,Ghe=EC.length-1,rI=TC.length-1,Dt={toStringTag:R6};function Ms(n){var t,e,i,r=n.length-1,o="",s=n[0];if(r>0){for(o+=s,t=1;t<r;t++)(e=7-(i=n[t]+"").length)&&(o+=rh(e)),o+=i;(e=7-(i=(s=n[t])+"").length)&&(o+=rh(e))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function Ua(n,t,e){if(n!==~~n||n<t||n>e)throw Error(ih+n)}function jy(n,t,e,i){var r,o,s,a;for(o=n[0];o>=10;o/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),o=Zo(10,7-t),a=n[r]%o|0,null==i?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=e<4&&99999==a||e>3&&49999==a||5e4==a||0==a):s=(e<4&&a+1==o||e>3&&a+1==o/2)&&(n[r+1]/o/100|0)==Zo(10,t-2)-1||(a==o/2||0==a)&&0==(n[r+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(i||e<4)&&9999==a||!i&&e>3&&4999==a):s=((i||e<4)&&a+1==o||!i&&e>3&&a+1==o/2)&&(n[r+1]/o/1e3|0)==Zo(10,t-3)-1,s}function MC(n,t,e){for(var i,o,r=[0],s=0,a=n.length;s<a;){for(o=r.length;o--;)r[o]*=t;for(r[0]+=nI.indexOf(n.charAt(s++)),i=0;i<r.length;i++)r[i]>e-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/e|0,r[i]%=e)}return r.reverse()}Dt.absoluteValue=Dt.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),_n(n)},Dt.ceil=function(){return _n(new this.constructor(this),this.e+1,2)},Dt.clampedTo=Dt.clamp=function(n,t){var i=this,r=i.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(ih+t);return i.cmp(n)<0?n:i.cmp(t)>0?t:new r(i)},Dt.comparedTo=Dt.cmp=function(n){var t,e,i,r,o=this,s=o.d,a=(n=new o.constructor(n)).d,l=o.s,c=n.s;if(!s||!a)return l&&c?l!==c?l:s===a?0:!s^l<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?l:a[0]?-c:0;if(l!==c)return l;if(o.e!==n.e)return o.e>n.e^l<0?1:-1;for(t=0,e=(i=s.length)<(r=a.length)?i:r;t<e;++t)if(s[t]!==a[t])return s[t]>a[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},Dt.cosine=Dt.cos=function(){var n,t,e=this,i=e.constructor;return e.d?e.d[0]?(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function Hhe(n,t){var e,i,r;if(t.isZero())return t;(i=t.d.length)<32?r=(1/xC(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),n.precision+=e,t=z_(n,1,t.times(r),new n(1));for(var o=e;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return n.precision-=e,t}(i,j6(i,e)),i.precision=n,i.rounding=t,_n(2==rd||3==rd?e.neg():e,n,t,!0)):new i(1):new i(NaN)},Dt.cubeRoot=Dt.cbrt=function(){var n,t,e,i,r,o,s,a,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(Nn=!1,(o=u.s*Zo(u.s*u,1/3))&&Math.abs(o)!=1/0?i=new d(o.toString()):(e=Ms(u.d),(o=((n=u.e)-e.length+1)%3)&&(e+=1==o||-2==o?"0":"00"),o=Zo(e,1/3),n=Vs((n+1)/3)-(n%3==(n<0?-1:2)),(i=new d(e=o==1/0?"5e"+n:(e=o.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=u.s),s=(n=d.precision)+3;;)if(c=(l=(a=i).times(a).times(a)).plus(u),i=_r(c.plus(u).times(a),c.plus(l),s+2,1),Ms(a.d).slice(0,s)===(e=Ms(i.d)).slice(0,s)){if("9999"!=(e=e.slice(s-3,s+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(_n(i,n+1,1),t=!i.times(i).times(i).eq(u));break}if(!r&&(_n(a,n+1,0),a.times(a).times(a).eq(u))){i=a;break}s+=4,r=1}return Nn=!0,_n(i,n,d.rounding,t)},Dt.decimalPlaces=Dt.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-Vs(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},Dt.dividedBy=Dt.div=function(n){return _r(this,new this.constructor(n))},Dt.dividedToIntegerBy=Dt.divToInt=function(n){var e=this.constructor;return _n(_r(this,new e(n),0,1,1),e.precision,e.rounding)},Dt.equals=Dt.eq=function(n){return 0===this.cmp(n)},Dt.floor=function(){return _n(new this.constructor(this),this.e+1,3)},Dt.greaterThan=Dt.gt=function(n){return this.cmp(n)>0},Dt.greaterThanOrEqualTo=Dt.gte=function(n){var t=this.cmp(n);return 1==t||0===t},Dt.hyperbolicCosine=Dt.cosh=function(){var n,t,e,i,r,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;i=s.rounding,s.precision=(e=s.precision)+Math.max(o.e,o.sd())+4,s.rounding=1,(r=o.d.length)<32?t=(1/xC(4,n=Math.ceil(r/3))).toString():(n=16,t="2.3283064365386962890625e-10"),o=z_(s,1,o.times(t),new s(1),!0);for(var l,c=n,u=new s(8);c--;)l=o.times(o),o=a.minus(l.times(u.minus(l.times(u))));return _n(o,s.precision=e,s.rounding=i,!0)},Dt.hyperbolicSine=Dt.sinh=function(){var n,t,e,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(e=o.rounding,o.precision=(t=o.precision)+Math.max(r.e,r.sd())+4,o.rounding=1,(i=r.d.length)<3)r=z_(o,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=z_(o,2,r=r.times(1/xC(5,n=n>16?16:0|n)),r,!0);for(var s,a=new o(5),l=new o(16),c=new o(20);n--;)s=r.times(r),r=r.times(a.plus(s.times(l.times(s).plus(c))))}return o.precision=t,o.rounding=e,_n(r,t,e,!0)},Dt.hyperbolicTangent=Dt.tanh=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,_r(e.sinh(),e.cosh(),i.precision=n,i.rounding=t)):new i(e.s)},Dt.inverseCosine=Dt.acos=function(){var n,t=this,e=t.constructor,i=t.abs().cmp(1),r=e.precision,o=e.rounding;return-1!==i?0===i?t.isNeg()?Pc(e,r,o):new e(0):new e(NaN):t.isZero()?Pc(e,r+4,o).times(.5):(e.precision=r+6,e.rounding=1,t=t.asin(),n=Pc(e,r+4,o).times(.5),e.precision=r,e.rounding=o,n.minus(t))},Dt.inverseHyperbolicCosine=Dt.acosh=function(){var n,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(t=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,Nn=!1,e=e.times(e).minus(1).sqrt().plus(e),Nn=!0,i.precision=n,i.rounding=t,e.ln()):new i(e)},Dt.inverseHyperbolicSine=Dt.asinh=function(){var n,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,Nn=!1,e=e.times(e).plus(1).sqrt().plus(e),Nn=!0,i.precision=n,i.rounding=t,e.ln())},Dt.inverseHyperbolicTangent=Dt.atanh=function(){var n,t,e,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=o.precision,t=o.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?_n(new o(r),n,t,!0):(o.precision=e=i-r.e,r=_r(r.plus(1),new o(1).minus(r),e+n,1),o.precision=n+4,o.rounding=1,r=r.ln(),o.precision=n,o.rounding=t,r.times(.5))):new o(NaN)},Dt.inverseSine=Dt.asin=function(){var n,t,e,i,r=this,o=r.constructor;return r.isZero()?new o(r):(t=r.abs().cmp(1),e=o.precision,i=o.rounding,-1!==t?0===t?((n=Pc(o,e+4,i).times(.5)).s=r.s,n):new o(NaN):(o.precision=e+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=e,o.rounding=i,r.times(2)))},Dt.inverseTangent=Dt.atan=function(){var n,t,e,i,r,o,s,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=rI)return(s=Pc(u,d+4,f).times(.25)).s=c.s,s}else{if(!c.s)return new u(NaN);if(d+4<=rI)return(s=Pc(u,d+4,f).times(.5)).s=c.s,s}for(u.precision=a=d+10,u.rounding=1,n=e=Math.min(28,a/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Nn=!1,t=Math.ceil(a/7),i=1,l=c.times(c),s=new u(c),r=c;-1!==n;)if(r=r.times(l),o=s.minus(r.div(i+=2)),r=r.times(l),void 0!==(s=o.plus(r.div(i+=2))).d[t])for(n=t;s.d[n]===o.d[n]&&n--;);return e&&(s=s.times(2<<e-1)),Nn=!0,_n(s,u.precision=d,u.rounding=f,!0)},Dt.isFinite=function(){return!!this.d},Dt.isInteger=Dt.isInt=function(){return!!this.d&&Vs(this.e/7)>this.d.length-2},Dt.isNaN=function(){return!this.s},Dt.isNegative=Dt.isNeg=function(){return this.s<0},Dt.isPositive=Dt.isPos=function(){return this.s>0},Dt.isZero=function(){return!!this.d&&0===this.d[0]},Dt.lessThan=Dt.lt=function(n){return this.cmp(n)<0},Dt.lessThanOrEqualTo=Dt.lte=function(n){return this.cmp(n)<1},Dt.logarithm=Dt.log=function(n){var t,e,i,r,o,s,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(null==n)n=new u(10),t=!0;else{if(e=(n=new u(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new u(NaN);t=n.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new u(e&&!e[0]?-1/0:1!=c.s?NaN:e?0:1/0);if(t)if(e.length>1)o=!0;else{for(r=e[0];r%10==0;)r/=10;o=1!==r}if(Nn=!1,s=oh(c,a=d+5),i=t?PC(u,a+10):oh(n,a),jy((l=_r(s,i,a,1)).d,r=d,f))do{if(s=oh(c,a+=10),i=t?PC(u,a+10):oh(n,a),l=_r(s,i,a,1),!o){+Ms(l.d).slice(r+1,r+15)+1==1e14&&(l=_n(l,d+1,0));break}}while(jy(l.d,r+=10,f));return Nn=!0,_n(l,d,f)},Dt.minus=Dt.sub=function(n){var t,e,i,r,o,s,a,l,c,u,d,f,p=this,T=p.constructor;if(n=new T(n),!p.d||!n.d)return p.s&&n.s?p.d?n.s=-n.s:n=new T(n.d||p.s!==n.s?p:NaN):n=new T(NaN),n;if(p.s!=n.s)return n.s=-n.s,p.plus(n);if(f=n.d,a=T.precision,l=T.rounding,!(c=p.d)[0]||!f[0]){if(f[0])n.s=-n.s;else{if(!c[0])return new T(3===l?-0:0);n=new T(p)}return Nn?_n(n,a,l):n}if(e=Vs(n.e/7),u=Vs(p.e/7),c=c.slice(),o=u-e){for((d=o<0)?(t=c,o=-o,s=f.length):(t=f,e=u,s=c.length),o>(i=Math.max(Math.ceil(a/7),s)+2)&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for((d=(i=c.length)<(s=f.length))&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(t=c,c=f,f=t,n.s=-n.s),i=f.length-(s=c.length);i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(r=i;r&&0===c[--r];)c[r]=Oc-1;--c[r],c[i]+=Oc}c[i]-=f[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(n.d=c,n.e=OC(c,e),Nn?_n(n,a,l):n):new T(3===l?-0:0)},Dt.modulo=Dt.mod=function(n){var t,e=this,i=e.constructor;return n=new i(n),!e.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||e.d&&!e.d[0]?_n(new i(e),i.precision,i.rounding):(Nn=!1,9==i.modulo?(t=_r(e,n.abs(),0,3,1)).s*=n.s:t=_r(e,n,0,i.modulo,1),t=t.times(n),Nn=!0,e.minus(t))},Dt.naturalExponential=Dt.exp=function(){return oI(this)},Dt.naturalLogarithm=Dt.ln=function(){return oh(this)},Dt.negated=Dt.neg=function(){var n=new this.constructor(this);return n.s=-n.s,_n(n)},Dt.plus=Dt.add=function(n){var t,e,i,r,o,s,a,l,c,u,d=this,f=d.constructor;if(n=new f(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new f(n.d||d.s===n.s?d:NaN)):n=new f(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,a=f.precision,l=f.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new f(d)),Nn?_n(n,a,l):n;if(o=Vs(d.e/7),i=Vs(n.e/7),c=c.slice(),r=o-i){for(r<0?(e=c,r=-r,s=u.length):(e=u,i=o,s=c.length),r>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(r=s,e.length=1),e.reverse();r--;)e.push(0);e.reverse()}for((s=c.length)-(r=u.length)<0&&(r=s,e=u,u=c,c=e),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/Oc|0,c[r]%=Oc;for(t&&(c.unshift(t),++i),s=c.length;0==c[--s];)c.pop();return n.d=c,n.e=OC(c,i),Nn?_n(n,a,l):n},Dt.precision=Dt.sd=function(n){var t,e=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(ih+n);return e.d?(t=k6(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},Dt.round=function(){var n=this,t=n.constructor;return _n(new t(n),n.e+1,t.rounding)},Dt.sine=Dt.sin=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function zhe(n,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:z_(n,2,t,t);e=1.4*Math.sqrt(i),t=z_(n,2,t=t.times(1/xC(5,e=e>16?16:0|e)),t);for(var r,o=new n(5),s=new n(16),a=new n(20);e--;)r=t.times(t),t=t.times(o.plus(r.times(s.times(r).minus(a))));return t}(i,j6(i,e)),i.precision=n,i.rounding=t,_n(rd>2?e.neg():e,n,t,!0)):new i(NaN)},Dt.squareRoot=Dt.sqrt=function(){var n,t,e,i,r,o,s=this,a=s.d,l=s.e,c=s.s,u=s.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(Nn=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=Ms(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=Vs((l+1)/2)-(l<0||l%2),i=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new u(c.toString()),e=(l=u.precision)+3;;)if(i=(o=i).plus(_r(s,o,e+2,1)).times(.5),Ms(o.d).slice(0,e)===(t=Ms(i.d)).slice(0,e)){if("9999"!=(t=t.slice(e-3,e+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(_n(i,l+1,1),n=!i.times(i).eq(s));break}if(!r&&(_n(o,l+1,0),o.times(o).eq(s))){i=o;break}e+=4,r=1}return Nn=!0,_n(i,l,u.rounding,n)},Dt.tangent=Dt.tan=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(e=e.sin()).s=1,e=_r(e,new i(1).minus(e.times(e)).sqrt(),n+10,0),i.precision=n,i.rounding=t,_n(2==rd||4==rd?e.neg():e,n,t,!0)):new i(NaN)},Dt.times=Dt.mul=function(n){var t,e,i,r,o,s,a,l,c,u=this,d=u.constructor,f=u.d,p=(n=new d(n)).d;if(n.s*=u.s,!(f&&f[0]&&p&&p[0]))return new d(!n.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*n.s:n.s/0);for(e=Vs(u.e/7)+Vs(n.e/7),(l=f.length)<(c=p.length)&&(o=f,f=p,p=o,s=l,l=c,c=s),o=[],i=s=l+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)a=o[r]+p[i]*f[r-i-1]+t,o[r--]=a%Oc|0,t=a/Oc|0;o[r]=(o[r]+t)%Oc|0}for(;!o[--s];)o.pop();return t?++e:o.shift(),n.d=o,n.e=OC(o,e),Nn?_n(n,d.precision,d.rounding):n},Dt.toBinary=function(n,t){return aI(this,2,n,t)},Dt.toDecimalPlaces=Dt.toDP=function(n,t){var e=this,i=e.constructor;return e=new i(e),void 0===n?e:(Ua(n,0,nh),void 0===t?t=i.rounding:Ua(t,0,8),_n(e,n+e.e+1,t))},Dt.toExponential=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=vu(i,!0):(Ua(n,0,nh),void 0===t?t=r.rounding:Ua(t,0,8),e=vu(i=_n(new r(i),n+1,t),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+e:e},Dt.toFixed=function(n,t){var e,i,r=this,o=r.constructor;return void 0===n?e=vu(r):(Ua(n,0,nh),void 0===t?t=o.rounding:Ua(t,0,8),e=vu(i=_n(new o(r),n+r.e+1,t),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+e:e},Dt.toFraction=function(n){var t,e,i,r,o,s,a,l,c,u,d,f,p=this,T=p.d,x=p.constructor;if(!T)return new x(p);if(c=e=new x(1),i=l=new x(0),o=(t=new x(i)).e=k6(T)-p.e-1,t.d[0]=Zo(10,(s=o%7)<0?7+s:s),null==n)n=o>0?t:c;else{if(!(a=new x(n)).isInt()||a.lt(c))throw Error(ih+a);n=a.gt(t)?o>0?t:c:a}for(Nn=!1,a=new x(Ms(T)),u=x.precision,x.precision=o=7*T.length*2;d=_r(a,t,0,1,1),1!=(r=e.plus(d.times(i))).cmp(n);)e=i,i=r,c=l.plus(d.times(r=c)),l=r,t=a.minus(d.times(r=t)),a=r;return r=_r(n.minus(e),i,0,1,1),l=l.plus(r.times(c)),e=e.plus(r.times(i)),l.s=c.s=p.s,f=_r(c,i,o,1).minus(p).abs().cmp(_r(l,e,o,1).minus(p).abs())<1?[c,i]:[l,e],x.precision=u,Nn=!0,f},Dt.toHexadecimal=Dt.toHex=function(n,t){return aI(this,16,n,t)},Dt.toNearest=function(n,t){var e=this,i=e.constructor;if(e=new i(e),null==n){if(!e.d)return e;n=new i(1),t=i.rounding}else{if(n=new i(n),void 0===t?t=i.rounding:Ua(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(Nn=!1,e=_r(e,n,0,t,1).times(n),Nn=!0,_n(e)):(n.s=e.s,e=n),e},Dt.toNumber=function(){return+this},Dt.toOctal=function(n,t){return aI(this,8,n,t)},Dt.toPower=Dt.pow=function(n){var t,e,i,r,o,s,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(Zo(+a,c));if((a=new l(a)).eq(1))return a;if(i=l.precision,o=l.rounding,n.eq(1))return _n(a,i,o);if((t=Vs(n.e/7))>=n.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return r=L6(l,a,e,i),n.s<0?new l(1).div(r):_n(r,i,o);if((s=a.s)<0){if(t<n.d.length-1)return new l(NaN);if(0==(1&n.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(e=Zo(+a,c))&&isFinite(e)?new l(e+"").e:Vs(c*(Math.log("0."+Ms(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(Nn=!1,l.rounding=a.s=1,e=Math.min(12,(t+"").length),(r=oI(n.times(oh(a,i+e)),i)).d&&jy((r=_n(r,i+5,1)).d,i,o)&&+Ms((r=_n(oI(n.times(oh(a,(t=i+10)+e)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=_n(r,i+1,0)),r.s=s,Nn=!0,l.rounding=o,_n(r,i,o))},Dt.toPrecision=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=vu(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(Ua(n,1,nh),void 0===t?t=r.rounding:Ua(t,0,8),e=vu(i=_n(new r(i),n,t),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+e:e},Dt.toSignificantDigits=Dt.toSD=function(n,t){var i=this.constructor;return void 0===n?(n=i.precision,t=i.rounding):(Ua(n,1,nh),void 0===t?t=i.rounding:Ua(t,0,8)),_n(new i(this),n,t)},Dt.toString=function(){var n=this,t=n.constructor,e=vu(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},Dt.truncated=Dt.trunc=function(){return _n(new this.constructor(this),this.e+1,1)},Dt.valueOf=Dt.toJSON=function(){var n=this,t=n.constructor,e=vu(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var _r=function(){function n(i,r,o){var s,a=0,l=i.length;for(i=i.slice();l--;)i[l]=(s=i[l]*r+a)%o|0,a=s/o|0;return a&&i.unshift(a),i}function t(i,r,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function e(i,r,o,s){for(var a=0;o--;)i[o]-=a,i[o]=(a=i[o]<r[o]?1:0)*s+i[o]-r[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,o,s,a,l){var c,u,d,f,p,T,x,k,B,$,q,ee,se,ae,Ee,Ce,ge,ve,Ve,Pe,De=i.constructor,Ye=i.s==r.s?1:-1,Ge=i.d,Ne=r.d;if(!(Ge&&Ge[0]&&Ne&&Ne[0]))return new De(i.s&&r.s&&(Ge?!Ne||Ge[0]!=Ne[0]:Ne)?Ge&&0==Ge[0]||!Ne?0*Ye:Ye/0:NaN);for(l?(p=1,u=i.e-r.e):(l=Oc,u=Vs(i.e/(p=7))-Vs(r.e/p)),Ve=Ne.length,ge=Ge.length,$=(B=new De(Ye)).d=[],d=0;Ne[d]==(Ge[d]||0);d++);if(Ne[d]>(Ge[d]||0)&&u--,null==o?(ae=o=De.precision,s=De.rounding):ae=a?o+(i.e-r.e)+1:o,ae<0)$.push(1),T=!0;else{if(ae=ae/p+2|0,d=0,1==Ve){for(f=0,Ne=Ne[0],ae++;(d<ge||f)&&ae--;d++)$[d]=(Ee=f*l+(Ge[d]||0))/Ne|0,f=Ee%Ne|0;T=f||d<ge}else{for((f=l/(Ne[0]+1)|0)>1&&(Ne=n(Ne,f,l),Ge=n(Ge,f,l),Ve=Ne.length,ge=Ge.length),Ce=Ve,ee=(q=Ge.slice(0,Ve)).length;ee<Ve;)q[ee++]=0;(Pe=Ne.slice()).unshift(0),ve=Ne[0],Ne[1]>=l/2&&++ve;do{f=0,(c=t(Ne,q,Ve,ee))<0?(se=q[0],Ve!=ee&&(se=se*l+(q[1]||0)),(f=se/ve|0)>1?(f>=l&&(f=l-1),1==(c=t(x=n(Ne,f,l),q,k=x.length,ee=q.length))&&(f--,e(x,Ve<k?Pe:Ne,k,l))):(0==f&&(c=f=1),x=Ne.slice()),(k=x.length)<ee&&x.unshift(0),e(q,x,ee,l),-1==c&&(c=t(Ne,q,Ve,ee=q.length))<1&&(f++,e(q,Ve<ee?Pe:Ne,ee,l)),ee=q.length):0===c&&(f++,q=[0]),$[d++]=f,c&&q[0]?q[ee++]=Ge[Ce]||0:(q=[Ge[Ce]],ee=1)}while((Ce++<ge||void 0!==q[0])&&ae--);T=void 0!==q[0]}$[0]||$.shift()}if(1==p)B.e=u,I6=T;else{for(d=1,f=$[0];f>=10;f/=10)d++;B.e=d+u*p-1,_n(B,a?o+B.e+1:o,s,T)}return B}}();function _n(n,t,e,i){var r,o,s,a,l,c,u,d,f,p=n.constructor;e:if(null!=t){if(!(d=n.d))return n;for(r=1,a=d[0];a>=10;a/=10)r++;if((o=t-r)<0)o+=7,l=(u=d[f=0])/Zo(10,r-(s=t)-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(a=d.length)){if(!i)break e;for(;a++<=f;)d.push(0);u=l=0,r=1,s=(o%=7)-7+1}else{for(u=a=d[f],r=1;a>=10;a/=10)r++;l=(s=(o%=7)-7+r)<0?0:u/Zo(10,r-s-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(s<0?u:u%Zo(10,r-s-1)),c=e<4?(l||i)&&(0==e||e==(n.s<0?3:2)):l>5||5==l&&(4==e||i||6==e&&(o>0?s>0?u/Zo(10,r-s):0:d[f-1])%10&1||e==(n.s<0?8:7)),t<1||!d[0])return d.length=0,c?(d[0]=Zo(10,(7-(t-=n.e+1)%7)%7),n.e=-t||0):d[0]=n.e=0,n;if(0==o?(d.length=f,a=1,f--):(d.length=f+1,a=Zo(10,7-o),d[f]=s>0?(u/Zo(10,r-s)%Zo(10,s)|0)*a:0),c)for(;;){if(0==f){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(n.e++,d[0]==Oc&&(d[0]=1));break}if(d[f]+=a,d[f]!=Oc)break;d[f--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return Nn&&(n.e>p.maxE?(n.d=null,n.e=NaN):n.e<p.minE&&(n.e=0,n.d=[0])),n}function vu(n,t,e){if(!n.isFinite())return U6(n);var i,r=n.e,o=Ms(n.d),s=o.length;return t?(e&&(i=e-s)>0?o=o.charAt(0)+"."+o.slice(1)+rh(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):r<0?(o="0."+rh(-r-1)+o,e&&(i=e-s)>0&&(o+=rh(i))):r>=s?(o+=rh(r+1-s),e&&(i=e-r-1)>0&&(o=o+"."+rh(i))):((i=r+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),e&&(i=e-s)>0&&(r+1===s&&(o+="."),o+=rh(i))),o}function OC(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function PC(n,t,e){if(t>Ghe)throw Nn=!0,e&&(n.precision=e),Error(A6);return _n(new n(EC),t,1,!0)}function Pc(n,t,e){if(t>rI)throw Error(A6);return _n(new n(TC),t,e,!0)}function k6(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function rh(n){for(var t="";n--;)t+="0";return t}function L6(n,t,e,i){var r,o=new n(1),s=Math.ceil(i/7+4);for(Nn=!1;;){if(e%2&&G6((o=o.times(t)).d,s)&&(r=!0),0===(e=Vs(e/2))){e=o.d.length-1,r&&0===o.d[e]&&++o.d[e];break}G6((t=t.times(t)).d,s)}return Nn=!0,o}function F6(n){return 1&n.d[n.d.length-1]}function B6(n,t,e){for(var i,r=new n(t[0]),o=0;++o<t.length;){if(!(i=new n(t[o])).s){r=i;break}r[e](i)&&(r=i)}return r}function oI(n,t){var e,i,r,o,s,a,l,c=0,u=0,d=0,f=n.constructor,p=f.rounding,T=f.precision;if(!n.d||!n.d[0]||n.e>17)return new f(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==t?(Nn=!1,l=T):l=t,a=new f(.03125);n.e>-2;)n=n.times(a),d+=5;for(l+=i=Math.log(Zo(2,d))/Math.LN10*2+5|0,e=o=s=new f(1),f.precision=l;;){if(o=_n(o.times(n),l,1),e=e.times(++u),Ms((a=s.plus(_r(o,e,l,1))).d).slice(0,l)===Ms(s.d).slice(0,l)){for(r=d;r--;)s=_n(s.times(s),l,1);if(null!=t)return f.precision=T,s;if(!(c<3&&jy(s.d,l-i,p,c)))return _n(s,f.precision=T,p,Nn=!0);f.precision=l+=10,e=o=a=new f(1),u=0,c++}s=a}}function oh(n,t){var e,i,r,o,s,a,l,c,u,d,f,p=1,x=n,k=x.d,B=x.constructor,$=B.rounding,q=B.precision;if(x.s<0||!k||!k[0]||!x.e&&1==k[0]&&1==k.length)return new B(k&&!k[0]?-1/0:1!=x.s?NaN:k?0:x);if(null==t?(Nn=!1,u=q):u=t,B.precision=u+=10,i=(e=Ms(k)).charAt(0),!(Math.abs(o=x.e)<15e14))return c=PC(B,u+2,q).times(o+""),x=oh(new B(i+"."+e.slice(1)),u-10).plus(c),B.precision=q,null==t?_n(x,q,$,Nn=!0):x;for(;i<7&&1!=i||1==i&&e.charAt(1)>3;)i=(e=Ms((x=x.times(n)).d)).charAt(0),p++;for(o=x.e,i>1?(x=new B("0."+e),o++):x=new B(i+"."+e.slice(1)),d=x,l=s=x=_r(x.minus(1),x.plus(1),u,1),f=_n(x.times(x),u,1),r=3;;){if(s=_n(s.times(f),u,1),Ms((c=l.plus(_r(s,new B(r),u,1))).d).slice(0,u)===Ms(l.d).slice(0,u)){if(l=l.times(2),0!==o&&(l=l.plus(PC(B,u+2,q).times(o+""))),l=_r(l,new B(p),u,1),null!=t)return B.precision=q,l;if(!jy(l.d,u-10,$,a))return _n(l,B.precision=q,$,Nn=!0);B.precision=u+=10,c=s=x=_r(d.minus(1),d.plus(1),u,1),f=_n(x.times(x),u,1),r=a=1}l=c,r+=2}}function U6(n){return String(n.s*n.s/0)}function sI(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,n.e=e=e-i-1,n.d=[],i=(e+1)%7,e<0&&(i+=7),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=7;i<r;)n.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";n.d.push(+t),Nn&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function z_(n,t,e,i,r){var o,s,a,l,u=n.precision,d=Math.ceil(u/7);for(Nn=!1,l=e.times(e),a=new n(i);;){if(s=_r(a.times(l),new n(t++*t++),u,1),a=r?i.plus(s):i.minus(s),i=_r(s.times(l),new n(t++*t++),u,1),void 0!==(s=a.plus(i)).d[d]){for(o=d;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=i,i=s,s=o}return Nn=!0,s.d.length=d+1,s}function xC(n,t){for(var e=n;--t;)e*=n;return e}function j6(n,t){var e,i=t.s<0,r=Pc(n,n.precision,1),o=r.times(.5);if((t=t.abs()).lte(o))return rd=i?4:1,t;if((e=t.divToInt(r)).isZero())rd=i?3:2;else{if((t=t.minus(e.times(r))).lte(o))return rd=F6(e)?i?2:3:i?4:1,t;rd=F6(e)?i?1:4:i?3:2}return t.minus(r).abs()}function aI(n,t,e,i){var r,o,s,a,l,c,u,d,f,p=n.constructor,T=void 0!==e;if(T?(Ua(e,1,nh),void 0===i?i=p.rounding:Ua(i,0,8)):(e=p.precision,i=p.rounding),n.isFinite()){for(T?(r=2,16==t?e=4*e-3:8==t&&(e=3*e-2)):r=t,(s=(u=vu(n)).indexOf("."))>=0&&(u=u.replace(".",""),(f=new p(1)).e=u.length-s,f.d=MC(vu(f),10,r),f.e=f.d.length),o=l=(d=MC(u,10,r)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?o--:((n=new p(n)).d=d,n.e=o,d=(n=_r(n,f,e,i,0,r)).d,o=n.e,c=I6),s=d[e],a=r/2,c=c||void 0!==d[e+1],c=i<4?(void 0!==s||c)&&(0===i||i===(n.s<0?3:2)):s>a||s===a&&(4===i||c||6===i&&1&d[e-1]||i===(n.s<0?8:7)),d.length=e,c)for(;++d[--e]>r-1;)d[e]=0,e||(++o,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,u="";s<l;s++)u+=nI.charAt(d[s]);if(T){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)u+="0";for(l=(d=MC(u,r,t)).length;!d[l-1];--l);for(s=1,u="1.";s<l;s++)u+=nI.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>l)for(o-=l;o--;)u+="0";else o<l&&(u=u.slice(0,o)+"."+u.slice(o))}else u=T?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=U6(n);return n.s<0?"-"+u:u}function G6(n,t){if(n.length>t)return n.length=t,!0}function Whe(n){return new this(n).abs()}function Yhe(n){return new this(n).acos()}function $he(n){return new this(n).acosh()}function Xhe(n,t){return new this(n).plus(t)}function Khe(n){return new this(n).asin()}function qhe(n){return new this(n).asinh()}function Jhe(n){return new this(n).atan()}function Zhe(n){return new this(n).atanh()}function Qhe(n,t){n=new this(n),t=new this(t);var e,i=this.precision,r=this.rounding,o=i+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Pc(this,i,r):new this(0)).s=n.s:!n.d||t.isZero()?(e=Pc(this,o,1).times(.5)).s=n.s:t.s<0?(this.precision=o,this.rounding=1,e=this.atan(_r(n,t,o,1)),t=Pc(this,o,1),this.precision=i,this.rounding=r,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(_r(n,t,o,1)):(e=Pc(this,o,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function efe(n){return new this(n).cbrt()}function tfe(n){return _n(n=new this(n),n.e+1,2)}function nfe(n,t,e){return new this(n).clamp(t,e)}function ife(n){if(!n||"object"!=typeof n)throw Error(wC+"Object expected");var t,e,i,r=!0===n.defaults,o=["precision",1,nh,"rounding",0,8,"toExpNeg",-V_,0,"toExpPos",0,V_,"maxE",0,V_,"minE",-V_,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(e=o[t],r&&(this[e]=iI[e]),void 0!==(i=n[e])){if(!(Vs(i)===i&&i>=o[t+1]&&i<=o[t+2]))throw Error(ih+e+": "+i);this[e]=i}if(e="crypto",r&&(this[e]=iI[e]),void 0!==(i=n[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(ih+e+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(D6);this[e]=!0}else this[e]=!1}return this}function rfe(n){return new this(n).cos()}function ofe(n){return new this(n).cosh()}function sfe(n,t){return new this(n).div(t)}function afe(n){return new this(n).exp()}function lfe(n){return _n(n=new this(n),n.e+1,3)}function cfe(){var n,t,e=new this(0);for(Nn=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Nn=!0,new this(1/0);e=t}return Nn=!0,e.sqrt()}function V6(n){return n instanceof Wi||n&&n.toStringTag===R6||!1}function ufe(n){return new this(n).ln()}function dfe(n,t){return new this(n).log(t)}function hfe(n){return new this(n).log(2)}function ffe(n){return new this(n).log(10)}function pfe(){return B6(this,arguments,"lt")}function gfe(){return B6(this,arguments,"gt")}function _fe(n,t){return new this(n).mod(t)}function mfe(n,t){return new this(n).mul(t)}function vfe(n,t){return new this(n).pow(t)}function yfe(n){var t,e,i,r,o=0,s=new this(1),a=[];if(void 0===n?n=this.precision:Ua(n,1,nh),i=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)(r=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error(D6);for(t=crypto.randomBytes(i*=4);o<i;)(r=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(r%1e7),o+=4);o=i/4}else for(;o<i;)a[o++]=1e7*Math.random()|0;for(n%=7,(i=a[--o])&&n&&(r=Zo(10,7-n),a[o]=(i/r|0)*r);0===a[o];o--)a.pop();if(o<0)e=0,a=[0];else{for(e=-1;0===a[0];e-=7)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<7&&(e-=7-i)}return s.e=e,s.d=a,s}function bfe(n){return _n(n=new this(n),n.e+1,this.rounding)}function Sfe(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function Cfe(n){return new this(n).sin()}function Efe(n){return new this(n).sinh()}function Tfe(n){return new this(n).sqrt()}function wfe(n,t){return new this(n).sub(t)}function Mfe(){var n=0,t=arguments,e=new this(t[n]);for(Nn=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return Nn=!0,_n(e,this.precision,this.rounding)}function Ofe(n){return new this(n).tan()}function Pfe(n){return new this(n).tanh()}function xfe(n){return _n(n=new this(n),n.e+1,1)}Dt[Symbol.for("nodejs.util.inspect.custom")]=Dt.toString,Dt[Symbol.toStringTag]="Decimal";var Wi=Dt.constructor=function H6(n){var t,e,i;function r(o){var s,a,l,c=this;if(!(c instanceof r))return new r(o);if(c.constructor=r,V6(o))return c.s=o.s,void(Nn?!o.d||o.e>r.maxE?(c.e=NaN,c.d=null):o.e<r.minE?(c.e=0,c.d=[0]):(c.e=o.e,c.d=o.d.slice()):(c.e=o.e,c.d=o.d?o.d.slice():o.d));if("number"==(l=typeof o)){if(0===o)return c.s=1/o<0?-1:1,c.e=0,void(c.d=[0]);if(o<0?(o=-o,c.s=-1):c.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;return void(Nn?s>r.maxE?(c.e=NaN,c.d=null):s<r.minE?(c.e=0,c.d=[0]):(c.e=s,c.d=[o]):(c.e=s,c.d=[o]))}return 0*o!=0?(o||(c.s=NaN),c.e=NaN,void(c.d=null)):sI(c,o.toString())}if("string"!==l)throw Error(ih+o);return 45===(a=o.charCodeAt(0))?(o=o.slice(1),c.s=-1):(43===a&&(o=o.slice(1)),c.s=1),N6.test(o)?sI(c,o):function Vhe(n,t){var e,i,r,o,s,a,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),N6.test(t))return sI(n,t)}else if("Infinity"===t||"NaN"===t)return+t||(n.s=NaN),n.e=NaN,n.d=null,n;if(Bhe.test(t))e=16,t=t.toLowerCase();else if(Fhe.test(t))e=2;else{if(!Uhe.test(t))throw Error(ih+t);e=8}for((o=t.search(/p/i))>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),i=n.constructor,(s=o>=0)&&(o=(a=(t=t.replace(".","")).length)-o,r=L6(i,new i(e),o,2*o)),o=u=(c=MC(t,e,Oc)).length-1;0===c[o];--o)c.pop();return o<0?new i(0*n.s):(n.e=OC(c,u),n.d=c,Nn=!1,s&&(n=_r(n,r,4*a)),l&&(n=n.times(Math.abs(l)<54?Zo(2,l):Wi.pow(2,l))),Nn=!0,n)}(c,o)}if(r.prototype=Dt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=ife,r.clone=H6,r.isDecimal=V6,r.abs=Whe,r.acos=Yhe,r.acosh=$he,r.add=Xhe,r.asin=Khe,r.asinh=qhe,r.atan=Jhe,r.atanh=Zhe,r.atan2=Qhe,r.cbrt=efe,r.ceil=tfe,r.clamp=nfe,r.cos=rfe,r.cosh=ofe,r.div=sfe,r.exp=afe,r.floor=lfe,r.hypot=cfe,r.ln=ufe,r.log=dfe,r.log10=ffe,r.log2=hfe,r.max=pfe,r.min=gfe,r.mod=_fe,r.mul=mfe,r.pow=vfe,r.random=yfe,r.round=bfe,r.sign=Sfe,r.sin=Cfe,r.sinh=Efe,r.sqrt=Tfe,r.sub=wfe,r.sum=Mfe,r.tan=Ofe,r.tanh=Pfe,r.trunc=xfe,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}(iI);EC=new Wi(EC),TC=new Wi(TC);var Gy=(()=>{return(n=Gy||(Gy={})).SessionStorage="sessionStorage",n.LocalStorage="localStorage",Gy;var n})();class Ife{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return Array.from(this.storage.keys())[t]||null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)||null}setItem(t,e){this.storage.set(t,""+e)}}let z6=(()=>{class n{constructor(){this._session=this.setStorage(Gy.SessionStorage),this._local=this.setStorage(Gy.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const i="__storage_test__";return window[e].setItem(i,i),window[e].removeItem(i),window[e]}catch(i){return new Ife}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Afe=["adjarabet","spribegaming","spribe"];let Dfe=(()=>{class n{constructor(){const e=location.hostname.split(".");this.secondLevel=e[e.length-2],this.topLevel=e[e.length-1]}mirrorURL(e,i){const r=new URL(e);return r.hostname=this.mirrorHostname(r.hostname,i),r.href}mirrorHostname(e,i){if(!i||!this.secondLevel||!this.topLevel||Afe.includes(this.secondLevel))return e;const r=e.split(".");return e.replace(`.${r[r.length-2]}.${r[r.length-1]}`,`.${this.secondLevel}.${this.topLevel}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var vi=(()=>{return(n=vi||(vi={})).Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game",n.AccountHistory="ifc.account.history",n.InternalRealityCheck="ifc.internal.reality.check",n.AviaPortWaitingInit="ifc.ap.waiting.init",n.AviaPortUpdateFreeBet="ifc.ap.update.free.bet",n.AviaPortClaimFreeBet="ifc.ap.claim.free.bet",n.AviaPortShowFreeBetModal="ifc.ap.show.free.bet.modal",n.AviaPortChatInit="ifc.ap.chat.init",vi;var n})(),Mr=(()=>{return(n=Mr||(Mr={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",n.AviaPortToggleGameMenu="ifc.ap.toggle.game.menu",n.AviaPortToggleChat="ifc.ap.toggle.chat",n.AviaPortInit="ifc.ap.init",n.AviaPortSelectFreeBet="ifc.ap.select.free.bet",Mr;var n})();class W6{static send(t,...e){console.info(`\u{1f53a} [${t}]`,...e)}static receive(t,...e){console.info(`\u{1f53d} [${t}]`,...e)}static info(t,...e){console.info(`[${t}]`,...e)}}function IC(){try{return window.self!==window.top}catch(n){return!0}}let zs=(()=>{class n{constructor(){this.isInited=!1,this.isGameInited=!1,this.isInFrame=IC(),this._receive=new Xe,this._receive$=this._receive.asObservable()}init(){!this.isInFrame||this.isInited||(this.isInited=!0,Li(window,"message").pipe(cn(e=>Object.values(Mr).includes(e.data.cmd))).subscribe(e=>this.onMessageReceive(e.data)))}onMessageReceive(e){(function Rfe(n){as({type:"ifc",level:"info",category:"ifc.receive",data:{action:n.cmd,data:n.data}})})(e),W6.receive("IFC RECEIVE",e.cmd,e.data),this._receive.next(e)}receive$(e){return this._receive$.pipe(cn(i=>i.cmd===e),Ae(i=>i.data))}send(e,i){if(this.isInFrame){W6.send("IFC SEND",e,i);try{parent.postMessage({type:e,data:i},"*")}catch(r){}}}sendInit(e){const i=Object.assign(Object.assign({},e),{isReInit:this.isGameInited});this.send(vi.Init,i),this.isGameInited=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W_=(()=>{class n{constructor(){this.betPrecision=2,this.multiplierPrecision=2,this.isUseMaskedUsername=!0}setBuildConfig(e){Object.assign(n,e)}setBackendConfig(e){Object.assign(this,e)}}return n.packageVersion="",n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zn=(()=>{class n{constructor(e){this.configService=e,this.minIntegerDigits=1}transform(e,i){if("string"==typeof e)return yy(new Error("Incorrect format in the CurrencyPrecisionPipe"),{level:"error",extra:{problematicValue:e}}),"";if(!Number.isFinite(e))return"";const r=null!=i?i:this.configService.betPrecision;return gS(new Wi(e).toDecimalPlaces(r,Wi.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(Z(W_,16))},n.\u0275pipe=xo({name:"currencyPrecision",type:n,pure:!0}),n})(),Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})(),Y6=(()=>{class n{transform(e,i=", "){return e?e.join(i):""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=xo({name:"join",type:n,pure:!0}),n})(),Nfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[Y6]}),n})(),pa=(()=>{class n{constructor(e){this.configService=e}transform(e){return this.configService.isUseMaskedUsername?e&&"string"==typeof e?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)(Z(W_,16))},n.\u0275pipe=xo({name:"maskedUsername",type:n,pure:!0}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})(),Ws=(()=>{class n{constructor(e){this.configService=e,this.minIntegerDigits=1}transform(e,i){if(!Number.isFinite(e))return"";const r=null!=i?i:this.configService.multiplierPrecision;return gS(new Wi(e).toDecimalPlaces(r,Wi.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(Z(W_,16))},n.\u0275pipe=xo({name:"multiplierPrecision",type:n,pure:!0}),n})(),xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();function ga(n){const t=W_.packageVersion;return t?`${n}?v=${t}`:n}var Hy=(()=>{return(n=Hy||(Hy={})).IrcDuration="irc_duration",n.IrcElapsed="irc_elapsed",n.GameSessionId="gameSessionId",n.SisalToken="sisaltoken",n.LicenseeId="licenseeid",n.IsbgameId="isbgameid",n.IsbskinId="isbskinid",n.Country="country",n.LauncherCode="launchercode",n.Extra="extra",n.Username="username",n.IsoftBetOperator="isoftBetOperator",n.Rci="rci",n.RealityCheckUKLimit="realitycheck_uk_limit",n.RealityCheckUkElapsed="realitycheck_uk_elapsed",n.RealityCheckTimeout="realityCheckTimeout",n.LoggedInTime="loggedInTime",n.ExtraData="extraData",Hy;var n})(),Ul=(()=>{return(n=Ul||(Ul={})).User="user",n.Token="token",n.Currency="currency",n.Lang="lang",n.Operator="operator",n.ReturnUrl="return_url",n.AccountHistoryUrl="account_history_url",n.Jurisdiction="jurisdiction",n.Aviaport="aviaport",Ul;var n})();let jl=(()=>{class n{constructor(){this.searchParams=new URLSearchParams(window.location.search),this.user=this.getRequiredParam(Ul.User),this.operator=this.getRequiredParam(Ul.Operator),this.currency=this.getRequiredParam(Ul.Currency),this.returnUrl=this.getOptionalParam(Ul.ReturnUrl),this.accountHistoryUrl=this.getOptionalParam(Ul.AccountHistoryUrl),this.jurisdiction=this.getOptionalParam(Ul.Jurisdiction),this.aviaport=this.getOptionalParam(Ul.Aviaport),this.lang=this.getOptionalLangParam(Ul.Lang),this.additionalParams=new Map,Object.values(Hy).forEach(e=>{const i=this.getOptionalParam(e);i&&this.additionalParams.set(e,i)}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(Hy.SisalToken):this.getRequiredParam(Ul.Token),this.setSentryTags()}getRequiredParam(e){const i=this.searchParams.get(e);if(!i)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${i}`);return i}getOptionalLangParam(e){const i=this.searchParams.get(e);return i?i.toLowerCase():"en"}getOptionalParam(e){return this.searchParams.get(e)||null}setSentryTags(){hu("url.param.user",this.user),hu("url.param.operator",this.operator),hu("url.param.currency",this.currency),hu("url.param.token",this.token),hu("url.param.lang",this.lang),hu("url.param.return_url",this.returnUrl),hu("url.param.account_history_url",this.accountHistoryUrl),hu("url.param.jurisdiction",this.jurisdiction)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $_={UKNOWN:"Unknown"},lI={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:$_.UKNOWN},AC={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},X_={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},sh={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:$_.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},$6=[sh.PS4,sh.CHROME_BOOK,sh.MAC,sh.DELL,sh.ASUS,sh.UNKNOWN],X6={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:$_.UKNOWN},Lfe={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:$_.UKNOWN.toLowerCase()},K6={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},Bfe=Object.assign(Object.assign(Object.assign(Object.assign({},AC),X_),K6),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),cI={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},uI={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Ufe=Object.keys(cI).reduce((n,t)=>(n[t]=cI[t],n),{}),q6=Object.keys(uI).reduce((n,t)=>(n[lI[t]]=uI[t],n),{});var yu=Object.freeze({__proto__:null,GENERAL:$_,BROWSERS:lI,MOBILES_RE:AC,TABLETS_RE:X_,DEVICES:sh,DESKTOP_DEVICES:$6,OS:X6,OS_VERSIONS:Lfe,OS_RE:K6,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:Bfe,OS_VERSIONS_RE_MAP:cI,BROWSER_VERSIONS_RE_MAP:uI,OS_VERSIONS_RE:Ufe,BROWSER_VERSIONS_RE:q6});class jfe{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var If=(()=>{return(n=If||(If={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",If;var n})(),Vy=(()=>{return(n=Vy||(Vy={})).Portrait="portrait",n.Landscape="landscape",Vy;var n})();const dI="iPad";let Gfe=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new jfe,this.deviceType="",this.orientation="",hy(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(yu[r.const]).reduce((o,s)=>"device"===yu[r.const][s]&&hy(this.platformId)&&(this.reTree.test(this.userAgent,X_[dI])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(o[yu[r.const][s]]=dI,Object):(o[yu[r.const][s]]=this.reTree.test(e,yu[`${r.const}_RE`][s]),o),{})}),i.forEach(r=>{this[r.prop]=Object.keys(yu[r.const]).map(o=>yu[r.const][o]).reduce((o,s)=>"device"===r.prop&&o===yu[r.const].ANDROID?this[r.prop][s]?s:o:o===yu[r.const].UNKNOWN&&this[r.prop][s]?s:o,yu[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==lI.UNKNOWN){const o=this.reTree.exec(e,q6[this.browser]);o&&(this.browser_version=o[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Vy.Landscape:Vy.Portrait:$_.UKNOWN,this.deviceType=this.isTablet()?If.Tablet:this.isMobile(this.userAgent)?If.Mobile:this.isDesktop(this.userAgent)?If.Desktop:If.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(AC).find(r=>this.reTree.test(e,AC[r]))}isTablet(e=this.userAgent){return!(!hy(this.platformId)||!(this.reTree.test(this.userAgent,X_[dI])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(X_).find(r=>!!this.reTree.test(e,X_[r]))}isDesktop(e=this.userAgent){return(this.device!==sh.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&$6.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(lt(S_))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zy(...n){return function Hfe(){return Hu(1)}()(Ni(n,Ls(n)))}function J6(n,t){const e=N(n)?n:()=>n,i=r=>r.error(e());return new ue(t?r=>t.schedule(i,0,r):i)}class zfe extends m{constructor(t,e){super()}schedule(t,e=0){return this}}const DC={setInterval(n,t,...e){const{delegate:i}=DC;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=DC;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class hI extends zfe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return DC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;DC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,y(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const fI={now:()=>(fI.delegate||Date).now(),delegate:void 0};class Wy{constructor(t,e=Wy.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Wy.now=fI.now;class pI extends Wy{constructor(t,e=Wy.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const K_=new pI(hI),Wfe=K_;function Z6(n,t){return t?e=>zy(t.pipe(Nr(1),function Yfe(){return it((n,t)=>{n.subscribe(rt(t,D))})}()),e.pipe(Z6(n))):dr((e,i)=>n(e,i).pipe(Nr(1),function $fe(n){return Ae(()=>n)}(e)))}function Q6(n){return n instanceof Date&&!isNaN(n)}function bu(n=0,t,e=Wfe){let i=-1;return null!=t&&(Ri(t)?e=t:i=t),new ue(r=>{let o=Q6(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function ej(n,t=K_){const e=bu(n,t);return Z6(()=>e)}const Xfe=U(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function qfe(n){throw new Xfe(n)}function RC(n){return it((t,e)=>{let o,i=null,r=!1;i=t.subscribe(rt(e,void 0,void 0,s=>{o=rn(n(s,RC(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}const ko_production=!0,ko_loggerEnabled=!1,ko_domainMirroringEnabled=!0,ko_version="4.2.70",ko_clientConfig={path:"https://app-config.spribegaming.com/aviator/",ext:".json"},ko_avatarPath="assets/static/avatars/v2/",ko_brandPath="assets/static/images/brand/";var yi=(()=>{return(n=yi||(yi={})).sm="sm",n.md="md",n.lg="lg",yi;var n})();class Wn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?yi.lg:this.appWidth>=476&&this.appHeight>=200?yi.md:yi.sm}}var ipe=setTimeout;function tj(n){return Boolean(n&&void 0!==n.length)}function rpe(){}function go(n){if(!(this instanceof go))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ij(n,this)}function nj(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,go._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(r){return void Yy(t.promise,r)}gI(t.promise,i)}else(1===n._state?gI:Yy)(t.promise,n._value)})):n._deferreds.push(t)}function gI(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof go)return n._state=3,n._value=t,void _I(n);if("function"==typeof e)return void ij(function ope(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,_I(n)}catch(i){Yy(n,i)}}function Yy(n,t){n._state=2,n._value=t,_I(n)}function _I(n){2===n._state&&0===n._deferreds.length&&go._immediateFn(function(){n._handled||go._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)nj(n,n._deferreds[t]);n._deferreds=null}function spe(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function ij(n,t){var e=!1;try{n(function(i){e||(e=!0,gI(t,i))},function(i){e||(e=!0,Yy(t,i))})}catch(i){if(e)return;e=!0,Yy(t,i)}}go.prototype.catch=function(n){return this.then(null,n)},go.prototype.then=function(n,t){var e=new this.constructor(rpe);return nj(this,new spe(n,t,e)),e},go.prototype.finally=function Qfe(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},go.all=function(n){return new go(function(t,e){if(!tj(n))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return t([]);var r=i.length;function o(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var c=l.then;if("function"==typeof c)return void c.call(l,function(u){o(a,u)},e)}i[a]=l,0==--r&&t(i)}catch(u){e(u)}}for(var s=0;s<i.length;s++)o(s,i[s])})},go.allSettled=function tpe(n){return new this(function(e,i){if(!n||void 0===n.length)return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var o=r.length;function s(l,c){if(c&&("object"==typeof c||"function"==typeof c)){var u=c.then;if("function"==typeof u)return void u.call(c,function(d){s(l,d)},function(d){r[l]={status:"rejected",reason:d},0==--o&&e(r)})}r[l]={status:"fulfilled",value:c},0==--o&&e(r)}for(var a=0;a<r.length;a++)s(a,r[a])})},go.resolve=function(n){return n&&"object"==typeof n&&n.constructor===go?n:new go(function(t){t(n)})},go.reject=function(n){return new go(function(t,e){e(n)})},go.race=function(n){return new go(function(t,e){if(!tj(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)go.resolve(n[i]).then(t,e)})},go._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){ipe(n,0)},go._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const ape=go;var lpe=_e(5943),cpe=_e.n(lpe);if(self.Promise||(self.Promise=ape),Object.assign||(Object.assign=cpe()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var dpe=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-dpe}}for(var mI=Date.now(),rj=["ms","moz","webkit","o"],vI=0;vI<rj.length&&!self.requestAnimationFrame;++vI){var yI=rj[vI];self.requestAnimationFrame=self[yI+"RequestAnimationFrame"],self.cancelAnimationFrame=self[yI+"CancelAnimationFrame"]||self[yI+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+mI-t;return e<0&&(e=0),mI=t,self.setTimeout(function(){mI=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var bI=/iPhone/i,oj=/iPod/i,sj=/iPad/i,aj=/\biOS-universal(?:.+)Mac\b/i,SI=/\bAndroid(?:.+)Mobile\b/i,lj=/Android/i,q_=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,NC=/Silk/i,od=/Windows Phone/i,cj=/\bWindows(?:.+)ARM\b/i,uj=/BlackBerry/i,dj=/BB10/i,hj=/Opera Mini/i,fj=/\b(CriOS|Chrome)(?:.+)Mobile/i,pj=/Mobile(?:.+)Firefox\b/i,gj=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},cl=function fpe(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r=function hpe(n){return function(t){return t.test(n)}}(e),o={apple:{phone:r(bI)&&!r(od),ipod:r(oj),tablet:!r(bI)&&(r(sj)||gj(t))&&!r(od),universal:r(aj),device:(r(bI)||r(oj)||r(sj)||r(aj)||gj(t))&&!r(od)},amazon:{phone:r(q_),tablet:!r(q_)&&r(NC),device:r(q_)||r(NC)},android:{phone:!r(od)&&r(q_)||!r(od)&&r(SI),tablet:!r(od)&&!r(q_)&&!r(SI)&&(r(NC)||r(lj)),device:!r(od)&&(r(q_)||r(NC)||r(SI)||r(lj))||r(/\bokhttp\b/i)},windows:{phone:r(od),tablet:r(cj),device:r(od)||r(cj)},other:{blackberry:r(uj),blackberry10:r(dj),opera:r(hj),firefox:r(pj),chrome:r(fj),device:r(uj)||r(dj)||r(hj)||r(pj)||r(fj)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator),kC=(()=>{return(n=kC||(kC={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",kC;var n})(),LC=(()=>{return(n=LC||(LC={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",LC;var n})(),FC=(()=>{return(n=FC||(FC={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",FC;var n})(),BC=(()=>{return(n=BC||(BC={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",BC;var n})(),J_=(()=>{return(n=J_||(J_={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",J_;var n})(),UC=(()=>{return(n=UC||(UC={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",UC;var n})(),Ut={MIPMAP_TEXTURES:FC.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:UC.NONE,SPRITE_MAX_TEXTURES:function ppe(n){var e,t=!0;(cl.tablet||cl.phone)&&(cl.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),cl.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:BC.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:LC.CLAMP,SCALE_MODE:kC.LINEAR,PRECISION_VERTEX:J_.HIGH,PRECISION_FRAGMENT:cl.apple.device?J_.HIGH:J_.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function gpe(){return!cl.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},_pe=_e(9170),Z_=_e.n(_pe),mpe=_e(5469),CI=_e.n(mpe),EI=_e(8762),ls=(()=>{return(n=ls||(ls={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",ls;var n})(),Ic=(()=>{return(n=Ic||(Ic={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",Ic;var n})(),ah=(()=>{return(n=ah||(ah={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",ah;var n})(),ht=(()=>{return(n=ht||(ht={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",ht;var n})(),Os=(()=>{return(n=Os||(Os={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",Os;var n})(),mt=(()=>{return(n=mt||(mt={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",mt;var n})(),ja=(()=>{return(n=ja||(ja={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",ja;var n})(),Wt=(()=>{return(n=Wt||(Wt={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",Wt;var n})(),lh=(()=>{return(n=lh||(lh={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",lh;var n})(),Lo=(()=>{return(n=Lo||(Lo={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Lo;var n})(),Gl=(()=>{return(n=Gl||(Gl={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Gl;var n})(),_a=(()=>{return(n=_a||(_a={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",_a;var n})(),cs=(()=>{return(n=cs||(cs={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",cs;var n})(),Ys=(()=>{return(n=Ys||(Ys={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",Ys;var n})(),Q_=(()=>{return(n=Q_||(Q_={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",Q_;var n})(),Fo=(()=>{return(n=Fo||(Fo={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Fo;var n})(),Ui=(()=>{return(n=Ui||(Ui={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",Ui;var n})(),oi=(()=>{return(n=oi||(oi={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",oi;var n})(),Bo=(()=>{return(n=Bo||(Bo={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Bo;var n})(),Af={parse:EI.Qc,format:EI.WU,resolve:EI.DB};Ut.RETINA_PREFIX=/@([0-9\.]+)x/,Ut.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var MI,TI=!1;function mj(){TI=!0}function wI(n){var t;TI||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),TI=!0)}function vj(){return void 0===MI&&(MI=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Ut.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),MI}var ome={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function sd(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function jC(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function ma(n){return"string"==typeof n&&"#"===(n=ome[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function OI(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var PI=function sme(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[ht.NORMAL_NPM]=ht.NORMAL,n[ht.ADD_NPM]=ht.ADD,n[ht.SCREEN_NPM]=ht.SCREEN,t[ht.NORMAL]=ht.NORMAL_NPM,t[ht.ADD]=ht.ADD_NPM,t[ht.SCREEN]=ht.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function xI(n,t){return PI[t?1:0][n]}function yj(n,t,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function GC(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255,r=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(r*t+.5|0)}function II(n,t,e,i){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(i||void 0===i)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function bj(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var i=0,r=0;i<e;i+=6,r+=4)t[i+0]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3;return t}function HC(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var ame={Float32Array,Uint32Array,Int32Array,Uint8Array};function lme(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],u=n[o],d=HC(u);r[d]||(r[d]=new ame[d](s)),a=r[d];for(var f=0;f<u.length;f++)a[(f/c|0)*i+l+f%c]=u[f];l+=c}return new Float32Array(s)}function $y(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function AI(n){return!(n&n-1||!n)}function DI(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function Df(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}function Rf(n){return 0===n?0:n<0?-1:1}var cme=0;function ch(){return++cme}var Sj={};function Su(n,t,e){if(void 0===e&&(e=3),!Sj[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),Sj[t]=!0}}var RI={},Ga=Object.create(null),Hl=Object.create(null);function ume(){var n;for(n in Ga)Ga[n].destroy();for(n in Hl)Hl[n].destroy()}function dme(){var n;for(n in Ga)delete Ga[n];for(n in Hl)delete Hl[n]}var em=function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||Ut.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function Cj(n){var c,u,d,t=n.width,e=n.height,i=n.getContext("2d"),o=i.getImageData(0,0,t,e).data,s=o.length,a={top:null,left:null,right:null,bottom:null},l=null;for(c=0;c<s;c+=4)0!==o[c+3]&&(u=c/4%t,d=~~(c/4/t),null===a.top&&(a.top=d),(null===a.left||u<a.left)&&(a.left=u),(null===a.right||a.right<u)&&(a.right=u+1),(null===a.bottom||a.bottom<d)&&(a.bottom=d));return null!==a.top&&(l=i.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var VC,Ej=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function hme(n){var t=Ej.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Tj(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,VC||(VC=document.createElement("a")),VC.href=n;var e=Af.parse(VC.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Xy(n,t){var e=Ut.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var Ky=2*Math.PI,wj=180/Math.PI,Mj=Math.PI/180,Fi=(()=>{return(n=Fi||(Fi={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",Fi;var n})(),wi=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=Fi.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Oj=function(){function n(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=Fi.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,o=this.y-e;return(r*=r)+(o*=o)<=this.radius*this.radius},n.prototype.getBounds=function(){return new wi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),Pj=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=Fi.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new wi(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),qy=function(){function n(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var o=[],s=0,a=r.length;s<a;s++)o.push(r[s].x,r[s].y);r=o}this.points=r,this.type=Fi.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,o=0,s=r-1;o<r;s=o++){var a=this.points[2*o],l=this.points[2*o+1],u=this.points[2*s+1];l>e!=u>e&&t<(e-l)/(u-l)*(this.points[2*s]-a)+a&&(i=!i)}return i},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),xj=function(){function n(t,e,i,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=o,this.type=Fi.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),o=e-(this.y+i),s=i*i;if(r*r+o*o<=s||(r=t-(this.x+this.width-i))*r+o*o<=s||r*r+(o=e-(this.y+this.height-i))*o<=s||(r=t-(this.x+i))*r+o*o<=s)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),Or=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),Nf=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),tr=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Or;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Or;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(Ky-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),kf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Lf=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ff=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Bf=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],NI=[],Ij=[],zC=Math.sign;!function fme(){for(var n=0;n<16;n++){var t=[];NI.push(t);for(var e=0;e<16;e++)for(var i=zC(kf[n]*kf[e]+Ff[n]*Lf[e]),r=zC(Lf[n]*kf[e]+Bf[n]*Lf[e]),o=zC(kf[n]*Ff[e]+Ff[n]*Bf[e]),s=zC(Lf[n]*Ff[e]+Bf[n]*Bf[e]),a=0;a<16;a++)if(kf[a]===i&&Lf[a]===r&&Ff[a]===o&&Bf[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new tr;l.set(kf[n],Lf[n],Ff[n],Bf[n],0,0),Ij.push(l)}}();var Fr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return kf[n]},uY:function(n){return Lf[n]},vX:function(n){return Ff[n]},vY:function(n){return Bf[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return NI[n][t]},sub:function(n,t){return NI[n][Fr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?Fr.S:Fr.N:2*Math.abs(t)<=Math.abs(n)?n>0?Fr.E:Fr.W:t>0?n>0?Fr.SE:Fr.SW:n>0?Fr.NE:Fr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=Ij[Fr.inv(t)];r.tx=e,r.ty=i,n.append(r)}},kI=function(){function n(){this.worldTransform=new tr,this.localTransform=new tr,this.position=new Nf(this.onChange,this,0,0),this.scale=new Nf(this.onChange,this,1,1),this.pivot=new Nf(this.onChange,this,0,0),this.skew=new Nf(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();Ut.SORTABLE_CHILDREN=!1;var tm=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?wi.EMPTY:((t=t||new wi(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var c=t.a*e.x+t.c*e.y+t.tx,u=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY,s=t[0],a=t[1];e=s<e?s:e,i=a<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[2])<e?s:e,i=(a=t[3])<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[4])<e?s:e,i=(a=t[5])<i?a:i,r=s>r?s:r,o=a>o?a:o,i=(a=t[7])<i?a:i,r=(s=t[6])>r?s:r,o=a>o?a:o,this.minX=e=s<e?s:e,this.minY=i,this.maxX=r,this.maxY=o},n.prototype.addFrame=function(t,e,i,r,o){this.addFrameMatrix(t.worldTransform,e,i,r,o)},n.prototype.addFrameMatrix=function(t,e,i,r,o){var s=t.a,a=t.b,l=t.c,c=t.d,u=t.tx,d=t.ty,f=this.minX,p=this.minY,T=this.maxX,x=this.maxY,k=s*e+l*i+u,B=a*e+c*i+d;f=k<f?k:f,p=B<p?B:p,T=k>T?k:T,x=B>x?B:x,f=(k=s*r+l*i+u)<f?k:f,p=(B=a*r+c*i+d)<p?B:p,T=k>T?k:T,x=B>x?B:x,f=(k=s*e+l*o+u)<f?k:f,p=(B=a*e+c*o+d)<p?B:p,T=k>T?k:T,x=B>x?B:x,p=(B=a*r+c*o+d)<p?B:p,T=(k=s*r+l*o+u)>T?k:T,x=B>x?B:x,this.minX=f=k<f?k:f,this.minY=p,this.maxX=T,this.maxY=x},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,o=this.minY,s=this.maxX,a=this.maxY,l=e;l<i;l+=2){var c=t[l],u=t[l+1];r=c<r?c:r,o=u<o?u:o,s=c>s?c:s,a=u>a?u:a}this.minX=r,this.minY=o,this.maxX=s,this.maxY=a},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,o,s){void 0===o&&(o=0),void 0===s&&(s=o);for(var a=t.a,l=t.b,c=t.c,u=t.d,d=t.tx,f=t.ty,p=this.minX,T=this.minY,x=this.maxX,k=this.maxY,B=i;B<r;B+=2){var $=e[B],q=e[B+1],ee=a*$+c*q+d,se=u*q+l*$+f;p=Math.min(p,ee-o),x=Math.max(x,ee+o),T=Math.min(T,se-s),k=Math.max(k,se+s)}this.minX=p,this.minY=T,this.maxX=x,this.maxY=k},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>o?t.maxY:o},n.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=o&&r<=s){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>c?o:c,this.maxY=s>u?s:u}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=o&&r<=s){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>c?o:c,this.maxY=s>u?s:u}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,o,s){e-=s,i+=o,r+=s,this.minX=this.minX<(t-=o)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n}(),LI=function(n,t){return(LI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function FI(n,t){function e(){this.constructor=n}LI(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var to=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new kI,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new tm,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return FI(t,n),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var o=i[r];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(e,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new wi),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new wi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new tm);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=i,this._bounds=o,this._bounds.updateID+=this._boundsID-s,a},t.prototype.toGlobal=function(e,i,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},t.prototype.toLocal=function(e,i,r,o){return i&&(e=i.toGlobal(e,r,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,i,r,o,s,a,l,c,u){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0),this.position.x=e,this.position.y=i,this.scale.x=r||1,this.scale.y=o||1,this.rotation=s,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new BI),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*wj},set:function(e){this.transform.rotation=e*Mj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask!==e&&(this._mask&&((i=this._mask.maskObject||this._mask)._maskRefCount--,0===i._maskRefCount&&(i.renderable=!0,i.isMask=!1)),this._mask=e,this._mask&&(0===(i=this._mask.maskObject||this._mask)._maskRefCount&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++))},enumerable:!1,configurable:!0}),t}(Z_()),BI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return FI(t,n),t}(to);to.prototype.displayObjectUpdateTransform=to.prototype.updateTransform;var WC=(()=>{return(n=WC||(WC={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",WC;var n})();function pme(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var Br=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=Ut.SORTABLE_CHILDREN,e.sortDirty=!1,e}return FI(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.addChild(i[o]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},t.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},t.prototype.swapChildren=function(e,i){if(e!==i){var r=this.getChildIndex(e),o=this.getChildIndex(i);this.children[r]=i,this.children[o]=e,this.onChildrenChange(r<o?r:o)}},t.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);Df(this.children,r,1),this.children.splice(i,0,e),this.onChildrenChange(i)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.removeChild(i[o]);else{var s=i[0],a=this.children.indexOf(s);if(-1===a)return null;s.parent=null,s.transform._parentID=-1,Df(this.children,a,1),this._boundsID++,this.onChildrenChange(a),s.emit("removed",this),this.emit("childRemoved",s,this,a)}return i[0]},t.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,Df(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},t.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var a,s=i-e;if(s>0&&s<=i){a=this.children.splice(e,s);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,i=0,r=this.children.length;i<r;++i){var o=this.children[i];o._lastSortedIndex=i,!e&&0!==o.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(pme),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds(),this._bounds.addBoundsMask(i._bounds,r._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=n.prototype.getLocalBounds.call(this,e);if(!i)for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}},t.prototype.renderAdvanced=function(e){var i=this.filters,r=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}var s=i&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==WC.NONE));s&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this._render(e),o=0;for(var a=this.children.length;o<a;o++)this.children[o].render(e);s&&e.batch.flush(),r&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var o=0;o<r.length;++o)r[o].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),t}(to);Br.prototype.containerUpdateTransform=Br.prototype.updateTransform;var Aj={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};to.mixin(Aj);var UI=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(cl.tablet||cl.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(cl.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.top,a=this.renderer,l=a.width,c=a.height,u=a.resolution,d=e.width/l*u,f=e.height/c*u,p=this.div;p.style.left=e.left+"px",p.style.top=r+"px",p.style.width=l+"px",p.style.height=c+"px";for(var T=0;T<this.children.length;T++){var x=this.children[T];if(x.renderId!==this.renderId)x._accessibleActive=!1,Df(this.children,T,1),this.div.removeChild(x._accessibleDiv),this.pool.push(x._accessibleDiv),x._accessibleDiv=null,T--;else{p=x._accessibleDiv;var k=x.hitArea,B=x.worldTransform;x.hitArea?(p.style.left=(B.tx+k.x*B.a)*d+"px",p.style.top=(B.ty+k.y*B.d)*f+"px",p.style.width=k.width*B.a*d+"px",p.style.height=k.height*B.d*f+"px"):(k=x.getBounds(),this.capHitArea(k),p.style.left=k.x*d+"px",p.style.top=k.y*f+"px",p.style.width=k.width*d+"px",p.style.height=k.height*f+"px",p.title!==x.accessibleTitle&&null!==x.accessibleTitle&&(p.title=x.accessibleTitle),p.getAttribute("aria-label")!==x.accessibleHint&&null!==x.accessibleHint&&p.setAttribute("aria-label",x.accessibleHint)),(x.accessibleTitle!==p.title||x.tabIndex!==p.tabIndex)&&(p.title=x.accessibleTitle,p.tabIndex=x.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();Ut.TARGET_FPMS=.06;var Ac=(()=>{return(n=Ac||(Ac={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",Ac;var n})(),jI=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),us=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new jI(null,null,1/0),this.deltaMS=1/Ut.TARGET_FPMS,this.elapsedMS=1/Ut.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=Ac.NORMAL),this._addListener(new jI(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Ac.NORMAL),this._addListener(new jI(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ut.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Ut.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),Nj=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Ac.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?us.shared:new us,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),GI=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Or,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),HI=function(n,t){return(HI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},kj=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),$C=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),Cme=function(){function n(){this._tempPoint=new Or}return n.prototype.recursiveFindHit=function(t,e,i,r,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,l=o=e.interactive||o,c=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,c=!1)),l=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),c&&e.interactiveChildren&&e.children)for(var u=e.children,d=u.length-1;d>=0;d--){var f=u[d],p=this.recursiveFindHit(t,f,i,r,l);if(p){if(!f.parent)continue;l=!1,p&&(t.target&&(r=!1),a=!0)}}return o&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},n.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},n}(),Lj={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};to.mixin(Lj);var KC={target:null,data:{global:null}},VI=function(n){function t(e,i){var r=n.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new GI,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new kj,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Cme,r._tempDisplayObject=new BI,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function Sme(n,t){function e(){this.constructor=n}HI(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,i){return KC.target=null,KC.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(KC,i,null,!0),KC.target},t.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(us.system.add(this.tickerUpdate,this,Ac.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(us.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":i&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,r)}else i&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,i,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=i,e.emit(i,r),e[i]&&e[i](r))},t.prototype.delayDispatchEvent=function(e,i,r){this.delayedEvents.push({displayObject:e,eventString:i,eventData:r})},t.prototype.mapPositionToPoint=function(e,i,r){var o;o=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=this.interactionDOMElement.width/o.width*(i-o.left)*s,e.y=this.interactionDOMElement.height/o.height*(r-o.top)*s},t.prototype.processInteractive=function(e,i,r,o){var s=this.search.findHit(e,i,r,o),a=this.delayedEvents;if(!a.length)return s;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var c=0;c<l;c++){var u=a[c],d=u.displayObject,f=u.eventString,p=u.eventData;p.stopsPropagatingAt===d&&(p.stopPropagationHint=!0),this.dispatchEvent(d,f,p)}return s},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var o=i.length,s=0;s<o;s++){var a=i[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),"touch"===a.pointerType?this.emit("touchstart",c):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,i,r){var o=e.data,s=e.data.identifier;if(r)if(i.trackedPointers[s]||(i.trackedPointers[s]=new $C(s)),this.dispatchEvent(i,"pointerdown",e),"touch"===o.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;a?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,i,r){for(var o=this.normalizeToPointerData(e),s=o.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var c=o[l],u=this.getInteractionDataForPointerId(c),d=this.configureInteractionEventForDOMEvent(this.eventData,c,u);d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,r,i||!a),this.emit(i?"pointercancel":"pointerup"+a,d),"mouse"===c.pointerType||"pen"===c.pointerType?this.emit(2===c.button?"rightup"+a:"mouseup"+a,d):"touch"===c.pointerType&&(this.emit(i?"touchcancel":"touchend"+a,d),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,i){var r=e.data,o=e.data.identifier;void 0!==i.trackedPointers[o]&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(i,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,i,r){var o=e.data,s=e.data.identifier,a=i.trackedPointers[s],l="touch"===o.pointerType,c="mouse"===o.pointerType||"pen"===o.pointerType,u=!1;if(c){var d=2===o.button,f=$C.FLAGS,T=void 0!==a&&a.flags&(d?f.RIGHT_DOWN:f.LEFT_DOWN);r?(this.dispatchEvent(i,d?"rightup":"mouseup",e),T&&(this.dispatchEvent(i,d?"rightclick":"click",e),u=!0)):T&&this.dispatchEvent(i,d?"rightupoutside":"mouseupoutside",e),a&&(d?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(i,"pointerup",e),l&&this.dispatchEvent(i,"touchend",e),a&&((!c||u)&&this.dispatchEvent(i,"pointertap",e),l&&(this.dispatchEvent(i,"tap",e),a.over=!1))):a&&(this.dispatchEvent(i,"pointerupoutside",e),l&&this.dispatchEvent(i,"touchendoutside",e)),a&&a.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=i.length,o=0;o<r;o++){var s=i[o],a=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===s.pointerType&&this.emit("touchmove",l),("mouse"===s.pointerType||"pen"===s.pointerType)&&this.emit("mousemove",l)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,i,r){var o=e.data,s="touch"===o.pointerType,a="mouse"===o.pointerType||"pen"===o.pointerType;a&&this.processPointerOverOut(e,i,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(i,"pointermove",e),s&&this.dispatchEvent(i,"touchmove",e),a&&this.dispatchEvent(i,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e)[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(e,i,r){var o=e.data,s=e.data.identifier,a="mouse"===o.pointerType||"pen"===o.pointerType,l=i.trackedPointers[s];r&&!l&&(l=i.trackedPointers[s]=new $C(s)),void 0!==l&&(r&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",e),a&&this.delayDispatchEvent(i,"mouseover",e)),a&&null===this.cursor&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),a&&this.dispatchEvent(i,"mouseout",e),l.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(e){var r=this.normalizeToPointerData(e)[0],o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(e){var r,i=e.pointerId;return 1===i||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[i]?r=this.activeInteractionData[i]:((r=this.interactionDataPool.pop()||new GI).identifier=i,this.activeInteractionData[i]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(e,i,r){return e.data=r,this.mapPositionToPoint(r.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=r.global.x,i.globalY=r.global.y),r.originalEvent=i,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,o=e.changedTouches.length;r<o;r++){var s=e.changedTouches[r];void 0===s.button&&(s.button=e.touches.length?1:0),void 0===s.buttons&&(s.buttons=e.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,i.push(a)}else i.push(e);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Z_()),Ps=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,d=c.items;this._aliasCount++;for(var f=0,p=d.length;f<p;f++)d[f][u](t,e,i,r,o,s,a,l);return d===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(Ps.prototype,{dispatch:{value:Ps.prototype.emit},run:{value:Ps.prototype.emit}}),Ut.PREFER_ENV=cl.any?ls.WEBGL:ls.WEBGL2,Ut.STRICT_TEXTURE_CACHE=!1;var Jy=[];function qC(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=Jy.length-1;r>=0;--r){var o=Jy[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var zI=function(n,t){return(zI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Pr(n,t){function e(){this.constructor=n}zI(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var WI=function(){return WI=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},WI.apply(this,arguments)},Uf=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ps("setRealSize"),this.onUpdate=new Ps("update"),this.onError=new Ps("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),nm=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return Pr(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===cs.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Uf),Tme={scaleMode:Lo.NEAREST,format:mt.RGBA,alphaMode:cs.NPM},Ai=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,d=i.wrapMode,f=i.format,p=i.type,T=i.target,x=i.resolution;return e&&!(e instanceof Uf)&&((e=qC(e,i.resourceOptions)).internal=!0),r.resolution=x||Ut.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:Ut.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:Ut.ANISOTROPIC_LEVEL,r._wrapMode=d||Ut.WRAP_MODE,r._scaleMode=void 0!==l?l:Ut.SCALE_MODE,r.format=f||mt.RGBA,r.type=p||Wt.UNSIGNED_BYTE,r.target=T||ja.TEXTURE_2D,r.alphaMode=void 0!==o?o:cs.UNPACK,r.uid=ch(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Pr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=AI(this.realWidth)&&AI(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Hl[this.cacheId],delete Ga[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=Ut.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+ch()),s=e._pixiId);var l=Hl[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new nm(e,{width:i,height:r}),a=e instanceof Float32Array?Wt.FLOAT:Wt.UNSIGNED_BYTE;return new t(s,Object.assign(Tme,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Hl[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),Hl[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Hl[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Hl[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete Hl[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Z_()),JC=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Ai;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Pr(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof Uf?e[r]:qC(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(o){return o.resource}).filter(function(o){return o}).map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(Uf),YI=function(n){function t(e,i){var l,c,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return Pr(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ja.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var u=0;u<s;u++){var d=l[u];a[u]<d.dirtyId&&(a[u]=d.dirtyId,d.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,d.resource.width,d.resource.height,1,i.format,r.type,d.resource.source))}return!0},t}(JC),Cu=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return Pr(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=Tj(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===cs.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Uf),Zy=function(n){function t(e){return n.call(this,e)||this}return Pr(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Cu),$I=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=ja.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return Pr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ja.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=ja.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(JC),ZC=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;Cu.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Ut.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return Pr(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===cs.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Cu),XI=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return Pr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;Cu.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+ch(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Cu),KI=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Cu.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,d=c.mime,f=(u=u||e[a]).split("?").shift().toLowerCase(),p=f.substr(f.lastIndexOf(".")+1);d=d||t.MIME_TYPES[p]||"video/"+p,l.src=u,l.type=d,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return Pr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-us.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(us.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(us.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(us.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(us.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(us.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Cu),qI=function(n){function t(e){return n.call(this,e)||this}return Pr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(Cu);Jy.push(ZC,qI,Zy,KI,XI,nm,$I,YI);var Fj={__proto__:null,Resource:Uf,BaseImageResource:Cu,INSTALLED:Jy,autoDetectResource:qC,AbstractMultiResource:JC,ArrayResource:YI,BufferResource:nm,CanvasResource:Zy,CubeResource:$I,ImageResource:ZC,SVGResource:XI,VideoResource:KI,ImageBitmapResource:qI},wme=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Pr(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===cs.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(nm),QC=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ps("disposeFramebuffer"),this.multisample=oi.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Ai(null,{scaleMode:Lo.NEAREST,resolution:1,mipmap:_a.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ai(new wme(null,{width:this.width,height:this.height}),{scaleMode:Lo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_a.OFF,format:mt.DEPTH_COMPONENT,type:Wt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),Qy=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:oi.NONE,(i=n.call(this,null,e)||this).mipmap=_a.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new QC(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return Pr(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Ai),JI=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,c=t.y/o+a;i=Fr.add(i,Fr.NW),this.x0=l+s*Fr.uX(i),this.y0=c+a*Fr.uY(i),i=Fr.add(i,2),this.x1=l+s*Fr.uX(i),this.y1=c+a*Fr.uY(i),i=Fr.add(i,2),this.x2=l+s*Fr.uX(i),this.y2=c+a*Fr.uY(i),i=Fr.add(i,2),this.x3=l+s*Fr.uX(i),this.y3=c+a*Fr.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),Bj=new JI,un=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new wi(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=Bj,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Or(a.x,a.y):new Or(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Pr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&Ga[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===Bj&&(this._uvs=new JI),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=Ut.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Ai?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+ch(),Ai.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+ch()),s=e._pixiId);var l=Ga[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Ai?!l&&e instanceof Ai&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=Xy(e)),(l=new t(new Ai(e,i))).baseTexture.cacheId=s,Ai.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(Ai.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new Ai(e,Object.assign({scaleMode:Ut.SCALE_MODE,resolution:Xy(i)},o)),a=s.resource;a instanceof ZC&&(a.url=i);var l=new t(s);return r||(r=i),Ai.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Ai.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Ga[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Ga[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Ga[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Ga[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)Ga[e.textureCacheIds[o]]===e&&delete Ga[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Z_());function eE(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}un.EMPTY=new un(new Ai),eE(un.EMPTY),eE(un.EMPTY.baseTexture),un.WHITE=function Mme(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new un(new Ai(new Zy(n)))}(),eE(un.WHITE),eE(un.WHITE.baseTexture);var Vl=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Pr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(Su("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new Qy(e))},t}(un),Uj=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=oi.NONE);var r=new Qy(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new Vl(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=oi.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=$y(t)))<<16|65535&(e=$y(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||oi.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),ZI=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Wt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),Ome=0,Uo=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Ome++,this.disposeRunner=new Ps("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Bo.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Bo.ELEMENT_ARRAY_BUFFER:Bo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),Pme={Float32Array,Uint32Array,Int32Array,Uint8Array},jj={5126:4,5123:2,5121:1},Ime=0,Ame={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},im=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ime++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ps("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Uo||(e instanceof Array&&(e=new Float32Array(e)),e=new Uo(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,o);return this}var d=this.buffers.indexOf(e);return-1===d&&(this.buffers.push(e),d=this.buffers.length-1),this.attributes[t]=new ZI(d,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Uo||(t instanceof Array&&(t=new Uint16Array(t)),t=new Uo(t)),t.type=Bo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new Uo;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*jj[o.type]/4),o.buffer=0}for(i.data=function xme(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],u=n[o],d=HC(u);r[d]||(r[d]=new Pme[d](s)),a=r[d];for(var f=0;f<u.length;f++)a[(f/c|0)*i+l+f%c]=u[f];l+=c}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Uo(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new ZI(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Bo.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(Ame[HC(s.buffers[a].data)])(r[a]),e.buffers[a]=new Uo(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Bo.ELEMENT_ARRAY_BUFFER;var c=0,u=0,d=0,f=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){f=a;break}for(var a in s.attributes){var p=s.attributes[a];(0|p.buffer)===f&&(u+=p.size*jj[p.type]/4)}for(a=0;a<t.length;a++){var T=t[a].indexBuffer.data;for(l=0;l<T.length;l++)e.indexBuffer.data[l+d]+=c;c+=t[a].buffers[f].data.length/u,d+=T.length}}return e},n}(),Gj=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Pr(t,n),t}(im),QI=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Uo(e.vertices),e.uvBuffer=new Uo(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Pr(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(im),Dme=0,uh=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Dme++,this.static=!!e,this.ubo=!!i,t instanceof Uo?(this.buffer=t,this.buffer.type=Bo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Uo(new Float32Array(1)),this.buffer.type=Bo.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),Hj=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=oi.NONE,this.sourceFrame=new wi,this.destinationFrame=new wi,this.bindingSourceFrame=new wi,this.bindingDestinationFrame=new wi,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),tE=[new Or,new Or,new Or,new Or],e2=new tr,t2=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Uj,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Gj,this.quadUv=new QI,this.tempRect=new wi,this.activeState={},this.globalUniforms=new uh({outputFrame:new wi,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new Hj,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,d=e[0].padding,f=e[0].autoFit,p=null===(i=e[0].legacy)||void 0===i||i,T=1;T<e.length;T++){var x=e[T];c=Math.min(c,x.resolution),u=Math.min(u,x.multisample),d=this.useMaxPadding?Math.max(d,x.padding):d+x.padding,f=f&&x.autoFit,p=p||null===(r=x.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=c,a.multisample=u,a.legacy=p,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(d),f){var k=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(e2.copyFrom(o.projection.transform).invert(),k),a.sourceFrame.fit(k)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var B=this.tempRect;B.x=0,B.y=0,B.width=a.sourceFrame.width,B.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,B),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Ys.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,e.resolution);d.filterFrame=u.filterFrame;var f=0;for(f=0;f<i.length-1;++f){1===f&&e.multisample>1&&((d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[f].apply(this,u,d,Ys.CLEAR,e);var p=u;u=d,d=p}i[f].apply(this,u,c.renderTexture,Ys.BLEND,e),f>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Ys.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Ys.CLEAR||e===Ys.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Os.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Os.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(tr.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=oi.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||oi.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=tE[0],r=tE[1],o=tE[2],s=tE[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),c=Math.max(i.x,r.x,o.x,s.x),u=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,c=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}(o=o?e2.copyFrom(o):e2.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),e0=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),n2=function(){function n(t){this.renderer=t,this.emptyRenderer=new e0(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=o[c],d=u._batchLocation;if(d>=0&&d<r&&e[d]===u)s[c]=d;else for(;l<r;){var f=e[l];if(!f||f._batchEnabled!==i||f._batchLocation!==l){s[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),Vj=0,r2=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Vj++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Vj++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(Ut.PREFER_ENV>=ls.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),zj=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=oi.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Rme=new wi,o2=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new QC(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new wi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Ut.PREFER_ENV===ls.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=ah.COLOR|ah.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new zj(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var c=o[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var f=t.depthTexture;this.renderer.texture.bind(f,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=oi.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=oi.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var c=o.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=o.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new QC(o.width,o.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=Rme).width=o.width,e.height=o.height),i||(i=e);var d=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new wi},n.prototype.destroy=function(){this.renderer=null},n}(),s2={5126:4,5123:2,5121:1},a2=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;Ut.PREFER_ENV===ls.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,c){return r.drawElementsInstancedANGLE(o,s,a,l,c)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var d=t.buffers,f=t.attributes,p={},T={};for(var x in d)p[x]=0,T[x]=0;for(var x in f)!f[x].size&&a.attributeData[x]?f[x].size=a.attributeData[x].size:f[x].size||console.warn("PIXI Geometry attribute '"+x+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[f[x].buffer]+=f[x].size*s2[f[x].type];for(var x in f){var k=f[x],B=k.size;void 0===k.stride&&(k.stride=p[k.buffer]===B*s2[k.type]?0:p[k.buffer]),void 0===k.start&&(k.start=T[k.buffer],T[k.buffer]+=B*s2[k.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var $=0;$<d.length;$++){var q=d[$];s.bind(q),i&&q._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var u in r)if("g"===u[0]){var d=r[u];this._activeVao===d&&this.unbind(),o.deleteVertexArray(d)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],d=s[u.buffer],f=d._glBuffers[r];if(e.attributeData[c]){l!==f&&(o.bind(d),l=f);var p=e.attributeData[c].location;if(i.enableVertexAttribArray(p),i.vertexAttribPointer(p,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(p,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),Wj=function(){function n(t){void 0===t&&(t=null),this.type=Ui.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ut.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ui.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function Yj(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function $j(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||o[c]||(o[c]=!0,0))}),a=[""];s.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function l2(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function Xj(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return l2(2*t);case"bvec3":return l2(3*t);case"bvec4":return l2(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var nE,Kj={},t0=Kj;function qj(){if(t0===Kj||t0&&t0.isContextLost()){var n=document.createElement("canvas"),t=void 0;Ut.PREFER_ENV>=ls.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),t0=t}return t0}function Jj(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Fo.HIGH&&e!==Fo.HIGH&&(i=Fo.MEDIUM),"precision "+i+" float;\n"+n}return e!==Fo.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Lme={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Zj(n){return Lme[n]}var iE=null,Qj={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function eG(n,t){if(!iE){var e=Object.keys(Qj);iE={};for(var i=0;i<e.length;++i){var r=e[i];iE[n[r]]=Qj[r]}}return iE[t]}var n0,jf=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Fme={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Bme={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},jme=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Gme(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function tG(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=jme.replace(/%forloop%/gi,Gme(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var Wme=0,rE={},rm=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Wme++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),rE[i]?(rE[i]++,i+="-"+rE[i]):rE[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=Jj(this.vertexSrc,Ut.PRECISION_VERTEX,Fo.HIGH),this.fragmentSrc=Jj(this.fragmentSrc,Ut.PRECISION_FRAGMENT,function kme(){if(!nE){nE=Fo.MEDIUM;var n=qj();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);nE=t.precision?Fo.HIGH:Fo.MEDIUM}}return nE}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=RI[r];return o||(RI[r]=o=new n(t,e,i)),o},n}(),ad=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof uh?e:new uh(e):new uh({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(rm.from(t,e),i)},n}(),dh=function(){function n(){this.data=0,this.blendMode=ht.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==ht.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),ld=function(n){function t(e,i,r){var o=this,s=rm.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=Ut.FILTER_RESOLUTION,o.multisample=Ut.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new dh,o}return Pr(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(ad),nG=new tr,oE=function(){function n(t,e){this._texture=t,this.mapCoord=new tr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(nG.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(nG));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/s.width,a[1]=(e._frame.y+l+c)/s.height,a[2]=(e._frame.x+e._frame.width-l+c)/s.width,a[3]=(e._frame.y+e._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),iG=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new tr,o}return Pr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new oE(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(ld),g2=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Wj;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==Ui.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ui.SCISSOR:this.renderer.scissor.push(i);break;case Ui.STENCIL:this.renderer.stencil.push(i);break;case Ui.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===Ui.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ui.SCISSOR:this.renderer.scissor.pop();break;case Ui.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ui.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===Ui.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?Ui.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?Ui.SCISSOR:Ui.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new iG]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var d=l.current;c=t.resolution||d.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:d.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=c,s[0].multisample=u,s[0].maskSprite=r;var f=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=f,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),rG=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),oG=new tr,_2=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return Pr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?oG.copyFrom(s):oG.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(rG),m2=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return Pr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(rG),v2=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new tr,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),Gf=new wi,r0=new wi,y2=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new wi,this.destinationFrame=new wi,this.viewportFrame=new wi}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(Gf.width=t.frame.width,Gf.height=t.frame.height,e=Gf),i||(r0.x=t.frame.x,r0.y=t.frame.y,r0.width=e.width,r0.height=e.height,i=r0),s=o.framebuffer):(a=r.resolution,e||(Gf.width=r.screen.width,Gf.height=r.screen.height,e=Gf),i||((i=Gf).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,c=s.width,u=s.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function qme(n,t,e,i,r){e.buffer.update(r)}var Jme={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},sG={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function aG(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=sG[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}function lG(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}function cG(n,t){if(!n.autoManage)return{size:0,syncFunc:qme};for(var i=aG(lG(n.uniforms,t)),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,d=!1,f=0;f<jf.length;f++){var p=jf[f];if(p.codeUbo&&p.test(l.data,c)){s.push("offset = "+l.offset/4+";",jf[f].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){var T=Zj(l.data.type),x=Math.max(sG[l.data.type]/16,1),k=T/x;s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*x+"; i++)\n                {\n                    for(var j = 0; j < "+k+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-k%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+Jme[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var Zme=function n(){},uG=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function dG(n,t){var e=Yj(n,n.VERTEX_SHADER,t.vertexSrc),i=Yj(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function Nme(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||$j(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||$j(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function Qme(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=eG(t,o.type),a={type:s,name:o.name,size:Zj(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function eve(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=eG(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:Xj(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(u,d){return u>d?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:Xj(l.type,l.size)}}return new uG(r,a)}var tve=0,sE={textureCount:0,uboCount:0},b2=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=tve++}return n.prototype.systemCheck=function(){if(!function Hme(){if("boolean"==typeof n0)return n0;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");n0=!0===n({a:"b"},"a","b")}catch(t){n0=!1}return n0}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(sE.textureCount=0,sE.uboCount=0,this.syncUniformGroup(t.uniformGroup,sE)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function Ume(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<jf.length;l++)if(jf[l].test(o,s)){i.push(jf[l].code(r,s)),a=!0;break}if(!a){var u=(1===o.size?Fme:Bme)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,sE,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=cG(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=dG(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),S2=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ht.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new dh,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function nve(n,t){return void 0===t&&(t=[]),t[ht.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.ADD]=[n.ONE,n.ONE],t[ht.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.NONE]=[0,0],t[ht.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[ht.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[ht.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[ht.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[ht.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[ht.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[ht.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[ht.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[ht.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[ht.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),C2=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Ut.GC_MAX_IDLE,this.checkCountMax=Ut.GC_MAX_CHECK_COUNT,this.mode=Ut.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Q_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),aE=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Wt.UNSIGNED_BYTE,this.internalFormat=mt.RGBA,this.samplerType=0},E2=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ai,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function cve(n){var t,e,i,r,o,s,a,l,c,u,d,f,p,T,x,k,B,$,q,ee,se,ae,Ee;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Wt.UNSIGNED_BYTE]=((e={})[mt.RGBA]=n.RGBA8,e[mt.RGB]=n.RGB8,e[mt.RG]=n.RG8,e[mt.RED]=n.R8,e[mt.RGBA_INTEGER]=n.RGBA8UI,e[mt.RGB_INTEGER]=n.RGB8UI,e[mt.RG_INTEGER]=n.RG8UI,e[mt.RED_INTEGER]=n.R8UI,e[mt.ALPHA]=n.ALPHA,e[mt.LUMINANCE]=n.LUMINANCE,e[mt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Wt.BYTE]=((i={})[mt.RGBA]=n.RGBA8_SNORM,i[mt.RGB]=n.RGB8_SNORM,i[mt.RG]=n.RG8_SNORM,i[mt.RED]=n.R8_SNORM,i[mt.RGBA_INTEGER]=n.RGBA8I,i[mt.RGB_INTEGER]=n.RGB8I,i[mt.RG_INTEGER]=n.RG8I,i[mt.RED_INTEGER]=n.R8I,i),t[Wt.UNSIGNED_SHORT]=((r={})[mt.RGBA_INTEGER]=n.RGBA16UI,r[mt.RGB_INTEGER]=n.RGB16UI,r[mt.RG_INTEGER]=n.RG16UI,r[mt.RED_INTEGER]=n.R16UI,r[mt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Wt.SHORT]=((o={})[mt.RGBA_INTEGER]=n.RGBA16I,o[mt.RGB_INTEGER]=n.RGB16I,o[mt.RG_INTEGER]=n.RG16I,o[mt.RED_INTEGER]=n.R16I,o),t[Wt.UNSIGNED_INT]=((s={})[mt.RGBA_INTEGER]=n.RGBA32UI,s[mt.RGB_INTEGER]=n.RGB32UI,s[mt.RG_INTEGER]=n.RG32UI,s[mt.RED_INTEGER]=n.R32UI,s[mt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[Wt.INT]=((a={})[mt.RGBA_INTEGER]=n.RGBA32I,a[mt.RGB_INTEGER]=n.RGB32I,a[mt.RG_INTEGER]=n.RG32I,a[mt.RED_INTEGER]=n.R32I,a),t[Wt.FLOAT]=((l={})[mt.RGBA]=n.RGBA32F,l[mt.RGB]=n.RGB32F,l[mt.RG]=n.RG32F,l[mt.RED]=n.R32F,l[mt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Wt.HALF_FLOAT]=((c={})[mt.RGBA]=n.RGBA16F,c[mt.RGB]=n.RGB16F,c[mt.RG]=n.RG16F,c[mt.RED]=n.R16F,c),t[Wt.UNSIGNED_SHORT_5_6_5]=((u={})[mt.RGB]=n.RGB565,u),t[Wt.UNSIGNED_SHORT_4_4_4_4]=((d={})[mt.RGBA]=n.RGBA4,d),t[Wt.UNSIGNED_SHORT_5_5_5_1]=((f={})[mt.RGBA]=n.RGB5_A1,f),t[Wt.UNSIGNED_INT_2_10_10_10_REV]=((p={})[mt.RGBA]=n.RGB10_A2,p[mt.RGBA_INTEGER]=n.RGB10_A2UI,p),t[Wt.UNSIGNED_INT_10F_11F_11F_REV]=((T={})[mt.RGB]=n.R11F_G11F_B10F,T),t[Wt.UNSIGNED_INT_5_9_9_9_REV]=((x={})[mt.RGB]=n.RGB9_E5,x),t[Wt.UNSIGNED_INT_24_8]=((k={})[mt.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,k),t[Wt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((B={})[mt.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,B),Ee=t):(($={})[Wt.UNSIGNED_BYTE]=((q={})[mt.RGBA]=n.RGBA,q[mt.RGB]=n.RGB,q[mt.ALPHA]=n.ALPHA,q[mt.LUMINANCE]=n.LUMINANCE,q[mt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,q),$[Wt.UNSIGNED_SHORT_5_6_5]=((ee={})[mt.RGB]=n.RGB,ee),$[Wt.UNSIGNED_SHORT_4_4_4_4]=((se={})[mt.RGBA]=n.RGBA,se),$[Wt.UNSIGNED_SHORT_5_5_5_1]=((ae={})[mt.RGBA]=n.RGBA,ae),Ee=$),Ee}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new aE(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new aE(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==lh.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new aE(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Wt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==lh.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Df(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==_a.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Gl.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==_a.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Lo.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===Lo.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Lo.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Lo.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),hG={__proto__:null,FilterSystem:t2,BatchSystem:n2,ContextSystem:r2,FramebufferSystem:o2,GeometrySystem:a2,MaskSystem:g2,ScissorSystem:_2,StencilSystem:m2,ProjectionSystem:v2,RenderTextureSystem:y2,ShaderSystem:b2,StateSystem:S2,TextureGCSystem:C2,TextureSystem:E2},T2=new tr,w2=function(n){function t(e,i){void 0===e&&(e=Ic.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},Ut.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new wi(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||Ut.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(Su("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Pr(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(Su("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function Eme(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=Vl.create(WI({width:o.width,height:o.height},a));return T2.tx=-o.x,T2.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:T2,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Ic.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=jC(e),sd(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(Z_()),uve=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},dve=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new uve(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),Dc=function(n){function t(e){var i=n.call(this,Ic.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Ps("destroy"),contextChange:new Ps("contextChange"),reset:new Ps("reset"),update:new Ps("update"),postrender:new Ps("postrender"),prerender:new Ps("prerender"),resize:new Ps("resize")},i.runners.contextChange.add(i),i.globalUniforms=new uh({projectionMatrix:new tr},!0),i.addSystem(g2,"mask").addSystem(r2,"context").addSystem(S2,"state").addSystem(b2,"shader").addSystem(E2,"texture").addSystem(dve,"buffer").addSystem(a2,"geometry").addSystem(o2,"framebuffer").addSystem(_2,"scissor").addSystem(m2,"stencil").addSystem(v2,"projection").addSystem(C2,"textureGC").addSystem(t2,"filter").addSystem(y2,"renderTexture").addSystem(n2,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,wI(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return Pr(t,n),t.create=function(e){if(vj())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=oi.HIGH?oi.HIGH:i>=oi.MEDIUM?oi.MEDIUM:i>=oi.LOW?oi.LOW:oi.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof Vl?(Su("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Su("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(w2);function fG(n){return Dc.create(n)}var pG="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",M2="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",pve=function(){function n(t){Su("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),lE=function n(){this.texArray=null,this.blend=0,this.type=Os.TRIANGLES,this.start=0,this.size=0,this.data=null},cE=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),uE=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),gG=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=dh.for2d(),i.size=4*Ut.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return Pr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;Ut.PREFER_ENV===ls.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ut.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=tG(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new lE);for(;i.length<o;)i.push(new cE);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Ai._globalBatch,u=0,d=o[0],f=0;s.copyBoundTextures(a,r);for(var p=0;p<this._bufferSize;++p){var T=i[p];i[p]=null,T._batchEnabled!==c&&(d.count>=r&&(s.boundArray(d,a,c,r),this.buildDrawCalls(d,f,p),f=p,d=o[++u],++c),T._batchEnabled=c,T.touched=l,d.elements[d.count++]=T)}for(d.count>0&&(s.boundArray(d,a,c,r),this.buildDrawCalls(d,f,this._bufferSize),++u,++c),p=0;p<a.length;p++)a[p]=null;Ai._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,u=t._drawCallPool,d=this._dcIndex,f=this._aIndex,p=this._iIndex,T=u[d];T.start=this._iIndex,T.texArray=e;for(var x=i;x<r;++x){var k=s[x],$=PI[k._texture.baseTexture.alphaMode?1:0][k.blendMode];s[x]=null,i<x&&T.blend!==$&&(T.size=p-T.start,i=x,(T=u[++d]).texArray=e,T.start=p),this.packInterleavedGeometry(k,a,l,f,p),f+=k.vertexData.length/2*c,p+=k.indices.length,T.blend=$}i<r&&(T.size=p-T.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=p},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;Ut.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var c=s[l],u=c.texArray,d=c.type,f=c.size,p=c.start,T=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=T,o.set(this.state),r.drawElements(d,f,r.UNSIGNED_SHORT,2*p)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ut.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=$y(Math.ceil(e/8)),r=DI(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new uE(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=$y(Math.ceil(e/12)),r=DI(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,c=o/this.vertexSize,u=e.uvs,d=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,T=Math.min(e.worldAlpha,1),x=T<1&&e._texture.baseTexture.alphaMode?GC(e._tintRGB,T):e._tintRGB+(255*T<<24),k=0;k<f.length;k+=2)l[o++]=f[k],l[o++]=f[k+1],l[o++]=u[k],l[o++]=u[k+1],a[o++]=x,l[o++]=p;for(k=0;k<d.length;k++)r[s++]=c+d[k]},t._drawCallPool=[],t._textureArrayPool=[],t}(e0),_G=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=uh.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new rm(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new tr,default:this.defaultGroupCache[t]};return new ad(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),O2=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new Uo(null,e,!1),i._indexBuffer=new Uo(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Wt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Wt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Wt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Wt.FLOAT).addIndex(i._indexBuffer),i}return Pr(t,n),t}(im),mG="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",vG="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",yG=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:mG,fragment:vG,geometryClass:O2,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new _G(i,r),u.geometryClass=s,u.vertexSize=o,u}return Pr(l,a),l}(gG)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return mG},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return vG},enumerable:!1,configurable:!0}),n}(),bG=yG.create(),SG={},gve=function(n){Object.defineProperty(SG,n,{get:function(){return Su("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),Fj[n]}})};for(var P2 in Fj)gve(P2);var CG={},_ve=function(n){Object.defineProperty(CG,n,{get:function(){return Su("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),hG[n]}})};for(var P2 in hG)_ve(P2);var o0=function(){function n(t){var e=this;this.stage=new Br,t=Object.assign({forceCanvas:!1},t),this.renderer=fG(t),n._plugins.forEach(function(i){i.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var i=this,r=n._plugins.slice(0);r.reverse(),r.forEach(function(o){o.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),mve=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){self.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,r;if(e.cancelResize(),e._resizeTo===self)i=self.innerWidth,r=self.innerHeight;else{var o=e._resizeTo;i=o.clientWidth,r=o.clientHeight}e.renderer.resize(i,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();o0.registerPlugin(mve);var EG=new wi,wG=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,s,e=this.renderer,o=!1,a=!1;t&&(t instanceof Vl?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(i=s.baseTexture.resolution,r=s.frame,o=!1,e.renderTexture.bind(s)):(i=this.renderer.resolution,o=!0,(r=EG).width=this.renderer.width,r.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),c=Math.floor(r.height*i+1e-4),u=new em(l,c,1),d=new Uint8Array(4*l*c),f=e.gl;f.readPixels(r.x*i,r.y*i,l,c,f.RGBA,f.UNSIGNED_BYTE,d);var p=u.context.getImageData(0,0,l,c);if(n.arrayPostDivide(d,p.data),u.context.putImageData(p,0,0),o){var T=new em(u.width,u.height,1);T.context.scale(1,-1),T.context.drawImage(u.canvas,0,-c),u.destroy(),u=T}return a&&s.destroy(!0),u.canvas},n.prototype.pixels=function(t){var i,r,o,e=this.renderer,s=!1;t&&(t instanceof Vl?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(i=o.baseTexture.resolution,r=o.frame,e.renderTexture.bind(o)):(i=e.resolution,(r=EG).width=e.width,r.height=e.height,e.renderTexture.bind(null));var a=r.width*i,l=r.height*i,c=new Uint8Array(4*a*l),u=e.gl;return u.readPixels(r.x*i,r.y*i,a,l,u.RGBA,u.UNSIGNED_BYTE,c),s&&o.destroy(!0),n.arrayPostDivide(c,c),c},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},n}(),dE=function(){function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function MG(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var cd=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},n.prototype.has=function(t){if(!(t instanceof dE))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return MG(this,new dE(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return MG(this,new dE(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof dE))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function OG(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),r={},o=14;o--;)r[e.key[o]]=i[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(s,a,l){a&&(r[e.q.name][a]=l)}),r}var vve=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),hE=null;function xG(){}function IG(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function x2(n){return n.toString().replace("object ","")}var n,o,no=function(){function n(t,e,i){if(this._dequeue=xG,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=xG,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new cd,this.onProgress=new cd,this.onComplete=new cd,this.onAfterMiddleware=new cd}return n.setExtensionLoadType=function(t,e){IG(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){IG(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:vve&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(x2(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(x2(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(x2(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===i&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,hE||(hE=document.createElement("a")),hE.href=t;var i=OG(hE.href,{strictMode:!0});return i.host!==e.hostname||(i.port||""!==e.port)&&i.port!==e.port||(i.protocol?i.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),o=t.indexOf("#"),s=Math.min(r>-1?r:t.length,o>-1?o:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function Hf(){}function Eve(n){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===n)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,i)}}(o=(n=no||(no={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[o.NONE=0]="NONE",o[o.DATA_URL=1]="DATA_URL",o[o.COMPLETE=2]="COMPLETE",o[o.LOADING=4]="LOADING",function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.JSON=1]="JSON",o[o.XML=2]="XML",o[o.IMAGE=3]="IMAGE",o[o.AUDIO=4]="AUDIO",o[o.VIDEO=5]="VIDEO",o[o.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(o){o[o.XHR=1]="XHR",o[o.IMAGE=2]="IMAGE",o[o.AUDIO=3]="AUDIO",o[o.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(o){o.DEFAULT="text",o.BUFFER="arraybuffer",o.BLOB="blob",o.DOCUMENT="document",o.JSON="json",o.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Tve=function n(t,e){this.data=t,this.callback=e},I2=function(){function n(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Hf,this.unsaturated=Hf,this.empty=Hf,this.drain=Hf,this.error=Hf,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(r,o,s){if(s&&"function"!=typeof s)throw new Error("task callback must be a function");if(i.started=!0,null==r&&i.idle())setTimeout(function(){return i.drain()},1);else{var a=new Tve(r,"function"==typeof s?s:Hf);o?i._tasks.unshift(a):i._tasks.push(a),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var r=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(r.data,Eve(i._next(r)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],o=0;o<arguments.length;o++)r[o]=i[o];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=Hf,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,i,r){var o=0,s=t.length;!function a(l){l||o===s?i&&i(l):r?setTimeout(function(){e(t[o++],a)},1):e(t[o++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),wve=/(#[\w-]+)?$/,$s=function(){function n(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this._queue=I2.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new cd,this.onError=new cd,this.onLoad=new cd,this.onStart=new cd,this.onComplete=new cd;for(var r=0;r<n._plugins.length;++r){var o=n._plugins[r],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new no(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var c=o.progressChunk*(s.length+1)/(s.length+2);for(o.children.push(this.resources[t]),o.progressChunk=c,a=0;a<s.length;++a)s[a].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var i,e=OG(t,{strictMode:!0});if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=wve.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,I2.eachSeries(this._beforeMiddleware,function(r,o){r.call(i,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),I2.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();$s.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var AG=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?$s.shared:new $s},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),DG=function(){function n(){}return n.add=function(){no.setExtensionLoadType("svg",no.LOAD_TYPE.XHR),no.setExtensionXhrType("svg",no.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==no.TYPE.IMAGE&&"svg"!==t.extension?e():un.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),RG=self.URL||self.webkitURL;$s.registerPlugin({use:function Pve(n,t){if(n.data){if(n.xhr&&n.xhrType===no.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var i=RG.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=i,n.type=no.TYPE.IMAGE,void(n.data.onload=function(){RG.revokeObjectURL(i),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function Ove(n){for(var t="",e=0;e<n.length;){for(var i=[0,0,0],r=[0,0,0,0],o=0;o<i.length;++o)i[o]=e<n.length?255&n.charCodeAt(e++):0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],e-(n.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return t}(n.xhr.responseText),n.type=no.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),$s.registerPlugin(DG);var sr,qn=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(qn||(qn={})),qn))(),s0=((sr={})[qn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,sr[qn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,sr[qn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,sr[qn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,sr[qn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,sr[qn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,sr[qn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,sr[qn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,sr[qn.COMPRESSED_R11_EAC]=.5,sr[qn.COMPRESSED_SIGNED_R11_EAC]=.5,sr[qn.COMPRESSED_RG11_EAC]=1,sr[qn.COMPRESSED_SIGNED_RG11_EAC]=1,sr[qn.COMPRESSED_RGB8_ETC2]=.5,sr[qn.COMPRESSED_RGBA8_ETC2_EAC]=1,sr[qn.COMPRESSED_SRGB8_ETC2]=.5,sr[qn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,sr[qn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,sr[qn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,sr[qn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,sr[qn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,sr[qn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,sr[qn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,sr[qn.COMPRESSED_RGB_ETC1_WEBGL]=.5,sr[qn.COMPRESSED_RGB_ATC_WEBGL]=.5,sr[qn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,sr[qn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,sr),D2=function(n,t){return(D2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function NG(n,t){function e(){this.constructor=n}D2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var a0,Rc,kG=function(n){function t(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var o,s,r=this;return"string"==typeof e?(o=e,s=new Uint8Array):(o=null,s=e),(r=n.call(this,s,i)||this).origin=o,r.buffer=s?new uE(s):null,r.origin&&!1!==i.autoLoad&&r.load(),s&&s.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return NG(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function xve(n,t,e,i){return new(e||(e=Promise))(function(r,o){function s(c){try{l(i.next(c))}catch(u){o(u)}}function a(c){try{l(i.throw(c))}catch(u){o(u)}}function l(c){c.done?r(c.value):new e(function(u){u(c.value)}).then(s,a)}l((i=i.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var r;return function Ive(n,t){var i,r,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return[4,o.sent().blob()];case 2:return[4,o.sent().arrayBuffer()];case 3:return r=o.sent(),this.data=new Uint32Array(r),this.buffer=new uE(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),[2,this]}})})},t}(nm),fE=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=t._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return NG(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var c=this._levelBuffers[a];o.compressedTexImage2D(o.TEXTURE_2D,c.levelID,this.format,c.levelWidth,c.levelHeight,0,c.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,i,r,o,s,a,l){for(var c=new Array(r),u=e.byteOffset,d=a,f=l,p=d+o-1&~(o-1),T=f+s-1&~(s-1),x=p*T*s0[i],k=0;k<r;k++)c[k]={levelID:k,levelWidth:r>1?d:p,levelHeight:r>1?f:T,levelBuffer:new Uint8Array(e.buffer,u,x)},u+=x,x=(p=(d=d>>1||1)+o-1&~(o-1))*(T=(f=f>>1||1)+s-1&~(s-1))*s0[i];return c},t}(kG),LG=function(){function n(){}return n.use=function(t,e){var i=t.data;if(t.type===no.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var o=i.textures,s=void 0,a=void 0,l=0,c=o.length;l<c;l++){var u=o[l],d=u.src,f=u.format;if(f||(a=d),n.textureFormats[f]){s=d;break}}if(!(s=s||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var p={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},T=Af.resolve(t.url.replace(this.baseUrl,""),s);this.add(i.cacheID,T,p,function(k){if(k.error)e(k.error);else{var B=k.texture,q=k.textures;Object.assign(t,{texture:void 0===B?null:B,textures:void 0===q?{}:q}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in n.textureExtensions=i,n.textureFormats={},i){var o=i[r];!o||Object.assign(n.textureFormats,Object.getPrototypeOf(o))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function FG(n,t,e){var i={textures:{},texture:null};if(!t)return i;var r=t.map(function(o){return new un(new Ai(o,Object.assign({mipmap:_a.OFF,alphaMode:cs.NO_PREMULTIPLIED_ALPHA},e)))});return r.forEach(function(o,s){var a=o.baseTexture,l=n+"-"+(s+1);Ai.addToCache(a,l),un.addToCache(o,l),0===s&&(Ai.addToCache(a,n),un.addToCache(o,n),i.texture=o),i.textures[l]=o}),i}no.setExtensionXhrType("dds",no.XHR_RESPONSE_TYPE.BUFFER);var om,Vf,l0,zl=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(zl||(zl={})),zl))(),mE=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(mE||(mE={})),mE))(),Wve=((a0={})[827611204]=qn.COMPRESSED_RGBA_S3TC_DXT1_EXT,a0[861165636]=qn.COMPRESSED_RGBA_S3TC_DXT3_EXT,a0[894720068]=qn.COMPRESSED_RGBA_S3TC_DXT5_EXT,a0),Yve=((Rc={})[zl.DXGI_FORMAT_BC1_TYPELESS]=qn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Rc[zl.DXGI_FORMAT_BC1_UNORM]=qn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Rc[zl.DXGI_FORMAT_BC2_TYPELESS]=qn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Rc[zl.DXGI_FORMAT_BC2_UNORM]=qn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Rc[zl.DXGI_FORMAT_BC3_TYPELESS]=qn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Rc[zl.DXGI_FORMAT_BC3_UNORM]=qn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Rc[zl.DXGI_FORMAT_BC1_UNORM_SRGB]=qn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Rc[zl.DXGI_FORMAT_BC2_UNORM_SRGB]=qn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Rc[zl.DXGI_FORMAT_BC3_UNORM_SRGB]=qn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Rc),UG=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,FG(t.name||t.url,n.parse(t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),o=r[3],s=r[4],a=r[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),c=l[1];if(4&c){var u=l[2];if(808540228!==u){var d=Wve[u],p=new Uint8Array(t,128);return[new fE(p,{format:d,width:s,height:o,levels:a})]}var k=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),B=k[0],$=k[1],q=k[2],ee=k[3],se=Yve[B];if(void 0===se)throw new Error("DDSLoader cannot parse texture data with DXGI format "+B);if(4===q)throw new Error("DDSLoader does not support cubemap textures");if($===mE.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var ae=new Array;if(1===ee)ae.push(new Uint8Array(t,148));else{for(var Ce=s0[se],ge=0,ve=s,Ve=o,Pe=0;Pe<a;Pe++)ge+=Math.max(1,ve+3&-4)*Math.max(1,Ve+3&-4)*Ce,ve>>>=1,Ve>>>=1;var Ne=148;for(Pe=0;Pe<ee;Pe++)ae.push(new Uint8Array(t,Ne,ge)),Ne+=ge}return ae.map(function(ke){return new fE(ke,{format:se,width:s,height:o,levels:a})})}throw 64&c?new Error("DDSLoader does not support uncompressed texture data."):512&c?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&c?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&c?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();no.setExtensionXhrType("ktx",no.XHR_RESPONSE_TYPE.BUFFER);var jG=[171,75,84,88,32,49,49,187,13,10,26,10],N2=((om={})[Wt.UNSIGNED_BYTE]=1,om[Wt.UNSIGNED_SHORT]=2,om[Wt.FLOAT]=4,om[Wt.HALF_FLOAT]=8,om),GG=((Vf={})[mt.RGBA]=4,Vf[mt.RGB]=3,Vf[mt.LUMINANCE]=1,Vf[mt.LUMINANCE_ALPHA]=2,Vf[mt.ALPHA]=1,Vf),HG=((l0={})[Wt.UNSIGNED_SHORT_4_4_4_4]=2,l0[Wt.UNSIGNED_SHORT_5_5_5_1]=2,l0[Wt.UNSIGNED_SHORT_5_6_5]=2,l0),VG=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,FG(i,n.parse(i,t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t,e){var i=new DataView(e);if(!n.validate(t,i))return null;var r=67305985===i.getUint32(12,!0),o=i.getUint32(16,r),s=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),c=i.getUint32(40,r)||1,u=i.getUint32(44,r)||1,d=i.getUint32(48,r)||1,f=i.getUint32(52,r),p=i.getUint32(56,r),T=i.getUint32(60,r);if(0===c||1!==u)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");var se,B=l+3&-4,$=c+3&-4,q=new Array(d),ee=l*c;if(0===o&&(ee=B*$),void 0===(se=0!==o?N2[o]?N2[o]*GG[s]:HG[o]:s0[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Ee=ee*se,Ce=l,ge=c,ve=B,Ve=$,Pe=64+T,De=0;De<p;De++){for(var Ye=i.getUint32(Pe,r),Ge=Pe+4,Ne=0;Ne<d;Ne++){var ke=q[Ne];ke||(ke=q[Ne]=new Array(p)),ke[De]={levelID:De,levelWidth:p>1?Ce:ve,levelHeight:p>1?ge:Ve,levelBuffer:new Uint8Array(e,Ge,Ee)},Ge+=Ee}Pe=(Pe+=Ye+4)%4!=0?Pe+4-Pe%4:Pe,Ee=(ve=(Ce=Ce>>1||1)+4-1&-4)*(Ve=(ge=ge>>1||1)+4-1&-4)*se}if(0!==o)throw new Error("TODO: Uncompressed");return q.map(function($e){return new fE(null,{format:a,width:l,height:c,levels:p,levelBuffers:$e})})},n.validate=function(t,e){for(var i=0;i<jG.length;i++)if(e.getUint8(i)!==jG[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),k2=function(n,t){return(k2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function zG(n,t){function e(){this.constructor=n}k2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var WG=function(n){function t(e,i,r,o){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===o&&(o=!1);var s=n.call(this)||this;return r>16384&&(r=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=r,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=ht.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return zG(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,sd(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Br),YG=function(){function n(t,e,i){this.geometry=new im,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var o=t[r];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Wt.FLOAT,offset:o.offset},e[r]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Uo(bj(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(r=this.dynamicProperties[i]).offset=e,e+=r.size,this.dynamicStride+=r.size;var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Uo(this.dynamicData,!1,!1);var s=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(r=this.staticProperties[i]).offset=s,s+=r.size,this.staticStride+=r.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Uo(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)t.addAttribute((r=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,r.type===Wt.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset);for(i=0;i<this.staticProperties.length;++i){var r;t.addAttribute((r=this.staticProperties[i]).attributeName,this.staticBuffer,0,r.type===Wt.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}},n.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var o=this.dynamicProperties[r];o.uploadFunction(t,e,i,o.type===Wt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var o=this.staticProperties[r];o.uploadFunction(t,e,i,o.type===Wt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),$G=function(n){function t(e){var i=n.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new tr,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Wt.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=ad.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=dh.for2d(),i}return zG(t,n),t.prototype.render=function(e){var i=e.children,r=e._maxSize,o=e._batchSize,s=this.renderer,a=i.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var c=i[0]._texture.baseTexture;this.state.blendMode=xI(e.blendMode,c.alphaMode),s.state.set(this.state);var u=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=yj(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var f=!1,p=0,T=0;p<a;p+=o,T+=1){var x=a-p;x>o&&(x=o),T>=l.length&&l.push(this._generateOneMoreBuffer(e));var k=l[T];k.uploadDynamic(i,p,x),(f=f||k._updateID<(e._bufferUpdateIDs[T]||0))&&(k._updateID=e._updateID,k.uploadStatic(i,p,x)),s.geometry.bind(k.geometry),u.drawElements(u.TRIANGLES,6*x,u.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var i=[],r=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<r;a+=o)i.push(new YG(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(e){return new YG(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,i,r,o,s,a){for(var l=0,c=0,u=0,d=0,f=0;f<r;++f){var p=e[i+f],T=p._texture,x=p.scale.x,k=p.scale.y,B=T.trim,$=T.orig;B?(l=(c=B.x-p.anchor.x*$.width)+B.width,u=(d=B.y-p.anchor.y*$.height)+B.height):(l=$.width*(1-p.anchor.x),c=$.width*-p.anchor.x,u=$.height*(1-p.anchor.y),d=$.height*-p.anchor.y),o[a]=c*x,o[a+1]=d*k,o[a+s]=l*x,o[a+s+1]=d*k,o[a+2*s]=l*x,o[a+2*s+1]=u*k,o[a+3*s]=c*x,o[a+3*s+1]=u*k,a+=4*s}},t.prototype.uploadPosition=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var c=e[i+l].position;o[a]=c.x,o[a+1]=c.y,o[a+s]=c.x,o[a+s+1]=c.y,o[a+2*s]=c.x,o[a+2*s+1]=c.y,o[a+3*s]=c.x,o[a+3*s+1]=c.y,a+=4*s}},t.prototype.uploadRotation=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var c=e[i+l].rotation;o[a]=c,o[a+s]=c,o[a+2*s]=c,o[a+3*s]=c,a+=4*s}},t.prototype.uploadUvs=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var c=e[i+l]._texture._uvs;c?(o[a]=c.x0,o[a+1]=c.y0,o[a+s]=c.x1,o[a+s+1]=c.y1,o[a+2*s]=c.x2,o[a+2*s+1]=c.y2,o[a+3*s]=c.x3,o[a+3*s+1]=c.y3,a+=4*s):(o[a]=0,o[a+1]=0,o[a+s]=0,o[a+s+1]=0,o[a+2*s]=0,o[a+2*s+1]=0,o[a+3*s]=0,o[a+3*s+1]=0,a+=4*s)}},t.prototype.uploadTint=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var c=e[i+l],d=c.alpha,f=d<1&&c._texture.baseTexture.alphaMode>0?GC(c._tintRGB,d):c._tintRGB+(255*d<<24);o[a]=f,o[a+s]=f,o[a+2*s]=f,o[a+3*s]=f,a+=4*s}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(e0),Eu=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(Eu||(Eu={})),Eu))(),Tu=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(Tu||(Tu={})),Tu))(),sm={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},L2=function(){function n(){this.color=16777215,this.alpha=1,this.texture=un.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=un.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),F2=function(n,t){return(F2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function B2(n,t){function e(){this.constructor=n}F2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var U2={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,i=n.holes,r=t.points,o=t.indices;if(e.length>=6){for(var s=[],a=0;a<i.length;a++){var l=i[a];s.push(e.length/2),e=e.concat(l.points)}var c=CI()(e,s,2);if(!c)return;var u=r.length/2;for(a=0;a<c.length;a+=3)o.push(c[a]+u),o.push(c[a+1]+u),o.push(c[a+2]+u);for(a=0;a<e.length;a++)r.push(e[a])}}},j2={build:function(n){var o,s,t=n.shape,e=n.points,i=t.x,r=t.y;if(e.length=0,n.type===Fi.CIRC)o=t.radius,s=t.radius;else{var a=n.shape;o=a.width,s=a.height}if(0!==o&&0!==s){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(o+s));l/=2.3;for(var c=2*Math.PI/l,u=0;u<l-.5;u++)e.push(i+Math.sin(-c*u)*o,r+Math.cos(-c*u)*s);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=o,a=n.shape,l=n.matrix,c=a.x,u=a.y;i.push(n.matrix?l.a*c+l.c*u+l.tx:c,n.matrix?l.b*c+l.d*u+l.ty:u);for(var d=0;d<e.length;d+=2)i.push(e[d],e[d+1]),r.push(o++,s,o)}},XG={build:function(n){var t=n.shape,e=t.x,i=t.y,r=t.width,o=t.height,s=n.points;s.length=0,s.push(e,i,e+r,i,e+r,i+o,e,i+o)},triangulate:function(n,t){var e=n.points,i=t.points,r=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function am(n,t,e){return n+(t-n)*e}function vE(n,t,e,i,r,o,s){void 0===s&&(s=[]);for(var l=s,c=0,u=0,d=0,f=0,p=0,T=0,x=0,k=0;x<=20;++x)c=am(n,e,k=x/20),u=am(t,i,k),d=am(e,r,k),f=am(i,o,k),p=am(c,d,k),T=am(u,f,k),(0!==x||l[l.length-2]!==p||l[l.length-1]!==T)&&l.push(p,T);return l}var KG={build:function(n){var t=n.shape,e=n.points,i=t.x,r=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));e.length=0,a?(vE(i,r+a,i,r,i+a,r,e),vE(i+o-a,r,i+o,r,i+o,r+a,e),vE(i+o,r+s-a,i+o,r+s,i+o-a,r+s,e),vE(i+a,r+s,i,r+s,i,r+s-a,e)):e.push(i,r,i+o,r,i+o,r+s,i,r+s)},triangulate:function(n,t){for(var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=CI()(e,null,2),a=0,l=s.length;a<l;a+=3)r.push(s[a]+o),r.push(s[a+1]+o),r.push(s[a+2]+o);for(a=0,l=e.length;a<l;a++)i.push(e[a],e[++a])}};function qG(n,t,e,i,r,o,s,a){var f,p;s?(f=i,p=-e):(f=-i,p=e);var k=n+e*o+f,B=t+i*o+p;return a.push(n-e*r+f,t-i*r+p),a.push(k,B),2}function lm(n,t,e,i,r,o,s,a){var l=e-n,c=i-t,u=Math.atan2(l,c),d=Math.atan2(r-n,o-t);a&&u<d?u+=2*Math.PI:!a&&u>d&&(d+=2*Math.PI);var f=u,p=d-u,T=Math.abs(p),x=Math.sqrt(l*l+c*c),k=1+(15*T*Math.sqrt(x)/Math.PI>>0),B=p/k;if(f+=B,a){s.push(n,t),s.push(e,i);for(var $=1,q=f;$<k;$++,q+=B)s.push(n,t),s.push(n+Math.sin(q)*x,t+Math.cos(q)*x);s.push(n,t),s.push(r,o)}else{for(s.push(e,i),s.push(n,t),$=1,q=f;$<k;$++,q+=B)s.push(n+Math.sin(q)*x,t+Math.cos(q)*x),s.push(n,t);s.push(r,o),s.push(n,t)}return 2*k}function G2(n,t){n.lineStyle.native?function Zve(n,t){var e=0,i=n.shape,r=n.points||i.points,o=i.type!==Fi.POLY||i.closeStroke;if(0!==r.length){var s=t.points,a=t.indices,l=r.length/2,c=s.length/2,u=c;for(s.push(r[0],r[1]),e=1;e<l;e++)s.push(r[2*e],r[2*e+1]),a.push(u,u+1),u++;o&&a.push(u,c)}}(n,t):function Jve(n,t){var e=n.shape,i=n.points||e.points.slice(),r=t.closePointEps;if(0!==i.length){var o=n.lineStyle,s=new Or(i[0],i[1]),a=new Or(i[i.length-2],i[i.length-1]),l=e.type!==Fi.POLY||e.closeStroke,c=Math.abs(s.x-a.x)<r&&Math.abs(s.y-a.y)<r;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var u=.5*(s.x+a.x),d=.5*(a.y+s.y);i.unshift(u,d),i.push(u,d)}var f=t.points,p=i.length/2,T=i.length,x=f.length/2,k=o.width/2,B=k*k,$=o.miterLimit*o.miterLimit,q=i[0],ee=i[1],se=i[2],ae=i[3],Ee=0,Ce=0,ge=-(ee-ae),ve=q-se,Ve=0,Pe=0,De=Math.sqrt(ge*ge+ve*ve);ge/=De,ve/=De,ge*=k,ve*=k;var Ye=o.alignment,Ge=2*(1-Ye),Ne=2*Ye;l||(o.cap===Tu.ROUND?T+=lm(q-ge*(Ge-Ne)*.5,ee-ve*(Ge-Ne)*.5,q-ge*Ge,ee-ve*Ge,q+ge*Ne,ee+ve*Ne,f,!0)+2:o.cap===Tu.SQUARE&&(T+=qG(q,ee,ge,ve,Ge,Ne,!0,f))),f.push(q-ge*Ge,ee-ve*Ge),f.push(q+ge*Ne,ee+ve*Ne);for(var ke=1;ke<p-1;++ke){Ee=i[2*(ke+1)],Ce=i[2*(ke+1)+1],ge=-((ee=i[2*(ke-1)+1])-(ae=i[2*ke+1])),ve=(q=i[2*(ke-1)])-(se=i[2*ke]),ge/=De=Math.sqrt(ge*ge+ve*ve),ve/=De,ge*=k,ve*=k,Ve=-(ae-Ce),Pe=se-Ee,Ve/=De=Math.sqrt(Ve*Ve+Pe*Pe),Pe/=De,Ve*=k,Pe*=k;var $e=se-q,gt=ee-ae,we=se-Ee,st=Ce-ae,ft=gt*we-st*$e,St=ft<0;if(Math.abs(ft)<.1)f.push(se-ge*Ge,ae-ve*Ge),f.push(se+ge*Ne,ae+ve*Ne);else{var Ft=(-ge+q)*(-ve+ae)-(-ge+se)*(-ve+ee),At=(-Ve+Ee)*(-Pe+ae)-(-Ve+se)*(-Pe+Ce),Xt=($e*At-we*Ft)/ft,tn=(st*Ft-gt*At)/ft,kn=(Xt-se)*(Xt-se)+(tn-ae)*(tn-ae),yn=se+(Xt-se)*Ge,hn=ae+(tn-ae)*Ge,Kt=se-(Xt-se)*Ne,On=ae-(tn-ae)*Ne,cr=St?Ge:Ne;kn<=Math.min($e*$e+gt*gt,we*we+st*st)+cr*cr*B?o.join===Eu.BEVEL||kn/B>$?(St?(f.push(yn,hn),f.push(se+ge*Ne,ae+ve*Ne),f.push(yn,hn),f.push(se+Ve*Ne,ae+Pe*Ne)):(f.push(se-ge*Ge,ae-ve*Ge),f.push(Kt,On),f.push(se-Ve*Ge,ae-Pe*Ge),f.push(Kt,On)),T+=2):o.join===Eu.ROUND?St?(f.push(yn,hn),f.push(se+ge*Ne,ae+ve*Ne),T+=lm(se,ae,se+ge*Ne,ae+ve*Ne,se+Ve*Ne,ae+Pe*Ne,f,!0)+4,f.push(yn,hn),f.push(se+Ve*Ne,ae+Pe*Ne)):(f.push(se-ge*Ge,ae-ve*Ge),f.push(Kt,On),T+=lm(se,ae,se-ge*Ge,ae-ve*Ge,se-Ve*Ge,ae-Pe*Ge,f,!1)+4,f.push(se-Ve*Ge,ae-Pe*Ge),f.push(Kt,On)):(f.push(yn,hn),f.push(Kt,On)):(f.push(se-ge*Ge,ae-ve*Ge),f.push(se+ge*Ne,ae+ve*Ne),o.join===Eu.BEVEL||kn/B>$||(o.join===Eu.ROUND?T+=St?lm(se,ae,se+ge*Ne,ae+ve*Ne,se+Ve*Ne,ae+Pe*Ne,f,!0)+2:lm(se,ae,se-ge*Ge,ae-ve*Ge,se-Ve*Ge,ae-Pe*Ge,f,!1)+2:(St?(f.push(Kt,On),f.push(Kt,On)):(f.push(yn,hn),f.push(yn,hn)),T+=2)),f.push(se-Ve*Ge,ae-Pe*Ge),f.push(se+Ve*Ne,ae+Pe*Ne),T+=2)}}ge=-((ee=i[2*(p-2)+1])-(ae=i[2*(p-1)+1])),ve=(q=i[2*(p-2)])-(se=i[2*(p-1)]),ge/=De=Math.sqrt(ge*ge+ve*ve),ve/=De,f.push(se-(ge*=k)*Ge,ae-(ve*=k)*Ge),f.push(se+ge*Ne,ae+ve*Ne),l||(o.cap===Tu.ROUND?T+=lm(se-ge*(Ge-Ne)*.5,ae-ve*(Ge-Ne)*.5,se-ge*Ge,ae-ve*Ge,se+ge*Ne,ae+ve*Ne,f,!1)+2:o.cap===Tu.SQUARE&&(T+=qG(se,ae,ge,ve,Ge,Ne,!1,f)));var To=t.indices,br=sm.epsilon*sm.epsilon;for(ke=x;ke<T+x-2;++ke)q=f[2*ke],ee=f[2*ke+1],se=f[2*(ke+1)],ae=f[2*(ke+1)+1],Ee=f[2*(ke+2)],Ce=f[2*(ke+2)+1],!(Math.abs(q*(ae-Ce)+se*(Ce-ee)+Ee*(ee-ae))<br)&&To.push(ke,ke+1,ke+2)}}(n,t)}var zf,H2=function(){function n(){}return n.curveTo=function(t,e,i,r,o,s){var c=s[s.length-1]-e,u=s[s.length-2]-t,d=r-e,f=i-t,p=Math.abs(c*f-u*d);if(p<1e-8||0===o)return(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e),null;var T=c*c+u*u,x=d*d+f*f,k=c*d+u*f,B=o*Math.sqrt(T)/p,$=o*Math.sqrt(x)/p,q=B*k/T,ee=$*k/x,se=B*f+$*u,ae=B*d+$*c,ge=f*(B+ee),ve=d*(B+ee);return{cx:se+t,cy:ae+e,radius:o,startAngle:Math.atan2(c*($+q)-ae,u*($+q)-se),endAngle:Math.atan2(ve-ae,ge-se),anticlockwise:u*d>f*c}},n.arc=function(t,e,i,r,o,s,a,l,c){for(var u=a-s,d=sm._segmentsCount(Math.abs(u)*o,40*Math.ceil(Math.abs(u)/Ky)),f=u/(2*d),p=2*f,T=Math.cos(f),x=Math.sin(f),k=d-1,B=k%1/k,$=0;$<=k;++$){var ee=f+s+p*($+B*$),se=Math.cos(ee),ae=-Math.sin(ee);c.push((T*se+x*ae)*o+i,(T*-ae+x*se)*o+r)}},n}(),JG=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s,a,l){for(var u=0,d=0,f=0,p=0,T=0,x=0,k=0,B=0,$=0,q=0,ee=0,se=t,ae=e,Ee=1;Ee<=10;++Ee)q=se-(B=(k=(x=(T=1-(d=Ee/10))*T)*T)*t+3*x*d*i+3*T*(f=d*d)*o+(p=f*d)*a),ee=ae-($=k*e+3*x*d*r+3*T*f*s+p*l),se=B,ae=$,u+=Math.sqrt(q*q+ee*ee);return u},n.curveTo=function(t,e,i,r,o,s,a){var l=a[a.length-2],c=a[a.length-1];a.length-=2;var u=sm._segmentsCount(n.curveLength(l,c,t,e,i,r,o,s)),d=0,f=0,p=0,T=0,x=0;a.push(l,c);for(var k=1,B=0;k<=u;++k)a.push((p=(f=(d=1-(B=k/u))*d)*d)*l+3*f*B*t+3*d*(T=B*B)*i+(x=T*B)*o,p*c+3*f*B*e+3*d*T*r+x*s)},n}(),ZG=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s){var a=t-2*i+o,l=e-2*r+s,c=2*i-2*t,u=2*r-2*e,d=4*(a*a+l*l),f=4*(a*c+l*u),p=c*c+u*u,T=2*Math.sqrt(d+f+p),x=Math.sqrt(d),k=2*d*x,B=2*Math.sqrt(p),$=f/x;return(k*T+x*f*(T-B)+(4*p*d-f*f)*Math.log((2*x+$+T)/($+B)))/(4*k)},n.curveTo=function(t,e,i,r,o){for(var s=o[o.length-2],a=o[o.length-1],l=sm._segmentsCount(n.curveLength(s,a,t,e,i,r)),c=0,u=0,d=1;d<=l;++d){var f=d/l;o.push((c=s+(t-s)*f)+(t+(i-t)*f-c)*f,(u=a+(e-a)*f)+(e+(r-e)*f-u)*f)}},n}(),QG=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),yE=((zf={})[Fi.POLY]=U2,zf[Fi.CIRC]=j2,zf[Fi.ELIP]=j2,zf[Fi.RECT]=XG,zf[Fi.RREC]=KG,zf),V2=[],c0=[];function Qve(n){for(var t=n.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var z2=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),cm=new Or,eye=new tm,e7=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new tm,e.boundsDirty=-1,e}return B2(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),c0.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),V2.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null);var s=new z2(e,i,r,o);return this.graphicsData.push(s),this.dirty++,this},t.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var r=new z2(e,null,null,i),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var i=this.graphicsData,r=0;r<i.length;++r){var o=i[r];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,cm):cm.copyFrom(e),o.shape.contains(cm.x,cm.y))){var s=!1;if(o.holes)for(var a=0;a<o.holes.length;a++)if(o.holes[a].shape.contains(cm.x,cm.y)){s=!0;break}if(!s)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,r=this.graphicsData,o=null,s=null;this.batches.length>0&&(s=(o=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var l=r[a],c=l.fillStyle,u=l.lineStyle;yE[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var f=0;f<2;f++){var p=0===f?c:u;if(p.visible){var x=this.indices.length,k=this.points.length/2;p.texture.baseTexture.wrapMode=Gl.REPEAT,0===f?this.processFill(l):this.processLine(l);var B=this.points.length/2-k;0!==B&&(o&&!this._compareStyles(s,p)&&(o.end(x,k),o=null),o||((o=V2.pop()||new QG).begin(p,x,k),this.batches.push(o),s=p),this.addUvs(this.points,i,p.texture,k,B,p.matrix))}}}var q=this.points.length/2;if(o&&o.end(this.indices.length,q),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=q>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var r=this.graphicsData[e],o=r.fillStyle,s=r.lineStyle;if(o&&!o.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,r=e.length;i<r;i++)for(var o=e[i],s=0;s<o.size;s++){var a=o.start+s;this.indicesUint16[a]=this.indicesUint16[a]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Ai._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),c0.push(this.drawCalls[i]);this.drawCalls.length=0;var r=this.colors,o=this.textureIds,s=c0.pop();s||((s=new lE).texArray=new cE),s.texArray.count=0,s.start=0,s.size=0,s.type=Os.TRIANGLES;var a=0,l=null,c=0,u=!1,d=Os.TRIANGLES,f=0;for(this.drawCalls.push(s),i=0;i<this.batches.length;i++){var p=this.batches[i],x=p.style,k=x.texture.baseTexture;u!==!!x.native&&(d=(u=!!x.native)?Os.LINES:Os.TRIANGLES,l=null,a=8,e++),l!==k&&(l=k,k._batchEnabled!==e&&(8===a&&(e++,a=0,s.size>0&&((s=c0.pop())||((s=new lE).texArray=new cE),this.drawCalls.push(s)),s.start=f,s.size=0,s.texArray.count=0,s.type=d),k.touched=1,k._batchEnabled=e,k._batchLocation=a,k.wrapMode=Gl.REPEAT,s.texArray.elements[s.texArray.count++]=k,a++)),s.size+=p.size,f+=p.size,c=k._batchLocation,this.addColors(r,x.color,x.alpha,p.attribSize,p.attribStart),this.addTextureIds(o,c,p.attribSize,p.attribStart)}Ai._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,r=this.colors,o=this.textureIds,s=new ArrayBuffer(3*e.length*4),a=new Float32Array(s),l=new Uint32Array(s),c=0,u=0;u<e.length/2;u++)a[c++]=e[2*u],a[c++]=e[2*u+1],a[c++]=i[2*u],a[c++]=i[2*u+1],l[c++]=r[u],a[c++]=o[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),U2.triangulate(e,this)):yE[e.type].triangulate(e,this)},t.prototype.processLine=function(e){G2(e,this);for(var i=0;i<e.holes.length;i++)G2(e.holes[i],this)},t.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var r=e[i];yE[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,i=eye,r=tr.IDENTITY;this._bounds.clear(),i.clear();for(var o=0;o<this.graphicsData.length;o++){var s=this.graphicsData[o],a=s.shape,l=s.type,c=s.lineStyle,u=s.matrix||tr.IDENTITY,d=0;if(c&&c.visible){var f=c.alignment;d=c.width,l===Fi.POLY?Qve(a)?d*=1-f:d*=f:d*=Math.max(0,f)}r!==u&&(i.isEmpty()||(e.addBoundsMatrix(i,r),i.clear()),r=u),l===Fi.RECT||l===Fi.RREC?i.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,d,d):l===Fi.CIRC?i.addFramePad(a.x,a.y,a.x,a.y,a.radius+d,a.radius+d):l===Fi.ELIP?i.addFramePad(a.x,a.y,a.x,a.y,a.width+d,a.height+d):e.addVerticesMatrix(r,a.points,0,a.points.length,d,d)}i.isEmpty()||e.addBoundsMatrix(i,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,i){for(var r=0;r<e.length/2;r++){var o=e[2*r],s=e[2*r+1];e[2*r]=i.a*o+i.c*s+i.tx,e[2*r+1]=i.b*o+i.d*s+i.ty}},t.prototype.addColors=function(e,i,r,o,s){void 0===s&&(s=0);var l=GC((i>>16)+(65280&i)+((255&i)<<16),r);e.length=Math.max(e.length,s+o);for(var c=0;c<o;c++)e[s+c]=l},t.prototype.addTextureIds=function(e,i,r,o){void 0===o&&(o=0),e.length=Math.max(e.length,o+r);for(var s=0;s<r;s++)e[o+s]=i},t.prototype.addUvs=function(e,i,r,o,s,a){void 0===a&&(a=null);for(var l=0,c=i.length,u=r.frame;l<s;){var d=e[2*(o+l)],f=e[2*(o+l)+1];if(a){var p=a.a*d+a.c*f+a.tx;f=a.b*d+a.d*f+a.ty,d=p}l++,i.push(d/u.width,f/u.height)}var T=r.baseTexture;(u.width<T.width||u.height<T.height)&&this.adjustUvs(i,r,c,s)},t.prototype.adjustUvs=function(e,i,r,o){for(var s=i.baseTexture,a=1e-6,l=r+2*o,c=i.frame,u=c.width/s.width,d=c.height/s.height,f=c.x/c.width,p=c.y/c.height,T=Math.floor(e[r]+a),x=Math.floor(e[r+1]+a),k=r+2;k<l;k+=2)T=Math.min(T,Math.floor(e[k]+a)),x=Math.min(x,Math.floor(e[k+1]+a));for(f-=T,p-=x,k=r;k<l;k+=2)e[k]=(e[k]+f)*u,e[k+1]=(e[k+1]+p)*d},t.BATCHABLE_SIZE=100,t}(O2),t7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Tu.BUTT,e.join=Eu.MITER,e.miterLimit=10,e}return B2(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(L2),tye=new Float32Array(3),W2={},Wl=function(n){function t(e){void 0===e&&(e=null);var i=n.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new L2,i._lineStyle=new t7,i._matrix=null,i._holeMode=!1,i.state=dh.for2d(),i._geometry=e||new e7,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=ht.NORMAL,i}return B2(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,i,r,o,s){return void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=.5),void 0===s&&(s=!1),"number"==typeof e&&(e={width:e,color:i,alpha:r,alignment:o,native:s}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:un.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Tu.BUTT,join:Eu.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new qy,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new qy,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points;return(r[r.length-2]!==e||r[r.length-1]!==i)&&r.push(e,i),this},t.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},t.prototype.quadraticCurveTo=function(e,i,r,o){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),ZG.curveTo(e,i,r,o,s),this},t.prototype.bezierCurveTo=function(e,i,r,o,s,a){return this._initCurve(),JG.curveTo(e,i,r,o,s,a,this.currentPath.points),this},t.prototype.arcTo=function(e,i,r,o,s){this._initCurve(e,i);var l=H2.curveTo(e,i,r,o,s,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,i,r,o,s,a){if(void 0===a&&(a=!1),o===s)return this;if(!a&&s<=o?s+=Ky:a&&o<=s&&(o+=Ky),0==s-o)return this;var c=e+Math.cos(o)*r,u=i+Math.sin(o)*r,d=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var p=Math.abs(f[f.length-2]-c),T=Math.abs(f[f.length-1]-u);p<d&&T<d||f.push(c,u)}else this.moveTo(c,u),f=this.currentPath.points;return H2.arc(c,u,e,i,r,o,s,a,f),this},t.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:un.WHITE,color:e,alpha:i})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:un.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,i,r,o){return this.drawShape(new wi(e,i,r,o))},t.prototype.drawRoundedRect=function(e,i,r,o,s){return this.drawShape(new xj(e,i,r,o,s))},t.prototype.drawCircle=function(e,i,r){return this.drawShape(new Oj(e,i,r))},t.prototype.drawEllipse=function(e,i,r,o){return this.drawShape(new Pj(e,i,r,o))},t.prototype.drawPolygon=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var o,s=!0,a=i[0];a.points?(s=a.closeStroke,o=a.points):o=Array.isArray(i[0])?i[0]:i;var l=new qy(o);return l.closeStroke=s,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==Fi.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var o=0;o<r;o++){var s=e.batches[o],a=s.style.color,l=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),c=new Float32Array(e.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),d={vertexData:l,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*s.start,s.size),uvs:c,_batchRGB:sd(a),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[o]=d}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var o=this.batches[i];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),r=this._geometry,o=this.tint,s=this.worldAlpha,a=i.uniforms,l=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(o>>16&255)/255*s,a.tint[1]=(o>>8&255)/255*s,a.tint[2]=(255&o)/255*s,a.tint[3]=s,e.shader.bind(i),e.geometry.bind(r,i),e.state.set(this.state);for(var c=0,u=l.length;c<u;c++)this._renderDrawCallDirect(e,r.drawCalls[c])},t.prototype._renderDrawCallDirect=function(e,i){for(var r=i.texArray,o=i.type,s=i.size,a=i.start,l=r.count,c=0;c<l;c++)e.texture.bind(r.elements[c],c);e.geometry.draw(o,s,a)},t.prototype._resolveDirectShader=function(e){var i=this.shader,r=this.pluginName;if(!i){if(!W2[r]){for(var o=e.plugins.batch.MAX_TEXTURES,s=new Int32Array(o),a=0;a<o;a++)s[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new tr,default:uh.from({uSamplers:s},!0)};W2[r]=new ad(e.plugins[r]._shader.program,l)}i=W2[r]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=sd(this.tint,tye),i=0;i<this.batches.length;i++){var r=this.batches[i],o=r._batchRGB,c=(e[0]*o[0]*255<<16)+(e[1]*o[1]*255<<8)+(0|e[2]*o[2]*255);r._tintRGB=(c>>16)+(65280&c)+((255&c)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,c=i.ty,u=this._geometry.points,d=this.vertexData,f=0,p=0;p<u.length;p+=2){var T=u[p],x=u[p+1];d[f++]=r*T+s*x+l,d[f++]=a*x+o*T+c}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new Or,t}(Br),nye={buildPoly:U2,buildCircle:j2,buildRectangle:XG,buildRoundedRectangle:KG,buildLine:G2,ArcUtils:H2,BezierUtils:JG,QuadraticUtils:ZG,BatchPart:QG,FILL_COMMANDS:yE,BATCH_POOL:V2,DRAW_CALL_POOL:c0},Y2=function(n,t){return(Y2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},u0=new Or,rye=new Uint16Array([0,1,2,0,2,3]),xs=function(n){function t(e){var i=n.call(this)||this;return i._anchor=new Nf(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=ht.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||un.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=rye,i.pluginName="batch",i.isSprite=!0,i._roundPixels=Ut.ROUND_PIXELS,i}return function iye(n,t){function e(){this.constructor=n}Y2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Rf(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Rf(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,c=i.ty,u=this.vertexData,d=e.trim,f=e.orig,p=this._anchor,T=0,x=0,k=0,B=0;if(d?(T=(x=d.x-p._x*f.width)+d.width,k=(B=d.y-p._y*f.height)+d.height):(T=(x=-p._x*f.width)+f.width,k=(B=-p._y*f.height)+f.height),u[0]=r*x+s*B+l,u[1]=a*B+o*x+c,u[2]=r*T+s*B+l,u[3]=a*B+o*T+c,u[4]=r*T+s*k+l,u[5]=a*k+o*T+c,u[6]=r*x+s*k+l,u[7]=a*k+o*x+c,this._roundPixels)for(var $=Ut.RESOLUTION,q=0;q<u.length;++q)u[q]=Math.round((u[q]*$|0)/$)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,r=this._texture.orig,o=this._anchor,s=this.transform.worldTransform,a=s.a,l=s.b,c=s.c,u=s.d,d=s.tx,f=s.ty,p=-o._x*r.width,T=p+r.width,x=-o._y*r.height,k=x+r.height;i[0]=a*p+c*x+d,i[1]=u*x+l*p+f,i[2]=a*T+c*x+d,i[3]=u*x+l*T+f,i[4]=a*T+c*k+d,i[5]=u*k+l*T+f,i[6]=a*p+c*k+d,i[7]=u*k+l*p+f},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new tm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new wi),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,u0);var i=this._texture.orig.width,r=this._texture.orig.height,o=-i*this.anchor.x,s=0;return u0.x>=o&&u0.x<o+i&&u0.y>=(s=-r*this.anchor.y)&&u0.y<s+r},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,i){return new t(e instanceof un?e:un.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=Rf(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=Rf(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||un.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Br),$2=function(n,t){return($2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Wf=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Wf||(Wf={})),Wf))(),X2={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Wf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},sye=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Yf=function(){function n(t){this.styleID=0,this.reset(),q2(this,t,t)}return n.prototype.clone=function(){var t={};return q2(t,this,X2),new n(t)},n.prototype.reset=function(){q2(this,X2,X2)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=K2(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=K2(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function aye(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=K2(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&sye.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function n7(n){return"number"==typeof n?jC(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function K2(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=n7(n[t]);return n}return n7(n)}function q2(n,t,e){for(var i in e)n[i]=Array.isArray(t[i])?t[i].slice():t[i]}var ul=function(){function n(t,e,i,r,o,s,a,l,c){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}return n.measureText=function(t,e,i,r){void 0===r&&(r=n._canvas),i=null==i?e.wordWrap:i;var o=e.toFontString(),s=n.measureFont(o);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var a=r.getContext("2d");a.font=o;for(var c=(i?n.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(c.length),d=0,f=0;f<c.length;f++){var p=a.measureText(c[f]).width+(c[f].length-1)*e.letterSpacing;u[f]=p,d=Math.max(d,p)}var T=d+e.strokeThickness;e.dropShadow&&(T+=e.dropShadowDistance);var x=e.lineHeight||s.fontSize+e.strokeThickness,k=Math.max(x,s.fontSize+e.strokeThickness)+(c.length-1)*(x+e.leading);return e.dropShadow&&(k+=e.dropShadowDistance),new n(t,e,T,k,c,u,x+e.leading,d,s)},n.wordWrap=function(t,e,i){void 0===i&&(i=n._canvas);for(var r=i.getContext("2d"),o=0,s="",a="",l=Object.create(null),c=e.letterSpacing,u=e.whiteSpace,d=n.collapseSpaces(u),f=n.collapseNewlines(u),p=!d,T=e.wordWrapWidth+c,x=n.tokenize(t),k=0;k<x.length;k++){var B=x[k];if(n.isNewline(B)){if(!f){a+=n.addLine(s),p=!d,s="",o=0;continue}B=" "}if(d){var $=n.isBreakingSpace(B),q=n.isBreakingSpace(s[s.length-1]);if($&&q)continue}var ee=n.getFromCache(B,c,l,r);if(ee>T)if(""!==s&&(a+=n.addLine(s),s="",o=0),n.canBreakWords(B,e.breakWords))for(var se=n.wordWrapSplit(B),ae=0;ae<se.length;ae++){for(var Ee=se[ae],Ce=1;se[ae+Ce];){var ge=se[ae+Ce];if(n.canBreakChars(Ee[Ee.length-1],ge,B,ae,e.breakWords))break;Ee+=ge,Ce++}ae+=Ee.length-1;var Ve=n.getFromCache(Ee,c,l,r);Ve+o>T&&(a+=n.addLine(s),p=!1,s="",o=0),s+=Ee,o+=Ve}else s.length>0&&(a+=n.addLine(s),s="",o=0),a+=n.addLine(B,!(k===x.length-1)),p=!1,s="",o=0;else ee+o>T&&(p=!1,a+=n.addLine(s),s="",o=0),(s.length>0||!n.isBreakingSpace(B)||p)&&(s+=B,o+=ee)}return a+n.addLine(s,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,i,r){var o=i[t];if("number"!=typeof o){var s=t.length*e;o=r.measureText(t).width+s,i[t]=o}return o},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var o=t[r];n.isBreakingSpace(o,t[r+1])||n.isNewline(o)?(""!==i&&(e.push(i),i=""),e.push(o)):i+=o}return""!==i&&e.push(i),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,i,r,o){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=n._canvas,r=n._context;r.font=t;var o=n.METRICS_STRING+n.BASELINE_SYMBOL,s=Math.ceil(r.measureText(o).width),a=Math.ceil(r.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,i.width=s,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,s,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,a);var c=r.getImageData(0,0,s,l).data,u=c.length,d=4*s,f=0,p=0,T=!1;for(f=0;f<a;++f){for(var x=0;x<d;x+=4)if(255!==c[p+x]){T=!0;break}if(T)break;p+=d}for(e.ascent=a-f,p=u-d,T=!1,f=l;f>a;--f){for(x=0;x<d;x+=4)if(255!==c[p+x]){T=!0;break}if(T)break;p-=d}return e.descent=f-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),bE=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();bE.width=bE.height=10,ul._canvas=bE,ul._context=bE.getContext("2d"),ul._fonts={},ul.METRICS_STRING="|\xc9q\xc5",ul.BASELINE_SYMBOL="M",ul.BASELINE_MULTIPLIER=1.4,ul.HEIGHT_MULTIPLIER=2,ul._newlines=[10,13],ul._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var lye={texture:!0,children:!1,baseTexture:!0},d0=function(n){function t(e,i,r){var o=this,s=!1;r||(r=document.createElement("canvas"),s=!0),r.width=3,r.height=3;var a=un.from(r);return a.orig=new wi,a.trim=new wi,(o=n.call(this,a)||this)._ownCanvas=s,o.canvas=r,o.context=o.canvas.getContext("2d"),o._resolution=Ut.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=i,o.localStyleID=-1,o}return function oye(n,t){function e(){this.constructor=n}$2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,o=ul.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.height,l=o.lines,c=o.lineHeight,u=o.lineWidths,d=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=i.strokeThickness,r.textBaseline=i.textBaseline,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit;for(var p,T,x=i.dropShadow?2:1,k=0;k<x;++k){var B=i.dropShadow&&0===k,$=B?Math.ceil(Math.max(1,a)+2*i.padding):0,q=$*this._resolution;if(B){r.fillStyle="black",r.strokeStyle="black";var ee=i.dropShadowColor,se=sd("number"==typeof ee?ee:ma(ee)),ae=i.dropShadowBlur*this._resolution,Ee=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+255*se[0]+","+255*se[1]+","+255*se[2]+","+i.dropShadowAlpha+")",r.shadowBlur=ae,r.shadowOffsetX=Math.cos(i.dropShadowAngle)*Ee,r.shadowOffsetY=Math.sin(i.dropShadowAngle)*Ee+q}else r.fillStyle=this._generateFillStyle(i,l,o),r.strokeStyle=i.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;var Ce=(c-f.fontSize)/2;(!t.nextLineHeightBehavior||c-f.fontSize<0)&&(Ce=0);for(var ge=0;ge<l.length;ge++)p=i.strokeThickness/2,T=i.strokeThickness/2+ge*c+f.ascent+Ce,"right"===i.align?p+=d-u[ge]:"center"===i.align&&(p+=(d-u[ge])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[ge],p+i.padding,T+i.padding-$,!0),i.fill&&this.drawLetterSpacing(l[ge],p+i.padding,T+i.padding-$)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,o){void 0===o&&(o=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(o?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var c=i,u=Array.from?Array.from(e):e.split(""),d=this.context.measureText(e).width,f=0,p=0;p<u.length;++p){var T=u[p];o?this.context.strokeText(T,c,r):this.context.fillText(T,c,r);for(var x="",k=p+1;k<u.length;++k)x+=u[k];c+=d-(f=this.context.measureText(x).width)+a,d=f}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=Cj(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var r=this._texture,o=this._style,s=o.trim?0:o.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-2*s,r.orig.height=r._frame.height-2*s,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,i,r){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-2*l,u=this.canvas.height/this._resolution-a-2*l,d=o.slice(),f=e.fillGradientStops.slice();if(!f.length)for(var p=d.length+1,T=1;T<p;++T)f.push(T/p);if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),e.fillGradientType===Wf.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,l,c/2,u+l);var x=r.fontProperties.fontSize+e.strokeThickness;for(T=0;T<i.length;T++){var k=r.lineHeight*(T-1)+x,B=r.lineHeight*T,$=B;T>0&&k>B&&($=(B+k)/2);var q=B+x,ee=r.lineHeight*(T+1),se=q;T+1<i.length&&ee<q&&(se=(q+ee)/2);for(var ae=(se-$)/u,Ee=0;Ee<d.length;Ee++){var ge=Math.min(1,Math.max(0,$/u+("number"==typeof f[Ee]?f[Ee]:Ee/d.length)*ae));ge=Number(ge.toFixed(5)),s.addColorStop(ge,d[Ee])}}}else{s=this.context.createLinearGradient(l,u/2,c+l,u/2);var ve=d.length+1,Ve=1;for(T=0;T<d.length;T++)s.addColorStop("number"==typeof f[T]?f[T]:Ve/ve,d[T]),Ve++}return s},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},lye,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=Rf(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=Rf(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof Yf?e:new Yf(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(xs);Ut.UPLOADS_PER_FRAME=4;var J2=function(n,t){return(J2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},i7=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function uye(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var i=0;i<n._textures.length;i++)if(n._textures[i]instanceof un){var r=n._textures[i].baseTexture;-1===t.indexOf(r)&&(t.push(r),e=!0)}return e}function dye(n,t){if(n.baseTexture instanceof Ai){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function hye(n,t){if(n._texture&&n._texture instanceof un){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function fye(n,t){return t instanceof d0&&(t.updateText(!0),!0)}function pye(n,t){if(t instanceof Yf){var e=t.toFontString();return ul.measureFont(e),!0}return!1}function gye(n,t){if(n instanceof d0){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function _ye(n,t){return n instanceof Yf&&(-1===t.indexOf(n)&&t.push(n),!0)}var Z2=function(){function n(t){var e=this;this.limiter=new i7(Ut.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(gye),this.registerFindHook(_ye),this.registerFindHook(uye),this.registerFindHook(dye),this.registerFindHook(hye),this.registerUploadHook(fye),this.registerUploadHook(pye)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,us.system.addOnce(this.tick,this,Ac.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)us.system.addOnce(this.tick,this,Ac.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);for(this.completes.length=0,i=0,r=o.length;i<r;i++)o[i]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Br)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&us.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function r7(n,t){return t instanceof Ai&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function mye(n,t){if(!(t instanceof Wl))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var i=e.batches,r=0;r<i.length;r++){var o=i[r].style.texture;o&&r7(n,o.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function vye(n,t){return n instanceof Wl&&(t.push(n),!0)}var o7=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(vye),i.registerUploadHook(r7),i.registerUploadHook(mye),i}return function cye(n,t){function e(){this.constructor=n}J2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(Z2),yye=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),s7=function(){function n(t,e,i){void 0===i&&(i=null),this._texture=t instanceof un?t:null,this.baseTexture=t instanceof Ai?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=Xy(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,i=n.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],o=this._frames[r],s=o.frame;if(s){var a,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,u=new wi(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=o.rotated?new wi(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new wi(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new wi(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new un(this.baseTexture,a,u,l,o.rotated?2:0,o.anchor),un.addToCache(this.textures[r],r)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),a7=function(){function n(){}return n.use=function(t,e){var i,r,o=this,s=t.name+"_image";if(t.data&&t.type===no.TYPE.JSON&&t.data.frames&&!o.resources[s]){var a=null===(r=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(a))for(var l=function(T){if("string"!=typeof T)return"continue";var x=T.replace(".json",""),k=Af.resolve(t.url.replace(o.baseUrl,""),T);if(o.resources[x]||Object.values(o.resources).some(function($){return Af.format(Af.parse($.url))===k}))return"continue";o.add(x,k,{crossOrigin:t.crossOrigin,loadType:no.LOAD_TYPE.XHR,xhrType:no.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},c=0,u=a;c<u.length;c++)l(u[c]);var f={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},p=n.getResourcePath(t,o.baseUrl);o.add(s,p,f,function(x){if(x.error)e(x.error);else{var k=new s7(x.texture,t.data,t.url);k.parse(function(){t.spritesheet=k,t.textures=k.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Af.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),Q2=function(n,t){return(Q2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function l7(n,t){function e(){this.constructor=n}Q2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var h0=new Or,c7=function(n){function t(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var o=n.call(this,e)||this;return o.tileTransform=new kI,o._width=i,o._height=r,o.uvMatrix=o.texture.uvMatrix||new oE(e),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return l7(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new wi),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,h0);var i=this._width,r=this._height,o=-i*this.anchor._x;if(h0.x>=o&&h0.x<o+i){var s=-r*this.anchor._y;if(h0.y>=s&&h0.y<s+r)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof un?e:un.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(xs),u7="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",SE=new tr,d7=function(n){function t(e){var i=n.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new QI,i.state=dh.for2d(),i}return l7(t,n),t.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=ad.from(u7,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.shader=e.context.webGLVersion>1?ad.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",i):ad.from(u7,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",i)},t.prototype.render=function(e){var i=this.renderer,r=this.quad,o=r.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(o=r.uvs)[0]=o[6]=-s,o[1]=o[3]=-a,o[2]=o[4]=1-s,o[5]=o[7]=1-a,r.invalidate();var l=e._texture,c=l.baseTexture,u=e.tileTransform.localTransform,d=e.uvMatrix,f=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;f&&(c._glTextures[i.CONTEXT_UID]?f=c.wrapMode!==Gl.CLAMP:c.wrapMode===Gl.CLAMP&&(c.wrapMode=Gl.REPEAT));var p=f?this.simpleShader:this.shader,T=l.width,x=l.height,k=e._width,B=e._height;SE.set(u.a*T/k,u.b*T/B,u.c*x/k,u.d*x/B,u.tx/k,u.ty/B),SE.invert(),f?SE.prepend(d.mapCoord):(p.uniforms.uMapCoord=d.mapCoord.toArray(!0),p.uniforms.uClampFrame=d.uClampFrame,p.uniforms.uClampOffset=d.uClampOffset),p.uniforms.uTransform=SE.toArray(!0),p.uniforms.uColor=II(e.tint,e.worldAlpha,p.uniforms.uColor,c.alphaMode),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=l,i.shader.bind(p),i.geometry.bind(r),this.state.blendMode=xI(e.blendMode,c.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(e0),eA=function(n,t){return(eA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function tA(n,t){function e(){this.constructor=n}eA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var h7=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),nA=new Or,f7=new qy,Yl=function(n){function t(e,i,r,o){void 0===o&&(o=Os.TRIANGLES);var s=n.call(this)||this;return s.geometry=e,s.shader=i,s.state=r||dh.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=Ut.ROUND_PIXELS,s.batchUvs=null,s}return tA(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===Os.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var i=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry.buffers[0],r=i.data,o=i._updateID;if(o!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var s=this.transform.worldTransform,a=s.a,l=s.b,c=s.c,u=s.d,d=s.tx,f=s.ty,p=this.vertexData,T=0;T<p.length/2;T++){var x=r[2*T],k=r[2*T+1];p[2*T]=a*x+c*k+d,p[2*T+1]=l*x+u*k+f}if(this._roundPixels){var B=Ut.RESOLUTION;for(T=0;T<p.length;++T)p[T]=Math.round((p[T]*B|0)/B)}this.vertexDirty=o}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new h7(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,nA);for(var i=this.geometry.getBuffer("aVertexPosition").data,r=f7.points,o=this.geometry.getIndex().data,s=o.length,a=4===this.drawMode?3:1,l=0;l+2<s;l+=a){var c=2*o[l],u=2*o[l+1],d=2*o[l+2];if(r[0]=i[c],r[1]=i[c+1],r[2]=i[u],r[3]=i[u+1],r[4]=i[d],r[5]=i[d+1],f7.contains(nA.x,nA.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Br),$f=function(n){function t(e,i){var r=this,o={uSampler:e,alpha:1,uTextureMatrix:tr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(o,i.uniforms),(r=n.call(this,i.program||rm.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,r.uvMatrix=new oE(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return tA(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,II(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(ad),f0=function(n){function t(e,i,r){var o=n.call(this)||this,s=new Uo(e),a=new Uo(i,!0),l=new Uo(r,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,Wt.FLOAT).addAttribute("aTextureCoord",a,2,!1,Wt.FLOAT).addIndex(l),o._updateId=-1,o}return tA(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(im),iA=function(n,t){return(iA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},p0=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},Oye=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var o=e[r].match(/^[a-z]+/gm)[0],s=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in s){var c=s[l].split("="),u=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;a[u]=p}i[o].push(a)}var T=new p0;return i.info.forEach(function(x){return T.info.push({face:x.face,size:parseInt(x.size,10)})}),i.common.forEach(function(x){return T.common.push({lineHeight:parseInt(x.lineHeight,10)})}),i.page.forEach(function(x){return T.page.push({id:parseInt(x.id,10),file:x.file})}),i.char.forEach(function(x){return T.char.push({id:parseInt(x.id,10),page:parseInt(x.page,10),x:parseInt(x.x,10),y:parseInt(x.y,10),width:parseInt(x.width,10),height:parseInt(x.height,10),xoffset:parseInt(x.xoffset,10),yoffset:parseInt(x.yoffset,10),xadvance:parseInt(x.xadvance,10)})}),i.kerning.forEach(function(x){return T.kerning.push({first:parseInt(x.first,10),second:parseInt(x.second,10),amount:parseInt(x.amount,10)})}),i.distanceField.forEach(function(x){return T.distanceField.push({distanceRange:parseInt(x.distanceRange,10),fieldType:x.fieldType})}),T},n}(),rA=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new p0,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),c=0;c<i.length;c++)e.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(c=0;c<r.length;c++)e.common.push({lineHeight:parseInt(r[c].getAttribute("lineHeight"),10)});for(c=0;c<o.length;c++)e.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(c=0;c<s.length;c++){var u=s[c];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(c=0;c<a.length;c++)e.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(c=0;c<l.length;c++)e.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return e},n}(),Pye=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return rA.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return rA.parse(e)},n}(),oA=[Oye,rA,Pye];function p7(n){for(var t=0;t<oA.length;t++)if(oA[t].test(n))return oA[t];return null}function Iye(n,t,e,i,r,o,s){var a=e.text,l=e.fontProperties;t.translate(i,r),t.scale(o,o);var c=s.strokeThickness/2,u=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function xye(n,t,e,i,r,o){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var a,l=e.dropShadow?e.dropShadowDistance:0,c=e.padding||0,u=n.width/i-l-2*c,d=n.height/i-l-2*c,f=s.slice(),p=e.fillGradientStops.slice();if(!p.length)for(var T=f.length+1,x=1;x<T;++x)p.push(x/T);if(f.unshift(s[0]),p.unshift(0),f.push(s[s.length-1]),p.push(1),e.fillGradientType===Wf.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,c,u/2,d+c);var k=0,$=(o.fontProperties.fontSize+e.strokeThickness)/d;for(x=0;x<r.length;x++)for(var q=o.lineHeight*x,ee=0;ee<f.length;ee++){var Ee=Math.max(k,q/d+("number"==typeof p[ee]?p[ee]:ee/f.length)*$);Ee=Math.min(Ee,1),a.addColorStop(Ee,f[ee]),k=Ee}}else{a=t.createLinearGradient(c,d/2,u+c,d/2);var Ce=f.length+1,ge=1;for(x=0;x<f.length;x++)a.addColorStop("number"==typeof p[x]?p[x]:ge/Ce,f[x]),ge++}return a}(n,t,s,o,[a],e),t.strokeStyle=s.stroke,s.dropShadow){var d=s.dropShadowColor,f=sd("number"==typeof d?d:ma(d)),p=s.dropShadowBlur*o,T=s.dropShadowDistance*o;t.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+s.dropShadowAlpha+")",t.shadowBlur=p,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*T,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*T}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,c,u+e.lineHeight-l.descent),s.fill&&t.fillText(a,c,u+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function g7(n){return Array.from?Array.from(n):n.split("")}function CE(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var ud=function(){function n(t,e,i){var r,o,s=t.info[0],a=t.common[0],c=t.distanceField[0],u=Xy(t.page[0].file),d={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/u,this.chars={},this.pageTextures=d;for(var f=0;f<t.page.length;f++){var p=t.page[f];d[T=p.id]=e instanceof Array?e[f]:e[p.file],(null==c?void 0:c.fieldType)&&"none"!==c.fieldType&&(d[T].baseTexture.alphaMode=cs.NO_PREMULTIPLIED_ALPHA)}for(f=0;f<t.char.length;f++){var k=t.char[f],T=k.id,B=k.page,$=t.char[f],q=$.x,ee=$.y,se=$.width,ae=$.height,Ee=$.xoffset,Ce=$.yoffset,ge=$.xadvance;Ee/=u,Ce/=u,ge/=u;var ve=new wi((q/=u)+d[B].frame.x/u,(ee/=u)+d[B].frame.y/u,se/=u,ae/=u);this.chars[T]={xOffset:Ee,yOffset:Ce,xAdvance:ge,kerning:{},texture:new un(d[B].baseTexture,ve),page:B}}for(f=0;f<t.kerning.length;f++){var Ve=t.kerning[f],Pe=Ve.first,De=Ve.second,Ye=Ve.amount;Pe/=u,Ye/=u,this.chars[De/=u]&&(this.chars[De].kerning[Pe]=Ye)}this.distanceFieldRange=null==c?void 0:c.distanceRange,this.distanceFieldType=null!==(o=null===(r=null==c?void 0:c.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==o?o:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,i){var r;if(t instanceof p0)r=t;else{var o=p7(t);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(t)}e instanceof un&&(e=[e]);var s=new n(r,e,i);return n.available[s.font]=s,s},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},n.defaultOptions,i),s=r.padding,a=r.resolution,l=r.textureWidth,c=r.textureHeight,u=function Aye(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var o=r[0].charCodeAt(0),s=r[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,g7(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r.chars),d=e instanceof Yf?e:new Yf(e),f=l,p=new p0;p.info[0]={face:d.fontFamily,size:d.fontSize},p.common[0]={lineHeight:d.fontSize};for(var k,B,$,T=0,x=0,q=0,ee=[],se=0;se<u.length;se++){k||((k=document.createElement("canvas")).width=l,k.height=c,B=k.getContext("2d"),$=new Ai(k,{resolution:a}),ee.push(new un($)),p.page.push({id:ee.length-1,file:""}));var ae=ul.measureText(u[se],d,!1,k),Ee=ae.width,Ce=Math.ceil(ae.height),ge=Math.ceil(("italic"===d.fontStyle?2:1)*Ee);if(x>=c-Ce*a){if(0===x)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+d.fontSize+"px fonts");--se,k=null,B=null,$=null,x=0,T=0,q=0}else if(q=Math.max(Ce+ae.fontProperties.descent,q),ge*a+T>=f)--se,x+=q*a,x=Math.ceil(x),T=0,q=0;else{Iye(k,B,ae,T,x,a,d);var ve=CE(ae.text);p.char.push({id:ve,page:ee.length-1,x:T/a,y:x/a,width:ge,height:Ce,xoffset:0,yoffset:0,xadvance:Math.ceil(Ee-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),T+=(ge+2*s)*a,T=Math.ceil(T)}}se=0;for(var Ve=u.length;se<Ve;se++)for(var Pe=u[se],De=0;De<Ve;De++){var Ye=u[De],Ge=B.measureText(Pe).width,Ne=B.measureText(Ye).width,$e=B.measureText(Pe+Ye).width-(Ge+Ne);$e&&p.kerning.push({first:CE(Pe),second:CE(Ye),amount:$e})}var gt=new n(p,ee,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=gt,gt},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),Nye=[],kye=[],_7=[],g0=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;r._tint=16777215;var o=Object.assign({},t.styleDefaults,i),s=o.align,a=o.tint,l=o.maxWidth,c=o.letterSpacing,u=o.fontName,d=o.fontSize;if(!ud.available[u])throw new Error('Missing BitmapFont "'+u+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=s,r._tint=a,r._fontName=u,r._fontSize=d||ud.available[u].size,r._text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=c,r._anchor=new Nf(function(){r.dirty=!0},r,0,0),r._roundPixels=Ut.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function Mye(n,t){function e(){this.constructor=n}iA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,i=ud.available[this._fontName],r=this._fontSize/i.size,o=new Or,s=[],a=[],l=[],u=g7(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),d=this._maxWidth*i.size/this._fontSize,f="none"===i.distanceFieldType?Nye:kye,p=null,T=0,x=0,k=0,B=-1,$=0,q=0,ee=0,se=0,ae=0;ae<u.length;ae++){var Ce=CE(Ee=u[ae]);if(/(?:\s)/.test(Ee)&&(B=ae,$=T,se++),"\r"!==Ee&&"\n"!==Ee){var ge=i.chars[Ce];if(ge){p&&ge.kerning[p]&&(o.x+=ge.kerning[p]);var ve=_7.pop()||{texture:un.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Or};ve.texture=ge.texture,ve.line=k,ve.charCode=Ce,ve.position.x=o.x+ge.xOffset+this._letterSpacing/2,ve.position.y=o.y+ge.yOffset,ve.prevSpaces=se,s.push(ve),T=ve.position.x+ge.texture.orig.width,o.x+=ge.xAdvance+this._letterSpacing,ee=Math.max(ee,ge.yOffset+ge.texture.height),p=Ce,-1!==B&&d>0&&o.x>d&&(Df(s,1+B-++q,1+ae-B),ae=B,B=-1,a.push($),l.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,$),k++,o.x=0,o.y+=i.lineHeight,p=null,se=0)}}else a.push(T),l.push(-1),x=Math.max(x,T),++k,++q,o.x=0,o.y+=i.lineHeight,p=null,se=0}var Ve=u[u.length-1];"\r"!==Ve&&"\n"!==Ve&&(/(?:\s)/.test(Ve)&&(T=$),a.push(T),x=Math.max(x,T),l.push(-1));var Pe=[];for(ae=0;ae<=k;ae++){var De=0;"right"===this._align?De=x-a[ae]:"center"===this._align?De=(x-a[ae])/2:"justify"===this._align&&(De=l[ae]<0?0:(x-a[ae])/l[ae]),Pe.push(De)}var Ye=s.length,Ge={},Ne=[],ke=this._activePagesMeshData;for(ae=0;ae<ke.length;ae++)f.push(ke[ae]);for(ae=0;ae<Ye;ae++){var gt=($e=s[ae].texture).baseTexture.uid;if(!Ge[gt]){if(!(we=f.pop())){var st=new f0,ft=void 0,St=void 0;"none"===i.distanceFieldType?(ft=new $f(un.EMPTY),St=ht.NORMAL):(ft=new $f(un.EMPTY,{program:rm.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),St=ht.NORMAL_NPM);var Ft=new Yl(st,ft);Ft.blendMode=St,we={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Ft,vertices:null,uvs:null,indices:null}}we.index=0,we.indexCount=0,we.vertexCount=0,we.uvsCount=0,we.total=0;var At=this._textureCache;At[gt]=At[gt]||new un($e.baseTexture),we.mesh.texture=At[gt],we.mesh.tint=this._tint,Ne.push(we),Ge[gt]=we}Ge[gt].total++}for(ae=0;ae<ke.length;ae++)-1===Ne.indexOf(ke[ae])&&this.removeChild(ke[ae].mesh);for(ae=0;ae<Ne.length;ae++)Ne[ae].mesh.parent!==this&&this.addChild(Ne[ae].mesh);for(var ae in this._activePagesMeshData=Ne,Ge){var Xt=(we=Ge[ae]).total;if(!((null===(e=we.indices)||void 0===e?void 0:e.length)>6*Xt)||we.vertices.length<2*Yl.BATCHABLE_SIZE)we.vertices=new Float32Array(8*Xt),we.uvs=new Float32Array(8*Xt),we.indices=new Uint16Array(6*Xt);else for(var kn=we.vertices,yn=4*we.total*2;yn<kn.length;yn++)kn[yn]=0;we.mesh.size=6*Xt}for(ae=0;ae<Ye;ae++){var Ee,hn=(Ee=s[ae]).position.x+Pe[Ee.line]*("justify"===this._align?Ee.prevSpaces:1);this._roundPixels&&(hn=Math.round(hn));var $e,Kt=hn*r,On=Ee.position.y*r,fn=Ge[($e=Ee.texture).baseTexture.uid],cr=$e.frame,jn=$e._uvs,In=fn.index++;fn.indices[6*In+0]=0+4*In,fn.indices[6*In+1]=1+4*In,fn.indices[6*In+2]=2+4*In,fn.indices[6*In+3]=0+4*In,fn.indices[6*In+4]=2+4*In,fn.indices[6*In+5]=3+4*In,fn.vertices[8*In+0]=Kt,fn.vertices[8*In+1]=On,fn.vertices[8*In+2]=Kt+cr.width*r,fn.vertices[8*In+3]=On,fn.vertices[8*In+4]=Kt+cr.width*r,fn.vertices[8*In+5]=On+cr.height*r,fn.vertices[8*In+6]=Kt,fn.vertices[8*In+7]=On+cr.height*r,fn.uvs[8*In+0]=jn.x0,fn.uvs[8*In+1]=jn.y0,fn.uvs[8*In+2]=jn.x1,fn.uvs[8*In+3]=jn.y1,fn.uvs[8*In+4]=jn.x2,fn.uvs[8*In+5]=jn.y2,fn.uvs[8*In+6]=jn.x3,fn.uvs[8*In+7]=jn.y3}for(var ae in this._textWidth=x*r,this._textHeight=(o.y+i.lineHeight)*r,Ge){var we=Ge[ae];if(0!==this.anchor.x||0!==this.anchor.y)for(var To=0,br=this._textWidth*this.anchor.x,wl=this._textHeight*this.anchor.y,Zc=0;Zc<we.total;Zc++)we.vertices[To++]-=br,we.vertices[To++]-=wl,we.vertices[To++]-=br,we.vertices[To++]-=wl,we.vertices[To++]-=br,we.vertices[To++]-=wl,we.vertices[To++]-=br,we.vertices[To++]-=wl;this._maxLineHeight=ee*r;var Gu=we.mesh.geometry.getBuffer("aVertexPosition"),wo=we.mesh.geometry.getBuffer("aTextureCoord"),Nd=we.mesh.geometry.getIndex();Gu.data=we.vertices,wo.data=we.uvs,Nd.data=we.indices,Gu.update(),wo.update(),Nd.update()}for(ae=0;ae<s.length;ae++)_7.push(s[ae])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var i=ud.available[this._fontName],r=i.distanceFieldRange,s=i.size;if("none"!==i.distanceFieldType)for(var a=this.worldTransform,l=a.a,c=a.b,u=a.c,d=a.d,f=Math.sqrt(l*l+c*c),p=Math.sqrt(u*u+d*d),T=(Math.abs(f)+Math.abs(p))/2,x=this._fontSize/s,k=0,B=this._activePagesMeshData;k<B.length;k++)B[k].mesh.shader.uniforms.uFWidth=T*r*x*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!ud.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Br),m7=function(){function n(){}return n.add=function(){no.setExtensionXhrType("fnt",no.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var i=p7(t.data);if(i)for(var r=n.getBaseUrl(this,t),o=i.parse(t.data),s={},a=function(x){s[x.metadata.pageFile]=x.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=ud.install(o,s,!0),e())},l=0;l<o.page.length;++l){var c=o.page[l].file,u=r+c,d=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===u){p.metadata.pageFile=c,p.texture?a(p):p.onAfterMiddleware.add(a),d=!0;break}}if(!d){var T={crossOrigin:t.crossOrigin,loadType:no.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(u,T,a)}}else e()},n.getBaseUrl=function(t,e){var i=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),sA=function(n,t){return(sA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Bye=function(n){function t(e){void 0===e&&(e=1);var i=n.call(this,pG,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function Lye(n,t){function e(){this.constructor=n}sA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(ld),aA=function(n,t){return(aA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function v7(n,t){function e(){this.constructor=n}aA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Gye={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Hye=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),um=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(um||(um={})),um))(),lA=function(n){function t(e,i,r,o,s){void 0===i&&(i=8),void 0===r&&(r=4),void 0===o&&(o=Ut.FILTER_RESOLUTION),void 0===s&&(s=5);var a=this,l=function jye(n,t){var o,e=Math.ceil(n/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";o=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<n;s++){var a=o.replace("%index%",s.toString());r+=a=a.replace("%sampleIndex%",s-(e-1)+".0"),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s,e),c=function Vye(n){for(var s,t=Gye[n],e=t.length,i=Hye,r="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());s=a,a>=e&&(s=n-a-1),r+=l=l.replace("%value%",t[s].toString()),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s);return(a=n.call(this,l,c)||this).horizontal=e,a.resolution=o,a._quality=0,a.quality=r,a.blur=i,a}return v7(t,n),t.prototype.apply=function(e,i,r,o){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/i.width):1/r.height*(r.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,r,o);else{var s=e.getFilterTexture(),a=e.renderer,l=i,c=s;this.state.blend=!1,e.applyFilter(this,l,c,um.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(l,um.BLIT),this.uniforms.uSampler=c;var d=c;c=l,l=d,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,o),e.returnFilterTexture(s)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(ld),zye=function(n){function t(e,i,r,o){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=Ut.FILTER_RESOLUTION),void 0===o&&(o=5);var s=n.call(this)||this;return s.blurXFilter=new lA(!0,e,i,r,o),s.blurYFilter=new lA(!1,e,i,r,o),s.resolution=r,s.quality=i,s.blur=e,s.repeatEdgePixels=!1,s}return v7(t,n),t.prototype.apply=function(e,i,r,o){var s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,i,l,um.CLEAR),this.blurYFilter.apply(e,l,r,o),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,i,r,o):this.blurXFilter.apply(e,i,r,o)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(ld),cA=function(n,t){return(cA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},uA=function(n){function t(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,M2,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function Wye(n,t){function e(){this.constructor=n}cA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var r=e;i&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,i,r){return e[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],e[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],e[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],e[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],e[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],e[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],e[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],e[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],e[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],e[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],e[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],e[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],e[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],e[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],e[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],e[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],e[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],e[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],e[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],e[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],e},t.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},t.prototype.tint=function(e,i){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],i)},t.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var r=Math.cos(e),o=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([r+(1-r)*a,a*(1-r)-l*o,a*(1-r)+l*o,0,0,a*(1-r)+l*o,r+a*(1-r),a*(1-r)-l*o,0,0,a*(1-r)-l*o,a*(1-r)+l*o,r+a*(1-r),0,0,0,0,0,1,0],i)},t.prototype.contrast=function(e,i){var r=(e||0)+1,o=-.5*(r-1);this._loadMatrix([r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0],i)},t.prototype.saturate=function(e,i){void 0===e&&(e=0);var r=2*e/3+1,o=-.5*(r-1);this._loadMatrix([r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0],i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,i,r,o,s){var a=((r=r||16770432)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,u=((o=o||3375104)>>16&255)/255,d=(o>>8&255)/255,f=(255&o)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,c,e=e||.2,0,u,d,f,i=i||.15,0,a-u,l-d,c-f,0,0],s)},t.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},t.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(ld);uA.prototype.grayscale=uA.prototype.greyscale;var dA=function(n,t){return(dA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},qye=function(n){function t(e,i){var r=this,o=new tr;return e.renderable=!1,(r=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=o,null==i&&(i=20),r.scale=new Or(i,i),r}return function $ye(n,t){function e(){this.constructor=n}dA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,i,r,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(ld),hA=function(n,t){return(hA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},e0e=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function Jye(n,t){function e(){this.constructor=n}hA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(ld),fA=function(n,t){return(fA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},i0e=function(n){function t(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=n.call(this,M2,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function t0e(n,t){function e(){this.constructor=n}fA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(ld),EE=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(EE||(EE={})),EE))(),y7=new tr;to.prototype._cacheAsBitmap=!1,to.prototype._cacheData=null,to.prototype._cacheAsBitmapResolution=null,to.prototype._cacheAsBitmapMultisample=EE.NONE;var r0e=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(to.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new r0e),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),to.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},to.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&r.pad(this.filters[0].padding),r.ceil(Ut.RESOLUTION);var s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,u=Vl.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),d="cacheAsBitmap_"+ch();this._cacheData.textureCacheId=d,Ai.addToCache(u.baseTexture,d),un.addToCache(u,d);var f=this.transform.localTransform.copyTo(y7).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(s,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var p=new xs(u);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},to.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},to.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,o=t._projTransform;e.ceil(Ut.RESOLUTION);var s=Vl.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+ch();this._cacheData.textureCacheId=a,Ai.addToCache(s.baseTexture,a),un.addToCache(s,a);var l=y7;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=r,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new xs(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-e.x/e.width,c.anchor.y=-e.y/e.height,c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},to.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},to.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},to.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ai.removeFromCache(this._cacheData.textureCacheId),un.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},to.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},to.prototype.name=null,Br.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var s=this.children[i].getChildByName(t,!0);if(s)return s}return null},to.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Or),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var pA=function(n,t){return(pA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function dm(n,t){function e(){this.constructor=n}pA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var b7=function(n){function t(e,i,r,o){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===o&&(o=10);var s=n.call(this)||this;return s.segWidth=r,s.segHeight=o,s.width=e,s.height=i,s.build(),s}return dm(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],r=[],o=[],s=this.segWidth-1,a=this.segHeight-1,l=this.width/s,c=this.height/a,u=0;u<e;u++){var d=u%this.segWidth,f=u/this.segWidth|0;i.push(d*l,f*c),r.push(d/s,f/a)}var p=s*a;for(u=0;u<p;u++){var T=u%s,x=u/s|0,B=x*this.segWidth+T+1,$=(x+1)*this.segWidth+T;o.push(x*this.segWidth+T,B,$,B,(x+1)*this.segWidth+T+1,$)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(f0),S7=function(n){function t(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var o=n.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return o.points=i,o._width=e,o.textureScale=r,o.build(),o}return dm(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),o.data=new Uint16Array(6*(e.length-1)));var s=r.data,a=o.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var l=0,c=e[0],u=this._width*this.textureScale,d=e.length,f=0;f<d;f++){var p=4*f;if(this.textureScale>0){var T=c.x-e[f].x,x=c.y-e[f].y,k=Math.sqrt(T*T+x*x);c=e[f],l+=k/u}else l=f/(d-1);s[p]=l,s[p+1]=0,s[p+2]=l,s[p+3]=1}var B=0;for(f=0;f<d-1;f++)a[B++]=p=2*f,a[B++]=p+1,a[B++]=p+2,a[B++]=p+2,a[B++]=p+1,a[B++]=p+3;r.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var r,i=e[0],o=0,s=0,a=this.buffers[0].data,l=e.length,c=0;c<l;c++){var u=e[c],d=4*c;s=-((r=c<e.length-1?e[c+1]:u).x-i.x),o=r.y-i.y;var f=Math.sqrt(o*o+s*s),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=f,s/=f,s*=p,a[d]=u.x+(o*=p),a[d+1]=u.y+s,a[d+2]=u.x-o,a[d+3]=u.y-s,i=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(f0),C7=function(n){function t(e,i,r){void 0===r&&(r=0);var o=this,s=new S7(e.height,i,r),a=new $f(e);return r>0&&(e.baseTexture.wrapMode=Gl.REPEAT),(o=n.call(this,s,a)||this).autoUpdate=!0,o}return dm(t,n),t.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),n.prototype._render.call(this,e)},t}(Yl),E7=function(n){function t(e,i,r){var o=this,s=new b7(e.width,e.height,i,r),a=new $f(un.WHITE);return(o=n.call(this,s,a)||this).texture=e,o.autoResize=!0,o}return dm(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture;this.autoResize&&(e.width!==i.width||e.height!==i.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(Yl),T7=function(n){function t(e,i,r,o,s){void 0===e&&(e=un.EMPTY);var a=this,l=new f0(i,r,o);l.getBuffer("aVertexPosition").static=!1;var c=new $f(e);return(a=n.call(this,l,c,null,s)||this).autoUpdate=!0,a}return dm(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(Yl),_0=function(n){function t(e,i,r,o,s){void 0===i&&(i=10),void 0===r&&(r=10),void 0===o&&(o=10),void 0===s&&(s=10);var a=n.call(this,un.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=o,a._topHeight=r,a._bottomHeight=s,a.texture=e,a}return dm(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,r=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>r?1:this._height/r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,o=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=r*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth,i[9]=i[11]=i[13]=i[15]=o*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(E7),gA=function(n,t){return(gA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},w7=function(n){function t(e,i){void 0===i&&(i=!0);var r=n.call(this,e[0]instanceof un?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function o0e(n,t){function e(){this.constructor=n}gA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(us.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(us.shared.add(this.update,this,Ac.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=i/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(un.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(un.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof un)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(us.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(us.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(xs);Dc.registerPlugin("accessibility",UI),Dc.registerPlugin("extract",wG),Dc.registerPlugin("interaction",VI),Dc.registerPlugin("particle",$G),Dc.registerPlugin("prepare",o7),Dc.registerPlugin("batch",bG),Dc.registerPlugin("tilingSprite",d7),$s.registerPlugin(m7),$s.registerPlugin(LG),$s.registerPlugin(UG),$s.registerPlugin(VG),$s.registerPlugin(a7),o0.registerPlugin(Nj),o0.registerPlugin(AG);var s0e="6.2.2",a0e={AlphaFilter:Bye,BlurFilter:zye,BlurFilterPass:lA,ColorMatrixFilter:uA,DisplacementFilter:qye,FXAAFilter:e0e,NoiseFilter:i0e},_A=function(n,t){return(_A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},c0e=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var o=e.context;o.beginPath();for(var s=0;s<r.length;s++){var a=r[s];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,o.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var o=0;o<r;o++){var s=i[o],a=s.shape;if(a.type===Fi.POLY){var l=a.points,c=s.holes,u=void 0,d=void 0,f=void 0,p=void 0;e.moveTo(l[0],l[1]);for(var T=1;T<l.length/2;T++)e.lineTo(l[2*T],l[2*T+1]);if(c.length>0){for(u=0,f=l[0],p=l[1],T=2;T+2<l.length;T+=2)u+=(l[T]-f)*(l[T+3]-p)-(l[T+2]-f)*(l[T+1]-p);for(var x=0;x<c.length;x++)if(l=c[x].shape.points){for(d=0,f=l[0],p=l[1],T=2;T+2<l.length;T+=2)d+=(l[T]-f)*(l[T+3]-p)-(l[T+2]-f)*(l[T+1]-p);if(d*u<0)for(e.moveTo(l[0],l[1]),T=2;T<l.length;T+=2)e.lineTo(l[T],l[T+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),T=l.length-4;T>=0;T-=2)e.lineTo(l[T],l[T+1]);c[x].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===Fi.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===Fi.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===Fi.ELIP){var k=2*a.width,B=2*a.height,$=a.x-k/2,q=a.y-B/2,ee=.5522848,se=k/2*ee,ae=B/2*ee,Ee=$+k,Ce=q+B,ge=$+k/2,ve=q+B/2;e.moveTo($,ve),e.bezierCurveTo($,ve-ae,ge-se,q,ge,q),e.bezierCurveTo(ge+se,q,Ee,ve-ae,Ee,ve),e.bezierCurveTo(Ee,ve+ae,ge+se,Ce,ge,Ce),e.bezierCurveTo(ge-se,Ce,$,ve+ae,$,ve),e.closePath()}else if(a.type===Fi.RREC){var Ve=a.x,Pe=a.y,De=a.width,Ye=a.height,Ge=a.radius,Ne=Math.min(De,Ye)/2;e.moveTo(Ve,Pe+(Ge=Ge>Ne?Ne:Ge)),e.lineTo(Ve,Pe+Ye-Ge),e.quadraticCurveTo(Ve,Pe+Ye,Ve+Ge,Pe+Ye),e.lineTo(Ve+De-Ge,Pe+Ye),e.quadraticCurveTo(Ve+De,Pe+Ye,Ve+De,Pe+Ye-Ge),e.lineTo(Ve+De,Pe+Ge),e.quadraticCurveTo(Ve+De,Pe,Ve+De-Ge,Pe),e.lineTo(Ve+Ge,Pe),e.quadraticCurveTo(Ve,Pe,Ve,Pe+Ge),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function M7(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function O7(){if("undefined"==typeof document)return!1;var n=M7("#ff00ff"),t=M7("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var o=r.data;return 255===o[0]&&0===o[1]&&0===o[2]}var d0e=new tr,wu=function(n){function t(e){var i=n.call(this,Ic.CANVAS,e)||this;if(i.refresh=!0,i.maskManager=new c0e(i),i.smoothProperty="imageSmoothingEnabled",i.blendModes=function u0e(n){return void 0===n&&(n=[]),O7()?(n[ht.NORMAL]="source-over",n[ht.ADD]="lighter",n[ht.MULTIPLY]="multiply",n[ht.SCREEN]="screen",n[ht.OVERLAY]="overlay",n[ht.DARKEN]="darken",n[ht.LIGHTEN]="lighten",n[ht.COLOR_DODGE]="color-dodge",n[ht.COLOR_BURN]="color-burn",n[ht.HARD_LIGHT]="hard-light",n[ht.SOFT_LIGHT]="soft-light",n[ht.DIFFERENCE]="difference",n[ht.EXCLUSION]="exclusion",n[ht.HUE]="hue",n[ht.SATURATION]="saturate",n[ht.COLOR]="color",n[ht.LUMINOSITY]="luminosity"):(n[ht.NORMAL]="source-over",n[ht.ADD]="lighter",n[ht.MULTIPLY]="source-over",n[ht.SCREEN]="source-over",n[ht.OVERLAY]="source-over",n[ht.DARKEN]="source-over",n[ht.LIGHTEN]="source-over",n[ht.COLOR_DODGE]="source-over",n[ht.COLOR_BURN]="source-over",n[ht.HARD_LIGHT]="source-over",n[ht.SOFT_LIGHT]="source-over",n[ht.DIFFERENCE]="source-over",n[ht.EXCLUSION]="source-over",n[ht.HUE]="source-over",n[ht.SATURATION]="source-over",n[ht.COLOR]="source-over",n[ht.LUMINOSITY]="source-over"),n[ht.NORMAL_NPM]=n[ht.NORMAL],n[ht.ADD_NPM]=n[ht.ADD],n[ht.SCREEN_NPM]=n[ht.SCREEN],n[ht.SRC_IN]="source-in",n[ht.SRC_OUT]="source-out",n[ht.SRC_ATOP]="source-atop",n[ht.DST_OVER]="destination-over",n[ht.DST_IN]="destination-in",n[ht.DST_OUT]="destination-out",n[ht.DST_ATOP]="destination-atop",n[ht.XOR]="xor",n[ht.SUBTRACT]="source-over",n}(),i.renderingToScreen=!1,i._activeBlendMode=null,i._projTransform=null,i._outerBlend=!1,i.rootContext=i.view.getContext("2d",{alpha:i.useContextAlpha}),i.context=i.rootContext,!i.rootContext.imageSmoothingEnabled){var r=i.rootContext;r.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":r.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":r.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":r.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),wI("Canvas"),i.resize(i.options.width,i.options.height),i}return function l0e(n,t){function e(){this.constructor=n}_A(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,i){if(this.view){var r,o,s,a;i&&(i instanceof Vl||i instanceof Qy?(Su("6.0.0","CanvasRenderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.emit("prerender");var l=this.resolution;r?((r=r.castToBaseTexture())._canvasRenderTarget||(r._canvasRenderTarget=new em(r.width,r.height,r.resolution),r.resource=new Zy(r._canvasRenderTarget.canvas),r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var c=this.context;if(this._projTransform=s||null,r||(this._lastObjectRendered=e),!a){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}if(c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=1,this._activeBlendMode=ht.NORMAL,this._outerBlend=!1,c.globalCompositeOperation=this.blendModes[ht.NORMAL],void 0!==o?o:this.clearBeforeRender)if(this.renderingToScreen)c.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(c.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,c.fillStyle=this._backgroundColorString,c.fillRect(0,0,this.width,this.height),c.globalAlpha=1);else{r._canvasRenderTarget.clear();var d=r.clearColor;d[3]>0&&(c.globalAlpha=this.useContextAlpha?d[3]:1,c.fillStyle=jC(OI(d)),c.fillRect(0,0,r.realWidth,r.realHeight),c.globalAlpha=1)}var f=this.context;this.context=c,e.renderCanvas(this),this.context=f,c.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,i,r){var o=e,s=this._projTransform,a=this.resolution;r=r||a,s&&((o=d0e).copyFrom(e),o.prepend(s)),i?this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a|0,o.ty*a|0):this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a,o.ty*a)},t.prototype.clear=function(e,i){void 0===e&&(e=this._backgroundColorString),void 0===i&&(i=this.backgroundAlpha);var r=this.context;r.clearRect(0,0,this.width,this.height),e&&(r.globalAlpha=this.useContextAlpha?i:1,r.fillStyle=e,r.fillRect(0,0,this.width,this.height),r.globalAlpha=1)},t.prototype.setBlendMode=function(e,i){var r=e===ht.SRC_IN||e===ht.SRC_OUT||e===ht.DST_IN||e===ht.DST_ATOP;!i&&r&&(e=ht.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=Ut.SCALE_MODE===Lo.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(w2),Co={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,i="#"+("00000"+(0|(t=Co.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var o,r=e.tintCache[i];if(r){if(r.tintId===e._updateID)return e.tintCache[i];o=e.tintCache[i]}else o=document.createElement("canvas");if(Co.tintMethod(e,t,o),o.tintId=e._updateID,Co.convertTintToImage){var s=new Image;s.src=o.toDataURL(),e.tintCache[i]=s}else e.tintCache[i]=o;return o},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=Co.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var i=n.patternCache[e];return i&&i.tintId===n._updateID||(Co.canvas||(Co.canvas=document.createElement("canvas")),Co.tintMethod(n,t,Co.canvas),(i=Co.canvas.getContext("2d").createPattern(Co.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=i),i},tintWithMultiply:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var s=n.baseTexture.getDrawableSource();i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();for(var s=sd(t),a=s[0],l=s[1],c=s[2],u=i.getImageData(0,0,r.width,r.height),d=u.data,f=0;f<d.length;f+=4)d[f+0]*=a,d[f+1]*=l,d[f+2]*=c;i.putImageData(u,0,0)},roundColor:function(n){var t=Co.cacheStepsPerColorChannel,e=sd(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),OI(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:O7(),tintMethod:null};Co.tintMethod=Co.canUseMultiply?Co.tintWithMultiply:Co.tintWithPerPixel;var h0e=Dc.create;Dc.create=function(t){if(!t||!t.forceCanvas)try{return h0e(t)}catch(i){}return new wu(t)},Ai.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},Qy.prototype._canvasRenderTarget=null,un.prototype.patternCache=null,un.prototype.tintCache=null;var mA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function vA(n,t,e){return n(e={path:t,exports:{},require:function(i,r){return function f0e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var yA=vA(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if("function"!=typeof u)throw new TypeError("The listener must be a function");var p=new r(u,d||l,f),T=e?e+c:c;return l._events[T]?l._events[T].fn?l._events[T]=[l._events[T],p]:l._events[T].push(p):(l._events[T]=p,l._eventsCount++),l}function s(l,c){0==--l._eventsCount?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),a.prototype.eventNames=function(){var u,d,c=[];if(0===this._eventsCount)return c;for(d in u=this._events)t.call(u,d)&&c.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var d=this._events[e?e+c:c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,T=new Array(p);f<p;f++)T[f]=d[f].fn;return T},a.prototype.listenerCount=function(c){var d=this._events[e?e+c:c];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,p,T){var x=arguments,k=e?e+c:c;if(!this._events[k])return!1;var q,ee,B=this._events[k],$=arguments.length;if(B.fn){switch(B.once&&this.removeListener(c,B.fn,void 0,!0),$){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,u),!0;case 3:return B.fn.call(B.context,u,d),!0;case 4:return B.fn.call(B.context,u,d,f),!0;case 5:return B.fn.call(B.context,u,d,f,p),!0;case 6:return B.fn.call(B.context,u,d,f,p,T),!0}for(ee=1,q=new Array($-1);ee<$;ee++)q[ee-1]=x[ee];B.fn.apply(B.context,q)}else{var ae,se=B.length;for(ee=0;ee<se;ee++)switch(B[ee].once&&this.removeListener(c,B[ee].fn,void 0,!0),$){case 1:B[ee].fn.call(B[ee].context);break;case 2:B[ee].fn.call(B[ee].context,u);break;case 3:B[ee].fn.call(B[ee].context,u,d);break;case 4:B[ee].fn.call(B[ee].context,u,d,f);break;default:if(!q)for(ae=1,q=new Array($-1);ae<$;ae++)q[ae-1]=x[ae];B[ee].fn.apply(B[ee].context,q)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var p=e?e+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var T=this._events[p];if(T.fn)T.fn===u&&(!f||T.once)&&(!d||T.context===d)&&s(this,p);else{for(var x=0,k=[],B=T.length;x<B;x++)(T[x].fn!==u||f&&!T[x].once||d&&T[x].context!==d)&&k.push(T[x]);k.length?this._events[p]=1===k.length?k[0]:k:s(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?this._events[u=e?e+c:c]&&s(this,u):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),p0e=vA(function(n,t){!function(e){var i=t&&!t.nodeType&&t,r=n&&!n.nodeType&&n,o="object"==typeof mA&&mA;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,Ee,a=2147483647,l=36,k=/^xn--/,B=/[^\x20-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},se=Math.floor,ae=String.fromCharCode;function Ce(we){throw RangeError(q[we])}function ge(we,st){for(var ft=we.length,St=[];ft--;)St[ft]=st(we[ft]);return St}function ve(we,st){var ft=we.split("@"),St="";return ft.length>1&&(St=ft[0]+"@",we=ft[1]),St+ge((we=we.replace($,".")).split("."),st).join(".")}function Ve(we){for(var Ft,At,st=[],ft=0,St=we.length;ft<St;)(Ft=we.charCodeAt(ft++))>=55296&&Ft<=56319&&ft<St?56320==(64512&(At=we.charCodeAt(ft++)))?st.push(((1023&Ft)<<10)+(1023&At)+65536):(st.push(Ft),ft--):st.push(Ft);return st}function Pe(we){return ge(we,function(st){var ft="";return st>65535&&(ft+=ae((st-=65536)>>>10&1023|55296),st=56320|1023&st),ft+ae(st)}).join("")}function De(we){return we-48<10?we-22:we-65<26?we-65:we-97<26?we-97:l}function Ye(we,st){return we+22+75*(we<26)-((0!=st)<<5)}function Ge(we,st,ft){var St=0;for(we=ft?se(we/700):we>>1,we+=se(we/st);we>455;St+=l)we=se(we/35);return se(St+36*we/(we+38))}function Ne(we){var St,tn,kn,yn,hn,Kt,On,fn,cr,jn,st=[],ft=we.length,Ft=0,At=128,Xt=72;for((tn=we.lastIndexOf("-"))<0&&(tn=0),kn=0;kn<tn;++kn)we.charCodeAt(kn)>=128&&Ce("not-basic"),st.push(we.charCodeAt(kn));for(yn=tn>0?tn+1:0;yn<ft;){for(hn=Ft,Kt=1,On=l;yn>=ft&&Ce("invalid-input"),((fn=De(we.charCodeAt(yn++)))>=l||fn>se((a-Ft)/Kt))&&Ce("overflow"),Ft+=fn*Kt,!(fn<(cr=On<=Xt?1:On>=Xt+26?26:On-Xt));On+=l)Kt>se(a/(jn=l-cr))&&Ce("overflow"),Kt*=jn;Xt=Ge(Ft-hn,St=st.length+1,0==hn),se(Ft/St)>a-At&&Ce("overflow"),At+=se(Ft/St),Ft%=St,st.splice(Ft++,0,At)}return Pe(st)}function ke(we){var st,ft,St,Ft,At,Xt,tn,kn,yn,hn,Kt,fn,cr,jn,In,On=[];for(fn=(we=Ve(we)).length,st=128,ft=0,At=72,Xt=0;Xt<fn;++Xt)(Kt=we[Xt])<128&&On.push(ae(Kt));for(St=Ft=On.length,Ft&&On.push("-");St<fn;){for(tn=a,Xt=0;Xt<fn;++Xt)(Kt=we[Xt])>=st&&Kt<tn&&(tn=Kt);for(tn-st>se((a-ft)/(cr=St+1))&&Ce("overflow"),ft+=(tn-st)*cr,st=tn,Xt=0;Xt<fn;++Xt)if((Kt=we[Xt])<st&&++ft>a&&Ce("overflow"),Kt==st){for(kn=ft,yn=l;!(kn<(hn=yn<=At?1:yn>=At+26?26:yn-At));yn+=l)On.push(ae(Ye(hn+(In=kn-hn)%(jn=l-hn),0))),kn=se(In/jn);On.push(ae(Ye(kn,0))),At=Ge(ft,cr,St==Ft),ft=0,++St}++ft,++st}return On.join("")}if(s={version:"1.3.2",ucs2:{decode:Ve,encode:Pe},decode:Ne,encode:ke,toASCII:function gt(we){return ve(we,function(st){return B.test(st)?"xn--"+ke(st):st})},toUnicode:function $e(we){return ve(we,function(st){return k.test(st)?Ne(st.slice(4).toLowerCase()):st})}},i&&r)if(n.exports==i)r.exports=s;else for(Ee in s)s.hasOwnProperty(Ee)&&(i[Ee]=s[Ee]);else e.punycode=s}(mA)}),Mu_isString=function(n){return"string"==typeof n},Mu_isObject=function(n){return"object"==typeof n&&null!==n},Mu_isNull=function(n){return null===n};function g0e(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var _0e=function(n,t,e,i){e=e||"=";var r={};if("string"!=typeof n||0===n.length)return r;var o=/\+/g;n=n.split(t=t||"&");var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var d,f,p,T,c=n[l].replace(o,"%20"),u=c.indexOf(e);u>=0?(d=c.substr(0,u),f=c.substr(u+1)):(d=c,f=""),p=decodeURIComponent(d),T=decodeURIComponent(f),g0e(r,p)?Array.isArray(r[p])?r[p].push(T):r[p]=[r[p],T]:r[p]=T}return r},m0=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},m0e=function(n,t,e,i){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(r){var o=encodeURIComponent(m0(r))+e;return Array.isArray(n[r])?n[r].map(function(s){return o+encodeURIComponent(m0(s))}).join(t):o+encodeURIComponent(m0(n[r]))}).join(t):i?encodeURIComponent(m0(i))+e+encodeURIComponent(m0(n)):""},bA=vA(function(n,t){t.decode=t.parse=_0e,t.encode=t.stringify=m0e}),v0e=wE;function kc(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var S0e=/^([a-z0-9.+-]+:)/i,C0e=/:[0-9]*$/,E0e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,w0e=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),SA=["'"].concat(w0e),P7=["%","/","?",";","#"].concat(SA),x7=["/","?","#"],I7=/^[+a-z0-9A-Z_-]{0,63}$/,O0e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,P0e={javascript:!0,"javascript:":!0},CA={javascript:!0,"javascript:":!0},hm={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function wE(n,t,e){if(n&&Mu_isObject(n)&&n instanceof kc)return n;var i=new kc;return i.parse(n,t,e),i}kc.prototype.parse=function(n,t,e){if(!Mu_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n.indexOf("?"),r=-1!==i&&i<n.indexOf("#")?"?":"#",o=n.split(r);o[0]=o[0].replace(/\\/g,"/");var a=n=o.join(r);if(a=a.trim(),!e&&1===n.split("#").length){var l=E0e.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?bA.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=S0e.exec(a);if(c){var u=(c=c[0]).toLowerCase();this.protocol=u,a=a.substr(c.length)}if(e||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var d="//"===a.substr(0,2);d&&(!c||!CA[c])&&(a=a.substr(2),this.slashes=!0)}if(!CA[c]&&(d||c&&!hm[c])){for(var f=-1,p=0;p<x7.length;p++)-1!==(T=a.indexOf(x7[p]))&&(-1===f||T<f)&&(f=T);var x,k;for(-1!==(k=-1===f?a.lastIndexOf("@"):a.lastIndexOf("@",f))&&(x=a.slice(0,k),a=a.slice(k+1),this.auth=decodeURIComponent(x)),f=-1,p=0;p<P7.length;p++){var T;-1!==(T=a.indexOf(P7[p]))&&(-1===f||T<f)&&(f=T)}-1===f&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var B="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!B)for(var $=this.hostname.split(/\./),q=(p=0,$.length);p<q;p++){var ee=$[p];if(ee&&!ee.match(I7)){for(var se="",ae=0,Ee=ee.length;ae<Ee;ae++)ee.charCodeAt(ae)>127?se+="x":se+=ee[ae];if(!se.match(I7)){var Ce=$.slice(0,p),ge=$.slice(p+1),ve=ee.match(O0e);ve&&(Ce.push(ve[1]),ge.unshift(ve[2])),ge.length&&(a="/"+ge.join(".")+a),this.hostname=Ce.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),B||(this.hostname=p0e.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!P0e[u])for(p=0,q=SA.length;p<q;p++){var De=SA[p];if(-1!==a.indexOf(De)){var Ye=encodeURIComponent(De);Ye===De&&(Ye=escape(De)),a=a.split(De).join(Ye)}}var Ge=a.indexOf("#");-1!==Ge&&(this.hash=a.substr(Ge),a=a.slice(0,Ge));var Ne=a.indexOf("?");return-1!==Ne?(this.search=a.substr(Ne),this.query=a.substr(Ne+1),t&&(this.query=bA.parse(this.query)),a=a.slice(0,Ne)):t&&(this.search="",this.query={}),a&&(this.pathname=a),hm[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},kc.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=n+this.host:this.hostname&&(r=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&Mu_isObject(this.query)&&Object.keys(this.query).length&&(o=bA.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||hm[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},kc.prototype.resolve=function(n){return this.resolveObject(wE(n,!1,!0)).format()},kc.prototype.resolveObject=function(n){if(Mu_isString(n)){var t=new kc;t.parse(n,!1,!0),n=t}for(var e=new kc,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];e[o]=this[o]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(e[l]=n[l])}return hm[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!hm[n.protocol]){for(var c=Object.keys(n),u=0;u<c.length;u++){var d=c[u];e[d]=n[d]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||CA[n.protocol])e.pathname=n.pathname;else{for(var q=(n.pathname||"").split("/");q.length&&!(n.host=q.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==q[0]&&q.unshift(""),q.length<2&&q.unshift(""),e.pathname=q.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var T=e.pathname&&"/"===e.pathname.charAt(0),x=n.host||n.pathname&&"/"===n.pathname.charAt(0),k=x||T||e.host&&n.pathname,B=k,$=e.pathname&&e.pathname.split("/")||[],ee=(q=n.pathname&&n.pathname.split("/")||[],e.protocol&&!hm[e.protocol]);if(ee&&(e.hostname="",e.port=null,e.host&&(""===$[0]?$[0]=e.host:$.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===q[0]?q[0]=n.host:q.unshift(n.host)),n.host=null),k=k&&(""===q[0]||""===$[0])),x)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,$=q;else if(q.length)$||($=[]),$.pop(),$=$.concat(q),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return ee&&(e.hostname=e.host=$.shift(),(se=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=se.shift(),e.host=e.hostname=se.shift())),e.search=n.search,e.query=n.query,(!Mu_isNull(e.pathname)||!Mu_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!$.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var ae=$.slice(-1)[0],Ee=(e.host||n.host||$.length>1)&&("."===ae||".."===ae)||""===ae,Ce=0,ge=$.length;ge>=0;ge--)"."===(ae=$[ge])?$.splice(ge,1):".."===ae?($.splice(ge,1),Ce++):Ce&&($.splice(ge,1),Ce--);if(!k&&!B)for(;Ce--;Ce)$.unshift("..");k&&""!==$[0]&&(!$[0]||"/"!==$[0].charAt(0))&&$.unshift(""),Ee&&"/"!==$.join("/").substr(-1)&&$.push("");var se,ve=""===$[0]||$[0]&&"/"===$[0].charAt(0);return ee&&(e.hostname=e.host=ve?"":$.length?$.shift():"",(se=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=se.shift(),e.host=e.hostname=se.shift())),(k=k||e.host&&$.length)&&!ve&&$.unshift(""),$.length?e.pathname=$.join("/"):(e.pathname=null,e.path=null),(!Mu_isNull(e.pathname)||!Mu_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},kc.prototype.parseHost=function(){var n=this.host,t=C0e.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var A0e={parse:v0e,format:function x0e(n){return Mu_isString(n)&&(n=wE(n)),n instanceof kc?n.format():kc.prototype.format.call(n)},resolve:function I0e(n,t){return wE(n,!1,!0).resolve(t)}};Ut.RETINA_PREFIX=/@([0-9\.]+)x/,Ut.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var EA,A7=!1,F0e=function L0e(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[ht.NORMAL_NPM]=ht.NORMAL,n[ht.ADD_NPM]=ht.ADD,n[ht.SCREEN_NPM]=ht.SCREEN,t[ht.NORMAL]=ht.NORMAL_NPM,t[ht.ADD]=ht.ADD_NPM,t[ht.SCREEN]=ht.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function R7(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function ME(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function N7(n){return!(n&n-1||!n)}function k7(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var j0e=0;function v0(){return++j0e}var L7={};function Xf(n,t,e){if(void 0===e&&(e=3),!L7[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),L7[t]=!0}}var OE,F7={},dd=Object.create(null),Kf=Object.create(null);function B7(n,t){var e=Ut.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||Ut.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var Xs=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,d=c.items;this._aliasCount++;for(var f=0,p=d.length;f<p;f++)d[f][u](t,e,i,r,o,s,a,l);return d===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(Xs.prototype,{dispatch:{value:Xs.prototype.emit},run:{value:Xs.prototype.emit}}),Ut.TARGET_FPMS=.06;var y0=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(y0||(y0={})),y0))(),TA=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),fm=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TA(null,null,1/0),this.deltaMS=1/Ut.TARGET_FPMS,this.elapsedMS=1/Ut.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=y0.NORMAL),this._addListener(new TA(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=y0.NORMAL),this._addListener(new TA(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ut.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Ut.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),H0e=2*Math.PI,PE=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(PE||(PE={})),PE))(),Ks=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=PE.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),hh=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),xE=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),dl=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new hh;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new hh;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,c){return this.a=Math.cos(a+c)*o,this.b=Math.sin(a+c)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(H0e-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),qf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Jf=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Zf=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qf=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],wA=[],U7=[],IE=Math.sign;!function V0e(){for(var n=0;n<16;n++){var t=[];wA.push(t);for(var e=0;e<16;e++)for(var i=IE(qf[n]*qf[e]+Zf[n]*Jf[e]),r=IE(Jf[n]*qf[e]+Qf[n]*Jf[e]),o=IE(qf[n]*Zf[e]+Zf[n]*Qf[e]),s=IE(Jf[n]*Zf[e]+Qf[n]*Qf[e]),a=0;a<16;a++)if(qf[a]===i&&Jf[a]===r&&Zf[a]===o&&Qf[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new dl;l.set(qf[n],Jf[n],Zf[n],Qf[n],0,0),U7.push(l)}}();var io={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return qf[n]},uY:function(n){return Jf[n]},vX:function(n){return Zf[n]},vY:function(n){return Qf[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return wA[n][t]},sub:function(n,t){return wA[n][io.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?io.S:io.N:2*Math.abs(t)<=Math.abs(n)?n>0?io.E:io.W:t>0?n>0?io.SE:io.SW:n>0?io.NE:io.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=U7[io.inv(t)];r.tx=e,r.ty=i,n.append(r)}};!function(){function n(){this.worldTransform=new dl,this.localTransform=new dl,this.position=new xE(this.onChange,this,0,0),this.scale=new xE(this.onChange,this,1,1),this.pivot=new xE(this.onChange,this,0,0),this.skew=new xE(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),Ut.PREFER_ENV=cl.any?ls.WEBGL:ls.WEBGL2,Ut.STRICT_TEXTURE_CACHE=!1;var AE=[];function MA(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=AE.length-1;r>=0;--r){var o=AE[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var OA=function(n,t){return(OA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function xr(n,t){function e(){this.constructor=n}OA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var PA=function(){return PA=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},PA.apply(this,arguments)},pm=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Xs("setRealSize"),this.onUpdate=new Xs("update"),this.onError=new Xs("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),DE=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return xr(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===cs.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(pm),W0e={scaleMode:Lo.NEAREST,format:mt.RGBA,alphaMode:cs.NPM},Qo=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,d=i.wrapMode,f=i.format,p=i.type,T=i.target,x=i.resolution;return e&&!(e instanceof pm)&&((e=MA(e,i.resourceOptions)).internal=!0),r.resolution=x||Ut.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:Ut.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:Ut.ANISOTROPIC_LEVEL,r._wrapMode=d||Ut.WRAP_MODE,r._scaleMode=void 0!==l?l:Ut.SCALE_MODE,r.format=f||mt.RGBA,r.type=p||Wt.UNSIGNED_BYTE,r.target=T||ja.TEXTURE_2D,r.alphaMode=void 0!==o?o:cs.UNPACK,r.uid=v0(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return xr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=N7(this.realWidth)&&N7(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Kf[this.cacheId],delete dd[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=Ut.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+v0()),s=e._pixiId);var l=Kf[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new DE(e,{width:i,height:r}),a=e instanceof Float32Array?Wt.FLOAT:Wt.UNSIGNED_BYTE;return new t(s,Object.assign(W0e,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Kf[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),Kf[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Kf[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Kf[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete Kf[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(yA),xA=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Qo;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return xr(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof pm?e[r]:MA(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}).filter(function(o){return o}),r=i.map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(pm),j7=function(n){function t(e,i){var l,c,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return xr(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ja.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var u=0;u<s;u++){var d=l[u];a[u]<d.dirtyId&&(a[u]=d.dirtyId,d.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,d.resource.width,d.resource.height,1,i.format,r.type,d.resource.source))}return!0},t}(xA),hd=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return xr(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=function G0e(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,OE||(OE=document.createElement("a")),OE.href=n;var e=A0e.parse(OE.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===cs.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(pm),IA=function(n){function t(e){return n.call(this,e)||this}return xr(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(hd),G7=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=ja.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return xr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ja.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=ja.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(xA),AA=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;hd.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Ut.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return xr(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===cs.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(hd),H7=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return xr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;hd.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+v0(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(hd),V7=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),hd.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,d=c.mime,f=(u=u||e[a]).split("?").shift().toLowerCase(),p=f.substr(f.lastIndexOf(".")+1);d=d||t.MIME_TYPES[p]||"video/"+p,l.src=u,l.type=d,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return xr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-fm.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(fm.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(fm.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(fm.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(fm.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(fm.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(hd),z7=function(n){function t(e){return n.call(this,e)||this}return xr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(hd);AE.push(AA,z7,IA,V7,H7,DE,G7,j7);var W7={__proto__:null,Resource:pm,BaseImageResource:hd,INSTALLED:AE,autoDetectResource:MA,AbstractMultiResource:xA,ArrayResource:j7,BufferResource:DE,CanvasResource:IA,CubeResource:G7,ImageResource:AA,SVGResource:H7,VideoResource:V7,ImageBitmapResource:z7},Y0e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return xr(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===cs.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(DE),DA=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Xs("disposeFramebuffer"),this.multisample=oi.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Qo(null,{scaleMode:Lo.NEAREST,resolution:1,mipmap:_a.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Qo(new Y0e(null,{width:this.width,height:this.height}),{scaleMode:Lo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:_a.OFF,format:mt.DEPTH_COMPONENT,type:Wt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),Y7=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:oi.NONE,(i=n.call(this,null,e)||this).mipmap=_a.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new DA(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return xr(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Qo),$7=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,c=t.y/o+a;i=io.add(i,io.NW),this.x0=l+s*io.uX(i),this.y0=c+a*io.uY(i),i=io.add(i,2),this.x1=l+s*io.uX(i),this.y1=c+a*io.uY(i),i=io.add(i,2),this.x2=l+s*io.uX(i),this.y2=c+a*io.uY(i),i=io.add(i,2),this.x3=l+s*io.uX(i),this.y3=c+a*io.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),X7=new $7,Ou=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Ks(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=X7,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new hh(a.x,a.y):new hh(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return xr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&dd[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===X7&&(this._uvs=new $7),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=Ut.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Qo?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+v0(),Qo.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+v0()),s=e._pixiId);var l=dd[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Qo?!l&&e instanceof Qo&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=B7(e)),(l=new t(new Qo(e,i))).baseTexture.cacheId=s,Qo.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(Qo.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new Qo(e,Object.assign({scaleMode:Ut.SCALE_MODE,resolution:B7(i)},o)),a=s.resource;a instanceof AA&&(a.url=i);var l=new t(s);return r||(r=i),Qo.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Qo.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),dd[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),dd[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=dd[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete dd[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)dd[e.textureCacheIds[o]]===e&&delete dd[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(yA);function RE(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}Ou.EMPTY=new Ou(new Qo),RE(Ou.EMPTY),RE(Ou.EMPTY.baseTexture),Ou.WHITE=function $0e(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Ou(new Qo(new IA(n)))}(),RE(Ou.WHITE),RE(Ou.WHITE.baseTexture);var RA=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return xr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(Xf("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new Y7(e))},t}(Ou),X0e=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=oi.NONE);var r=new Y7(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new RA(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=oi.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=ME(t)))<<16|65535&(e=ME(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||oi.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),K7=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Wt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),K0e=0,hl=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=K0e++,this.disposeRunner=new Xs("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Bo.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Bo.ELEMENT_ARRAY_BUFFER:Bo.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),q0e={Float32Array,Uint32Array,Int32Array,Uint8Array},q7={5126:4,5123:2,5121:1},Z0e=0,Q0e={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},NA=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Z0e++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Xs("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof hl||(e instanceof Array&&(e=new Float32Array(e)),e=new hl(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,o);return this}var d=this.buffers.indexOf(e);return-1===d&&(this.buffers.push(e),d=this.buffers.length-1),this.attributes[t]=new K7(d,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof hl||(t instanceof Array&&(t=new Uint16Array(t)),t=new hl(t)),t.type=Bo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new hl;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*q7[o.type]/4),o.buffer=0}for(i.data=function J0e(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var c=t[o],u=n[o],d=R7(u);r[d]||(r[d]=new q0e[d](s)),a=r[d];for(var f=0;f<u.length;f++)a[(f/c|0)*i+l+f%c]=u[f];l+=c}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new hl(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new K7(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Bo.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(Q0e[R7(s.buffers[a].data)])(r[a]),e.buffers[a]=new hl(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Bo.ELEMENT_ARRAY_BUFFER;var c=0,u=0,d=0,f=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){f=a;break}for(var a in s.attributes){var p=s.attributes[a];(0|p.buffer)===f&&(u+=p.size*q7[p.type]/4)}for(a=0;a<t.length;a++){var T=t[a].indexBuffer.data;for(l=0;l<T.length;l++)e.indexBuffer.data[l+d]+=c;c+=t[a].buffers[f].data.length/u,d+=T.length}}return e},n}(),ebe=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return xr(t,n),t}(NA),tbe=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new hl(e.vertices),e.uvBuffer=new hl(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return xr(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(NA),nbe=0,gm=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=nbe++,this.static=!!e,this.ubo=!!i,t instanceof hl?(this.buffer=t,this.buffer.type=Bo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new hl(new Float32Array(1)),this.buffer.type=Bo.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),ibe=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=oi.NONE,this.sourceFrame=new Ks,this.destinationFrame=new Ks,this.bindingSourceFrame=new Ks,this.bindingDestinationFrame=new Ks,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),NE=[new hh,new hh,new hh,new hh],kA=new dl,J7=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new X0e,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new ebe,this.quadUv=new tbe,this.tempRect=new Ks,this.activeState={},this.globalUniforms=new gm({outputFrame:new Ks,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new ibe,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,d=e[0].padding,f=e[0].autoFit,p=null===(i=e[0].legacy)||void 0===i||i,T=1;T<e.length;T++){var x=e[T];c=Math.min(c,x.resolution),u=Math.min(u,x.multisample),d=this.useMaxPadding?Math.max(d,x.padding):d+x.padding,f=f&&x.autoFit,p=p||null===(r=x.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=c,a.multisample=u,a.legacy=p,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(d),f){var k=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(kA.copyFrom(o.projection.transform).invert(),k),a.sourceFrame.fit(k)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var B=this.tempRect;B.x=0,B.y=0,B.width=a.sourceFrame.width,B.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,B),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Ys.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,e.resolution);d.filterFrame=u.filterFrame;var f=0;for(f=0;f<i.length-1;++f){1===f&&e.multisample>1&&((d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[f].apply(this,u,d,Ys.CLEAR,e);var p=u;u=d,d=p}i[f].apply(this,u,c.renderTexture,Ys.BLEND,e),f>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Ys.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Ys.CLEAR||e===Ys.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Os.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Os.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(dl.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=oi.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||oi.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=NE[0],r=NE[1],o=NE[2],s=NE[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),c=Math.max(i.x,r.x,o.x,s.x),u=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,c=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(c)>1e-4))return}(o=o?kA.copyFrom(o):kA.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),Z7=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),Q7=function(){function n(t){this.renderer=t,this.emptyRenderer=new Z7(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=o[c],d=u._batchLocation;if(d>=0&&d<r&&e[d]===u)s[c]=d;else for(;l<r;){var f=e[l];if(!f||f._batchEnabled!==i||f._batchLocation!==l){s[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),eH=0,tH=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=eH++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=eH++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(Ut.PREFER_ENV>=ls.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),rbe=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=oi.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},obe=new Ks,nH=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new DA(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ks,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Ut.PREFER_ENV===ls.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=ah.COLOR|ah.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new rbe(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var c=o[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var f=t.depthTexture;this.renderer.texture.bind(f,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=oi.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=oi.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var c=o.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=o.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new DA(o.width,o.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=obe).width=o.width,e.height=o.height),i||(i=e);var d=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ks},n.prototype.destroy=function(){this.renderer=null},n}(),LA={5126:4,5123:2,5121:1},iH=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;Ut.PREFER_ENV===ls.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,c){return r.drawElementsInstancedANGLE(o,s,a,l,c)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var d=t.buffers,f=t.attributes,p={},T={};for(var x in d)p[x]=0,T[x]=0;for(var x in f)!f[x].size&&a.attributeData[x]?f[x].size=a.attributeData[x].size:f[x].size||console.warn("PIXI Geometry attribute '"+x+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[f[x].buffer]+=f[x].size*LA[f[x].type];for(var x in f){var k=f[x],B=k.size;void 0===k.stride&&(k.stride=p[k.buffer]===B*LA[k.type]?0:p[k.buffer]),void 0===k.start&&(k.start=T[k.buffer],T[k.buffer]+=B*LA[k.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var $=0;$<d.length;$++){var q=d[$];s.bind(q),i&&q._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var u in r)if("g"===u[0]){var d=r[u];this._activeVao===d&&this.unbind(),o.deleteVertexArray(d)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],d=s[u.buffer],f=d._glBuffers[r];if(e.attributeData[c]){l!==f&&(o.bind(d),l=f);var p=e.attributeData[c].location;if(i.enableVertexAttribArray(p),i.vertexAttribPointer(p,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(p,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),sbe=function(){function n(t){void 0===t&&(t=null),this.type=Ui.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ut.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ui.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function rH(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function oH(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||o[c]||(o[c]=!0,0))}),a=[""];s.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function FA(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function sH(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return FA(2*t);case"bvec3":return FA(3*t);case"bvec4":return FA(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var kE,aH={},b0=aH;function lH(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Fo.HIGH&&e!==Fo.HIGH&&(i=Fo.MEDIUM),"precision "+i+" float;\n"+n}return e!==Fo.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var ube={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function cH(n){return ube[n]}var LE=null,uH={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function dH(n,t){if(!LE){var e=Object.keys(uH);LE={};for(var i=0;i<e.length;++i){var r=e[i];LE[n[r]]=uH[r]}}return LE[t]}var S0,_m=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],dbe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},hbe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},pbe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function gbe(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var bbe=0,FE={},BA=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=bbe++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),FE[i]?(FE[i]++,i+="-"+FE[i]):FE[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=lH(this.vertexSrc,Ut.PRECISION_VERTEX,Fo.HIGH),this.fragmentSrc=lH(this.fragmentSrc,Ut.PRECISION_FRAGMENT,function cbe(){if(!kE){kE=Fo.MEDIUM;var n=function lbe(){if(b0===aH||b0&&b0.isContextLost()){var n=document.createElement("canvas"),t=void 0;Ut.PREFER_ENV>=ls.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),b0=t}return b0}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);kE=t.precision?Fo.HIGH:Fo.MEDIUM}}return kE}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=F7[r];return o||(F7[r]=o=new n(t,e,i)),o},n}(),hH=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof gm?e:new gm(e):new gm({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(BA.from(t,e),i)},n}(),WA=function(){function n(){this.data=0,this.blendMode=ht.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==ht.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Ebe=function(n){function t(e,i,r){var o=this,s=BA.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=Ut.FILTER_RESOLUTION,o.multisample=Ut.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new WA,o}return xr(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(hH),fH=new dl,Mbe=function(){function n(t,e){this._texture=t,this.mapCoord=new dl,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(fH.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(fH));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/s.width,a[1]=(e._frame.y+l+c)/s.height,a[2]=(e._frame.x+e._frame.width-l+c)/s.width,a[3]=(e._frame.y+e._frame.height-l+c)/s.height,this.uClampOffset[0]=c/s.realWidth,this.uClampOffset[1]=c/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),Obe=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new dl,o}return xr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new Mbe(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(Ebe),pH=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new sbe;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==Ui.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ui.SCISSOR:this.renderer.scissor.push(i);break;case Ui.STENCIL:this.renderer.stencil.push(i);break;case Ui.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===Ui.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ui.SCISSOR:this.renderer.scissor.pop();break;case Ui.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ui.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===Ui.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?Ui.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?Ui.SCISSOR:Ui.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new Obe]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var d=l.current;c=t.resolution||d.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:d.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=c,s[0].multisample=u,s[0].maskSprite=r;var f=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=f,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),gH=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),_H=new dl,mH=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return xr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?_H.copyFrom(s):_H.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(gH),vH=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return xr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(gH),yH=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new dl,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),ep=new Ks,C0=new Ks,bH=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ks,this.destinationFrame=new Ks,this.viewportFrame=new Ks}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(ep.width=t.frame.width,ep.height=t.frame.height,e=ep),i||(C0.x=t.frame.x,C0.y=t.frame.y,C0.width=e.width,C0.height=e.height,i=C0),s=o.framebuffer):(a=r.resolution,e||(ep.width=r.screen.width,ep.height=r.screen.height,e=ep),i||((i=ep).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,c=s.width,u=s.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function Pbe(n,t,e,i,r){e.buffer.update(r)}var xbe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},SH={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var Rbe=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var Fbe=0,BE={textureCount:0,uboCount:0},CH=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Fbe++}return n.prototype.systemCheck=function(){if(!function mbe(){if("boolean"==typeof S0)return S0;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");S0=!0===n({a:"b"},"a","b")}catch(t){S0=!1}return S0}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(BE.textureCount=0,BE.uboCount=0,this.syncUniformGroup(t.uniformGroup,BE)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function fbe(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<_m.length;l++)if(_m[l].test(o,s)){i.push(_m[l].code(r,s)),a=!0;break}if(!a){var u=(1===o.size?dbe:hbe)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,BE,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=function Dbe(n,t){if(!n.autoManage)return{size:0,syncFunc:Pbe};for(var e=function Abe(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}(n.uniforms,t),i=function Ibe(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=SH[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}(e),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,d=!1,f=0;f<_m.length;f++){var p=_m[f];if(p.codeUbo&&p.test(l.data,c)){s.push("offset = "+l.offset/4+";",_m[f].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){var T=cH(l.data.type),x=Math.max(SH[l.data.type]/16,1),k=T/x;s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*x+"; i++)\n                {\n                    for(var j = 0; j < "+k+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-k%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+xbe[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=function Lbe(n,t){var e=rH(n,n.VERTEX_SHADER,t.vertexSrc),i=rH(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function abe(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||oH(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||oH(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function Nbe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=dH(t,o.type),a={type:s,name:o.name,size:cH(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function kbe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=dH(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:sH(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(u,d){return u>d?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:sH(l.type,l.size)}}return new Rbe(r,a)}(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),EH=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ht.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new WA,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function Bbe(n,t){return void 0===t&&(t=[]),t[ht.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.ADD]=[n.ONE,n.ONE],t[ht.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.NONE]=[0,0],t[ht.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[ht.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[ht.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[ht.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[ht.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[ht.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[ht.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[ht.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[ht.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[ht.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[ht.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),TH=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Ut.GC_MAX_IDLE,this.checkCountMax=Ut.GC_MAX_CHECK_COUNT,this.mode=Ut.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Q_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),YA=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Wt.UNSIGNED_BYTE,this.internalFormat=mt.RGBA,this.samplerType=0},wH=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qo,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Wbe(n){var t,e,i,r,o,s,a,l,c,u,d,f,p,T,x,k,B,$,q,ee,se,ae,Ee;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Wt.UNSIGNED_BYTE]=((e={})[mt.RGBA]=n.RGBA8,e[mt.RGB]=n.RGB8,e[mt.RG]=n.RG8,e[mt.RED]=n.R8,e[mt.RGBA_INTEGER]=n.RGBA8UI,e[mt.RGB_INTEGER]=n.RGB8UI,e[mt.RG_INTEGER]=n.RG8UI,e[mt.RED_INTEGER]=n.R8UI,e[mt.ALPHA]=n.ALPHA,e[mt.LUMINANCE]=n.LUMINANCE,e[mt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Wt.BYTE]=((i={})[mt.RGBA]=n.RGBA8_SNORM,i[mt.RGB]=n.RGB8_SNORM,i[mt.RG]=n.RG8_SNORM,i[mt.RED]=n.R8_SNORM,i[mt.RGBA_INTEGER]=n.RGBA8I,i[mt.RGB_INTEGER]=n.RGB8I,i[mt.RG_INTEGER]=n.RG8I,i[mt.RED_INTEGER]=n.R8I,i),t[Wt.UNSIGNED_SHORT]=((r={})[mt.RGBA_INTEGER]=n.RGBA16UI,r[mt.RGB_INTEGER]=n.RGB16UI,r[mt.RG_INTEGER]=n.RG16UI,r[mt.RED_INTEGER]=n.R16UI,r[mt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Wt.SHORT]=((o={})[mt.RGBA_INTEGER]=n.RGBA16I,o[mt.RGB_INTEGER]=n.RGB16I,o[mt.RG_INTEGER]=n.RG16I,o[mt.RED_INTEGER]=n.R16I,o),t[Wt.UNSIGNED_INT]=((s={})[mt.RGBA_INTEGER]=n.RGBA32UI,s[mt.RGB_INTEGER]=n.RGB32UI,s[mt.RG_INTEGER]=n.RG32UI,s[mt.RED_INTEGER]=n.R32UI,s[mt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[Wt.INT]=((a={})[mt.RGBA_INTEGER]=n.RGBA32I,a[mt.RGB_INTEGER]=n.RGB32I,a[mt.RG_INTEGER]=n.RG32I,a[mt.RED_INTEGER]=n.R32I,a),t[Wt.FLOAT]=((l={})[mt.RGBA]=n.RGBA32F,l[mt.RGB]=n.RGB32F,l[mt.RG]=n.RG32F,l[mt.RED]=n.R32F,l[mt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Wt.HALF_FLOAT]=((c={})[mt.RGBA]=n.RGBA16F,c[mt.RGB]=n.RGB16F,c[mt.RG]=n.RG16F,c[mt.RED]=n.R16F,c),t[Wt.UNSIGNED_SHORT_5_6_5]=((u={})[mt.RGB]=n.RGB565,u),t[Wt.UNSIGNED_SHORT_4_4_4_4]=((d={})[mt.RGBA]=n.RGBA4,d),t[Wt.UNSIGNED_SHORT_5_5_5_1]=((f={})[mt.RGBA]=n.RGB5_A1,f),t[Wt.UNSIGNED_INT_2_10_10_10_REV]=((p={})[mt.RGBA]=n.RGB10_A2,p[mt.RGBA_INTEGER]=n.RGB10_A2UI,p),t[Wt.UNSIGNED_INT_10F_11F_11F_REV]=((T={})[mt.RGB]=n.R11F_G11F_B10F,T),t[Wt.UNSIGNED_INT_5_9_9_9_REV]=((x={})[mt.RGB]=n.RGB9_E5,x),t[Wt.UNSIGNED_INT_24_8]=((k={})[mt.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,k),t[Wt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((B={})[mt.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,B),Ee=t):(($={})[Wt.UNSIGNED_BYTE]=((q={})[mt.RGBA]=n.RGBA,q[mt.RGB]=n.RGB,q[mt.ALPHA]=n.ALPHA,q[mt.LUMINANCE]=n.LUMINANCE,q[mt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,q),$[Wt.UNSIGNED_SHORT_5_6_5]=((ee={})[mt.RGB]=n.RGB,ee),$[Wt.UNSIGNED_SHORT_4_4_4_4]=((se={})[mt.RGBA]=n.RGBA,se),$[Wt.UNSIGNED_SHORT_5_5_5_1]=((ae={})[mt.RGBA]=n.RGBA,ae),Ee=$),Ee}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new YA(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new YA(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==lh.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new YA(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Wt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==lh.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&function U0e(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==_a.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Gl.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==_a.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Lo.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===Lo.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Lo.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Lo.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),MH={__proto__:null,FilterSystem:J7,BatchSystem:Q7,ContextSystem:tH,FramebufferSystem:nH,GeometrySystem:iH,MaskSystem:pH,ScissorSystem:mH,StencilSystem:vH,ProjectionSystem:yH,RenderTextureSystem:bH,ShaderSystem:CH,StateSystem:EH,TextureGCSystem:TH,TextureSystem:wH},$A=new dl,Ybe=function(n){function t(e,i){void 0===e&&(e=Ic.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},Ut.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new Ks(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||Ut.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(Xf("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return xr(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(Xf("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function z0e(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=RA.create(PA({width:o.width,height:o.height},a));return $A.tx=-o.x,$A.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:$A,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Ic.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function k0e(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function N0e(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(yA),$be=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Xbe=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new $be(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),Kbe=(function(n){function t(e){var i=n.call(this,Ic.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Xs("destroy"),contextChange:new Xs("contextChange"),reset:new Xs("reset"),update:new Xs("update"),postrender:new Xs("postrender"),prerender:new Xs("prerender"),resize:new Xs("resize")},i.runners.contextChange.add(i),i.globalUniforms=new gm({projectionMatrix:new dl},!0),i.addSystem(pH,"mask").addSystem(tH,"context").addSystem(EH,"state").addSystem(CH,"shader").addSystem(wH,"texture").addSystem(Xbe,"buffer").addSystem(iH,"geometry").addSystem(nH,"framebuffer").addSystem(mH,"scissor").addSystem(vH,"stencil").addSystem(yH,"projection").addSystem(TH,"textureGC").addSystem(J7,"filter").addSystem(bH,"renderTexture").addSystem(Q7,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function D0e(n){var t;A7||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),A7=!0)}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}xr(t,n),t.create=function(e){if(function R0e(){return void 0===EA&&(EA=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Ut.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),EA}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=oi.HIGH?oi.HIGH:i>=oi.MEDIUM?oi.MEDIUM:i>=oi.LOW?oi.LOW:oi.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof RA?(Xf("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Xf("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i}}(Ybe),function n(){this.texArray=null,this.blend=0,this.type=Os.TRIANGLES,this.start=0,this.size=0,this.data=null}),qbe=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),Jbe=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),Zbe=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=WA.for2d(),i.size=4*Ut.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return xr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;Ut.PREFER_ENV===ls.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ut.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function _be(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=pbe.replace(/%forloop%/gi,gbe(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new Kbe);for(;i.length<o;)i.push(new qbe);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Qo._globalBatch,u=0,d=o[0],f=0;s.copyBoundTextures(a,r);for(var p=0;p<this._bufferSize;++p){var T=i[p];i[p]=null,T._batchEnabled!==c&&(d.count>=r&&(s.boundArray(d,a,c,r),this.buildDrawCalls(d,f,p),f=p,d=o[++u],++c),T._batchEnabled=c,T.touched=l,d.elements[d.count++]=T)}for(d.count>0&&(s.boundArray(d,a,c,r),this.buildDrawCalls(d,f,this._bufferSize),++u,++c),p=0;p<a.length;p++)a[p]=null;Qo._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,c=o.vertexSize,u=t._drawCallPool,d=this._dcIndex,f=this._aIndex,p=this._iIndex,T=u[d];T.start=this._iIndex,T.texArray=e;for(var x=i;x<r;++x){var k=s[x],$=F0e[k._texture.baseTexture.alphaMode?1:0][k.blendMode];s[x]=null,i<x&&T.blend!==$&&(T.size=p-T.start,i=x,(T=u[++d]).texArray=e,T.start=p),this.packInterleavedGeometry(k,a,l,f,p),f+=k.vertexData.length/2*c,p+=k.indices.length,T.blend=$}i<r&&(T.size=p-T.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=p},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;Ut.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var c=s[l],u=c.texArray,d=c.type,f=c.size,p=c.start,T=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=T,o.set(this.state),r.drawElements(d,f,r.UNSIGNED_SHORT,2*p)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ut.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=ME(Math.ceil(e/8)),r=k7(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new Jbe(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=ME(Math.ceil(e/12)),r=k7(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,c=o/this.vertexSize,u=e.uvs,d=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,T=Math.min(e.worldAlpha,1),x=T<1&&e._texture.baseTexture.alphaMode?function B0e(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,T):e._tintRGB+(255*T<<24),k=0;k<f.length;k+=2)l[o++]=f[k],l[o++]=f[k+1],l[o++]=u[k],l[o++]=u[k+1],a[o++]=x,l[o++]=p;for(k=0;k<d.length;k++)r[s++]=c+d[k]},t._drawCallPool=[],t._textureArrayPool=[],t}(Z7),Qbe=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=gm.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new BA(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new dl,default:this.defaultGroupCache[t]};return new hH(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),e1e=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new hl(null,e,!1),i._indexBuffer=new hl(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Wt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Wt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Wt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Wt.FLOAT).addIndex(i._indexBuffer),i}return xr(t,n),t}(NA),OH="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",PH="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",t1e=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:OH,fragment:PH,geometryClass:e1e,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new Qbe(i,r),u.geometryClass=s,u.vertexSize=o,u}return xr(l,a),l}(Zbe)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return OH},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return PH},enumerable:!1,configurable:!0}),n}(),n1e=(t1e.create(),{}),i1e=function(n){Object.defineProperty(n1e,n,{get:function(){return Xf("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),W7[n]}})};for(var XA in W7)i1e(XA);var r1e={},o1e=function(n){Object.defineProperty(r1e,n,{get:function(){return Xf("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),MH[n]}})};for(var XA in MH)o1e(XA);var xH=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==Os.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3)this._renderDrawTriangle(t,2*e[r],2*e[r+1],2*e[r+2])},n.prototype._renderDrawTriangle=function(t,e,i,r){var o=this.renderer.context,s=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var c=16777215!==t.tint,u=l.baseTexture,d=u.width,f=u.height;c&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new Ou(u),t._tintedCanvas=Co.getTintedCanvas({texture:t._cachedTexture},t.tint));var p=c?t._tintedCanvas:u.getDrawableSource(),T=a[e]*u.width,x=a[i]*u.width,k=a[r]*u.width,B=a[e+1]*u.height,$=a[i+1]*u.height,q=a[r+1]*u.height,ee=s[e],se=s[i],ae=s[r],Ee=s[e+1],Ce=s[i+1],ge=s[r+1],ve=t.canvasPadding/this.renderer.resolution;if(ve>0){var Ve=t.worldTransform,Pe=Ve.a,De=Ve.b,Ye=Ve.c,Ge=Ve.d,Ne=(ee+se+ae)/3,ke=(Ee+Ce+ge)/3,$e=ee-Ne,gt=Ee-ke,we=Pe*$e+Ye*gt,st=De*$e+Ge*gt,ft=Math.sqrt(we*we+st*st),St=1+ve/ft;ee=Ne+$e*St,Ee=ke+gt*St,we=Pe*($e=se-Ne)+Ye*(gt=Ce-ke),st=De*$e+Ge*gt,se=Ne+$e*(St=1+ve/(ft=Math.sqrt(we*we+st*st))),Ce=ke+gt*St,we=Pe*($e=ae-Ne)+Ye*(gt=ge-ke),st=De*$e+Ge*gt,ae=Ne+$e*(St=1+ve/(ft=Math.sqrt(we*we+st*st))),ge=ke+gt*St}o.save(),o.beginPath(),o.moveTo(ee,Ee),o.lineTo(se,Ce),o.lineTo(ae,ge),o.closePath(),o.clip();var Ft=T*$+B*k+x*q-$*k-B*x-T*q;o.transform((ee*$+B*ae+se*q-$*ae-B*se-ee*q)/Ft,(Ee*$+B*ge+Ce*q-$*ge-B*Ce-Ee*q)/Ft,(T*se+ee*k+x*ae-se*k-ee*x-T*ae)/Ft,(T*Ce+Ee*k+x*ge-Ce*k-Ee*x-T*ge)/Ft,(T*$*ae+B*se*k+ee*x*q-ee*$*k-B*x*ae-T*se*q)/Ft,(T*$*ge+B*Ce*k+Ee*x*q-Ee*$*k-B*x*ge-T*Ce*q)/Ft),o.drawImage(p,0,0,d*u.resolution,f*u.resolution,0,0,d,f),o.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var o=1;o<r-2;++o){var s=2*o,c=i[s+2],u=i[s+3],d=i[s+4],f=i[s+5];e.moveTo(i[s],i[s+1]),e.lineTo(c,u),e.lineTo(d,f)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();Ut.MESH_CANVAS_PADDING=0,$f.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},_0.prototype._cachedTint=16777215,_0.prototype._tintedCanvas=null,_0.prototype._canvasUvs=null,_0.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,o=this.texture;if(o.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Co.getTintedCanvas(this,this.tint));var s=r?this._tintedCanvas:o.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,c=r?0:o.frame.x,u=r?0:o.frame.y,d=c+o.frame.width,f=u+o.frame.height;l[0]=c,l[1]=c+this._leftWidth,l[2]=d-this._rightWidth,l[3]=d,l[4]=u,l[5]=u+this._topHeight,l[6]=f-this._bottomHeight,l[7]=f;for(var p=0;p<8;p++)l[p]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var T=0;T<3;T++)for(var x=0;x<3;x++){var k=2*x+8*T,B=Math.max(1,l[x+1]-l[x]),$=Math.max(1,l[T+5]-l[T+4]),q=Math.max(1,a[k+10]-a[k]),ee=Math.max(1,a[k+11]-a[k+1]);e.drawImage(s,l[x],l[T+4],B,$,a[k],a[k+1],q,ee)}}};var IH=!1;Yl.prototype._cachedTint=16777215,Yl.prototype._tintedCanvas=null,Yl.prototype._cachedTexture=null,Yl.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):IH||(IH=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Yl.prototype._canvasPadding=null,Object.defineProperty(Yl.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:Ut.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),T7.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},C7.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var KA,AH=function(){function n(){}return n.offsetPolygon=function(t,e){var i=[],r=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var o=0;o<r;o+=2){var s=o-2;s<0&&(s+=r);var a=(o+2)%r,l=t[o]-t[s],c=t[o+1]-t[s+1],u=Math.sqrt(l*l+c*c);l/=u,c/=u;var d=-(c*=e),p=[t[s]+d,t[s+1]+(l*=e)],T=[t[o]+d,t[o+1]+l],x=t[a]-t[o],k=t[a+1]-t[o+1];x/=u=Math.sqrt(x*x+k*k),k/=u;var B=-(k*=e),q=[t[o]+B,t[o+1]+(x*=e)],ee=[t[a]+B,t[a+1]+x],se=n.findIntersection(p[0],p[1],T[0],T[1],q[0],q[1],ee[0],ee[1]);se&&i.push.apply(i,se)}return i},n.findIntersection=function(t,e,i,r,o,s,a,l){var c=(l-s)*(i-t)-(a-o)*(r-e),u=(a-o)*(e-s)-(l-s)*(t-o);if(0===c)return 0===u&&0==(i-t)*(e-s)-(r-e)*(t-o)?[(t+i)/2,(e+r)/2]:null;var f=u/c;return[t+f*(i-t),e+f*(r-e)]},n.isPolygonClockwise=function(t){for(var e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0},n}(),DH=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new tr,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==un.WHITE.baseTexture?t.texture.valid?(i=Co.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||tr.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},n.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,o=t.transform.worldTransform;e.setContextTransform(o),e.setBlendMode(t.blendMode);for(var a,l,s=t.geometry.graphicsData,c=(t.tint>>16&255)/255,u=(t.tint>>8&255)/255,d=(255&t.tint)/255,f=0;f<s.length;f++){var p=s[f],T=p.shape,x=p.fillStyle,k=p.lineStyle,B=0|p.fillStyle.color,$=0|p.lineStyle.color;if(p.matrix&&e.setContextTransform(o.copyTo(this._tempMatrix).append(p.matrix)),x.visible&&(a=this._calcCanvasStyle(x,((B>>16&255)/255*c*255<<16)+((B>>8&255)/255*u*255<<8)+(255&B)/255*d*255)),k.visible&&(l=this._calcCanvasStyle(k,(($>>16&255)/255*c*255<<16)+(($>>8&255)/255*u*255<<8)+(255&$)/255*d*255)),i.lineWidth=k.width,i.lineCap=k.cap,i.lineJoin=k.join,i.miterLimit=k.miterLimit,p.type===Fi.POLY){i.beginPath();var ae=(se=T).points,Ee=p.holes,Ce=void 0,ge=void 0,ve=void 0,Ve=void 0,Pe=void 0;i.moveTo(ae[0],ae[1]);for(var De=2;De<ae.length;De+=2)i.lineTo(ae[De],ae[De+1]);if(se.closeStroke&&i.closePath(),Ee.length>0){for(Pe=[],Ce=0,ve=ae[0],Ve=ae[1],De=2;De+2<ae.length;De+=2)Ce+=(ae[De]-ve)*(ae[De+3]-Ve)-(ae[De+2]-ve)*(ae[De+1]-Ve);for(var Ye=0;Ye<Ee.length;Ye++)if(ae=Ee[Ye].shape.points){for(ge=0,ve=ae[0],Ve=ae[1],De=2;De+2<ae.length;De+=2)ge+=(ae[De]-ve)*(ae[De+3]-Ve)-(ae[De+2]-ve)*(ae[De+1]-Ve);if(ge*Ce<0)for(i.moveTo(ae[0],ae[1]),De=2;De<ae.length;De+=2)i.lineTo(ae[De],ae[De+1]);else for(i.moveTo(ae[ae.length-2],ae[ae.length-1]),De=ae.length-4;De>=0;De-=2)i.lineTo(ae[De],ae[De+1]);Ee[Ye].shape.closeStroke&&i.closePath(),Pe[Ye]=ge*Ce<0}}x.visible&&(i.globalAlpha=x.alpha*r,i.fillStyle=a,i.fill()),k.visible&&this.paintPolygonStroke(se,k,l,Ee,Pe,r,i)}else if(p.type===Fi.RECT){var se=T;if(x.visible&&(i.globalAlpha=x.alpha*r,i.fillStyle=a,i.fillRect(se.x,se.y,se.width,se.height)),k.visible){var Ne=se.width+2*(Ge=k.width*(.5-(1-k.alignment))),ke=se.height+2*Ge;i.globalAlpha=k.alpha*r,i.strokeStyle=l,i.strokeRect(se.x-Ge,se.y-Ge,Ne,ke)}}else if(p.type===Fi.CIRC){if(se=T,i.beginPath(),i.arc(se.x,se.y,se.radius,0,2*Math.PI),i.closePath(),x.visible&&(i.globalAlpha=x.alpha*r,i.fillStyle=a,i.fill()),k.visible){if(.5!==k.alignment){var Ge=k.width*(.5-(1-k.alignment));i.beginPath(),i.arc(se.x,se.y,se.radius+Ge,0,2*Math.PI),i.closePath()}i.globalAlpha=k.alpha*r,i.strokeStyle=l,i.stroke()}}else if(p.type===Fi.ELIP){if(se=T,($e=1===k.alignment)||this.paintEllipse(se,x,k,a,r,i),k.visible){if(.5!==k.alignment){var gt=.5522848,we=2*(se.width+(Ge=k.width*(.5-(1-k.alignment)))),st=2*(se.height+Ge),ft=se.x-we/2,St=se.y-st/2,Ft=we/2*gt,At=st/2*gt,Xt=ft+we,tn=St+st,kn=ft+we/2,yn=St+st/2;i.beginPath(),i.moveTo(ft,yn),i.bezierCurveTo(ft,yn-At,kn-Ft,St,kn,St),i.bezierCurveTo(kn+Ft,St,Xt,yn-At,Xt,yn),i.bezierCurveTo(Xt,yn+At,kn+Ft,tn,kn,tn),i.bezierCurveTo(kn-Ft,tn,ft,yn+At,ft,yn),i.closePath()}i.globalAlpha=k.alpha*r,i.strokeStyle=l,i.stroke()}$e&&this.paintEllipse(se,x,k,a,r,i)}else if(p.type===Fi.RREC){var $e;if(se=T,($e=1===k.alignment)||this.paintRoundedRectangle(se,x,k,a,r,i),k.visible){if(.5!==k.alignment){Ne=se.width,ke=se.height;var hn=se.x-(Ge=k.width*(.5-(1-k.alignment))),Kt=se.y-Ge,On=se.width+2*Ge,fn=se.height+2*Ge,cr=Ge*(k.alignment>=1?Math.min(On/Ne,fn/ke):Math.min(Ne/On,ke/fn)),jn=se.radius+cr,In=Math.min(On,fn)/2;jn=jn>In?In:jn,i.beginPath(),i.moveTo(hn,Kt+jn),i.lineTo(hn,Kt+fn-jn),i.quadraticCurveTo(hn,Kt+fn,hn+jn,Kt+fn),i.lineTo(hn+On-jn,Kt+fn),i.quadraticCurveTo(hn+On,Kt+fn,hn+On,Kt+fn-jn),i.lineTo(hn+On,Kt+jn),i.quadraticCurveTo(hn+On,Kt,hn+On-jn,Kt),i.lineTo(hn+jn,Kt),i.quadraticCurveTo(hn,Kt,hn,Kt+jn),i.closePath()}i.globalAlpha=k.alpha*r,i.strokeStyle=l,i.stroke()}$e&&this.paintRoundedRectangle(se,x,k,a,r,i)}}},n.prototype.paintPolygonStroke=function(t,e,i,r,o,s,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),c=AH.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(c[0],c[1]);for(var d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);t.closeStroke&&a.closePath();for(var f=0;f<r.length;f++){if(c=AH.offsetPolygon(r[f].shape.points,l),o[f])for(a.moveTo(c[0],c[1]),d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);else for(a.moveTo(c[c.length-2],c[c.length-1]),d=c.length-4;d>=0;d-=2)a.lineTo(c[d],c[d+1]);r[f].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*s,a.strokeStyle=i,a.stroke()},n.prototype.paintEllipse=function(t,e,i,r,o,s){var a=2*t.width,l=2*t.height,c=t.x-a/2,u=t.y-l/2,d=.5522848,f=a/2*d,p=l/2*d,T=c+a,x=u+l,k=c+a/2,B=u+l/2;0===i.alignment&&s.save(),s.beginPath(),s.moveTo(c,B),s.bezierCurveTo(c,B-p,k-f,u,k,u),s.bezierCurveTo(k+f,u,T,B-p,T,B),s.bezierCurveTo(T,B+p,k+f,x,k,x),s.bezierCurveTo(k-f,x,c,B+p,c,B),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.paintRoundedRectangle=function(t,e,i,r,o,s){var a=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,f=Math.min(c,u)/2;d=d>f?f:d,0===i.alignment&&s.save(),s.beginPath(),s.moveTo(a,l+d),s.lineTo(a,l+u-d),s.quadraticCurveTo(a,l+u,a+d,l+u),s.lineTo(a+c-d,l+u),s.quadraticCurveTo(a+c,l+u,a+c,l+u-d),s.lineTo(a+c,l+d),s.quadraticCurveTo(a+c,l,a+c-d,l),s.lineTo(a+d,l),s.quadraticCurveTo(a,l,a,l+d),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),E0=new tr;Wl.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=Vl.create({width:i.width,height:i.height,scaleMode:t,resolution:e});KA||(KA=new wu),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(E0),E0.invert(),E0.tx-=i.x,E0.ty-=i.y,KA.render(this,{renderTexture:r,clear:!0,transform:E0});var o=un.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return o.baseTexture.setResolution(e),o},Wl.prototype.cachedGraphicsData=[],Wl.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var RH=new tr,NH=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,i=this.renderer,r=i.context;if(e.valid){var o=e._frame.width,s=e._frame.height,a=t.transform.worldTransform,l=0,c=0,u=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&u){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var d=e.baseTexture.scaleMode===Lo.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==d&&(r[i.smoothProperty]=d),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(RH),Fr.matrixAppendRotationInv(a=RH,e.rotate,l,c),l=0,c=0),l-=o/2,c-=s/2,i.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,c|=0);var f=e.baseTexture.resolution,p=i._outerBlend;p&&(r.save(),r.beginPath(),r.rect(l*i.resolution,c*i.resolution,o*i.resolution,s*i.resolution),r.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=Co.getTintedCanvas(t,t.tint)),r.drawImage(t._tintedCanvas,0,0,Math.floor(o*f),Math.floor(s*f),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution))):r.drawImage(u,e._frame.x*f,e._frame.y*f,Math.floor(o*f),Math.floor(s*f),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution)),p&&r.restore(),i.setBlendMode(ht.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();xs.prototype._tintedCanvas=null,xs.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var kH=new wi,LH=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,o,s,e=this.renderer;t&&(s=t instanceof Vl?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=kH).width=this.renderer.width,o.height=this.renderer.height);var a=Math.floor(o.width*r+1e-4),l=Math.floor(o.height*r+1e-4),c=new em(a,l,1),u=i.getImageData(o.x*r,o.y*r,a,l);return c.context.putImageData(u,0,0),c.canvas},n.prototype.pixels=function(t){var i,r,o,s,e=this.renderer;return t&&(s=t instanceof Vl?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=kH).width=e.width,o.height=e.height),i.getImageData(o.x*r,o.y*r,o.width*r,o.height*r).data},n.prototype.destroy=function(){this.renderer=null},n}(),qA=function(n,t){return(qA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function a1e(n,t){var e=n;if(t instanceof Ai){var i=t.source,r=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),o=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,r,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}var BH=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(a1e),i}return function s1e(n,t){function e(){this.constructor=n}qA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(Z2),UE=new tr,T0=new tr,Pu=[new Or,new Or,new Or,new Or];c7.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,r=this.worldTransform,o=e.baseTexture,s=o.getDrawableSource(),a=o.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new em(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=Co.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(s,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var c=this.tileTransform.localTransform,u=this._width,d=this._height;UE.identity(),T0.copyFrom(c),this.uvRespectAnchor||T0.translate(-this.anchor.x*u,-this.anchor.y*d),T0.scale(this.tileScale.x/a,this.tileScale.y/a),UE.prepend(T0),UE.prepend(r),t.setContextTransform(UE),i.fillStyle=this._canvasPattern;var f=this.anchor.x*-u,p=this.anchor.y*-d;Pu[0].set(f,p),Pu[1].set(f+u,p),Pu[2].set(f+u,p+d),Pu[3].set(f,p+d);for(var T=0;T<4;T++)T0.applyInverse(Pu[T],Pu[T]);for(i.beginPath(),i.moveTo(Pu[0].x,Pu[0].y),T=1;T<4;T++)i.lineTo(Pu[T].x,Pu[T].y);i.closePath(),i.fill()}},WG.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,o=0,s=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var u=this.children[c];if(u.visible&&u._texture.valid){var d=u._texture.frame;e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),o=u.anchor.x*(-d.width*u.scale.x)+u.position.x+.5,s=u.anchor.y*(-d.height*u.scale.y)+u.position.y+.5,a=d.width*u.scale.x,l=d.height*u.scale.y):(r||(r=!0),u.displayObjectUpdateTransform(),t.setContextTransform(u.worldTransform,this.roundPixels,1),o=u.anchor.x*-d.width+.5,s=u.anchor.y*-d.height+.5,a=d.width,l=d.height);var p=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.getDrawableSource(),d.x*p,d.y*p,d.width*p,d.height*p,o*t.resolution,s*t.resolution,a*t.resolution,l*t.resolution)}}}},Br.prototype._renderCanvas=function(t){},Br.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},to.prototype.renderCanvas=function(t){},d0.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),xs.prototype._renderCanvas.call(this,t)},wu.registerPlugin("accessibility",UI),wu.registerPlugin("extract",LH),wu.registerPlugin("graphics",DH),wu.registerPlugin("interaction",VI),wu.registerPlugin("mesh",xH),wu.registerPlugin("prepare",BH),wu.registerPlugin("sprite",NH);var fd=(()=>(function(n){n.Base="Inter, sans-serif"}(fd||(fd={})),fd))(),jE=(()=>(function(n){n.navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender"}(jE||(jE={})),jE))();function UH(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function jH(n){if(!n)return[];const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,dims:e.media[0].tinygif.dims,id:e.id})),t}const GH=["af","am","az","bg","bn","cs","de","el","en","en-sc","es","fa","fi","fr","hi","hr","hu","hy","id","it","ja","ka","ko","lt","lv","mk","nl","no","pl","pt","pt-br","ro","ru","sq","sr","sv","sw","th","tl","tr","uk","uz","vi","zh","zh-tw"];class Jn extends Xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:p1e}=Array,{getPrototypeOf:g1e,prototype:_1e,keys:m1e}=Object;function HH(n){if(1===n.length){const t=n[0];if(p1e(t))return{args:t,keys:null};if(function v1e(n){return n&&"object"==typeof n&&g1e(n)===_1e}(t)){const e=m1e(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function VH(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function GE(...n){const t=Pi(n),{args:e,keys:i}=HH(n),r=new ue(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;rn(e[u]).subscribe(rt(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?VH(i,a):a),o.complete())}))}});return t?r.pipe(tI(t)):r}function xu(...n){const t=Ls(n),e=Pi(n),{args:i,keys:r}=HH(n);if(0===i.length)return Ni([],t);const o=new ue(function y1e(n,t,e=ne){return i=>{zH(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)zH(t,()=>{const c=Ni(n[l],t);let u=!1;c.subscribe(rt(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>VH(r,s):ne));return e?o.pipe(tI(e)):o}function zH(n,t,e){n?jr(e,n,t):t()}function Ha(n,t,e){const i=N(n)||t||e?{next:n,error:t,complete:e}:n;return i?it((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(rt(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ne}class JA extends Xe{constructor(t=1/0,e=1/0,i=fI){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function WH(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,ka({connector:()=>new JA(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function fh(n,t){return it((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(rt(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;rn(n(l,u)).subscribe(r=rt(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}var YH=_e(6100);class S1e{constructor(t){this.translations=t}getTranslation(t){return mu(this.translations.get(t)||{})}}const ZA=new gn("TRANSLOCO_LOADER");function $H(n,t){return n&&(Object.prototype.hasOwnProperty.call(n,t)?n[t]:t.split(".").reduce((e,i)=>null==e?void 0:e[i],n))}function XH(n){return n?Array.isArray(n)?n.length:QA(n)?Object.keys(n).length:n?n.length:0:0}function tp(n){return"string"==typeof n}function QA(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function KH(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0==e?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function eD(n){return null==n}function JH(n){return!1===eD(n)}function ZH(n){return n&&"string"==typeof n.scope}function QH(n){return(0,YH.flatten)(n,{safe:!0})}const np=new gn("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>({defaultLang:"en"})}),HE={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function P1e(n=HE){return Object.assign(Object.assign({},HE),n)}const eV=new gn("TRANSLOCO_TRANSPILER");let x1e=(()=>{class n{constructor(e){this.interpolationMatcher=function I1e(n){const[t,e]=n&&n.interpolation?n.interpolation:HE.interpolation;return new RegExp(`${t}(.*?)${e}`,"g")}(e)}transpile(e,i={},r,o){return tp(e)?e.replace(this.interpolationMatcher,(s,a)=>(a=a.trim(),JH(i[a])?i[a]:JH(r[a])?this.transpile(r[a],i,r,o):"")):(i&&(QA(e)?e=this.handleObject(e,i,r,o):Array.isArray(e)&&(e=this.handleArray(e,i,r,o))),e)}handleObject(e,i={},r,o){let s=e;return Object.keys(i).forEach(a=>{const l=$H(s,a),c=$H(i,a),u=this.transpile(l,c,r,o);s=function C1e(n,t,e){n=Object.assign({},n);const i=t.split("."),r=i.length-1;return i.reduce((o,s,a)=>(o[s]=a===r?e:Array.isArray(o[s])?o[s].slice():Object.assign({},o[s]),o&&o[s]),n),n}(s,a,u)}),s}handleArray(e,i={},r,o){return e.map(s=>this.transpile(s,i,r,o))}}return n.\u0275fac=function(e){return new(e||n)(lt(np,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const tD=new gn("TRANSLOCO_MISSING_HANDLER");let A1e=(()=>{class n{handle(e,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${e}'`,"font-size: 12px; color: red"),e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const tV=new gn("TRANSLOCO_INTERCEPTOR");let D1e=(()=>{class n{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const nV=new gn("TRANSLOCO_FALLBACK_STRATEGY");let oD,R1e=(()=>{class n{constructor(e){this.userConfig=e}getNextLangs(){const e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}}return n.\u0275fac=function(e){return new(e||n)(lt(np))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function w0(n){if(!n)return"";const t=n.split("/");return t.pop(),t.join("/")}function ph(n){return n?n.split("/").pop():""}function nD(n,t,e="|"){if(tp(n)){const i=n.split(e),r=i.pop();return r===t?[!0,i.toString()]:[!1,r]}return[!1,""]}function iV(n,t){const[e]=nD(t,"static");return!e&&!!n.config.reRenderOnLangChange}function rV(n){return n?t=>t:Nr(1)}function iD(n,t){return function M1e(n){return n&&QA(n.loader)}(n)?function k1e(n,t){return Object.keys(n).reduce((e,i)=>(e[`${t}/${i}`]=n[i],e),{})}(n.loader,t):void 0}function rD(n){return{scope:w0(n)||null,langName:ph(n)}}function oV(n){const{path:t,inlineLoader:e,mainLoader:i,data:r}=n;if(e){if(!1===function T1e(n){return"function"==typeof n}(e[t]))throw`You're using an inline loader but didn't provide a loader for ${t}`;return e[t]().then(s=>s.default?s.default:s)}return i.getTranslation(t,r)}let ip=(()=>{class n{constructor(e,i,r,o,s,a){this.loader=e,this.parser=i,this.missingHandler=r,this.interceptor=o,this.userConfig=s,this.fallbackStrategy=a,this.subscription=null,this.translations=new Map,this.cache=new Map,this.defaultLang="",this.availableLangs=[],this.isResolvedMissingOnce=!1,this.failedLangs=new Set,this.events=new Xe,this.events$=this.events.asObservable(),this.loader||(this.loader=new S1e(this.translations)),oD=this,this.mergedConfig=function N1e(n,t){return Object.assign(Object.assign(Object.assign({},n),t),{missingHandler:Object.assign(Object.assign({},n.missingHandler),t.missingHandler),flatten:Object.assign(Object.assign({},n.flatten),t.flatten)})}(HE,this.userConfig),this.setAvailableLangs(this.mergedConfig.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.mergedConfig),this.setDefaultLang(this.mergedConfig.defaultLang),this.lang=new Jn(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(l=>{"translationLoadSuccess"===l.type&&l.wasFailure&&this.setActiveLang(l.payload.langName)})}get config(){return this.mergedConfig}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){var i,r;return null===(r=(i=this.parser).onLangChanged)||void 0===r||r.call(i,e),this.lang.next(e),this.events.next({type:"langChanged",payload:rD(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,i={}){const r=this.cache.get(e);if(r)return r;let o;const s=this._isLangScoped(e);let a;s&&(a=w0(e));const l={path:e,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(e)){const u=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,d=function L1e({mainLoader:n,path:t,data:e,fallbackPath:i,inlineLoader:r}){return(i?[t,i]:[t]).map(s=>Ni(oV({path:s,mainLoader:n,inlineLoader:r,data:e})).pipe(Ae(l=>({translation:l,lang:s}))))}(Object.assign(Object.assign({},l),{fallbackPath:u}));o=GE(d)}else o=Ni(oV(l));const c=o.pipe(function b1e(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?ne:it((o,s)=>{let l,a=0;const c=()=>{let u=!1;l=o.subscribe(rt(s,d=>{r&&(a=0),s.next(d)},void 0,d=>{if(a++<e){const f=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(null!=i){const p="number"==typeof i?bu(i):rn(i(d,a)),T=rt(s,()=>{T.unsubscribe(),f()},()=>{s.complete()});p.subscribe(T)}else f()}else s.error(d)})),u&&(l.unsubscribe(),l=null,c())};c()})}(this.config.failedRetries),Ha(u=>{Array.isArray(u)?u.forEach(d=>{this.handleSuccess(d.lang,d.translation),d.lang!==e&&this.cache.set(d.lang,mu({}))}):this.handleSuccess(e,u)}),RC(u=>(this.mergedConfig.prodMode||console.error(`Error while trying to load "${e}"`,u),this.handleFailure(e,i))),WH(1));return this.cache.set(e,c),c}translate(e,i={},r=this.getActiveLang()){if(!e)return e;const{scope:o,resolveLang:s}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(c=>this.translate(o?`${o}.${c}`:c,i,s));e=o?`${o}.${e}`:e;const a=this.getTranslation(s),l=a[e];return l?this.parser.transpile(l,i,a,e):this._handleMissingKey(e,l,i)}selectTranslate(e,i,r,o=!1){let s;const a=(c,u)=>this.load(c,u).pipe(Ae(()=>o?this.translateObject(e,i,c):this.translate(e,i,c)));if(eD(r))return this.langChanges$.pipe(fh(c=>a(c)));if(ZH(r)){const c=r;r=c.scope,s=iD(c,c.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return a(r);const l=r;return this.langChanges$.pipe(fh(c=>a(`${l}/${c}`,{inlineLoader:s})))}isScopeWithLang(e){return this.isLang(ph(e))}translateObject(e,i={},r=this.getActiveLang()){if(tp(e)||Array.isArray(e)){const{resolveLang:s,scope:a}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(u=>this.translateObject(a?`${a}.${u}`:u,i,s));const l=this.getTranslation(s),c=function O1e(n){return(0,YH.unflatten)(n)}(this.getObjectByKey(l,e=a?`${a}.${e}`:e));return function E1e(n){return 0===XH(n)}(c)?this.translate(e,i,r):this.parser.transpile(c,i,l,e)}const o=[];for(const[s,a]of this.getEntries(e))o.push(this.translateObject(s,a,r));return o}selectTranslateObject(e,i,r){if(tp(e)||Array.isArray(e))return this.selectTranslate(e,i,r,!0);const[[o,s],...a]=this.getEntries(e);return this.selectTranslateObject(o,s,r).pipe(Ae(l=>{const c=[l];for(const[u,d]of a)c.push(this.translateObject(u,d,r));return c}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(e),o=this.translations.get(r)||{};return this.getObjectByKey(o,i)}}return this.translations}selectTranslation(e){let i=this.langChanges$;if(e){const r=ph(e)!==e;i=this.isLang(e)||r?mu(e):this.langChanges$.pipe(Ae(o=>`${e}/${o}`))}return i.pipe(fh(r=>this.load(r).pipe(Ae(()=>this.getTranslation(r)))))}setTranslation(e,i=this.getActiveLang(),r={}){const s=Object.assign(Object.assign({},{merge:!0,emitChange:!0}),r),a=w0(i);let l=e;a&&(l=QH({[this.getMappedScope(a)]:e}));const c=a?ph(i):i,u=Object.assign(Object.assign({},s.merge&&this.getTranslation(c)),l),d=this.mergedConfig.flatten.aot?u:QH(u),f=this.interceptor.preSaveTranslation(d,c);this.translations.set(c,f),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,i,r=this.getActiveLang(),o={}){const s=this.interceptor.preSaveTranslationKey(e,i,r);this.setTranslation({[e]:s},r,Object.assign(Object.assign({},o),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:e}){const i=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(e,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const o=this.translate(e,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(e,this.getMissingHandlerData(),r)}_isLangScoped(e){return-1===this.getAvailableLangsIds().indexOf(e)}isLang(e){return-1!==this.getAvailableLangsIds().indexOf(e)}_loadDependencies(e,i){const r=ph(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(r)?xu(this.load(r),this.load(e,{inlineLoader:i})):this.load(e,{inlineLoader:i})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(ph(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,i){this.mergedConfig.scopeMapping||(this.mergedConfig.scopeMapping={}),this.mergedConfig.scopeMapping[e]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(e){return XH(this.getTranslation(e))}getAvailableLangsIds(){return tp(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return Object.assign(Object.assign({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,i){this.setTranslation(i,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:rD(e)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(e,i){eD(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));const r=e.split("/"),s=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(e),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),Rr;if(!s||s===r[r.length-1]){let c="Unable to load translation and all the fallback languages";throw r.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=s;return r.length>1&&(r[r.length-1]=s,l=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:rD(e)}),this.load(l,i)}getMappedScope(e){const{scopeMapping:i={}}=this.config;return i[e]||KH(e)}resolveLangAndScope(e){let r,i=e;if(this._isLangScoped(e)){const o=ph(e),s=this.isLang(o);i=s?o:this.getActiveLang(),r=this.getMappedScope(s?w0(e):e)}return{scope:r,resolveLang:i}}getObjectByKey(e,i){const r={},o=`${i}.`;for(const s in e)s.startsWith(o)&&(r[s.replace(o,"")]=e[s]);return r}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(ZA,8),lt(eV),lt(tD),lt(tV),lt(np),lt(nV))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["ng-component"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(e,i){1&e&&ye(0,"div",0),2&e&&W("innerHTML",i.html,A1)},encapsulation:2}),n})();class B1e{constructor(t,e){this.view=t,this.vcr=e,this.injector=this.vcr.injector}attachView(){if(this.view instanceof Lr)this.vcr.createEmbeddedView(this.view);else if(tp(this.view)){const t=this.createComponent(F1e);t.instance.html=this.view,t.hostView.detectChanges()}else this.createComponent(this.view)}detachView(){this.vcr.clear()}createComponent(t){const i=this.injector.get(p_).resolveComponentFactory(t);return this.vcr.createComponent(i)}}const sV=new gn("TRANSLOCO_LANG"),U1e=new gn("TRANSLOCO_LOADING_TEMPLATE"),sD=new gn("TRANSLOCO_SCOPE");class aV{constructor(){this.initialized=!1}resolve({inline:t,provider:e,active:i}){let r=i;if(this.initialized)return r=i,r;if(e){const[,o]=nD(e,"static");r=o}if(t){const[,o]=nD(t,"static");r=o}return this.initialized=!0,r}resolveLangBasedOnScope(t){return w0(t)?ph(t):t}resolveLangPath(t,e){return e?`${e}/${t}`:t}}class lV{constructor(t){this.translocoService=t}resolve({inline:t,provider:e}={inline:void 0,provider:void 0}){if(t)return t;if(e){if(ZH(e)){const{scope:i,alias:r=KH(i)}=e;return this.translocoService._setScopeAlias(i,r),i}return e}}}let rp=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u){this.translocoService=e,this.tpl=i,this.providerScope=r,this.providerLang=o,this.providedLoadingTpl=s,this.vcr=a,this.cdr=l,this.host=c,this.renderer=u,this.subscription=null,this.translationMemo={},this.params={},this.initialized=!1,this.langResolver=new aV,this.scopeResolver=new lV(this.translocoService),this.strategy=null===this.tpl?"attribute":"structural"}static ngTemplateContextGuard(e,i){return!0}ngOnInit(){const e=iV(this.translocoService,this.providerLang||this.inlineLang);this.subscription=this.translocoService.langChanges$.pipe(fh(r=>{const o=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?GE(this.providerScope.map(s=>this.resolveScope(o,s))):this.resolveScope(o,this.providerScope)}),rV(e)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0});const i=this.getLoadingTpl();!this.initialized&&i&&(this.loaderTplHandler=new B1e(i,this.vcr),this.loaderTplHandler.attachView())}ngOnChanges(e){"attribute"===this.strategy&&Object.keys(e).some(r=>!e[r].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.translocoService.translate(this.key,this.params,this.currentLang))}structuralStrategy(e,i){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(e,i),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(e,i),currentLang:this.currentLang}))}getTranslateFn(e,i){return(r,o)=>{const s=i?`${i}.${r}`:r,a=o?`${s}${JSON.stringify(o)}`:s;return Object.prototype.hasOwnProperty.call(this.translationMemo,a)||(this.translationMemo[a]={params:o,value:this.translocoService.translate(s,o,e)}),this.translationMemo[a].value}}getLoadingTpl(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}detachLoader(){var e;null===(e=this.loaderTplHandler)||void 0===e||e.detachView()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:this.inlineScope,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const o=iD(i,r);return this.translocoService._loadDependencies(this.path,o)}}return n.\u0275fac=function(e){return new(e||n)(Z(ip),Z(Lr,8),Z(sD,8),Z(sV,8),Z(U1e,8),Z(Dl),Z(Rn),Z(zi),Z(ol))},n.\u0275dir=$t({type:n,selectors:[["","transloco",""]],inputs:{key:["transloco","key"],params:["translocoParams","params"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},features:[sa]}),n})(),Jt=(()=>{class n{constructor(e,i,r,o){this.translocoService=e,this.providerScope=i,this.providerLang=r,this.cdr=o,this.subscription=null,this.lastValue="",this.langResolver=new aV,this.scopeResolver=new lV(this.translocoService)}transform(e,i,r){var o;if(!e)return e;const s=i?`${e}${JSON.stringify(i)}`:e;if(s===this.lastKey)return this.lastValue;this.lastKey=s,null===(o=this.subscription)||void 0===o||o.unsubscribe();const a=iV(this.translocoService,this.providerLang||r);return this.subscription=this.translocoService.langChanges$.pipe(fh(l=>{const c=this.langResolver.resolve({inline:r,provider:this.providerLang,active:l});return Array.isArray(this.providerScope)?GE(this.providerScope.map(u=>this.resolveScope(c,u))):this.resolveScope(c,this.providerScope)}),rV(a)).subscribe(()=>this.updateValue(e,i)),this.lastValue}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}updateValue(e,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.translocoService.translate(e,i,r),this.cdr.markForCheck()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const o=iD(i,r);return this.translocoService._loadDependencies(this.path,o)}}return n.\u0275fac=function(e){return new(e||n)(Z(ip,16),Z(sD,24),Z(sV,24),Z(Rn,16))},n.\u0275pipe=xo({name:"transloco",type:n,pure:!1}),n})();const cV=[{provide:eV,useClass:x1e,deps:[np]},{provide:tD,useClass:A1e},{provide:tV,useClass:D1e},{provide:nV,useClass:R1e,deps:[np]}];function H1e(n){return[{provide:sD,useValue:n}]}let on=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[cV]}),n})();new gn("TRANSLOCO_TEST_LANGS - Available testing languages"),new gn("TRANSLOCO_TEST_OPTIONS - Testing options");class z1e{handle(t){console.error(`Missing translation for ${t}`)}}let W1e=(()=>{class n{constructor(e){this.http=e}getTranslation(e){const i=new RegExp("challenges","g");return this.http.get(ga(`/assets/i18n/${e}.json`)).pipe(RC(r=>(console.error(r),i.test(e)?this.http.get(ga("/assets/i18n/challenges/en.json")):this.http.get(ga("/assets/i18n/en.json")))))}}return n.\u0275fac=function(e){return new(e||n)(lt(qx))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[{provide:np,useValue:P1e({availableLangs:GH,fallbackLang:"en",prodMode:ko_production,missingHandler:{useFallbackTranslation:!0}})},{provide:tD,useClass:z1e},{provide:ZA,useClass:W1e}],imports:[on]}),n})();var gh=(()=>(function(n){n.Alert="alert",n.Toast="toast",n.Win="win",n.Challenge="challenge"}(gh||(gh={})),gh))(),Ur=(()=>(function(n){n.Primary="alert-primary",n.Secondary="alert-secondary",n.Success="alert-success",n.Danger="alert-danger",n.Warning="alert-warning",n.Info="alert-info",n.Light="alert-light",n.Dark="alert-dark"}(Ur||(Ur={})),Ur))(),Lc=(()=>(function(n){n.NotEnoughBalance="Not enough balance",n.YourFreeBetWasCancelledByAdministrator="Your freebet was canceled by the administrator",n.FirstInactivityMessage="You have not been active for a while. Place a bet to avoid a disconnection.",n.SecondInactivityMessage="Last chance to place a bet. Your session will be terminated due to inactivity.",n.YouHaveGotAFreeBet="You've got a Free Bet!",n.YouHaveCashedOut="You have cashed out!",n.BetBetIdHasBeenCashedOut="Bet {{betId}} has been cashed out!",n.SelectedRoomIsUnavailable="The selected room is unavailable. You have been connected to another room."}(Lc||(Lc={})),Lc))(),M0=(()=>(function(n){n.Aviator="AVIATOR",n.Challenges="CHALLENGES"}(M0||(M0={})),M0))();function _h(n,t=ne){return n=null!=n?n:X1e,it((e,i)=>{let r,o=!0;e.subscribe(rt(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function X1e(n,t){return n===t}let fl=(()=>{class n{constructor(){this.messagesSubject=new Jn([]),this.visibleMessages$=this.messagesSubject.asObservable().pipe(Ae(e=>e.slice(0,3)),_h(this.areMessagesEqual))}get messages(){return this.messagesSubject.getValue()}add(e){this.messagesSubject.next([...this.messages,e])}remove(e){const i=this.messages.filter(r=>r!==e);this.messagesSubject.next(i)}removeAndDeactivateWinMessages(){this.messages.filter(i=>i.template===gh.Win).forEach(i=>{this.isMessageVisible(i)?this.remove(i):i.lifeTimeInfinite=!1})}isMessageVisible(e){return this.messages.indexOf(e)<3}areMessagesEqual(e,i){return e.length===i.length&&e.every((r,o)=>r===i[o])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mm=(()=>{class n{constructor(e){this.message=e,this._servers=[],this._isMultiServer=!1}get isMultiServer(){return this._isMultiServer}get servers(){return this._servers}get currentServerId(){return this._currentServerId}init(e){this._isMultiServer=!0,this._servers=[...e]}getRandomServer(){const e=this.servers[Math.floor(Math.random()*this.servers.length)];return this._currentServerId=e.id,e}userChooseServer(e,i){this.userChosenServerId=e,this._currentServerId=e,this._servers=[...i]}removeFullServer(){const e=this.servers.findIndex(i=>i.id===this.currentServerId);this.servers.splice(e,1)}showNotification(){this.isMultiServer&&this.isNotUserChosenServer&&(this.message.add({value:Lc.SelectedRoomIsUnavailable,context:Ur.Warning}),this.userChosenServerId=void 0)}get isNotUserChosenServer(){return void 0!==this.userChosenServerId&&this.userChosenServerId!==this.currentServerId}}return n.\u0275fac=function(e){return new(e||n)(lt(fl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var zE=(()=>(function(n){n[n.v2=2]="v2"}(zE||(zE={})),zE))(),O0=(()=>(function(n){n.Default="default",n.Detailed="detailed"}(O0||(O0={})),O0))(),op=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent",n.NewTab="newTab"}(op||(op={})),op))(),sp=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent"}(sp||(sp={})),sp))(),P0=(()=>(function(n){n.IfcEvent="ifcEvent",n.Modal="modal"}(P0||(P0={})),P0))(),vm=(()=>(function(n){n.CancelBet="cancelBet",n.None="none"}(vm||(vm={})),vm))(),ar=(()=>(function(n){n[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay"}(ar||(ar={})),ar))(),ym=(()=>(function(n){n.None="none",n.Alderney="alderney",n.GameRules="game_rules",n.PayTable="pay_table"}(ym||(ym={})),ym))();let Yn=(()=>{class n{constructor(e){this.sharedGameConfigService=e,this.accountHistoryActionType=op.Navigate,this.autoBetOptions=void 0,this.autoCashOut={minValue:1.01,defaultValue:1.1,maxValue:100},this.backToHomeActionType=sp.Navigate,this.betInputStep=.1,this.betOptions=[1,2,5,10],this.betPrecision=2,this.chat={isEnabled:!0,isGifsEnabled:!0,maxMessageLength:160,maxMessages:70,promo:{isEnabled:!0},rain:{defaultNumOfUsers:5,isEnabled:!1,maxNumOfUsers:10,minNumOfUsers:3,rainMaxBet:10,rainMinBet:.1},sendMessageDelay:5e3},this.chatApiVersion=void 0,this.currency="",this.defaultBetValue=1,this.engagementTools=void 0,this.fullBetTime=5e3,this.gameRulesAutoCashOutType=O0.Default,this.inactivityTimeForDisconnect=0,this.ircDisplayType=P0.IfcEvent,this.isActiveGameFocused=!1,this.isAlderneyModalShownOnInit=!1,this.isAutoBetFeatureEnabled=!0,this.isBalanceValidationEnabled=!1,this.isBetTimerBranded=!0,this.isBetsHistoryEndBalanceEnabled=!1,this.isBetsHistoryStartBalanceEnabled=!1,this.isClockVisible=!1,this.isCurrencyNameHidden=!1,this.isEmbeddedVideoHidden=!1,this.isFreeBetsEnabled=void 0,this.isGameRulesHaveMaxWin=!1,this.isGameRulesHaveMinimumBankValue=!1,this.isGameRulesHaveMultiplierFormula=!1,this.isHolidayTheme=!1,this.isLiveBetsAndStatisticsHidden=!1,this.isLoginTimer=!1,this.isLogoUrlHidden=!1,this.isMaxUserMultiplierEnabled=!1,this.isMultipleBetsEnabled=!1,this.isNetSessionEnabled=!1,this.isPodSelectAvailable=!1,this.isShowActivePlayersWidget=!1,this.isShowBetControlNumber=!1,this.isShowTotalWinWidget=!1,this.isShowWinAmountUntilNextRound=!1,this.isUseMaskedUsername=!0,this.maxBet=100,this.maxUserWin=1e5,this.minBet=.1,this.modalShownOnInit=ym.None,this.multiplierPrecision=2,this.onLockUIActions=vm.None,this.pingIntervalMs=void 0,this.reCaptchaSiteKey=void 0,this.showCrashExampleInRules=!1,this.isRuleUnfinishedGame=void 0,this.maxUserMultiplier=void 0,this.gameVersion=void 0,this.returnToPlayer=0,this.isLongPrecision=!1}init(e){Object.assign(this,e),this.handleConditionalProperties(),this.initSharedGameConfigService()}handleConditionalProperties(){this.isCurrencyNameHidden&&(this.currency=""),this.isLongPrecision=this.betPrecision>=4}initSharedGameConfigService(){this.sharedGameConfigService.setBackendConfig({betPrecision:this.betPrecision,multiplierPrecision:this.multiplierPrecision,isUseMaskedUsername:this.isUseMaskedUsername})}}return n.\u0275fac=function(e){return new(e||n)(lt(W_))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yi=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d){this.translate=e,this.http=i,this.storage=r,this.deviceService=o,this.urlParams=s,this.domain=a,this.multiServer=l,this.ifc=c,this.gameConfig=u,this.sharedGameConfig=d,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const f=[];return f.push(document.fonts.load(`normal 16px ${fd.Base}`)),f.push(document.fonts.load(`bold 16px ${fd.Base}`)),Promise.all(f)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===X6.IOS&&parseInt(function d1e(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&IC()&&(this.useInnerScroll=!0)}init(){this.sharedGameConfig.setBuildConfig({packageVersion:ko_version}),IC()&&this.ifc.init();const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),e.push(this.setAviaportSessionToken()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=ga(this.domain.mirrorURL(ko_clientConfig.path,ko_domainMirroringEnabled)+this.urlParams.operator+ko_clientConfig.ext);return new Promise((c,u)=>{this.http.get(l).pipe(function Vfe(n){return it((t,e)=>{let i,o,r=!1;const s=()=>{i=t.subscribe(rt(e,void 0,void 0,a=>{o||(o=new Xe,n(o).subscribe(rt(e,()=>i?s():r=!0))),o&&o.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,s())};s()})}(d=>d.pipe(Nr(5),ej(2e3),f=>zy(f,J6(new Error(e)))))).subscribe(d=>{d.ws.host=this.domain.mirrorHostname(d.ws.host,ko_domainMirroringEnabled),d.servers&&(d.servers.forEach((f,p)=>{f.host=this.domain.mirrorHostname(f.host,ko_domainMirroringEnabled),f.id=p+1}),this.multiServer.init(d.servers)),this._clientConfig=Object.freeze(d),c()},()=>u(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function h1e(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===jE.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,UH(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)||""}setAviaportSessionToken(){return new Promise((e,i)=>{"true"===this.urlParams.aviaport?(this.ifc.receive$(Mr.AviaPortInit).pipe(Nr(1),function Kfe(n,t){const{first:e,each:i,with:r=qfe,scheduler:o=(null!=t?t:K_),meta:s=null}=Q6(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return it((a,l)=>{let c,u,d=null,f=0;const p=T=>{u=jr(l,o,()=>{try{c.unsubscribe(),rn(r({meta:s,lastValue:d,seen:f})).subscribe(l)}catch(x){l.error(x)}},T)};c=a.subscribe(rt(l,T=>{null==u||u.unsubscribe(),f++,l.next(d=T),i>0&&p(i)},void 0,void 0,()=>{(null==u?void 0:u.closed)||null==u||u.unsubscribe(),d=null})),!f&&p(null!=e?"number"==typeof e?e:+e-o.now():i)})}(5e3),RC(()=>J6(()=>new Error("ifc.ap.waiting.init timeout")))).subscribe({next:r=>{this.storage.session.setItem(this.SESSION_TOKEN_KEY,r.sessionToken),e()},error:i}),this.ifc.send(vi.AviaPortWaitingInit)):e()})}setLanguage(){const e=GH.includes(this.urlParams.lang)?this.urlParams.lang:"en";return this.translate.setActiveLang(e),new Promise(i=>{this.translate.load(e).subscribe(()=>{i(void 0)})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{name:"bg",url:`${i}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${i}prop/prop.svg`},{name:"partners-logo",url:`${i}partners-logo/partners-logo.svg`},{name:"official",url:`${i}partners-logo/official.svg`},{name:"multiplier-bg-blur",url:`${i}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${i}icons/login-timer.svg`},{name:"icon-clock",url:`${i}icons/clock.svg`},{name:"icon-up-down",url:`${i}icons/up-down.svg`}],o=[];for(let s=0;s<4;s++)o.push({name:`plane-${s}`,url:`${i}plane/${n}/plane-${s}.svg`});return r.concat(o)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class l1e{static load(t,e=null,i=1){const r=this.versionResources(t);return new Promise(o=>{r.forEach(s=>{$s.shared.resources[s.name]||$s.shared.add(s)}),"function"==typeof e&&(this.onProgressID=$s.shared.onProgress.add(s=>{e(null==s?void 0:s.progress,i)})),$s.shared.load(()=>{this.onProgressID&&$s.shared.onProgress.detach(this.onProgressID),o()})})}static versionResources(t){return t.map(e=>({name:e.name,url:ga(e.url)}))}}.load(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isGameInited(){return this._isGameInited}get isFreeBetsEnabled(){return void 0!==this.gameConfig.isFreeBetsEnabled?!!this.gameConfig.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return ga(ko_avatarPath+e)}}return n.\u0275fac=function(e){return new(e||n)(lt(ip),lt(qx),lt(z6),lt(Gfe),lt(jl),lt(Dfe),lt(mm),lt(zs),lt(Yn),lt(W_))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yr=_e(8135);class dV{static toSFSObject(t){let e=new Yr.SFSObject;return Object.keys(t).forEach(i=>{const r=t[i];"string"==typeof r?function c1e(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?e.putText(i,r):e.putUtfString(i,r):"boolean"==typeof r?e.putBool(i,r):"number"==typeof r?e.putDouble(i,r):!0===Array.isArray(r)&&e.putUtfStringArray(i,r)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let i=t.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(t,i[r],Yr.SFSDataType.SFS_OBJECT))e[i[r]]=this.toObject(t.get(i[r]));else if(this.checkType(t,i[r],Yr.SFSDataType.SFS_ARRAY)){let o=[],s=t.get(i[r]);for(let a=0;a<s.size();a++)this.isArrayContainsSfsObjects(s,a)?o.push(this.toObject(s.getSFSObject(a))):o.push(s.get(a));e[i[r]]=o}else e[i[r]]=t.get(i[r]);return e}static isArrayContainsSfsObjects(t,e){try{return!!t.get(e,Yr.SFSDataType.SFS_OBJECT)}catch(i){return!1}}static checkType(t,e,i){try{return!!t.get(e,i)}catch(r){return!1}}}class J1e{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectCount=0}try(t,e){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=bu(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{null==t||t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=void 0,this.reconnectCount=0}}var bm=(()=>(function(n){n.Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet"}(bm||(bm={})),bm))(),ap=(()=>(function(n){n[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck"}(ap||(ap={})),ap))();function ro(n){return it((t,e)=>{rn(n).subscribe(rt(e,()=>e.complete(),D)),!e.closed&&t.subscribe(e)})}const Q1e=Qb,tSe=Symbol("__destroy"),hV=Symbol("__decoratorApplied");function fV(n){return"string"==typeof n?Symbol(`__destroy__${n}`):tSe}function pV(n,t){n[t]||(n[t]=new Xe)}function gV(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function _V(n){n instanceof m&&n.unsubscribe()}function mV(n,t){return function(){var e;if(n&&n.call(this),gV(this,fV()),t.arrayName)return function iSe(n){Array.isArray(n)&&n.forEach(_V)}(this[t.arrayName]);if(t.checkProperties)for(const i in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(i))||_V(this[i])}}function si(n={}){return t=>{!function eSe(n){return!!n[Q1e]}(t)?function rSe(n,t){n.prototype.ngOnDestroy=mV(n.prototype.ngOnDestroy,t)}(t,n):function oSe(n,t){const e=n.\u0275pipe;e.onDestroy=mV(e.onDestroy,t)}(t,n),function nSe(n){n.prototype[hV]=!0}(t)}}function Gt(n,t){return e=>{const i=fV(t);return"string"==typeof t?function sSe(n,t,e){const i=n[t];pV(n,e),n[t]=function(){i.apply(this,arguments),gV(this,e),n[t]=i}}(n,t,i):pV(n,i),e.pipe(ro(n[i]))}}var Sm=(()=>(function(n){n.Request="PING_REQUEST",n.Response="PING_RESPONSE"}(Sm||(Sm={})),Sm))();class aSe{constructor(t,e){this.smartFox=t,this.callbackFn=e,this.pingInterval=15e3}start(t){this.pingInterval=null!=t?t:15e3,this.reset(),Li(this.smartFox,Yr.SFSEvent.EXTENSION_RESPONSE).pipe(cn(e=>e.cmd===Sm.Response),Gt(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.pingInterval)}threadRunner(){this.smartFox.send(new Yr.ExtensionRequest(Sm.Request)),this.waitResponse()}waitResponse(){void 0===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(or.SlowConnection)},this.pingInterval-1e3))}clearTimeout(){this.timeoutRef&&(clearTimeout(this.timeoutRef),this.timeoutRef=void 0)}pingResponseHandler(){this.callbackFn(or.GameReady),this.clearTimeout()}reset(){this.clearTimeout(),this.intervalRef&&(clearInterval(this.intervalRef),this.intervalRef=void 0)}}var xn=(()=>(function(n){n.Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.X="x",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.CreateFreeBet="createFreeBet",n.CancelFreeBet="cancelFreeBet"}(xn||(xn={})),xn))(),pd=(()=>(function(n){n.RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney"}(pd||(pd={})),pd))(),ei=(()=>(function(n){n.bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",n.chatRules="chatRules",n.changeServer="changeServer"}(ei||(ei={})),ei))(),x0=(()=>(function(n){n[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",n[n.LOGIN_ZONE_FULL=5]="LOGIN_ZONE_FULL"}(x0||(x0={})),x0))(),I0=(()=>(function(n){n[n.ONLY_OPERATOR_DATA=10]="ONLY_OPERATOR_DATA",n[n.NOT_ALLOWED_CURRENCY=50]="NOT_ALLOWED_CURRENCY"}(I0||(I0={})),I0))();let va=(()=>{class n{constructor(){this._subject=new Xe,this._onOpen$=this._subject.asObservable()}open(e,i=null){this._subject.next({key:e,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qi=(()=>{class n{constructor(e,i,r,o,s,a){this.app=e,this.zone=i,this.message=r,this.modal=o,this.urlParams=s,this.multiServer=a,this.stateSubject=new Jn({state:or.None}),this.state$=this.stateSubject.asObservable().pipe(Ha(l=>function fSe(n){as({type:"ws",level:"info",category:"ws.state",message:n.state})}(l))),this.responseSubject=new Xe,this.isOnLoginError=!1,this.reconnection=new J1e}init(e){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=void 0),this.zone.runOutsideAngular(()=>{var i;console.log("[ SFS ] instantiate"),this.smartFox=new Yr.SmartFox(this.getWSServer(this.app.clientConfig.ws,e)),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.pingMonitor=new aSe(this.smartFox,r=>{this.setState(r)})}),this.response(xn.Init)}userChooseServer(e){this.multiServer.userChooseServer(e,this.app.clientConfig.servers),this.setState(or.Reconnecting),this.init(this.multiServer.servers[e-1])}getWSServer(e,i){return i||(this.multiServer.isMultiServer?this.multiServer.getRandomServer():e)}shutdown(e){var i;this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=void 0),this.reconnection.reset(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.setState(or.Disconnected,{reason:e})}bindEvents(e=!0){!this.smartFox||(e?(this.smartFox.addEventListener(Yr.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(Yr.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(Yr.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(Yr.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(Yr.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(Yr.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(Yr.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(Yr.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(Yr.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(Yr.SFSEvent.EXTENSION_RESPONSE,this.onResponse)))}request(e,i){if(!this.smartFox)return;let r;(function hSe(n,t){as({type:"ws",level:"info",category:"ws.send",data:{action:n,data:t}})})(e,i),console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",i),null!==i&&i.constructor==={}.constructor&&(r=dV.toSFSObject(i)),this.smartFox.send(new Yr.ExtensionRequest(e+"Handler",r))}response(e,i){let r;return r=this.responseSubject.pipe(cn(void 0===i?o=>o.cmd===e:o=>{var s;return o.cmd===e&&(null===(s=o.data)||void 0===s?void 0:s.code)===i})),r.pipe(Ae(o=>o.data))}setState(e,i){this.zone.run(()=>this.stateSubject.next({state:e,data:i}))}onConnection(e){var i;console.log("[ SFS ] onConnection",e),e.success?(this.reconnection.reset(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.smartFoxLogin()):(this.setState(or.Reconnecting),this.reconnection.try(this.smartFox,()=>{this.setState(or.Disconnected,{reason:Ba.Network})}))}smartFoxLogin(){var e;const i=new Yr.SFSObject;i.putUtfString("token",this.urlParams.token),i.putUtfString("currency",this.urlParams.currency),i.putUtfString("lang",this.urlParams.lang),i.putUtfString("sessionToken",this.app.sessionToken),i.putSFSObject("platform",function Z1e(n){let t=new Yr.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",bm.Desktop):n.isMobile?t.putUtfString("deviceType",bm.Mobile):n.isTablet&&t.putUtfString("deviceType",bm.Tablet),t}(this.app)),i.putUtfString("version",ko_version),this.urlParams.jurisdiction&&i.putUtfString("jurisdiction",this.urlParams.jurisdiction);const r=this.urlParams.additionalParams;if(r.size>0){const s=new Yr.SFSObject;r.forEach((a,l)=>s.putUtfString(l,a)),i.putSFSObject("additionalParams",s)}let o=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(o=o+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),null===(e=this.smartFox)||void 0===e||e.send(new Yr.LoginRequest(o,"",i))}onConnectionLost(e){var i,r;if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===Yr.ClientDisconnectionReason.BAN)return null===(i=this.pingMonitor)||void 0===i||i.reset(),void this.setState(or.Disconnected,{reason:Ba.Ban});if(e.reason===Yr.ClientDisconnectionReason.KICK)return null===(r=this.pingMonitor)||void 0===r||r.reset(),void this.setState(or.Disconnected,{reason:Ba.Kick});this.setState(or.Reconnecting),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin")}onLoginError(e){var i;console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,null===(i=this.smartFox)||void 0===i||i.disconnect();const r=this.getCustomErrorMessage(e.errorMessage),o=null==r?void 0:r.code;if(e.errorCode!==x0.LOGIN_BANNED_USER)return e.errorCode===x0.LOGIN_ZONE_FULL?this.multiServer.servers.length>1?(this.multiServer.removeFullServer(),void this.init()):void this.setState(or.Disconnected,{reason:Ba.LoginError}):void this.setState(or.Disconnected,o!==I0.NOT_ALLOWED_CURRENCY?o!==I0.ONLY_OPERATOR_DATA?{reason:Ba.LoginError,additionalOperatorData:r}:{reason:Ba.LoginError,additionalOperatorData:null==r?void 0:r.additionalOperatorData}:{reason:Ba.NotAllowedCurrency,allowedCurrencies:r.allowedCurrencies,additionalOperatorData:null==r?void 0:r.additionalOperatorData});this.setState(or.Disconnected,{reason:Ba.Ban,additionalOperatorData:null==r?void 0:r.additionalOperatorData})}getCustomErrorMessage(e){if(function f1e(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return JSON.parse(e)}onResponse(e){if(e.cmd===Sm.Response)return;const i=dV.toObject(e.params);(function dSe(n,t){let e;n===xn.Init&&(e={code:t.code,stageId:t.stageId,roundId:t.roundId,currentMultiplier:t.currentMultiplier,betTimeLeft:t.betTimeLeft,activeBets:t.activeBets,user:t.user,onlinePlayers:t.onlinePlayers,roundsInfo:t.roundsInfo},as({type:"ws",level:"info",category:"ws.receive",data:{action:"init.config",data:t.config}})),n!==xn.Init&&(e=t),as({type:"ws",level:"info",category:"ws.receive",data:{action:n,data:e}})})(e.cmd,i),i.code===ap.RealityCheck&&this.zone.run(()=>{this.modal.open(ei.notification,{type:pd.RealityCheck,message:i.errorMessage})}),i.code!==ap.Success&&i.code!==ap.RealityCheck&&this.zone.run(()=>{this.message.add({value:i.errorMessage,context:Ur.Danger,errorMessageParams:i.errorMessageParams})}),e.cmd!==xn.CurrentMultiplier&&e.cmd!==xn.X&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",i);const r={cmd:e.cmd,data:i};e.cmd===xn.CurrentMultiplier||e.cmd===xn.X?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}startPingMonitor(e){var i;null===(i=this.pingMonitor)||void 0===i||i.start(e)}gameReady(){this.setState(or.GameReady)}}return n.\u0275fac=function(e){return new(e||n)(lt(Yi),lt(Ti),lt(fl),lt(va),lt(jl),lt(mm))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var WE=_e(6461),Is=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win",n.FreeBet="free_bet"}(Is||(Is={})),Is))();let mh=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const e={src:[ga(this.soundPath+"bg_music.mp3")],autoplay:!0,loop:!0,volume:.1},i={src:[ga(this.soundPath+"sprite_audio.mp3")],autoplay:!1,loop:!1,volume:.3,sprite:{[Is.Bet]:[0,522.4489795918367],[Is.FlyAway]:[2e3,2574.126984126984],[Is.RoundStart]:[6e3,1515.102040816327],[Is.Win]:[9e3,4022.857142857143],[Is.FreeBet]:[15125,2e3]}};this._music=new WE.Howl(e),this._sound=new WE.Howl(i),this.soundOn=!1,this.musicOn=!1,WE.Howler.ctx.onstatechange=()=>{"running"===WE.Howler.ctx.state&&this._sound.stop()}}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$r=(()=>{class n{constructor(e,i,r){this.connector=e,this.sound=i,this.modal=r,this._events=new Xe,this._eventsObs=this._events.asObservable(),this._timeLeft=0,this._stateSubject=new Jn(ar.Bet),this._onlinePlayersSubject=new Jn(0),this._stateObs=this._stateSubject.asObservable(),this.onlinePlayers$=this._onlinePlayersSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._timeLeft=e.betTimeLeft,this._onlinePlayersSubject.next(e.onlinePlayers),this._stateSubject.next(e.stageId),hu("roundId",e.roundId),this.changeState$=this.connector.response(xn.ChangeState,200).pipe(cn(i=>i.newStateId!==ar.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(xn.CurrentMultiplier,200).pipe(cn(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:ar.End,roundId:this.roundId})),this.connector.response(xn.X,200).pipe(cn(i=>!!i.crashX)).subscribe(()=>this.onChangeState({newStateId:ar.End,roundId:this.roundId})),this.connector.response(xn.OnlinePlayers,200).subscribe(i=>this._onlinePlayersSubject.next(i.onlinePlayers))}onChangeState(e){hu("roundId",e.roundId),this.state===ar.Run&&e.newStateId===ar.Bet&&function Cse(n,t){const e="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;ss().captureMessage(n,e,i)}("Frontend did not receive the crash multiplier"),this._roundId=e.roundId,e.timeLeft&&(this._timeLeft=e.timeLeft),e.newStateId===ar.End&&this.sound.play(Is.FlyAway),e.newStateId===ar.Run&&this.sound.play(Is.RoundStart),this._stateSubject.next(e.newStateId)}getState(e){return void 0===e?this._stateObs:this._stateObs.pipe(cn(i=>i===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get isBettingState(){return this.state===ar.Bet}get isRunningState(){return this.state===ar.Run}get isEndingState(){return this.state===ar.End||this.state===ar.EndDelay}emitEvent(e,i){this._events.next({type:e,data:i})}event(e){return this._eventsObs.pipe(cn(i=>i.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(ei.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(lt(qi),lt(mh),lt(va))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var As=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(As||(As={})),As))();let aD=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(As.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(As.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(As.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(As.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(As.isRandomSeed);return null===e||!!e&&"true"===e}set isRandomSeed(e){this.setItem(As.isRandomSeed,e)}get randomSeed(){return null===this.getItem(As.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(As.randomSeed)}set randomSeed(e){this.setItem(As.randomSeed,e)}get manualSeed(){return null===this.getItem(As.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(As.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(As.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(As.sid))}set sid(e){this.setItem(As.sid,e)}getRandomSeed(){return UH(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,i){this.storage.local.setItem(this.STORE_PREFIX+e,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(lt(z6))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var lr=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.AddChatMessageV2="AddChatMessageV2",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(lr||(lr={})),lr))(),lp=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(lp||(lp={})),lp))(),Fc=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(Fc||(Fc={})),Fc))();let vSe=(()=>{class n{constructor(e,i,r){this.connector=e,this.soundService=i,this.ifc=r,this._animationSubject=new Jn(!1),this._soundSubject=new Jn(!1),this._musicSubject=new Jn(!1),this._secondBetSubject=new Jn(!1),this.otherSubject=new Xe,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(Fc),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet;const i=e.other;i&&this.otherSettingNames.forEach(r=>{i[r]&&this.other.set(r,i[r])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,i){this.other.set(e,i),this.otherSubject.next({name:e,value:i}),this.save(e,i)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.send(vi.Sound,{value:e}),this.save(lp.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.send(vi.Music,{value:e}),this.save(lp.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.send(vi.Animation,{value:e}),this.save(lp.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(lp.SecondBet,e))}save(e,i){!1!==this.saveLock&&this.connector.request(lr.SetPlayerSetting,{settingName:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(lt(qi),lt(mh),lt(zs))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bc=(()=>{class n{constructor(e,i,r,o){this.seed=e,this.settings=i,this.connector=r,this.ifc=o,this.balanceSubject=new Jn(0),this.balance$=this.balanceSubject.asObservable(),this.connector.response(xn.NewBalance,200).subscribe(s=>this.onNewBalanceResponse(s)),this.ifc.receive$(Mr.SetBalance).subscribe(s=>{this.balance=s.value})}init(e){this.balance=e.balance,this._id=e.userId,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}onNewBalanceResponse(e){this.balance=e.newBalance,this.ifc.send(vi.UpdateBalance,{amount:this.balance,additionalOperatorData:e.additionalOperatorData})}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this.balanceSubject.getValue()}set balance(e){this.balanceSubject.next(e)}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(lt(aD),lt(vSe),lt(qi),lt(zs))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iu=(()=>{class n{constructor(e,i,r,o,s){this.modal=e,this.connector=i,this.message=r,this.ifc=o,this.urlParams=s,this._list=[],this._activateSource=new Xe,this._updateSource=new Xe,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(xn.FreeBetInfo).subscribe(a=>{a.activeFreeBetsInfo&&200===a.code&&("true"===this.urlParams.aviaport&&this.ifc.send(vi.AviaPortUpdateFreeBet,{freeBet:{freeBetId:a.activeFreeBetsInfo.freeBetsId,freeBetsLeft:a.activeFreeBetsInfo.freeBetsLeft,freeBetBetAmount:a.activeFreeBetsInfo.freeBetsBetAmount,freeBetWinAmount:a.activeFreeBetsInfo.freeBetsWinSum,freeBetStartDate:a.activeFreeBetsInfo.freeBetsStartDate,freeBetEndDate:a.activeFreeBetsInfo.freeBetsEndDate,numberOfFreeBets:a.activeFreeBetsInfo.numberOfFreeBets,freeBetMinCashOut:a.activeFreeBetsInfo.freeBetsMinCashOut,isBetIncluded:a.activeFreeBetsInfo.isBetIncluded}}),this.update(a.activeFreeBetsInfo))}),this.connector.response(xn.CreateFreeBet,200).subscribe(a=>{const l=a.freeBets;this.message.add({value:Lc.YouHaveGotAFreeBet,context:Ur.Success}),this.setList(l,!1)}),this.connector.response(xn.CancelFreeBet,200).subscribe(a=>{this.message.add({value:Lc.YourFreeBetWasCancelledByAdministrator,context:Ur.Danger}),this.activate(),a.freeBets.forEach(l=>{const c=this.list.find(u=>u.freeBetsId===l);c&&this.remove(c)})}),this.ifc.receive$(Mr.AviaPortSelectFreeBet).subscribe(a=>this.activate(a.freeBetId))}setList(e,i=!0){!Array.isArray(e)||(this._list=e,i&&this.autoActivation(),this._updateSource.next(e[e.length-1]))}autoActivation(){"true"!==this.urlParams.aviaport&&this.activate(this._list.length>0?this._list[0].freeBetsId:void 0)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(void 0!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(i=>i.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(i=>i.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const i=this._list.findIndex(r=>r.freeBetsId===e.freeBetsId);this._list.splice(i,1),this._updateSource.next(e)}activate(e){e!==this._activeId&&(this._activeId=e,this._activateSource.next())}onClaim(){var e,i;this.connector.request(lr.FreeBetFinish,{freeBetsId:null===(e=this.activeFreeBet)||void 0===e?void 0:e.freeBetsId}),"true"===this.urlParams.aviaport&&this.ifc.send(vi.AviaPortClaimFreeBet,{freeBetId:null===(i=this.activeFreeBet)||void 0===i?void 0:i.freeBetsId}),this.remove(this.activeFreeBet),this.activate()}onManage(){this.modal.open(ei.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(lt(va),lt(qi),lt(fl),lt(zs),lt(jl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yV=(()=>{class n{constructor(){this.history=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bV=(()=>{class n{constructor(){this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){var e;this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=void 0),null===(e=window.getSelection())||void 0===e||e.removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gd=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(gd||(gd={})),gd))();function Va(n,t=K_){return function ySe(n){return it((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(rt(e,c=>{i=!0,r=c,o||rn(n(c)).subscribe(o=rt(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>bu(n,t))}let A0=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new Jn(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{Li(window,"resize").pipe(Ae(()=>this.getSize()),Va(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=gd.md}}return n.\u0275fac=function(e){return new(e||n)(lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pl=(()=>{class n{constructor(e,i){this.window=e,this.ifc=i,this._isOpen=!1,this.openSubject=new Jn(!1),this.isChatEnabledSubject=new Jn(!1),this.isChatEnabled$=this.isChatEnabledSubject.asObservable(),this.isOpen$=this.openSubject.asObservable(),this.ifc.receive$(Mr.AviaPortToggleChat).subscribe(()=>{this.isOpen=!this.isOpen})}get isChatEnabled(){return this.isChatEnabledSubject.getValue()}set isChatEnabled(e){this.isChatEnabledSubject.next(e)}get isOpen(){return this._isOpen}set isOpen(e){this.isOpen!==e&&(this._isOpen=e,this.openSubject.next(e),this.window.manualEmitResizeEvent())}enableChat(){this.isChatEnabled=!0,this.ifc.send(vi.AviaPortChatInit,{isChatEnabled:!0}),this.initializeChatState()}initializeChatState(){const e=this.window.getSize().width;this.isOpen=this.shouldOpenChat(e)}shouldOpenChat(e){return e>=gd.md&&!(e<gd.xl1300&&e>=gd.lg)}}return n.\u0275fac=function(e){return new(e||n)(lt(A0),lt(zs))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vh=(()=>{class n{constructor(e,i,r,o){this.clipBoard=e,this.bsMessage=i,this.chatFeatureService=r,this.gameConfig=o,this.messages=[],this._top10Gifs=[],this.tagUserSubject=new Xe}initChat(e){var i;!this.gameConfig.chat.isEnabled||(null===(i=this.gameConfig.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)||(e.chatHistory&&(this.messages=function u1e(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.gameConfig.chat.maxMessages)),e.chatSettings&&(this._top10Gifs=Array.isArray(e.chatSettings.top10Gifs)?e.chatSettings.top10Gifs:jH(e.chatSettings.top10Gifs)),this.chatFeatureService.enableChat())}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}shareBet(e,i){this.clipBoard.copyToClipBoard(this.isChatApiV2OrLater?`/share_bet:${e}:${i}`:`/share_bet:${e}`),this.bsMessage.add({value:"copied-for-chat",context:Ur.Success,lifeTime:1e3,closable:!1})}get isChatApiV2OrLater(){const e=this.gameConfig.chatApiVersion;return!!e&&e>=zE.v2}}return n.\u0275fac=function(e){return new(e||n)(lt(bV),lt(fl),lt(pl),lt(Yn))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YE=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new Xe,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(o){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(o){}}}setup(){this.inited||(this.inited=!0,Li(window,"message").pipe(cn(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),Li(window,"message").pipe(cn(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(lr.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(lt(qi))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lD=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,i,r,o){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const s=document.createElement("script");s.innerHTML="",s.src=this.getCaptchaScriptUrl(e,i,o),s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,i,r){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(e){return new(e||n)(lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),SV=(()=>{class n{constructor(e,i){this.scriptService=e,this.zone=i}execute(e,i,r,o,s){this.executeAsPromise(e,i,o).then(r).catch(a=>s?s(a):console.error(a))}executeAsPromise(e,i,r){return new Promise((o,s)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),e,c=>{this.zone.runOutsideAngular(()=>{try{c.execute(e,{action:i}).then(u=>this.zone.run(()=>o(u)))}catch(u){s(u)}})})})}}return n.\u0275fac=function(e){return new(e||n)(lt(lD),lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),bSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[lD,SV],imports:[[Nt]]}),n})(),Au=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new Xe,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new Xe,this.betSetted$=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(i=>i.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(i=>i.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,i){return void 0===i||e>i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var yh=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(yh||(yh={})),yh))(),Cm=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(Cm||(Cm={})),Cm))();class SSe{getString(t){return t<yh.Medium?Cm.Low:t<yh.High?Cm.Medium:Cm.High}getHex(t){return ma(this.getString(t))}}let $E=(()=>{class n{constructor(e,i){this.connector=e,this.main=i,this._startingValue=1,this.levelColor=new SSe,this.dataSubject=new Jn({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(xn.X,200).pipe(cn(r=>r.x>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.x})}),this.connector.response(xn.CurrentMultiplier,200).pipe(cn(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState(ar.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)(lt(qi),lt($r))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:CSe}=Array;function CV(n){return 1===n.length&&CSe(n[0])?n[0]:n}function EV(...n){return 1===(n=CV(n)).length?rn(n[0]):new ue(function ESe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(rn(n[i]).subscribe(rt(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function XE(...n){const t=Pi(n),e=CV(n);return e.length?new ue(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)rn(e[s]).subscribe(rt(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Rr}function cp(...n){const t=Ls(n);return it((e,i)=>{(t?zy(n,e,t):zy(n,e)).subscribe(i)})}function cD(...n){const t=Pi(n);return it((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)rn(n[l]).subscribe(rt(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ne))&&(s=null))},D));e.subscribe(rt(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}new ue(D);let wV=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(Z(ol),Z(zi))},n.\u0275dir=$t({type:n}),n})(),up=(()=>{class n extends wV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Bs(n)))(i||n)}}(),n.\u0275dir=$t({type:n,features:[Vi]}),n})();const qs=new gn("NgValueAccessor"),OSe={provide:qs,useExisting:de(()=>_d),multi:!0},xSe=new gn("CompositionEventMode");let _d=(()=>{class n extends wV{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function PSe(){const n=_f()?_f().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(Z(ol),Z(zi),Z(xSe,8))},n.\u0275dir=$t({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Be("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ni([OSe]),Vi]}),n})();function OV(n){return null!=n&&"number"==typeof n.length}const Js=new gn("NgValidators"),Sh=new gn("NgAsyncValidators");function KE(n){return null}function LV(n){return null!=n}function FV(n){const t=H1(n)?Ni(n):n;return oF(t),t}function BV(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function UV(n,t){return t.map(e=>e(n))}function jV(n){return n.map(t=>function ASe(n){return!n.validate}(t)?t:e=>t.validate(e))}function uD(n){return null!=n?function GV(n){if(!n)return null;const t=n.filter(LV);return 0==t.length?null:function(e){return BV(UV(e,t))}}(jV(n)):null}function dD(n){return null!=n?function HV(n){if(!n)return null;const t=n.filter(LV);return 0==t.length?null:function(e){return GE(UV(e,t).map(FV)).pipe(Ae(BV))}}(jV(n)):null}function VV(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function hD(n){return n?Array.isArray(n)?n:[n]:[]}function qE(n,t){return Array.isArray(n)?n.includes(t):n===t}function YV(n,t){const e=hD(t);return hD(n).forEach(r=>{qE(e,r)||e.push(r)}),e}function $V(n,t){return hD(t).filter(e=>!qE(n,e))}class XV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=uD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ch extends XV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ya extends XV{get formDirective(){return null}get path(){return null}}let ba=(()=>{class n extends class KV{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(Z(Ch,2))},n.\u0275dir=$t({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Lt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Vi]}),n})();function D0(n,t){(function gD(n,t){const e=function zV(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(VV(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function WV(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(VV(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();eT(t._rawValidators,r),eT(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function jSe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JV(n,t)})}(n,t),function HSe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function GSe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JV(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function USe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function eT(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function JV(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const R0="VALID",nT="INVALID",Em="PENDING",N0="DISABLED";function bD(n){return(iT(n)?n.validators:n)||null}function t9(n){return Array.isArray(n)?uD(n):n||null}function SD(n,t){return(iT(t)?t.asyncValidators:n)||null}function n9(n){return Array.isArray(n)?dD(n):n||null}function iT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const CD=n=>n instanceof TD;function r9(n){return(n=>n instanceof a9)(n)?n.value:n.getRawValue()}function o9(n,t){const e=CD(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new Oe(1e3,"");if(!i[t])throw new Oe(1001,"")}function s9(n,t){CD(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new Oe(1002,"")})}class ED{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=t9(this._rawValidators),this._composedAsyncValidatorFn=n9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===R0}get invalid(){return this.status===nT}get pending(){return this.status==Em}get disabled(){return this.status===N0}get enabled(){return this.status!==N0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=t9(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=n9(t)}addValidators(t){this.setValidators(YV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($V(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($V(t,this._rawAsyncValidators))}hasValidator(t){return qE(this._rawValidators,t)}hasAsyncValidator(t){return qE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Em,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=N0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=R0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===R0||this.status===Em)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?N0:R0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Em,this._hasOwnPendingAsyncValidator=!0;const e=FV(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function YSe(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=CD(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof XSe)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new vn,this.statusChanges=new vn}_calculateStatus(){return this._allControlsDisabled()?N0:this.errors?nT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Em)?Em:this._anyControlsHaveStatus(nT)?nT:R0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){iT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class a9 extends ED{constructor(t=null,e,i){super(bD(e),SD(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iT(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class TD extends ED{constructor(t,e,i){super(bD(e),SD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){s9(this,t),Object.keys(t).forEach(i=>{o9(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=r9(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class XSe extends ED{constructor(t,e,i){super(bD(e),SD(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){s9(this,t),t.forEach((i,r)=>{o9(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>r9(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const JSe={provide:Ch,useExisting:de(()=>Zs)},u9=(()=>Promise.resolve(null))();let Zs=(()=>{class n extends Ch{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new a9,this._registered=!1,this.update=new vn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function mD(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===_d?e=o:function WSe(n){return Object.getPrototypeOf(n.constructor)===up}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function _D(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){u9.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;u9.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function ZE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(Z(ya,9),Z(Js,10),Z(Sh,10),Z(qs,10),Z(Rn,8))},n.\u0275dir=$t({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ni([JSe]),Vi,sa]}),n})(),h9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();const MD=new gn("NgModelWithFormControlWarning");function b9(n){return"number"==typeof n?n:parseInt(n,10)}let dp=(()=>{class n{constructor(){this._validator=KE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):KE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=$t({type:n,features:[sa]}),n})();const bCe={provide:Js,useExisting:de(()=>Tm),multi:!0};let Tm=(()=>{class n extends dp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>b9(e),this.createValidator=e=>function RV(n){return t=>function bh(n){return null==n||0===n.length}(t.value)||!OV(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Bs(n)))(i||n)}}(),n.\u0275dir=$t({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Ei("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ni([bCe]),Vi]}),n})();const SCe={provide:Js,useExisting:de(()=>wm),multi:!0};let wm=(()=>{class n extends dp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>b9(e),this.createValidator=e=>function NV(n){return t=>OV(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Bs(n)))(i||n)}}(),n.\u0275dir=$t({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Ei("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ni([SCe]),Vi]}),n})(),O9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[h9]]}),n})(),Qs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[O9]}),n})(),P9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:MD,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[O9]}),n})();const ICe=["*"],XCe=["dialog"];function hp(n){return null!=n}function Mm(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const I9={animation:!0,transitionTimerDelayMs:5},VEe=()=>{},{transitionTimerDelayMs:zEe}=I9,L0=new Map,Sa=(n,t,e,i)=>{let r=i.context||{};const o=L0.get(t);if(o)switch(i.runningTransition){case"continue":return Rr;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),L0.delete(t)}const s=e(t,i.animation,r)||VEe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),mu(void 0).pipe(function GEe(n){return t=>new ue(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Xe,l=new Xe,c=a.pipe(function TSe(...n){return t=>zy(t,mu(...n))}(!0));L0.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function HEe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=Li(t,"transitionend").pipe(ro(c),cn(({target:p})=>p===t));EV(bu(u+zEe).pipe(ro(c)),d,l).pipe(ro(c)).subscribe(()=>{L0.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let oT=(()=>{class n{constructor(){this.animation=I9.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),F9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),U9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();var es=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(es||(es={})),es))();const aT=(n,t)=>!!t&&t.some(e=>e.contains(n)),z9=(n,t)=>!t||null!=function jEe(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),lTe="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const W9=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Y9(n){const t=Array.from(n.querySelectorAll(W9)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const fTe=/\s+/,$9=new class hTe{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,r){const[o="top",s="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),c=parseFloat(l.marginTop),u=parseFloat(l.marginBottom),d=parseFloat(l.marginLeft),f=parseFloat(l.marginRight);let p=0,T=0;switch(o){case"top":p=a.top-(e.offsetHeight+c+u);break;case"bottom":p=a.top+a.height;break;case"left":T=a.left-(e.offsetWidth+d+f);break;case"right":T=a.left+a.width}switch(s){case"top":p=a.top;break;case"bottom":p=a.top+a.height-e.offsetHeight;break;case"left":T=a.left;break;case"right":T=a.left+a.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?T=a.left+a.width/2-e.offsetWidth/2:p=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(T)}px, ${Math.round(p)}px)`;const x=e.getBoundingClientRect(),k=document.documentElement,B=window.innerHeight||k.clientHeight,$=window.innerWidth||k.clientWidth;return x.left>=0&&x.top>=0&&x.right<=$&&x.bottom<=B}};new Date(1882,10,12),new Date(2174,10,25);let Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Qs]]}),n})(),ETe=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ez=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=$t({type:n,selectors:[["",8,"navbar"]]}),n})(),GD=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(Z(zi))},n.\u0275dir=$t({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&Lt("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),dT=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(Z(de(()=>Th)),Z(zi))},n.\u0275dir=$t({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&Yo(r,GD,4),2&e){let o;ii(o=ri())&&(i.menuItems=o)}},hostVars:5,hostBindings:function(e,i){1&e&&Be("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return i.dropdown.onKeyDown(o)})("keydown.Space",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&(Ei("x-placement",i.placement),Lt("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),hT=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(Z(de(()=>Th)),Z(zi))},n.\u0275dir=$t({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&Ei("aria-expanded",i.dropdown.isOpen())}}),n})(),HD=(()=>{class n extends hT{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(Z(de(()=>Th)),Z(zi))},n.\u0275dir=$t({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&Be("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&Ei("aria-expanded",i.dropdown.isOpen())},features:[ni([{provide:hT,useExisting:de(()=>n)}]),Vi]}),n})(),Th=(()=>{class n{constructor(e,i,r,o,s,a,l){this._changeDetector=e,this._document=r,this._ngZone=o,this._elementRef=s,this._renderer=a,this._closed$=new Xe,this._bodyContainer=null,this._open=!1,this.openChange=new vn,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=o.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Nr(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function uTe(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>lTe?()=>setTimeout(()=>n(),100):n)(()=>{const c=Li(t,"keydown").pipe(ro(r),cn(f=>f.which===es.Escape),Ha(f=>f.preventDefault())),u=Li(t,"mousedown").pipe(Ae(f=>{const p=f.target;return 2!==f.button&&!aT(p,s)&&("inside"===e?aT(p,o)&&z9(p,a):"outside"===e?!aT(p,o):z9(p,a)||!aT(p,o))}),ro(r)),d=Li(t,"mouseup").pipe(cD(u),cn(([f,p])=>p),ej(0),ro(r));EV([c.pipe(Ae(f=>0)),d.pipe(Ae(f=>1))]).subscribe(f=>n.run(()=>i(f)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let o=-1,s=null;const a=this._isEventFromToggle(e);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(e.target)&&(s=l),l===this._document.activeElement&&(o=c)}),i!==es.Space&&i!==es.Enter){if(i!==es.Tab){if(a||s){if(this.open(),r.length){switch(i){case es.ArrowDown:o=Math.min(o+1,r.length-1);break;case es.ArrowUp:if(this._isDropup()&&-1===o){o=r.length-1;break}o=Math.max(o-1,0);break;case es.Home:o=0;break;case es.End:o=r.length-1}r[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(W9);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Li(e.target,"focusout").pipe(Nr(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Li(s,"click").pipe(Nr(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function pTe(n,t,e,i,r){let o=Array.isArray(e)?e:e.split(fTe);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=p=>{const[T,x]=p.split("-"),k=[];return r&&(k.push(`${r}-${T}`),x&&k.push(`${r}-${T}-${x}`),k.forEach(B=>{a.add(B)})),k};r&&s.forEach(p=>{a.remove(`${r}-${p}`)});let c=o.findIndex(p=>"auto"===p);c>=0&&s.forEach(function(p){null==o.find(T=>-1!==T.search("^"+p))&&o.splice(c++,1,p)});const u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let d=null,f=!1;for(d of o){let p=l(d);if($9.positionElements(n,t,d,i)){f=!0;break}r&&p.forEach(T=>{a.remove(T)})}return f||(d=o[0],l(d),$9.positionElements(n,t,d,i)),d}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(o,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(o,"z-index","1050"),i.appendChild(o,r),i.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,o=this._elementRef.nativeElement;r.removeClass(o,"dropup"),r.removeClass(o,"dropdown"),i.placement="static"===this.display?null:e;const s=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(o,s);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,s))}}}return n.\u0275fac=function(e){return new(e||n)(Z(Rn),Z(ETe),Z(Qr),Z(Ti),Z(zi),Z(ol),Z(ez,8))},n.\u0275dir=$t({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(Yo(r,dT,5),Yo(r,hT,5)),2&e){let o;ii(o=ri())&&(i._menu=o.first),ii(o=ri())&&(i._anchor=o.first)}},hostVars:2,hostBindings:function(e,i){2&e&&Lt("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[sa]}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();class _p{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let TTe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Nr(1)).subscribe(()=>{Sa(this._zone,this._el.nativeElement,(e,i)=>{i&&Mm(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Sa(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(Z(zi),Z(Ti))},n.\u0275cmp=_t({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(df("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Lt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class Ir{close(t){}dismiss(t){}}class wTe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Xe,this._dismissed=new Xe,this._hidden=new Xe,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ro(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ro(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function UEe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():mu(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),XE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var j0=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(j0||(j0={})),j0))();let MTe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Xe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new vn,this.shown=new Xe,this.hidden=new Xe}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Nr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=XE(Sa(this._zone,e,()=>e.classList.remove("show"),i),Sa(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"},i=Sa(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Mm(o),o.classList.add("show")},e);XE(i,Sa(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Li(e,"keydown").pipe(ro(this._closed$),cn(r=>r.which===es.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(j0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Li(this._dialogEl.nativeElement,"mousedown").pipe(ro(this._closed$),Ha(()=>i=!1),fh(()=>Li(e,"mouseup").pipe(ro(this._closed$),Nr(1))),cn(({target:r})=>e===r)).subscribe(()=>{i=!0}),Li(e,"click").pipe(ro(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(j0.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=Y9(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Sa(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(Z(Qr),Z(zi),Z(Ti))},n.\u0275cmp=_t({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&fo(XCe,7),2&e){let r;ii(r=ri())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Ei("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),df("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Lt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ICe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Kv(),I(0,"div",0,1)(2,"div",2),qv(3),R()()),2&e&&df("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const OTe=()=>{};let PTe=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):OTe}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xTe=(()=>{class n{constructor(e,i,r,o,s,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Xe,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new vn,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Li(t,"focusin").pipe(ro(e),Ae(o=>o.target));Li(t,"keydown").pipe(ro(e),cn(o=>o.which===es.Tab),cD(r)).subscribe(([o,s])=>{const[a,l]=Y9(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Li(t,"click").pipe(ro(e),cD(r),Ae(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,o){const s=o.container instanceof HTMLElement?o.container:hp(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const u=new Ir,d=this._getContentRef(e,o.injector||i,r,u,o);let f=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,p=this._attachWindowComponent(e,s,d),T=new wTe(p,d,f,o.beforeDismiss);return this._registerModalRef(T),this._registerWindowCmpt(p),T.result.then(l,l),T.result.then(c,c),u.close=x=>{T.close(x)},u.dismiss=x=>{T.dismiss(x)},this._applyWindowOptions(p.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&(this._applyBackdropOptions(f.instance,o),f.changeDetectorRef.detectChanges()),p.changeDetectorRef.detectChanges(),T}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(TTe).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let s=e.resolveComponentFactory(MTe).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{hp(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{hp(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,s){return r?r instanceof Lr?this._createFromTemplateRef(r,o):function x9(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new _p([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new _p([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new _p([[i]])}_createFromComponent(e,i,r,o,s){const a=e.resolveComponentFactory(r),l=js.create({providers:[{provide:Ir,useValue:o}],parent:i}),c=a.create(l),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new _p([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(lt(pP),lt(js),lt(Qr),lt(PTe),lt(__),lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ITe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(lt(oT))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G0=(()=>{class n{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(lt(p_),lt(js),lt(xTe),lt(ITe))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[G0]}),n})(),sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),pz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),_z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),mz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),bz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),Sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();new gn("live announcer delay",{providedIn:"root",factory:function VTe(){return 100}});let Cz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})();const zTe=[L9,F9,U9,H9,V9,Q9,tz,nz,sz,pz,_z,mz,vz,yz,bz,Sz,Cz];let jc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[zTe,L9,F9,U9,H9,V9,Q9,tz,nz,sz,pz,_z,mz,vz,yz,bz,Sz,Cz]}),n})(),vd=(()=>{class n{constructor(e,i){this.elRef=e,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)(Z(zi),Z($E))},n.\u0275dir=$t({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const WTe=function(n,t){return{padding:n,borderRadius:t}};let YD=(()=>{class n{constructor(){this.multiplier=1,this.padding="2px 6px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:3,vars:7,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,i){1&e&&(I(0,"div",0),Y(1),K(2,"multiplierPrecision"),R()),2&e&&(W("ngStyle",sl(4,WTe,i.padding,i.borderRadius)),_(1),ie(" ",J(2,2,i.multiplier),"x\n"))},directives:[vd,mf],pipes:[Ws],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),Gc=(()=>{class n{constructor(){this.size=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,i){1&e&&ye(0,"div",0),2&e&&W("ngClass",i.size)},directives:[Xo],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function YTe(n,t){if(1&n&&(I(0,"div",11)(1,"div",12),ye(2,"app-bubble-multiplier",13),R(),I(3,"div",14),Y(4),K(5,"date"),R()()),2&n){const e=oe();_(2),W("multiplier",e.fairnessData.result),_(2),ie(" ",nn(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const $Te=function(n){return{value:n}};function XTe(n,t){if(1&n&&(I(0,"div",21)(1,"div",34)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"div",35),ye(6,"img",36),Y(7),K(8,"maskedUsername"),R()(),I(9,"div",37)(10,"span"),Y(11),K(12,"transloco"),R(),I(13,"div",38),Y(14),R()()()),2&n){const e=oe(),i=e.index,r=e.$implicit,o=oe(2);_(3),ie(" ",nn(4,6,"shared.modals.fairness.player",Ii(13,$Te,i+1))," "),_(3),W("src",o.getAvatar(r),pn)("alt",o.getAvatar(r)),_(1),ie(" ",J(8,9,r.username)," "),_(4),dt(J(12,11,"shared.modals.fairness.seed")),_(3),ie(" ",r.seed," ")}}function KTe(n,t){if(1&n&&(I(0,"div"),te(1,XTe,15,15,"div",33),R()),2&n){const e=t.$implicit;oe();const i=Ki(26);_(1),W("ngIf",e)("ngIfElse",i)}}function qTe(n,t){1&n&&(I(0,"div",39),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.modals.fairness.not enough")," "))}function JTe(n,t){if(1&n){const e=Ot();I(0,"div",15)(1,"div",16)(2,"div",17),ye(3,"div",18),I(4,"div",19)(5,"span"),Y(6),K(7,"transloco"),R(),I(8,"div",20),Y(9),K(10,"transloco"),R()()(),I(11,"div",21)(12,"input",22,23),Be("ngModelChange",function(r){return Tt(e),oe().fairnessData.serverSeed=r})("click",function(){Tt(e);const r=Ki(13);return oe().onSelect(r)}),R()()(),I(14,"div",24)(15,"div",17),ye(16,"div",25),I(17,"div",19)(18,"span"),Y(19),K(20,"transloco"),R(),I(21,"div",20),Y(22),K(23,"transloco"),R()()(),te(24,KTe,2,2,"div",26),te(25,qTe,3,3,"ng-template",null,27,Hs),R(),I(27,"div",28)(28,"div",17),ye(29,"div",29),I(30,"div",19)(31,"span"),Y(32),K(33,"transloco"),R(),I(34,"div",20),Y(35),K(36,"transloco"),R()()(),I(37,"div",21)(38,"input",22,30),Be("ngModelChange",function(r){return Tt(e),oe().fairnessData.seedSHA256=r})("click",function(){Tt(e);const r=Ki(39);return oe().onSelect(r)}),R()()(),I(40,"div",31)(41,"div",17)(42,"span"),Y(43),K(44,"transloco"),R(),I(45,"span"),Y(46),K(47,"transloco"),R(),I(48,"span"),Y(49),K(50,"transloco"),R()(),I(51,"div",21)(52,"span"),Y(53),R(),I(54,"span"),Y(55),R(),I(56,"span"),Y(57),R()()(),I(58,"div",32)(59,"div",17)(60,"span"),Y(61),K(62,"transloco"),R()(),I(63,"div",21)(64,"span"),Y(65),R()(),I(66,"div",17)(67,"span"),Y(68),K(69,"transloco"),R()(),I(70,"div",21)(71,"span"),Y(72),R()(),I(73,"div",17)(74,"span"),Y(75),K(76,"transloco"),R()(),I(77,"div",21)(78,"span"),Y(79),R()()()()}if(2&n){const e=oe();_(6),dt(J(7,23,"shared.modals.fairness.server seed")),_(3),ie(" ",J(10,25,"shared.modals.fairness.server tip")," "),_(3),W("readonly",!0)("ngModel",e.fairnessData.serverSeed),_(7),dt(J(20,27,"shared.modals.fairness.client seed")),_(3),ie(" ",J(23,29,"shared.modals.fairness.client tip")," "),_(2),W("ngForOf",e.players),_(8),dt(J(33,31,"shared.modals.fairness.hash")),_(3),ie(" ",J(36,33,"shared.modals.fairness.hash tip")," "),_(3),W("readonly",!0)("ngModel",e.fairnessData.seedSHA256),_(5),dt(J(44,35,"shared.modals.fairness.hex")),_(3),dt(J(47,37,"shared.modals.fairness.decimal")),_(3),dt(J(50,39,"shared.modals.fairness.result")),_(4),dt(e.fairnessData.partSeedHexNumber),_(2),dt(e.fairnessData.partSeedDecimalNumber),_(2),dt(e.fairnessData.result),_(4),dt(J(62,41,"shared.modals.fairness.hex")),_(4),dt(e.fairnessData.partSeedHexNumber),_(3),dt(J(69,43,"shared.modals.fairness.decimal")),_(4),dt(e.fairnessData.partSeedDecimalNumber),_(3),dt(J(76,45,"shared.modals.fairness.result")),_(4),dt(e.fairnessData.result)}}function ZTe(n,t){1&n&&(I(0,"div"),ye(1,"app-loader"),R())}let mp=class{constructor(t,e,i){this.activeModal=t,this.modal=e,this.connector=i,this.fairnessData=void 0,this.loaded=!1}ngOnInit(){this.connector.request(lr.RoundFairness,{roundId:this.betId}),this.connector.response(xn.RoundFairness,200).pipe(Gt(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(ei.whatIsPf)}onSelect(t){t.select()}get players(){var t,e;const i=null!==(e=null===(t=this.fairnessData)||void 0===t?void 0:t.playerSeeds)&&void 0!==e?e:[];for(let r=i.length;r<3;r++)i.push(null);return i}getAvatar(t){return ga(ko_avatarPath+t.profileImage)}ngOnDestroy(){this.loaded=!1}};mp.\u0275fac=function(t){return new(t||mp)(Z(Ir),Z(va),Z(qi))},mp.\u0275cmp=_t({type:mp,selectors:[["app-fairness"]],decls:19,vars:13,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"help"],[3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],[1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],[1,"user"],["draggable","false",1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],[1,"value","empty"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R(),te(4,YTe,6,5,"div",2),I(5,"button",3),Be("click",function(){return e.activeModal.close()}),I(6,"span"),Y(7,"\xd7"),R()()(),I(8,"div",4)(9,"div",5),te(10,JTe,80,47,"div",6),te(11,ZTe,2,0,"div",7),R()(),I(12,"div",8)(13,"div",9),Y(14),K(15,"transloco"),I(16,"span",10),Be("click",function(){return e.onPFModalOpen()}),Y(17),K(18,"transloco"),R()()()),2&t&&(_(2),Hn(" ",J(3,7,"shared.round")," ",e.betId," "),_(2),W("ngIf",e.loaded),_(6),W("ngIf",e.loaded),_(1),W("ngIf",!e.loaded),_(3),ie(" ",J(15,9,"shared.modals.fairness.help")," "),_(3),ie(" ",J(18,11,"shared.what_is_provably_fair")," "))},directives:[zt,YD,_d,ba,Zs,Kn,Gc],pipes:[Jt,al,pa],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.d1f55f15e704c606.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.1a7adfbd8896f09e.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.99b8c40ac31b3e06.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),mp=qe([si()],mp);let QTe=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(Yi))},n.\u0275cmp=_t({type:n,selectors:[["app-what-is-pf-modal"]],decls:57,vars:51,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],[1,"text-center","text-uppercase"],[1,"description","mt-2"],[1,"mt-3"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R(),I(4,"button",2),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",3)(8,"div",4),ye(9,"div",5),R(),I(10,"div",6)(11,"span"),Y(12),K(13,"transloco"),R()(),I(14,"div",7)(15,"span"),Y(16),K(17,"transloco"),R()(),I(18,"div",8),Y(19),K(20,"transloco"),R(),I(21,"div"),Y(22),K(23,"transloco"),R(),I(24,"div",9),Y(25),K(26,"transloco"),R(),I(27,"div",10),Y(28),K(29,"transloco"),R(),I(30,"div",9),Y(31),K(32,"transloco"),K(33,"transloco"),K(34,"transloco"),R(),I(35,"div",9),Y(36),K(37,"transloco"),R(),I(38,"div",11),ye(39,"div",12),R(),I(40,"div",8),Y(41),K(42,"transloco"),R(),I(43,"div",13)(44,"div"),Y(45),K(46,"transloco"),R(),I(47,"div"),Y(48),K(49,"transloco"),R(),I(50,"div"),Y(51),K(52,"transloco"),K(53,"transloco"),R(),I(54,"div"),Y(55),K(56,"transloco"),R()()()),2&e&&(_(2),ie(" ",J(3,17,"shared.what_is_provably_fair"),"? "),_(10),ie(" Provably Fair - ",J(13,19,"shared.modals.provably-fair.slogan")," "),_(4),dt(J(17,21,"shared.modals.provably-fair.top text")),_(3),ie(" ",J(20,23,"shared.modals.provably-fair.How does it work")," "),_(3),dt(J(23,25,"shared.modals.provably-fair.Simple")),_(3),ie(" ",J(26,27,"shared.modals.provably-fair.text1")," "),_(3),dt(J(29,29,"shared.modals.provably-fair.more")),_(3),d_(" ",J(32,31,"shared.modals.provably-fair.text2-1")," ",J(33,33,"shared.modals.provably-fair.text2-2")," ",J(34,35,"shared.modals.provably-fair.text2-3")," "),_(5),ie(" ",J(37,37,"shared.modals.provably-fair.text2-4")," "),_(5),ie(" ",J(42,39,"shared.modals.provably-fair.video title")," "),_(4),ie("- ",J(46,41,"shared.modals.provably-fair.stats-1"),""),_(3),ie("- ",J(49,43,"shared.modals.provably-fair.stats-2"),""),_(3),Hn(" - ",J(52,45,"shared.modals.provably-fair.settings-1")," ",J(53,47,"shared.modals.provably-fair.settings-2")," "),_(4),ie("- ",J(56,49,"shared.modals.provably-fair.settings-3"),""))},pipes:[Jt],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.8d41a398beb18651.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),ewe=(()=>{class n{constructor(e){this.seed=e,this.finish=new vn,this.seedValue=this.seed.manualSeed,this.isSaveBtnEnabled=!0}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(i)}}return n.\u0275fac=function(e){return new(e||n)(Z(aD))},n.\u0275cmp=_t({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:28,vars:17,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"seed-body"],[1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),Y(4),K(5,"transloco"),R(),I(6,"button",3),Be("click",function(){return i.handlerClose()}),I(7,"span"),Y(8,"\xd7"),R()()(),I(9,"div",4)(10,"div",5),Y(11),K(12,"transloco"),R(),I(13,"div",6)(14,"input",7),Be("ngModelChange",function(o){return i.seedValue=o})("ngModelChange",function(o){return i.validateSeedValue(o)}),R(),I(15,"button",8),Be("click",function(){return i.handlerRandom()}),I(16,"span",9),Y(17),K(18,"transloco"),R()()(),I(19,"div",10)(20,"button",11),Be("click",function(){return i.handlerSave()}),I(21,"span",9),Y(22),K(23,"transloco"),R()(),I(24,"button",12),Be("click",function(){return i.handlerClose()}),I(25,"span",9),Y(26),K(27,"transloco"),R()()()()()()),2&e&&(_(4),ie(" ",J(5,7,"shared.modals.fairness-settings.seed-change.change seed")," "),_(7),ie(" ",J(12,9,"shared.modals.fairness-settings.seed-change.enter new seed")," "),_(3),W("ngModel",i.seedValue),_(3),dt(J(18,11,"shared.random")),_(3),W("disabled",!i.isSaveBtnEnabled),_(2),dt(J(23,13,"shared.save")),_(4),dt(J(27,15,"shared.cancel")))},directives:[_d,ba,Zs],pipes:[Jt],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function twe(n,t){1&n&&(I(0,"div",32)(1,"div",33),Y(2),K(3,"transloco"),R()()),2&n&&(_(2),ie(" ",J(3,1,"shared.modals.fairness-settings.alert")," "))}function nwe(n,t){if(1&n){const e=Ot();I(0,"app-seed-change",34),Be("finish",function(){return Tt(e),oe().changeSeed=!1}),R()}}let vp=class{constructor(t,e,i,r,o,s,a){this.modal=t,this.seed=e,this.bsMessage=i,this.connector=r,this.betControl=o,this.clipboard=s,this.activeModal=a,this.changeSeed=!1,this.serverSeed=void 0,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(lr.ServerSeed,null),this.connector.response(xn.ServerSeed,200).pipe(Gt(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:Ur.Success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(ei.whatIsPf)}};function iwe(n,t){if(1&n){const e=Ot();I(0,"img",8),Be("click",function(){const o=Tt(e).$implicit;return oe().onSaveAvatar(o.name)}),R()}if(2&n){const e=t.$implicit,i=oe();Lt("active",i.user.avatar===e.name),W("src",i.getAvatar(e.name),pn)("alt",i.getAvatar(e.name))}}vp.\u0275fac=function(t){return new(t||vp)(Z(va),Z(aD),Z(fl),Z(qi),Z(Au),Z(bV),Z(Ir))},vp.\u0275cmp=_t({type:vp,selectors:[["app-fairness-settings"]],decls:80,vars:46,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],[1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],[1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],[1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],[1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1),Y(2),K(3,"transloco"),R(),I(4,"button",2),Be("click",function(){return e.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",3),te(8,twe,4,3,"div",4),I(9,"div",5)(10,"p"),Y(11),K(12,"transloco"),R(),I(13,"p",6),Be("click",function(){return e.onPFModalOpen()}),ye(14,"i",7),Y(15),K(16,"transloco"),R()(),I(17,"div",8)(18,"div",9)(19,"div",10),ye(20,"i",11),I(21,"span"),Y(22),K(23,"transloco"),R()(),I(24,"div",12)(25,"span"),Y(26),K(27,"transloco"),R()()(),I(28,"div",13)(29,"label",14),Be("click",function(){return e.onSelectClientSeedType(!0)}),I(30,"span",15),ye(31,"i",16),R(),I(32,"span"),Y(33),K(34,"transloco"),R()(),I(35,"div",17)(36,"div",18)(37,"div",19)(38,"p")(39,"span",20),Y(40),K(41,"transloco"),R(),I(42,"span"),Y(43),R()()(),I(44,"i",21),Be("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),R()()()(),I(45,"div",13)(46,"label",14),Be("click",function(){return e.onSelectClientSeedType(!1)}),I(47,"span",15),ye(48,"i",16),R(),I(49,"span"),Y(50),K(51,"transloco"),R()(),I(52,"div",22)(53,"div",23)(54,"div",19)(55,"p")(56,"span",20),Y(57),K(58,"transloco"),R(),I(59,"span"),Y(60),R()()(),I(61,"i",21),Be("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),R()(),I(62,"button",24),Be("click",function(){return e.changeSeed=!0}),I(63,"span"),Y(64),K(65,"transloco"),R()()()()(),I(66,"div",25)(67,"div",26),ye(68,"i",27),I(69,"span"),Y(70),K(71,"transloco"),R()(),I(72,"div",28)(73,"div",29)(74,"div",19),Y(75),R()()()()(),I(76,"div",30),Y(77),K(78,"transloco"),R(),te(79,nwe,1,0,"app-seed-change",31)),2&t&&(_(2),ie(" ",J(3,22,"shared.provably_fair_settings")," "),_(6),W("ngIf",e.betSetted),_(3),dt(J(12,24,"shared.modals.fairness-settings.tooltip.text")),_(4),ie(" ",J(16,26,"shared.what_is_provably_fair")," "),_(7),dt(J(23,28,"shared.modals.fairness-settings.client-part.title")),_(4),dt(J(27,30,"shared.modals.fairness-settings.client-part.text")),_(2),Lt("active",e.seed.isRandomSeed),_(5),ie(" ",J(34,32,"shared.modals.fairness-settings.client-part.random")," "),_(7),ie(" ",J(41,34,"shared.modals.fairness-settings.client-part.current")," "),_(3),dt(e.seed.randomSeed),_(2),Lt("active",!e.seed.isRandomSeed),_(5),ie(" ",J(51,36,"shared.modals.fairness-settings.client-part.manual")," "),_(7),ie(" ",J(58,38,"shared.modals.fairness-settings.client-part.current")," "),_(3),dt(e.seed.manualSeedWithId),_(2),W("disabled",e.seed.isRandomSeed),_(2),dt(J(65,40,"shared.change")),_(6),dt(J(71,42,"shared.modals.fairness-settings.server seed")),_(5),ie(" ",null===e.serverSeed?"loading...":e.serverSeed," "),_(2),ie(" ",J(78,44,"shared.modals.fairness-settings.bottom"),"\n"),_(2),W("ngIf",e.changeSeed))},directives:[zt,ewe],pipes:[Jt],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.8f5a7ef7bad6779b.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.1a7adfbd8896f09e.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.d1f55f15e704c606.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.4a0d60bc14e7330f.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),vp=qe([si()],vp);let rwe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.connector=i,this.user=r,this.avatars=[];for(let o=1;o<=72;o++)this.avatars.push({name:"av-"+o+".png"})}getAvatar(e){return ga(ko_avatarPath+e)}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(lr.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(qi),Z(Bc))},n.\u0275cmp=_t({type:n,selectors:[["app-game-avatar"]],decls:15,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"content"],[1,"wrap"],["draggable","false","class","game-img",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],["draggable","false",1,"game-img",3,"src","alt","click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",2)(8,"div",3)(9,"div",4),te(10,iwe,1,4,"img",5),R()()(),I(11,"div",6)(12,"button",7),Be("click",function(){return i.activeModal.close()}),Y(13),K(14,"transloco"),R()()),2&e&&(_(2),dt(J(3,3,"shared.modals.game-avatar.title")),_(8),W("ngForOf",i.avatars),_(3),ie(" ",J(14,5,"shared.close")," "))},directives:[Kn],pipes:[Jt],styles:[".content[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:flex;justify-content:center;max-height:100%}.content[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin-right:-8px;margin-bottom:-8px}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;border:4px solid #333;background-position:center;margin-right:8px;margin-bottom:8px;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border-color:#428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function owe(n,t){if(1&n){const e=Ot();I(0,"div",3)(1,"div",4)(2,"span",5),Be("click",function(){return Tt(e),oe().selectClick()}),ye(3,"i",6),R(),I(4,"div",7),Y(5),K(6,"transloco"),R()()()}2&n&&(Lt("selected",oe().freeBets.isActive()),_(5),ie(" ",J(6,3,"shared.modals.free-bets-management.play with cash")," "))}function swe(n,t){if(1&n){const e=Ot();I(0,"span",5),Be("click",function(){Tt(e);const r=oe(2);return r.selectClick(r.freeBet.freeBetsId)}),ye(1,"i",6),R()}}function awe(n,t){if(1&n&&(I(0,"div",18),Y(1),R()),2&n){const e=oe(2);_(1),ie(" ",e.freeBet.numberOfFreeBets," ")}}function lwe(n,t){if(1&n&&(I(0,"div",19),Y(1),R()),2&n){const e=oe(2);_(1),dt(e.freeBet.freeBetsLeft)}}function cwe(n,t){if(1&n&&(I(0,"div",20)(1,"div",21)(2,"div",22),Y(3),K(4,"transloco"),R(),I(5,"div",23),Y(6),K(7,"date"),R()(),I(8,"div",24)(9,"div",22),Y(10),K(11,"transloco"),R(),I(12,"div",23),Y(13),R()(),I(14,"div",24)(15,"div",22),Y(16),K(17,"transloco"),R(),I(18,"div",23),Y(19),K(20,"date"),R()()()),2&n){const e=oe(2);_(3),ie(" ",J(4,6,"shared.modals.free-bets-management.granted")," "),_(3),ie(" ",nn(7,8,e.freeBet.freeBetsStartDate,"dd.MM.yy, HH:mm")," "),_(4),ie(" ",J(11,11,"shared.modals.free-bets-management.min cashout coefficient")," "),_(3),dt(e.freeBet.freeBetsMinCashOut),_(3),ie(" ",J(17,13,"shared.modals.free-bets-management.expires")," "),_(3),ie(" ",nn(20,15,e.freeBet.freeBetsEndDate,"dd.MM.yy, HH:mm")," ")}}function uwe(n,t){if(1&n){const e=Ot();I(0,"div",8)(1,"div",4),te(2,swe,2,0,"span",9),te(3,awe,2,1,"div",10),te(4,lwe,2,1,"div",11),I(5,"div",12)(6,"div",13)(7,"span"),Y(8),K(9,"currencyPrecision"),R()()(),I(10,"div",14)(11,"div",13),Y(12),K(13,"currencyPrecision"),R()(),I(14,"div",15),Be("click",function(){return Tt(e),oe().toggleDisplayDetails()}),ye(15,"div",16),R()(),te(16,cwe,21,18,"div",17),R()}if(2&n){const e=oe();Lt("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),_(2),W("ngIf",!e.isArchive),_(1),W("ngIf",e.isArchive),_(1),W("ngIf",!e.isArchive),_(4),ie(" ",J(9,12,e.freeBet.freeBetsBetAmount)," "),_(4),ie(" ",J(13,14,e.freeBet.freeBetsWinSum)," "),_(3),Lt("rotate",e.isDisplayedDetails),_(1),W("ngIf",e.isDisplayedDetails)}}let dwe=(()=>{class n{constructor(e,i,r,o){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=o,this.itemType=void 0,this.isArchive=!1,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)(Z($r),Z(Iu),Z(Ir),Z(Yi))},n.\u0275cmp=_t({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],[1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],[1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,owe,7,5,"div",1),te(2,uwe,17,16,"div",2),R()),2&e&&(W("ngSwitch",i.itemType),_(1),W("ngSwitchCase","playWithCash"))},directives:[Ko,Ts,du,zt],pipes:[Jt,zn,al],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.08ed122e8624a251.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function hwe(n,t){1&n&&ye(0,"app-free-bet-management-item",11),2&n&&W("itemType","playWithCash")}function fwe(n,t){if(1&n){const e=Ot();I(0,"div",12)(1,"div"),Y(2),K(3,"transloco"),R(),I(4,"div",13),Be("click",function(){return Tt(e),oe().onClickArchiveHistory()}),ye(5,"div",14),I(6,"div"),Y(7),K(8,"transloco"),R()()()}2&n&&(_(2),ie(" ",J(3,2,"shared.modals.free-bets-management.active free bets")," "),_(5),dt(J(8,4,"shared.archive")))}function pwe(n,t){if(1&n){const e=Ot();I(0,"div",15)(1,"div"),Y(2),K(3,"transloco"),R(),I(4,"div",13),Be("click",function(){return Tt(e),oe().isArchive=!1}),ye(5,"div",16),I(6,"div"),Y(7),K(8,"transloco"),R()()()}if(2&n){const e=oe();_(2),dt(J(3,4,"shared.archive")),_(2),Lt("disabled",!e.loaded),_(3),dt(J(8,6,"shared.back"))}}function gwe(n,t){if(1&n&&(I(0,"div",25),ye(1,"app-free-bet-management-item",26),R()),2&n){const e=t.$implicit,i=oe(2);_(1),W("isArchive",i.isArchive)("freeBet",e)}}function _we(n,t){if(1&n){const e=Ot();I(0,"div",27)(1,"div",28),Be("click",function(){Tt(e);const r=oe(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),ye(2,"div",29),I(3,"span",30),Y(4),K(5,"transloco"),R()()()}2&n&&(_(4),dt(J(5,1,"shared.load_more")))}function mwe(n,t){1&n&&(I(0,"div"),ye(1,"app-loader",31),R())}function vwe(n,t){if(1&n&&(I(0,"div",17)(1,"div",18)(2,"div",19),Y(3),K(4,"transloco"),R(),I(5,"div",20),Y(6),K(7,"transloco"),R(),I(8,"div",21),Y(9),K(10,"transloco"),R()(),I(11,"div",22),te(12,gwe,2,2,"div",23),te(13,_we,6,3,"div",24),te(14,mwe,2,0,"div",9),R()()),2&n){const e=oe();_(2),Lt("archive",e.isArchive),_(1),ie(" ",J(4,10,"shared.modals.free-bets-management.quantity")," "),_(3),Hn(" ",J(7,12,"shared.bet")," ",e.gameConfig.currency," "),_(3),Hn(" ",J(10,14,"shared.win")," ",e.gameConfig.currency," "),_(3),W("ngForOf",e.freeBetsList),_(1),W("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),_(1),W("ngIf",e.isArchive&&!e.loaded)}}function ywe(n,t){1&n&&(I(0,"div"),ye(1,"app-loader"),R())}function bwe(n,t){1&n&&(I(0,"div",35),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.modals.free-bets-management.no active free bets")," "))}function Swe(n,t){1&n&&(I(0,"div",35),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.modals.free-bets-management.nothing yet")," "))}function Cwe(n,t){if(1&n&&(I(0,"div",32),ye(1,"div",33),te(2,bwe,3,3,"div",34),te(3,Swe,3,3,"div",34),R()),2&n){const e=oe();_(2),W("ngIf",!e.isArchive),_(1),W("ngIf",e.isArchive)}}let yp=class{constructor(t,e,i,r){this.gameConfig=t,this.activeModal=e,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1,this.freeBetsArchiveList=[]}ngOnInit(){this.connector.response(xn.FreeBetsArchive).pipe(Gt(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList.length>0)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(lr.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};yp.\u0275fac=function(t){return new(t||yp)(Z(Yn),Z(Ir),Z(Iu),Z(qi))},yp.\u0275cmp=_t({type:yp,selectors:[["app-free-bets-management"]],decls:16,vars:9,consts:[[1,"title","modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],[1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],[1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text",4,"ngIf"],[1,"none-text"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return e.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",2)(8,"div",3)(9,"div",4),te(10,hwe,1,1,"app-free-bet-management-item",5),te(11,fwe,9,6,"div",6),te(12,pwe,9,8,"div",7),te(13,vwe,15,16,"div",8),te(14,ywe,2,0,"div",9),te(15,Cwe,4,2,"div",10),R()()()),2&t&&(_(2),dt(J(3,7,"shared.modals.free-bets-management.title")),_(8),W("ngIf",!e.isArchive),_(1),W("ngIf",!e.isArchive),_(1),W("ngIf",e.isArchive),_(1),W("ngIf",e.freeBetsCount>0),_(1),W("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),_(1),W("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[zt,dwe,Kn,Gc],pipes:[Jt],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.1e243c2f0def2ce9.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.4631ab127c326520.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.50c61e3b304f4ab0.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.1b7512b42d0c37e1.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.370ad567de19b0d6.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),yp=qe([si()],yp);var Ca=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es",n.TH="th"}(Ca||(Ca={})),Ca))();const Ez=n=>{const t={};return t[Ca.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1&rel=0",t[Ca.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1&rel=0",t[Ca.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1&rel=0",t[Ca.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1&rel=0",t[Ca.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1&rel=0",t[Ca.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1&rel=0",t[Ca.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1&rel=0",t[Ca.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1&rel=0",t[Ca.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1&rel=0",t[Ca.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1&rel=0",t[Ca.TH]="https://www.youtube.com/embed/VleLfaBs2JQ?playsinline=1&rel=0",t.hasOwnProperty(n)?t[n]:t[Ca.EN]};let Tz=(()=>{class n{constructor(){this.clonedBetControlNodeSubject=new JA(1),this.clonedBetControlNode$=this.clonedBetControlNodeSubject.asObservable()}sendClonedBetControlNode(e){this.clonedBetControlNodeSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ewe=["betControlTarget"];let bp=class{constructor(t,e,i){this.activeModal=t,this.rules=e,this.cd=i}ngOnInit(){this.rules.clonedBetControlNode$.pipe(Gt(this)).subscribe(t=>this.addClonedBetControlNode(t))}addClonedBetControlNode(t){this.betControlTarget&&(this.betControlTarget.nativeElement.appendChild(t),this.cd.markForCheck())}};function Twe(n,t){if(1&n&&(I(0,"div",30)(1,"div",31),ye(2,"iframe",32),R()()),2&n){const e=oe();_(2),W("src",e.videoURL,D1)}}bp.\u0275fac=function(t){return new(t||bp)(Z(Ir),Z(Tz),Z(Rn))},bp.\u0275cmp=_t({type:bp,selectors:[["app-rules-bet-control"]],viewQuery:function(t,e){if(1&t&&fo(Ewe,7),2&t){let i;ii(i=ri())&&(e.betControlTarget=i.first)}},decls:2,vars:0,consts:[["betControlTarget",""]],template:function(t,e){1&t&&ye(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),bp=qe([si()],bp);const wwe=function(n){return{multiplierFormula:n}};function Mwe(n,t){if(1&n&&(ye(0,"li",33),K(1,"transloco")),2&n){const e=oe();W("innerHTML",nn(1,1,"shared.modals.rules.game-rules.details.multiplierFormula",Ii(4,wwe,e.multiplierFormulaHtml)),A1)}}function Owe(n,t){1&n&&(I(0,"li",21),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.modals.rules.game-rules.game-functions.bet-cashout.point2")," "))}function Pwe(n,t){1&n&&(vt(0),ye(1,"br"),Y(2),K(3,"transloco"),ye(4,"br"),Y(5),K(6,"transloco"),ye(7,"br"),Y(8),K(9,"transloco"),ye(10,"br"),Y(11),K(12,"transloco"),yt()),2&n&&(_(2),ie(" ",J(3,4,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-1")," "),_(3),ie(" ",J(6,6,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-2")," "),_(3),ie(" ",J(9,8,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-3")," "),_(3),ie(" ",J(12,10,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-4")," "))}function xwe(n,t){if(1&n&&(I(0,"ul",20)(1,"li",21),Y(2),K(3,"transloco"),R(),I(4,"li",21),Y(5),K(6,"transloco"),R(),I(7,"li",21),Y(8),K(9,"transloco"),R(),I(10,"li",21),Y(11),K(12,"transloco"),R(),I(13,"li",21),Y(14),K(15,"transloco"),R(),I(16,"li",21),Y(17),K(18,"transloco"),R(),I(19,"li",21),Y(20),K(21,"transloco"),R(),I(22,"li",21),Y(23),K(24,"transloco"),R()()),2&n){const e=oe(2);_(2),ie(" ",J(3,8,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),_(3),ie(" ",J(6,10,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1")," "),_(3),ie(" ",J(9,12,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point8")," "),_(3),ie(" ",J(12,14,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2")," "),_(3),ie(" ",J(15,16,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3")," "),_(3),ie(" ",J(18,18,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4")," "),_(3),ie(" ",J(21,20,e.gameConfig.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," "),_(3),ie(" ",J(24,22,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point9")," ")}}function Iwe(n,t){if(1&n&&(I(0,"ul",20)(1,"li",21),Y(2),K(3,"transloco"),R(),I(4,"li",21),Y(5),K(6,"transloco"),R(),I(7,"li",21),Y(8),K(9,"transloco"),R()()),2&n){const e=oe(2);_(2),ie(" ",J(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),_(3),ie(" ",J(6,5,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6")," "),_(3),ie(" ",J(9,7,e.gameConfig.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function Awe(n,t){if(1&n&&(I(0,"div",25)(1,"div",19),Y(2),K(3,"transloco"),R(),te(4,xwe,25,24,"ul",34),te(5,Iwe,10,9,"ul",34),R()),2&n){const e=oe();_(2),ie(" ",J(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title")," "),_(2),W("ngIf",void 0!==e.gameConfig.autoBetOptions),_(1),W("ngIf",void 0===e.gameConfig.autoBetOptions)}}function Dwe(n,t){1&n&&(I(0,"li",21),Y(1),K(2,"transloco"),ye(3,"span",35),Y(4),K(5,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,2,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2-1")," "),_(3),ie(" ",J(5,4,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2-2")," "))}function Rwe(n,t){1&n&&(I(0,"div",25)(1,"div",19),Y(2),K(3,"transloco"),R(),I(4,"ul",20)(5,"li",21),Y(6),K(7,"transloco"),R()()()),2&n&&(_(2),ie(" ",J(3,2,"shared.modals.rules.game-rules.game-functions.in-game-chat.title")," "),_(4),ie(" ",J(7,4,"shared.modals.rules.game-rules.game-functions.in-game-chat.point1")," "))}function Nwe(n,t){1&n&&(I(0,"div",25)(1,"div",36),Y(2),K(3,"transloco"),R(),I(4,"ul",20)(5,"li",21),Y(6),K(7,"transloco"),R()()()),2&n&&(_(2),ie(" ",J(3,2,"shared.free_bets")," "),_(4),ie(" ",J(7,4,"shared.modals.rules.game-rules.game-functions.free-bets.point1")," "))}function kwe(n,t){1&n&&(I(0,"ul",20)(1,"li",21),Y(2),K(3,"transloco"),R()()),2&n&&(_(2),ie(" ",J(3,1,"shared.modals.rules.game-rules.game-functions.rain-feature.point1")," "))}function Lwe(n,t){1&n&&(I(0,"ul",20)(1,"li",21),Y(2),K(3,"transloco"),R()()),2&n&&(_(2),ie(" ",J(3,1,"shared.modals.rules.game-rules.game-functions.rain-feature.point2")," "))}function Fwe(n,t){if(1&n&&(I(0,"div",25)(1,"div",19),Y(2),K(3,"transloco"),R(),te(4,kwe,4,3,"ul",34),te(5,Lwe,4,3,"ul",34),R()),2&n){const e=oe();_(2),ie(" ",J(3,3,"shared.modals.rules.game-rules.game-functions.rain-feature.title")," "),_(2),W("ngIf",e.gameConfig.chat.promo.isEnabled),_(1),W("ngIf",e.gameConfig.chat.rain.isEnabled)}}const Bwe=function(n,t){return{minBankValue:n,currency:t}};function Uwe(n,t){if(1&n&&(I(0,"div",25)(1,"div",19),Y(2),K(3,"transloco"),R(),I(4,"ul",20)(5,"li",21),Y(6),K(7,"transloco"),R()()()),2&n){const e=oe();_(2),ie(" ",J(3,2,"shared.modals.rules.game-rules.game-functions.minimum_bet_value.title")," "),_(4),ie(" ",nn(7,4,"shared.modals.rules.game-rules.game-functions.minimum_bet_value.point1",sl(7,Bwe,e.minBankValue,e.gameConfig.currency))," ")}}const jwe=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function Gwe(n,t){if(1&n&&(I(0,"div",25)(1,"div",19),Y(2),K(3,"transloco"),R(),I(4,"ul",20)(5,"li",21),Y(6),K(7,"transloco"),R()()()),2&n){const e=oe();_(2),ie(" ",J(3,2,"shared.modals.rules.game-rules.game-functions.return-to-player.title")," "),_(4),ie(" ",nn(7,4,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",sl(7,jwe,e.gameConfig.returnToPlayer,100-e.gameConfig.returnToPlayer))," ")}}function Hwe(n,t){1&n&&(I(0,"div",25)(1,"div",19),Y(2),K(3,"transloco"),R(),I(4,"ul",20)(5,"li",21),Y(6),K(7,"transloco"),R(),I(8,"li",21),Y(9),K(10,"transloco"),R()()()),2&n&&(_(2),ie(" ",J(3,3,"shared.modals.rules.game-rules.game-functions.multi-rooms.title")," "),_(4),ie(" ",J(7,5,"shared.modals.rules.game-rules.game-functions.multi-rooms.point1")," "),_(3),ie(" ",J(10,7,"shared.modals.rules.game-rules.game-functions.multi-rooms.point2")," "))}function Vwe(n,t){1&n&&(I(0,"li",21),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.modals.rules.game-rules.game-functions.other.unfinished game")," "))}const zwe=function(n,t){return{maxWin:n,currency:t}};function Wwe(n,t){if(1&n&&(I(0,"li",21),Y(1),K(2,"transloco"),K(3,"currencyPrecision"),R()),2&n){const e=oe();_(1),ie(" ",nn(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",sl(6,zwe,J(3,4,e.gameConfig.maxUserWin),e.gameConfig.currency))," ")}}const Ywe=function(n){return{maxMultiplier:n}};function $we(n,t){if(1&n&&(I(0,"li",21),Y(1),K(2,"transloco"),K(3,"multiplierPrecision"),R()),2&n){const e=oe();_(1),ie(" ",nn(2,1,"shared.modals.rules.game-rules.game-functions.other.max_user_multiplier",Ii(6,Ywe,J(3,4,e.gameConfig.maxUserMultiplier)))," ")}}const Xwe=function(n){return{min:n}};function Kwe(n,t){if(1&n&&(I(0,"li",21),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),ie(" ",nn(2,1,"shared.modals.rules.game-rules.game-functions.other.inactivityTime",Ii(4,Xwe,e.gameConfig.inactivityTimeForDisconnect))," ")}}function qwe(n,t){if(1&n&&(I(0,"div",37)(1,"div")(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"span"),Y(6),R()()()),2&n){const e=oe();_(3),ie(" ",J(4,2,"shared.modals.rules.game-rules.game-functions.version")," "),_(3),dt(e.gameConfig.gameVersion)}}const Jwe=function(n,t){return{"pt-5":n,"pt-2":t}};let Zwe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d){this.activeModal=e,this.app=i,this.connector=r,this.modal=o,this.urlParams=s,this.sanitizer=a,this.currencyPrecisionPipe=l,this.multiServer=c,this.gameConfig=u,this.chatFutureService=d,this.videoURL=void 0,this.minBankValue=this.currencyPrecisionPipe.transform(Wi.mul(this.gameConfig.minBet,1.01).toNumber()),this.gameRulesAutoCashOutType=O0,this.multiplierFormulaHtml="\u230a100 \xb7 e<sup>0.000083 \xb7 {ms}</sup>\u230b / 100"}get isEmbeddedVideoHidden(){var e;return null!==(e=this.gameConfig.isEmbeddedVideoHidden)&&void 0!==e&&e}ngOnInit(){const e=Ez(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(ei.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(Yi),Z(qi),Z(va),Z(jl),Z(jP),Z(zn),Z(mm),Z(Yn),Z(pl))},n.\u0275cmp=_t({type:n,selectors:[["app-rules"]],features:[ni([zn])],decls:182,vars:153,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"text-grey"],["href","#",3,"click"],[1,"mt-4","mb-2","text-uppercase"],["class","youtube",4,"ngIf"],[1,"steps-wrapper"],[1,"pl-2",3,"ngClass"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],[1,"step-text","pt-2"],[1,"step","step-2"],[1,"step-text"],[1,"step","step-3"],[1,"mt-3","text-grey"],[1,"rules-list","pt-3"],[1,"rules-list-title"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",3,"innerHTML",4,"ngIf"],[1,"icon","fair-i"],[1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item",4,"ngIf"],[4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"list-group-item",3,"innerHTML"],["class","list-group",4,"ngIf"],[1,"icon","chat-i"],[1,"rules-list-title","text-capitalize"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R(),I(4,"button",2),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",3)(8,"p",4),Y(9),K(10,"transloco"),R(),I(11,"a",5),Be("click",function(o){return i.onPFModalOpen(o)}),Y(12),K(13,"transloco"),R(),I(14,"h6",6),Y(15),K(16,"transloco"),R(),te(17,Twe,3,1,"div",7),I(18,"div",8)(19,"h6",9),Y(20),K(21,"transloco"),R(),I(22,"div",10)(23,"div",11)(24,"h3"),Y(25,"01"),R(),I(26,"div",12),ye(27,"app-rules-bet-control"),R(),I(28,"div",13)(29,"span",1),Y(30),K(31,"transloco"),R(),Y(32),K(33,"transloco"),R()(),I(34,"div",14)(35,"h3"),Y(36,"02"),R(),ye(37,"div",12),I(38,"div",15)(39,"span",1),Y(40),K(41,"transloco"),R(),Y(42),K(43,"transloco"),R()(),I(44,"div",16)(45,"h3"),Y(46,"03"),R(),ye(47,"div",12),I(48,"div",15)(49,"span",1),Y(50),K(51,"transloco"),R(),Y(52),K(53,"transloco"),R()()(),I(54,"p",17),Y(55),K(56,"transloco"),R(),I(57,"div",18)(58,"div",19),Y(59),K(60,"transloco"),R(),I(61,"ul",20)(62,"li",21),Y(63),K(64,"transloco"),R(),te(65,Mwe,2,6,"li",22),I(66,"li",21),Y(67),K(68,"transloco"),R(),I(69,"li",21),Y(70),K(71,"transloco"),ye(72,"span",23),Y(73),K(74,"transloco"),R()()()(),I(75,"h6",24),Y(76),K(77,"transloco"),R(),I(78,"div",25)(79,"div",19),Y(80),K(81,"transloco"),R(),I(82,"ul",20)(83,"li",21),Y(84),K(85,"transloco"),R(),vt(86),I(87,"li",21),Y(88),K(89,"transloco"),R(),I(90,"li",21),Y(91),K(92,"transloco"),R(),yt(),te(93,Owe,3,3,"li",26),I(94,"li",21),Y(95),K(96,"transloco"),R(),I(97,"li",21),Y(98),K(99,"transloco"),te(100,Pwe,13,12,"ng-container",27),R()()(),te(101,Awe,6,5,"div",28),I(102,"div",25)(103,"div",19),Y(104),K(105,"transloco"),R(),I(106,"ul",20)(107,"li",21),Y(108),K(109,"transloco"),R(),I(110,"li",21),Y(111),K(112,"transloco"),R(),te(113,Dwe,6,6,"li",26),R()(),te(114,Rwe,8,6,"div",28),te(115,Nwe,8,6,"div",28),te(116,Fwe,6,5,"div",28),I(117,"div",25)(118,"div",19),Y(119),K(120,"transloco"),R(),I(121,"ul",20)(122,"li",21),Y(123),K(124,"transloco"),I(125,"a",5),Be("click",function(o){return i.onPFModalOpen(o)}),Y(126),K(127,"transloco"),R()(),I(128,"li",21),Y(129),K(130,"transloco"),R(),I(131,"li",21),Y(132),K(133,"transloco"),ye(134,"span",23),Y(135),K(136,"transloco"),R()()(),te(137,Uwe,8,10,"div",28),te(138,Gwe,8,10,"div",28),I(139,"div",25)(140,"div",19),Y(141),K(142,"transloco"),R(),I(143,"ul",20)(144,"li",21),Y(145),K(146,"transloco"),R(),I(147,"li",21),Y(148),K(149,"transloco"),R(),I(150,"li",21),Y(151),K(152,"transloco"),R(),I(153,"li",21),Y(154),K(155,"transloco"),R(),I(156,"li",21),Y(157),K(158,"transloco"),R(),I(159,"li",21),Y(160),K(161,"transloco"),R(),I(162,"li",21),Y(163),K(164,"transloco"),R()()(),te(165,Hwe,11,9,"div",28),I(166,"div",25)(167,"div",19),Y(168),K(169,"transloco"),R(),I(170,"ul",20)(171,"li",21),Y(172),K(173,"transloco"),R(),I(174,"li",21),Y(175),K(176,"transloco"),R(),te(177,Vwe,3,3,"li",26),te(178,Wwe,4,9,"li",26),te(179,$we,4,8,"li",26),te(180,Kwe,3,6,"li",26),R()(),te(181,qwe,7,4,"div",29),R()),2&e&&(_(2),dt(J(3,62,"shared.game_rules")),_(7),ie(" ",J(10,64,"shared.modals.rules.game-rules.main-text")," "),_(3),ie(" ",J(13,66,"shared.modals.rules.game-rules.link")," "),_(3),ie(" ",J(16,68,"shared.how_to_play")," "),_(2),W("ngIf",!i.isEmbeddedVideoHidden),_(2),W("ngClass",sl(150,Jwe,!i.isEmbeddedVideoHidden,i.isEmbeddedVideoHidden)),_(1),ie(" ",J(21,70,"shared.modals.rules.game-rules.steps.title")," "),_(10),dt(J(31,72,"shared.bet")),_(2),ie(" ",J(33,74,"shared.modals.rules.game-rules.steps.first-step")," "),_(8),dt(J(41,76,"shared.watch")),_(2),ie(" ",J(43,78,"shared.modals.rules.game-rules.steps.second-step")," "),_(8),ie(" ",J(51,80,"shared.cash_out")," "),_(2),ie(" ",J(53,82,"shared.modals.rules.game-rules.steps.third-step")," "),_(3),ie(" ",J(56,84,"shared.modals.rules.game-rules.steps.text")," "),_(4),ie(" ",J(60,86,"shared.modals.rules.game-rules.details.title")," "),_(4),ie(" ",J(64,88,"shared.modals.rules.game-rules.details.point1")," "),_(2),W("ngIf",i.gameConfig.isGameRulesHaveMultiplierFormula),_(2),ie(" ",J(68,90,"shared.modals.rules.game-rules.details.point2")," "),_(3),ie(" ",J(71,92,"shared.modals.rules.game-rules.details.point3-1")," "),_(3),ie(" ",J(74,94,"shared.modals.rules.game-rules.details.point3-2")," "),_(3),ie(" ",J(77,96,"shared.modals.rules.game-rules.game-functions.title")," "),_(4),ie(" ",J(81,98,"shared.modals.rules.game-rules.game-functions.bet-cashout.title")," "),_(4),ie(" ",J(85,100,"shared.modals.rules.game-rules.game-functions.bet-cashout.point1")," "),_(4),ie(" ",J(89,102,"shared.modals.rules.game-rules.game-functions.bet-cashout.point5")," "),_(3),ie(" ",J(92,104,"shared.modals.rules.game-rules.game-functions.bet-cashout.point6")," "),_(2),W("ngIf",i.gameConfig.isMultipleBetsEnabled),_(2),ie(" ",J(96,106,"shared.modals.rules.game-rules.game-functions.bet-cashout.point3")," "),_(3),ie(" ",J(99,108,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4")," "),_(2),W("ngIf",i.gameConfig.showCrashExampleInRules),_(1),W("ngIf",i.gameConfig.isAutoBetFeatureEnabled),_(3),ie(" ",J(105,110,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.title")," "),_(4),ie(" ",J(109,112,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1")," "),_(3),ie(" ",J(112,114,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3")," "),_(2),W("ngIf",i.chatFutureService.isChatEnabled),_(1),W("ngIf",i.gameConfig.chat.isEnabled),_(1),W("ngIf",i.app.isFreeBetsEnabled),_(1),W("ngIf",i.gameConfig.chat.rain.isEnabled||i.gameConfig.chat.promo.isEnabled),_(3),ie(" ",J(120,116,"shared.modals.rules.game-rules.game-functions.randomization.title")," "),_(4),ie(" ",J(124,118,"shared.modals.rules.game-rules.game-functions.randomization.point1")," "),_(3),ie(" ",J(127,120,"shared.modals.rules.game-rules.link")," "),_(3),ie(" ",J(130,122,"shared.modals.rules.game-rules.game-functions.randomization.point2")," "),_(3),ie(" ",J(133,124,"shared.modals.rules.game-rules.game-functions.randomization.point3-1")," "),_(3),ie(" ",J(136,126,"shared.modals.rules.game-rules.game-functions.randomization.point3-2")," "),_(2),W("ngIf",i.gameConfig.isGameRulesHaveMinimumBankValue),_(1),W("ngIf",i.gameConfig.returnToPlayer>0),_(3),ie(" ",J(142,128,"shared.modals.rules.game-rules.game-functions.game-menu.title")," "),_(4),ie(" ",J(146,130,"shared.modals.rules.game-rules.game-functions.game-menu.point1")," "),_(3),ie(" ",J(149,132,"shared.modals.rules.game-rules.game-functions.game-menu.point2")," "),_(3),ie(" ",J(152,134,"shared.modals.rules.game-rules.game-functions.game-menu.point3")," "),_(3),ie(" ",J(155,136,"shared.modals.rules.game-rules.game-functions.game-menu.point4")," "),_(3),ie(" ",J(158,138,"shared.modals.rules.game-rules.game-functions.game-menu.point5")," "),_(3),ie(" ",J(161,140,"shared.modals.rules.game-rules.game-functions.game-menu.point6")," "),_(3),ie(" ",J(164,142,"shared.modals.rules.game-rules.game-functions.game-menu.point7")," "),_(2),W("ngIf",i.multiServer.isMultiServer&&i.gameConfig.isPodSelectAvailable),_(3),ie(" ",J(169,144,"shared.modals.rules.game-rules.game-functions.other.title")," "),_(4),ie(" ",J(173,146,"shared.modals.rules.game-rules.game-functions.other.point1")," "),_(3),ie(" ",J(176,148,"shared.modals.rules.game-rules.game-functions.other.point2")," "),_(2),W("ngIf",i.gameConfig.isRuleUnfinishedGame),_(1),W("ngIf",i.gameConfig.isGameRulesHaveMaxWin),_(1),W("ngIf",i.gameConfig.maxUserMultiplier),_(1),W("ngIf",i.gameConfig.inactivityTimeForDisconnect),_(1),W("ngIf",i.gameConfig.gameVersion))},directives:[zt,Xo,bp],pipes:[Jt,zn,Ws],styles:[".modal-body[_ngcontent-%COMP%]{padding:16px 12px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon[_ngcontent-%COMP%]{display:inline-block;height:16px;min-width:16px;transform:translateY(2px)}.fair-i[_ngcontent-%COMP%]{background:url(shield-icon.575a242f3c9fb8ed.svg) no-repeat center center/contain;scale:1.9}.chat-i[_ngcontent-%COMP%]{background:url(message-icon.0fa68cf3ce1c8a15.svg) no-repeat center center/contain;scale:1.6}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:320px;min-height:160px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%;overflow:hidden;pointer-events:none}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.e4c4ded206c4c071.png) no-repeat center center/cover}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.e6c43f8198532fff.png) no-repeat center center/cover}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"],changeDetection:0}),n})();function Qwe(n,t){if(1&n&&(I(0,"div",10)(1,"div",11),ye(2,"iframe",12),R()()),2&n){const e=oe();_(2),W("src",e.videoURL,D1)}}let eMe=(()=>{class n{constructor(e,i,r,o,s){this.activeModal=e,this.sanitizer=i,this.modal=r,this.urlParams=o,this.gameConfig=s,this.videoURL=void 0}get isEmbeddedVideoHidden(){var e;return null!==(e=this.gameConfig.isEmbeddedVideoHidden)&&void 0!==e&&e}ngOnInit(){const e=Ez(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(ei.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(jP),Z(va),Z(jl),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-quick-help-modal"]],decls:31,vars:16,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","youtube",4,"ngIf"],[1,"step"],[1,"bullet","bullet-1"],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],[1,"btn","btn-link","btn-sm","mx-auto",3,"click"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",2),te(8,Qwe,3,1,"div",3),I(9,"div",4)(10,"div",5),Y(11,"01"),R(),I(12,"p"),Y(13),K(14,"transloco"),R()(),I(15,"div",4)(16,"div",6),Y(17,"02"),R(),I(18,"p"),Y(19),K(20,"transloco"),R()(),I(21,"div",4)(22,"div",7),Y(23,"03"),R(),I(24,"p"),Y(25),K(26,"transloco"),R()()(),I(27,"div",8)(28,"button",9),Be("click",function(){return i.onShowRules()}),Y(29),K(30,"transloco"),R()()),2&e&&(_(2),ie("",J(3,6,"shared.how_to_play"),"?"),_(6),W("ngIf",!i.isEmbeddedVideoHidden),_(5),dt(J(14,8,"shared.modals.quick-help.step1")),_(6),dt(J(20,10,"shared.modals.quick-help.step2")),_(6),dt(J(26,12,"shared.modals.quick-help.step3")),_(4),ie(" ",J(30,14,"shared.modals.quick-help.details")," "))},directives:[zt],pipes:[Jt],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.ea80a7e88f9b36d2.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.a17abd692baf4849.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var H0=(()=>(function(n){n.RealityCheck="reality_check"}(H0||(H0={})),H0))(),Sp=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(Sp||(Sp={})),Sp))();function tMe(n,t){1&n&&(I(0,"p",7),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.modals.notification.alderney_message")," "))}function nMe(n,t){1&n&&ye(0,"p",8),2&n&&W("innerHTML",oe().params.message,A1)}function iMe(n,t){if(1&n){const e=Ot();I(0,"p",9)(1,"button",10),Be("click",function(){return Tt(e),oe().onOpenAccountHistory()}),Y(2),K(3,"transloco"),R()()}2&n&&(_(2),ie(" ",J(3,1,"shared.modals.notification.account_history")," "))}function rMe(n,t){if(1&n){const e=Ot();I(0,"div",11)(1,"button",12),Be("click",function(){Tt(e);const r=oe();return r.onRealityCheck(r.realityCheckAction.Continue)}),Y(2),K(3,"transloco"),R(),I(4,"button",13),Be("click",function(){Tt(e);const r=oe();return r.onRealityCheck(r.realityCheckAction.Stop)}),Y(5),K(6,"transloco"),R()()}2&n&&(_(2),ie(" ",J(3,2,"shared.continue")," "),_(3),ie(" ",J(6,4,"shared.stop")," "))}function oMe(n,t){if(1&n){const e=Ot();I(0,"div",11)(1,"button",14),Be("click",function(){return Tt(e),oe().activeModal.close()}),Y(2),K(3,"transloco"),R()()}if(2&n){const e=oe();_(1),W("disabled",e.isAcknowledgeDisabled),_(1),ie(" ",J(3,2,"shared.acknowledge")," ")}}let Cp=class{constructor(t,e,i,r,o,s,a,l){this.activeModal=t,this.connector=e,this.modal=i,this.frontEndProxyService=r,this.betControls=o,this.ifc=s,this.urlParams=a,this.gameConfig=l,this.realityCheckAction=Sp,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&bu(5e3).pipe(Gt(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===pd.RealityCheck}get isInternalRealityCheck(){return this.params.type===pd.InternalRealityCheck}get isAlderney(){return this.params.type===pd.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(lr.NotificationCallback,{notificationType:H0.RealityCheck,action:t}),t===Sp.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(Ba.RealityCheck),this.urlParams.returnUrl)){if(this.gameConfig.backToHomeActionType===sp.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.gameConfig.accountHistoryActionType===op.IfcEvent?this.ifc.send(vi.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(ei.myBetsHistory)}};Cp.\u0275fac=function(t){return new(t||Cp)(Z(Ir),Z(qi),Z(va),Z(YE),Z(Au),Z(zs),Z(jl),Z(Yn))},Cp.\u0275cmp=_t({type:Cp,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4",4,"ngIf"],["class","text-center p-4",3,"innerHTML",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],[1,"text-center","p-4"],[1,"text-center","p-4",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R()(),I(4,"div",2),te(5,tMe,3,3,"p",3),te(6,nMe,1,1,"p",4),te(7,iMe,4,3,"p",5),R(),te(8,rMe,7,6,"div",6),te(9,oMe,4,4,"div",6)),2&t&&(_(2),dt(J(3,6,"shared.notification")),_(3),W("ngIf",e.isAlderney),_(1),W("ngIf",e.isRCButtonsVisible),_(1),W("ngIf",e.isRCButtonsVisible),_(1),W("ngIf",e.isRCButtonsVisible),_(1),W("ngIf",e.isAlderney))},directives:[zt],pipes:[Jt],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),Cp=qe([si()],Cp);let V0=(()=>{class n{constructor(){this.isMessageSendingBlockedSubject=new Jn(!1),this.isMessageSendingBlocked$=this.isMessageSendingBlockedSubject.asObservable()}set isMessageSendingBlocked(e){this.isMessageSendingBlockedSubject.next(e)}get isMessageSendingBlocked(){return this.isMessageSendingBlockedSubject.value}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ep=(()=>(function(n){n.Player="PLAYER",n.Moderator="MODERATOR",n.Bot="BOT",n.Server="SERVER"}(Ep||(Ep={})),Ep))(),$l=(()=>(function(n){n.Ban="BAN",n.ShareBet="SHARE_BET",n.Rain="RAIN",n.Gif="GIF",n.Text="TEXT",n.Restricted="RESTRICTED"}($l||($l={})),$l))(),hi=(()=>(function(n){n.Init="/user/queue/init",n.BalanceUpdate="/user/queue/balance.update",n.ChallengesInit="/user/queue/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/user/queue/challenges.leaderboard",n.TicketsArchive="/user/queue/challenges.tickets.archive",n.ChallengesAnnounce="/user/queue/challenges.announce",n.ChallengeStatus="/user/queue/challenges.status",n.PlayerStatus="/user/queue/challenges.player.status",n.Prize="/user/queue/challenges.prize.left",n.Progress="/user/queue/challenges.progress",n.JoinCount="/user/queue/challenges.join.count",n.NewTicket="/user/queue/challenges.new.ticket",n.TicketsStatusUpdate="/user/queue/challenges.tickets.status.update",n.ChatInit="/user/queue/chat.init",n.GifsSearch="/user/queue/chat.gifs.search",n.MessageSend="/user/queue/chat.message.send",n.RainClaim="/user/queue/chat.rain.claim",n.MessageLike="/user/queue/chat.message.like",n.MessageUnlike="/user/queue/chat.message.unlike",n.MessageAdd="/user/queue/chat.message.add",n.MessageDelete="/user/queue/chat.message.delete",n.PlayersOnline="/user/queue/chat.players.online",n.MessageEdit="/user/queue/chat.message.edit"}(hi||(hi={})),hi))(),ds=(()=>(function(n){n.Init="/app/init",n.ChallengeInit="/app/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/app/challenges.leaderboard",n.TicketsArchive="/app/challenges.tickets.archive",n.ChatInit="/app/chat.init",n.MessageSend="/app/chat.message.send",n.MessageLike="/app/chat.message.like",n.MessageUnlike="/app/chat.message.unlike",n.GifsSearch="/app/chat.gifs.search",n.RainClaim="/app/chat.rain.claim"}(ds||(ds={})),ds))();const wz=["Chat access is restricted for players with balance below {amount} {currency}.","Chat access is restricted for players with wager amount over the last {duration} days below {amount} {currency}.","Chat access is restricted for players whose account has been active for less than {duration} days.","Message blocked for breaking chat rules. Further violations may result in a ban.","You have been banned from chat. Reason: {reason}.","You have been banned from chat until {date}. Reason: {reason}."];function Mz(n,t,e,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function Oz(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(l){Mz(o,i,r,s,a,"next",l)}function a(l){Mz(o,i,r,s,a,"throw",l)}s(void 0)})}}const z0_LF="\n",z0_NULL="\0";class wh{get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}constructor(t){const{command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=t;this.command=e,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(t,e){const i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const a=r(o[0]);let l=r(o[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(l=wh.hdrValueUnEscape(l)),i[a]=l}return new wh({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?wh.toUnit8Array(t,this._binaryBody).buffer:t+this._body+z0_NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${wh.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(z0_LF)+z0_LF+z0_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const i=(new TextEncoder).encode(t),r=new Uint8Array([0]),o=new Uint8Array(i.length+e.length+r.length);return o.set(i),o.set(e,i.length),o.set(r,i.length+e.length),o}static marshall(t){return new wh(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class cMe{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(i="string"==typeof t?this._encoder.encode(t):new Uint8Array(t),e&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(t){if(0!==t&&13!==t){if(10===t)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(13!==t){if(10===t)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_collectHeaders(t){if(13!==t){if(10===t)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t){if(10===t)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(e=>"content-length"===e[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var yd=(()=>(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(yd||(yd={})),yd))(),Xl=(()=>(function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(Xl||(Xl={})),Xl))(),W0=(()=>(function(n){n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL"}(W0||(W0={})),W0))(),Pm=(()=>(function(n){n.Interval="interval",n.Worker="worker"}(Pm||(Pm={})),Pm))();class uMe{constructor(t,e=Pm.Interval,i){this._interval=t,this._strategy=e,this._debug=i,this._workerScript=`\n    var startTime = Date.now();\n    setInterval(function() {\n        self.postMessage(Date.now() - startTime);\n    }, ${this._interval});\n  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return"undefined"!=typeof Worker&&this._strategy===Pm.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=e=>t(e.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const e=Date.now();this._timer=setInterval(()=>{t(Date.now()-e)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Ea{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Ea.V1_0="1.0",Ea.V1_1="1.1",Ea.V1_2="1.2",Ea.default=new Ea([Ea.V1_2,Ea.V1_1,Ea.V1_0]);class dMe{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Ea.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const o=r.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===Ea.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,o,u),a.nack=(u={})=>l.nack(c,o,u),s(a)},RECEIPT:r=>{const o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}start(){const t=new cMe(e=>{const i=wh.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==Ea.V1_1&&t.version!==Ea.V1_2||!t["heart-beat"])return;const[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=new uMe(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===yd.OPEN&&(this._webSocket.send(z0_LF),this.debug(">>> PING"))})}if(0!==this.heartbeatIncoming&&0!==e){const r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>2*r&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===yd.CONNECTING||this._webSocket.readyState===yd.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function aMe(n,t){n.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=(new Date).getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),null==o||o.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=new wh({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let c=l;for(;c.length>0;){const u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===yd.CONNECTING||this._webSocket.readyState===yd.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:o=>r.unsubscribe(i.id,o)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===Ea.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===Ea.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class hMe{get webSocket(){var t;return null==(t=this._stompHandler)?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Xl.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Ea.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=9e5,this.reconnectTimeMode=W0.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Pm.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Xl.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(Xl.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect())};this.state===Xl.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){var t=this;return Oz(function*(){if(yield t.beforeConnect(t),t._stompHandler)return void t.debug("There is already a stompHandler, skipping the call to connect");if(!t.active)return void t.debug("Client has been marked inactive, will not attempt to connect");t.connectionTimeout>0&&(t._connectionWatcher&&clearTimeout(t._connectionWatcher),t._connectionWatcher=setTimeout(()=>{t.connected||(t.debug(`Connection not established in ${t.connectionTimeout}ms, closing socket`),t.forceDisconnect())},t.connectionTimeout)),t.debug("Opening Web Socket...");const e=t._createWebSocket();t._stompHandler=new dMe(t,e,{debug:t.debug,stompVersions:t.stompVersions,connectHeaders:t.connectHeaders,disconnectHeaders:t._disconnectHeaders,heartbeatIncoming:t.heartbeatIncoming,heartbeatOutgoing:t.heartbeatOutgoing,heartbeatStrategy:t.heartbeatStrategy,splitLargeFrames:t.splitLargeFrames,maxWebSocketChunkSize:t.maxWebSocketChunkSize,forceBinaryWSFrames:t.forceBinaryWSFrames,logRawCommunication:t.logRawCommunication,appendMissingNULLonIncoming:t.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:t.discardWebsocketOnCommFailure,onConnect:i=>{if(t._connectionWatcher&&(clearTimeout(t._connectionWatcher),t._connectionWatcher=void 0),!t.active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(i)},onDisconnect:i=>{t.onDisconnect(i)},onStompError:i=>{t.onStompError(i)},onWebSocketClose:i=>{t._stompHandler=void 0,t.state===Xl.DEACTIVATING&&t._changeState(Xl.INACTIVE),t.onWebSocketClose(i),t.active&&t._schedule_reconnect()},onWebSocketError:i=>{t.onWebSocketError(i)},onUnhandledMessage:i=>{t.onUnhandledMessage(i)},onUnhandledReceipt:i=>{t.onUnhandledReceipt(i)},onUnhandledFrame:i=>{t.onUnhandledFrame(i)}}),t._stompHandler.start()})()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===W0.EXPONENTIAL&&(this._nextReconnectDelay=2*this._nextReconnectDelay,0!==this.maxReconnectDelay&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(t={}){var e=this;return Oz(function*(){var s;const i=t.force||!1,r=e.active;let o;if(e.state===Xl.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(Xl.DEACTIVATING),e._nextReconnectDelay=0,e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===yd.CLOSED)return e._changeState(Xl.INACTIVE),Promise.resolve();{const a=e._stompHandler.onWebSocketClose;o=new Promise((l,c)=>{e._stompHandler.onWebSocketClose=u=>{a(u),l()}})}return i?null==(s=e._stompHandler)||s.discardWebsocket():r&&e._disposeStompHandler(),o})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}}var fMe=_e(209),pMe=_e.n(fMe),Hc=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(Hc||(Hc={})),Hc))(),gT=(()=>(function(n){n[n.PolicyViolation=1008]="PolicyViolation"}(gT||(gT={})),gT))();let Ta=(()=>{class n{constructor(e){this.message=e,this.responseSubject=new JA(1),this.stateSubject=new Jn({state:Hc.None}),this.state$=this.stateSubject.asObservable().pipe(Ha(i=>function uSe(n){as({type:"ws",level:"info",category:"ws.et.state",message:n.state})}(i))),this.reconnectCount=0}response(e){return this.responseSubject.pipe(cn(i=>i.response===e),Ae(i=>i.data))}request(e,i){!this.stompClient.connected||(function cSe(n,t){as({type:"ws",level:"info",category:"ws.et.send",data:{action:n,data:t}})}(e,i),console.log("%c[ Stomp REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)}))}init(e,i,r){var o;(null===(o=this.stompClient)||void 0===o?void 0:o.active)&&this.stompClient.deactivate(),this.stompClient=new hMe({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:this.getReconnectDelay()}),this.stompClient.webSocketFactory=()=>new(pMe())(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket",timeout:8e3}),this.stompClient.beforeConnect=()=>{this.stompClient.reconnectDelay=this.getReconnectDelay(),this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:Hc.Connected}),r.forEach(s=>{this.stompClient.subscribe(s,a=>{const l=JSON.parse(a.body);(function lSe(n,t){as({type:"ws",level:"info",category:"ws.et.receive",data:{action:n,data:t}})})(s,l),console.log("%c[ Stomp RESPONSE ] "+s,"background: #222; color: #bada55",l),this.responseSubject.next({response:s,data:l}),this.handleError(l)},{id:s})}),this.request(ds.Init,null)},this.stompClient.onWebSocketClose=s=>{if(console.log("[ Stomp ] onWebSocketClose",s),s.code===gT.PolicyViolation)return this.stompClient.deactivate(),void this.stateSubject.next({state:Hc.Disconnected});this.stateSubject.next({state:Hc.Reconnecting})},this.stompClient.onDisconnect=s=>{console.log("[ Stomp ] onDisconnect",s),this.stateSubject.next({state:Hc.Disconnected})}}getReconnectDelay(){return this.reconnectCount<1?1:this.reconnectCount<=10?12e3:18e4}handleError(e){var i;"object"==typeof e&&"code"in e&&200!==e.code&&!wz.includes(null!==(i=e.errorMessage)&&void 0!==i?i:"")&&this.message.add({value:e.errorMessage,errorMessageParams:"errorMessageParams"in e?e.errorMessageParams:{},context:Ur.Danger})}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(e){return new(e||n)(lt(fl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xm=(()=>{class n{constructor(){this.restrictionConfig={isChatMinimumBalanceCheckEnabled:!1,isChatMinimumLifetimeCheckEnabled:!1,isChatMinimumWagerCheckEnabled:!1,minBalanceInPlayerCurrency:0,minWagerInPlayerCurrency:0,minWagerPeriodInDays:0,minLifetimePeriodInDays:0},this.isFreeBetsEnabled=!1,this.maxMessageLength=0,this.maxMessages=0,this.sendMessageDelay=0,this.hideChatOnlineCounter=!0,this.rainConfig=void 0,this.topGifs=void 0}init(e){Object.assign(this,e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Y0=(()=>{class n{constructor(e){this.zone=e,this.newMessagesAddedSubject=new Jn(!1),this.newMessagesAdded$=this.newMessagesAddedSubject.asObservable()}set scrollNativeElement(e){this._scrollNativeElement=e,Li(this._scrollNativeElement,"scroll").pipe(Va(500)).subscribe(()=>{this.newMessagesAddedSubject.getValue()&&this.newMessagesAddedSubject.next(!this.isScrollAtBottom)})}onScrollToBottom(){this.newMessagesAddedSubject.next(!1),this.scrollToBottom()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAddedSubject.next(!1),this.scrollToBottom()):this.newMessagesAddedSubject.next(!0)}scrollToBottom(e=0){this._scrollNativeElement&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this._scrollNativeElement.scrollTop=this._scrollNativeElement.scrollHeight},e)})}get isScrollAtBottom(){var e,i,r;return!this._scrollNativeElement||Math.abs((null===(e=this._scrollNativeElement)||void 0===e?void 0:e.scrollHeight)-(null===(i=this._scrollNativeElement)||void 0===i?void 0:i.clientHeight)-(null===(r=this._scrollNativeElement)||void 0===r?void 0:r.scrollTop))<=1}}return n.\u0275fac=function(e){return new(e||n)(lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Im=(()=>{class n{constructor(e,i,r,o,s,a){this.chatFeatureService=e,this.stomp=i,this.bsMessage=r,this.chatConfig=o,this.scrollService=s,this.antiSpamService=a,this._messagesSubject=new Jn([]),this.messages$=this._messagesSubject.asObservable(),this.stomp.response(hi.ChatInit).pipe(cn(l=>200===l.code)).subscribe(l=>this.onInit(l)),this.stomp.response(hi.MessageAdd).subscribe(l=>this.onMessageAdd(l)),this.stomp.response(hi.MessageDelete).subscribe(l=>this.onMessageDelete(l.messageIds)),this.stomp.response(hi.MessageSend).subscribe(l=>this.onMessageSend(l)),this.stomp.response(hi.MessageEdit).subscribe(l=>this.onMessageEdit(l))}get messages(){return this._messagesSubject.getValue()}onInit(e){this.playerId=e.playerId,this.chatConfig.init(Object.assign({},e.config)),this._messagesSubject.next(function sMe(n,t){return n.slice(Math.max(n.length-t,0))}(e.messages,this.chatConfig.maxMessages))}sendMessage(e){this.chatConfig.sendMessageDelay>0&&(this.antiSpamService.isMessageSendingBlocked=!0),this.stomp.request(ds.MessageSend,e)}shareBet(e,i,r=this.playerId){this.sendMessage({type:$l.ShareBet,betId:e,betOwnerId:r,roundId:i,text:""})}onMessageAdd(e){this.addMessageToChat(e),!this.chatFeatureService.isOpen&&e.type===$l.Rain&&this.notifyAboutRain()}onMessageEdit(e){const i=[...this.messages],r=i.findIndex(s=>Math.abs(s.id)===e.id);if(-1===r)return;const o=i[r].id;i[r]=Object.assign(Object.assign({},e),{id:this.getEditedMessageId(o)}),this._messagesSubject.next(i)}onMessageDelete(e){this._messagesSubject.next(this.messages.filter(i=>!e.includes(i.id)))}onMessageSend(e){if(wz.includes(e.errorMessage)){const i={id:Date.now(),text:e.errorMessage,params:e.errorMessageParams,type:$l.Restricted,senderType:Ep.Moderator};this.addMessageToChat(i)}}notifyAboutRain(){this.bsMessage.add({value:"rain-has-been-dropped",context:Ur.Success,callback:()=>{setTimeout(()=>{this.chatFeatureService.isOpen=!0},300)}})}addMessageToChat(e){const i=[...this.messages,e].slice(-this.chatConfig.maxMessages);this._messagesSubject.next(i),this.scrollService.keepUpScroll()}getEditedMessageId(e){return e===-e?Math.abs(e):-e}}return n.\u0275fac=function(e){return new(e||n)(lt(pl),lt(Ta),lt(fl),lt(xm),lt(Y0),lt(V0))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function bMe(n,t){if(1&n&&(I(0,"div",2),Y(1),R()),2&n){const e=oe();_(1),dt(e.freeBetLabel)}}const SMe=function(n){return{"long-precision":n}};function CMe(n,t){if(1&n&&(I(0,"div",3),Y(1),K(2,"currencyPrecision"),R()),2&n){const e=oe();W("ngClass",Ii(4,SMe,e.gameConfig.isLongPrecision)),_(1),ie(" ",J(2,2,e.amount),"\n")}}let $0=(()=>{class n{constructor(e,i){this.app=e,this.gameConfig=i}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"free-bet"],[3,"ngClass"]],template:function(e,i){1&e&&(te(0,bMe,2,1,"div",0),te(1,CMe,3,6,"div",1)),2&e&&(W("ngIf",i.isFreeBet),_(1),W("ngIf",!i.isFreeBet))},directives:[zt,Xo],pipes:[zn],styles:[".free-bet[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}.long-precision[_ngcontent-%COMP%]{font-size:12px}"]}),n})();function EMe(n,t){if(1&n&&(I(0,"div",13),Y(1),K(2,"currencyPrecision"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,e.bet.startBalance)," ")}}function TMe(n,t){if(1&n&&(I(0,"div",14),Y(1),R()),2&n){const e=oe();_(1),ie(" ",e.bet.betId," ")}}function wMe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"currencyPrecision"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,e.bet.winAmount),"")}}const MMe=function(n){return{disabled:n}};let OMe=(()=>{class n{constructor(e,i,r,o,s,a){this.chatAntiSpamService=e,this.main=i,this.chatFeatureService=r,this.oldChat=o,this.chatMessageService=s,this.gameConfig=a}onShareBet(e,i){var r;(null===(r=this.gameConfig.engagementTools)||void 0===r?void 0:r.isExternalChatEnabled)?this.chatMessageService.shareBet(e,i):this.oldChat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(Z(V0),Z($r),Z(pl),Z(vh),Z(Im),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:20,vars:25,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex"],["class","bet-id",4,"ngIf"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"start-balance","pl-2"],[1,"bet-id"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"div"),Y(3),K(4,"date"),R(),I(5,"div"),Y(6),K(7,"date"),R()(),te(8,EMe,3,3,"div",2),I(9,"div",3),te(10,TMe,2,1,"div",4),ye(11,"app-bet-amount",5),R(),I(12,"div",6),ye(13,"app-bubble-multiplier",7),R(),I(14,"div",8),te(15,wMe,3,3,"span",9),R(),I(16,"div",10)(17,"div",11),Be("click",function(){return i.main.checkFairness(i.bet.roundId)}),R(),I(18,"div",12),Be("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),K(19,"async"),R()()()),2&e&&(Lt("long-precision",i.gameConfig.isLongPrecision)("celebrated",i.bet.winAmount),_(3),dt(nn(4,15,i.bet.cashOutDate,"HH:mm")),_(3),dt(nn(7,18,i.bet.cashOutDate,"dd-MM-yy")),_(2),W("ngIf",i.gameConfig.isBetsHistoryStartBalanceEnabled),_(2),W("ngIf",i.gameConfig.isShowBetControlNumber),_(1),W("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),_(2),W("multiplier",i.bet.payout||i.bet.maxMultiplier),_(2),W("ngIf",i.bet.winAmount),_(1),Lt("disabled",!i.main.canCheckFairness(i.bet.roundId)),_(2),W("ngClass",Ii(23,MMe,!i.chatFeatureService.isChatEnabled||J(19,21,i.chatAntiSpamService.isMessageSendingBlocked$))))},directives:[zt,$0,YD,Xo],pipes:[al,zn,pr],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item.long-precision[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5;justify-content:flex-end;white-space:nowrap}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function PMe(n,t){1&n&&ye(0,"app-bet-item",18),2&n&&W("bet",t.$implicit)}function xMe(n,t){if(1&n&&(I(0,"div",9)(1,"div",10)(2,"div",11),Y(3),K(4,"transloco"),R(),I(5,"div",12),Y(6),K(7,"transloco"),R(),I(8,"div",13),Y(9,"X"),R(),I(10,"div",14),Y(11),K(12,"transloco"),R(),ye(13,"div",15),R(),I(14,"div",16),vt(15),te(16,PMe,1,1,"app-bet-item",17),yt(),R()()),2&n){const e=oe();_(3),ie(" ",J(4,6,"game.bets-widget.date")," "),_(3),Hn(" ",J(7,8,"shared.bet")," ",e.gameConfig.currency," "),_(5),Hn(" ",J(12,10,"shared.cash_out")," ",e.gameConfig.currency," "),_(5),W("ngForOf",e.betHistory)}}function IMe(n,t){if(1&n&&(I(0,"th",23),Y(1),R()),2&n){const e=oe(2).$implicit,i=oe();_(1),Hn(" ",e("shared.Start_balance")," ",i.gameConfig.currency," ")}}function AMe(n,t){if(1&n&&(I(0,"th",23),Y(1),R()),2&n){const e=oe(2).$implicit,i=oe();_(1),Hn(" ",e("shared.End balance")," ",i.gameConfig.currency," ")}}function DMe(n,t){if(1&n&&(I(0,"td")(1,"div",37),Y(2),K(3,"currencyPrecision"),R()()),2&n){const e=oe().$implicit;_(2),ie(" ",J(3,1,e.startBalance)," ")}}function RMe(n,t){if(1&n&&(I(0,"div",38),Y(1),R()),2&n){const e=oe().$implicit;_(1),ie(" ",e.betId," ")}}function NMe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"currencyPrecision"),R()),2&n){const e=oe().$implicit;_(1),ie(" ",J(2,1,e.winAmount),"")}}function kMe(n,t){if(1&n&&(I(0,"td")(1,"span",39),Y(2),K(3,"currencyPrecision"),R()()),2&n){const e=oe().$implicit;_(2),dt(J(3,1,e.endBalance))}}const LMe=function(n){return{disabled:n}};function FMe(n,t){if(1&n){const e=Ot();I(0,"tr")(1,"td")(2,"div",27)(3,"div"),Y(4),K(5,"date"),R(),I(6,"div"),Y(7),K(8,"date"),R()()(),te(9,DMe,4,3,"td",8),I(10,"td",28),te(11,RMe,2,1,"div",29),R(),I(12,"td",12),ye(13,"app-bet-amount",30),R(),I(14,"td")(15,"div",31),ye(16,"app-bubble-multiplier",32),R()(),I(17,"td"),te(18,NMe,3,3,"span",8),R(),te(19,kMe,4,3,"td",8),I(20,"td")(21,"div",33)(22,"div",34)(23,"div",35),Be("click",function(){const o=Tt(e).$implicit;return oe(3).main.checkFairness(o.roundId)}),R(),I(24,"div",36),Be("click",function(){const o=Tt(e).$implicit;return oe(3).onShareBet(o.roundBetId,o.roundId)}),K(25,"async"),R()()()()()}if(2&n){const e=t.$implicit,i=oe(3);Lt("celebrated",e.winAmount),_(4),dt(nn(5,14,e.cashOutDate,"HH:mm")),_(3),dt(nn(8,17,e.cashOutDate,"dd-MM-yy")),_(2),W("ngIf",i.gameConfig.isBetsHistoryStartBalanceEnabled),_(2),W("ngIf",i.gameConfig.isShowBetControlNumber),_(2),W("amount",e.bet)("isFreeBet",e.isFreeBet),_(3),W("multiplier",e.payout||e.maxMultiplier),_(2),W("ngIf",e.winAmount),_(1),W("ngIf",i.gameConfig.isBetsHistoryEndBalanceEnabled),_(3),Lt("disabled",!i.main.canCheckFairness(e.roundId)),_(2),W("ngClass",Ii(22,LMe,!i.chatFeatureService.isChatEnabled||J(25,20,i.chatAntiSpamService.isMessageSendingBlocked$)))}}function BMe(n,t){if(1&n&&(I(0,"div",20)(1,"div",21)(2,"table",22)(3,"thead")(4,"tr")(5,"th",23),Y(6),R(),te(7,IMe,2,2,"th",24),ye(8,"th",25),I(9,"th",23),Y(10),R(),I(11,"th",23),Y(12,"X"),R(),I(13,"th",23),Y(14),R(),te(15,AMe,2,2,"th",24),ye(16,"th",23),R()(),I(17,"tbody"),te(18,FMe,26,24,"tr",26),R()()()()),2&n){const e=oe().$implicit,i=oe();_(6),dt(e("game.bets-widget.date")),_(1),W("ngIf",i.gameConfig.isBetsHistoryStartBalanceEnabled),_(3),Hn(" ",e("shared.bet")," ",i.gameConfig.currency," "),_(4),Hn(" ",e("shared.cash_out")," ",i.gameConfig.currency," "),_(1),W("ngIf",i.gameConfig.isBetsHistoryEndBalanceEnabled),_(3),W("ngForOf",i.betHistory)}}function UMe(n,t){if(1&n&&(vt(0),te(1,BMe,19,8,"div",19),yt()),2&n){const e=oe();_(1),W("ngIf",e.hasAdditionalColumns)}}function jMe(n,t){if(1&n){const e=Ot();I(0,"button",40),Be("click",function(){return Tt(e),oe().onLoadMore()}),Y(1),K(2,"transloco"),R()}2&n&&(W("disabled",0===oe().lastBetId),_(1),ie(" ",J(2,2,"shared.load_more")," "))}function GMe(n,t){1&n&&(I(0,"div"),ye(1,"app-loader"),R())}let Tp=class{constructor(t,e,i,r,o,s,a,l,c){this.cd=t,this.activeModal=e,this.connector=i,this.main=r,this.chatFeatureService=o,this.chatAntiSpamService=s,this.chatMessageService=a,this.oldChat=l,this.gameConfig=c,this.betHistory=[],this.loaded=!1,this.lastBetId=0}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(xn.BetHistory,200).pipe(cn(()=>!this.loaded),Gt(this)).subscribe(t=>{this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0,this.cd.detectChanges()})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(lr.BetHistory,0===t?null:{lastBetId:t})}onShareBet(t,e){var i;(null===(i=this.gameConfig.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)?this.chatMessageService.shareBet(t,e):this.oldChat.shareBet(t,e)}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}get hasAdditionalColumns(){return this.gameConfig.isBetsHistoryStartBalanceEnabled||this.gameConfig.isBetsHistoryEndBalanceEnabled||this.gameConfig.isShowBetControlNumber}};function HMe(n,t){if(1&n&&(I(0,"li",5)(1,"div")(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"span"),Y(6," X:"),R()(),I(7,"span",6),Y(8),K(9,"multiplierPrecision"),R()()),2&n){const e=oe();_(3),ie(" ",J(4,2,"shared.modals.game-limits.maximum-multiplier-for-one-bet")," "),_(5),ie(" ",J(9,4,e.gameConfig.maxUserMultiplier)," ")}}Tp.\u0275fac=function(t){return new(t||Tp)(Z(Rn),Z(Ir),Z(qi),Z($r),Z(pl),Z(V0),Z(Im),Z(vh),Z(Yn))},Tp.\u0275cmp=_t({type:Tp,selectors:[["app-my-bets-history"]],decls:13,vars:6,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","px-1","py-2"],["class","bet-list pb-2",4,"ngIf"],[4,"transloco"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],[1,"date","pl-1"],[1,"bet"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"],["class","wrap-table",4,"ngIf"],[1,"wrap-table"],[1,"table-responsive"],[1,"table-custom"],["scope","col"],["scope","col",4,"ngIf"],["scope","col",1,"number-bet"],[3,"celebrated",4,"ngFor","ngForOf"],[1,"date"],[1,"bet-id-wrapper"],["class","bet-id",4,"ngIf"],[3,"amount","isFreeBet"],[1,"multiplier"],[3,"multiplier"],[1,"tools-wrapper"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"start-balance"],[1,"bet-id"],[1,"end-balance"],["type","button",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R(),I(4,"button",2),Be("click",function(){return e.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",3),te(8,xMe,17,12,"div",4),te(9,UMe,2,1,"ng-container",5),I(10,"div",6),te(11,jMe,3,4,"button",7),te(12,GMe,2,0,"div",8),R()()),2&t&&(_(2),dt(J(3,4,"shared.my_bet_history")),_(6),W("ngIf",!e.hasAdditionalColumns),_(3),W("ngIf",e.loaded),_(1),W("ngIf",!e.loaded))},directives:[zt,Kn,OMe,rp,$0,YD,Xo,Gc],pipes:[Jt,al,zn,pr],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:30%;text-align:right;white-space:nowrap;padding-left:10px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 2px;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px;font-weight:400;color:#7b7b7b;line-height:24px;white-space:nowrap;padding:0 5px}table[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .end-balance[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%]   .bet-id[_ngcontent-%COMP%]{color:#ffffff80;text-align:center;width:16px;height:16px;border-radius:5px;font-size:10px;background:#202020}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px;display:inline-block}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:34px;font-size:14px;color:#fff;background-color:#101112}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#101112;padding:0 5px;white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-left:none;border-right:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #101112;border-top:1px solid #101112;border-bottom:1px solid #101112;border-top-left-radius:8px;border-bottom-left-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #101112;border-top:1px solid #101112;border-bottom:1px solid #101112;border-top-right-radius:8px;border-bottom-right-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-top:1px solid #101112;border-bottom:1px solid #101112}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#123405}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #427f00;border-top:1px solid #427f00;border-bottom:1px solid #427f00;border-top-left-radius:8px;border-bottom-left-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #427f00;border-top:1px solid #427f00;border-bottom:1px solid #427f00;border-top-right-radius:8px;border-bottom-right-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-top:1px solid #427f00;border-bottom:1px solid #427f00}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),Tp=qe([si()],Tp);let VMe=(()=>{class n{constructor(e,i){this.activeModal=e,this.gameConfig=i}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-game-limits"]],decls:40,vars:25,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],[1,"badge","badge-success","px-2","font-weight-normal"],["class","list-group-item pl-2 pr-1",4,"ngIf"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R(),I(4,"button",2),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",3)(8,"ul",4)(9,"li",5)(10,"div")(11,"span"),Y(12),K(13,"transloco"),R(),I(14,"span"),Y(15),R()(),I(16,"span",6),Y(17),K(18,"currencyPrecision"),R()(),I(19,"li",5)(20,"div")(21,"span"),Y(22),K(23,"transloco"),R(),I(24,"span"),Y(25),R()(),I(26,"span",6),Y(27),K(28,"currencyPrecision"),R()(),I(29,"li",5)(30,"div")(31,"span"),Y(32),K(33,"transloco"),R(),I(34,"span"),Y(35),R()(),I(36,"span",6),Y(37),K(38,"currencyPrecision"),R()(),te(39,HMe,10,6,"li",7),R()()),2&e&&(_(2),dt(J(3,11,"shared.game_limits")),_(10),dt(J(13,13,"shared.modals.game-limits.min-bet")),_(3),ie(" ",i.gameConfig.currency,":"),_(2),ie(" ",J(18,15,i.gameConfig.minBet)," "),_(5),dt(J(23,17,"shared.modals.game-limits.max-bet")),_(3),ie(" ",i.gameConfig.currency,":"),_(2),ie(" ",J(28,19,i.gameConfig.maxBet)," "),_(5),dt(J(33,21,"shared.modals.game-limits.max-win-one-bet")),_(3),ie(" ",i.gameConfig.currency,":"),_(2),ie(" ",J(38,23,i.gameConfig.maxUserWin)," "),_(2),W("ngIf",i.gameConfig.maxUserMultiplier))},directives:[zt],pipes:[Jt,zn,Ws],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;line-height:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:not(:first-child){border-top:0}"]}),n})(),X0=(()=>{class n{constructor(e){this.cd=e,this.toggle=new vn,this.disabled=!1,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(Z(Rn))},n.\u0275cmp=_t({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[ni([{provide:qs,useExisting:de(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,i){1&e&&(I(0,"div",0),Be("click",function(){return i.onClick()}),ye(1,"span",1),R()),2&e&&Lt("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:4px;justify-content:flex-end;width:36px;height:24px;border-radius:32px;background-color:#141516}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:16px;background-color:#a3a3a3;border-radius:50%}.input-switch.off[_ngcontent-%COMP%]{justify-content:flex-start}.input-switch.off[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{background-color:#2c2d30}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function zMe(n,t){if(1&n){const e=Ot();I(0,"li",5)(1,"div")(2,"span"),Y(3),K(4,"transloco"),R()(),I(5,"app-ui-switcher",6),Be("toggle",function(r){const s=Tt(e).$implicit;return oe().user.settings.changeOther(s,r)}),R()()}if(2&n){const e=t.$implicit,i=oe();_(3),dt(J(4,2,"shared.modals.other_settings."+i.translations.get(e))),_(2),W("ngModel",i.user.settings.getOther(e))}}let WMe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.user=r,this.translations=new Map([[Fc.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[Fc.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(Yi),Z(Bc))},n.\u0275cmp=_t({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],[3,"ngModel","toggle"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",2)(8,"ul",3),te(9,zMe,6,4,"li",4),R()()),2&e&&(_(2),dt(J(3,2,"shared.modals.other_settings.title")),_(7),W("ngForOf",i.user.settings.otherKeys))},directives:[Kn,X0,ba,Zs],pipes:[Jt],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})();const YMe=function(n,t){return{minBalanceInPlayerCurrency:n,currency:t}};function $Me(n,t){if(1&n&&(I(0,"li",6),Y(1),R()),2&n){const e=oe().$implicit,i=oe();_(1),ie(" ",e("game.chat-widget.modals.chat-rules.point7",sl(1,YMe,i.minBalanceInPlayerCurrency,i.currency))," ")}}const XMe=function(n,t,e){return{minWagerPeriodInDays:n,minWagerInPlayerCurrency:t,currency:e}};function KMe(n,t){if(1&n&&(I(0,"li",6),Y(1),R()),2&n){const e=oe().$implicit,i=oe();_(1),ie(" ",e("game.chat-widget.modals.chat-rules.point8",y_(1,XMe,i.minWagerPeriodInDays,i.minWagerInPlayerCurrency,i.currency))," ")}}const qMe=function(n){return{minLifetimePeriodInDays:n}};function JMe(n,t){if(1&n&&(I(0,"li",6),Y(1),R()),2&n){const e=oe().$implicit,i=oe();_(1),ie(" ",e("game.chat-widget.modals.chat-rules.point9",Ii(1,qMe,i.minLifetimePeriodInDays))," ")}}function ZMe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",1)(2,"span"),Y(3),R(),I(4,"button",2),Be("click",function(){return Tt(e),oe().activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",3)(8,"div",4)(9,"ul",5)(10,"li",6),Y(11),R(),I(12,"li",6),Y(13),R(),I(14,"li",6),Y(15),R(),I(16,"li",6),Y(17),R(),I(18,"li",6),Y(19),R(),I(20,"li",6),Y(21),R(),te(22,$Me,2,4,"li",7),te(23,KMe,2,5,"li",7),te(24,JMe,2,3,"li",7),R()()(),yt()}if(2&n){const e=t.$implicit,i=oe();_(3),dt(e("game.chat-widget.modals.chat-rules.title")),_(8),ie(" ",e("game.chat-widget.modals.chat-rules.point1")," "),_(2),ie(" ",e("game.chat-widget.modals.chat-rules.point2")," "),_(2),ie(" ",e("game.chat-widget.modals.chat-rules.point3")," "),_(2),ie(" ",e("game.chat-widget.modals.chat-rules.point4")," "),_(2),ie(" ",e("game.chat-widget.modals.chat-rules.point5")," "),_(2),ie(" ",e("game.chat-widget.modals.chat-rules.point6")," "),_(1),W("ngIf",i.isChatMinimumBalanceCheckEnabled),_(1),W("ngIf",i.isChatMinimumWagerCheckEnabled),_(1),W("ngIf",i.isChatMinimumLifetimeCheckEnabled)}}let QMe=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.chatConfig=i,this.currencyPrecisionPipe=r,this.gameConfig=o}get isChatMinimumBalanceCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumBalanceCheckEnabled}get isChatMinimumWagerCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumWagerCheckEnabled}get isChatMinimumLifetimeCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumLifetimeCheckEnabled}get minBalanceInPlayerCurrency(){return this.currencyPrecisionPipe.transform(this.chatConfig.restrictionConfig.minBalanceInPlayerCurrency)}get minWagerPeriodInDays(){return this.chatConfig.restrictionConfig.minWagerPeriodInDays}get minWagerInPlayerCurrency(){return this.currencyPrecisionPipe.transform(this.chatConfig.restrictionConfig.minWagerInPlayerCurrency)}get minLifetimePeriodInDays(){return this.chatConfig.restrictionConfig.minLifetimePeriodInDays}get currency(){return this.gameConfig.currency}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(xm),Z(zn),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-rules"]],features:[ni([zn])],decls:1,vars:0,consts:[[4,"transloco"],[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"rules-list","pt-2"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"]],template:function(e,i){1&e&&te(0,ZMe,25,10,"ng-container",0)},directives:[rp,zt],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"],changeDetection:0}),n})();const eOe=function(n){return{value:n}};let tOe=(()=>{class n{constructor(e,i,r,o){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=o,this.chosen=!1,this.serverChosen=new vn}chooseServer(){this.serverChosen.emit(this.server.id)}}return n.\u0275fac=function(e){return new(e||n)(Z($r),Z(Iu),Z(Ir),Z(Yi))},n.\u0275cmp=_t({type:n,selectors:[["app-change-server-item"]],inputs:{server:"server",chosen:"chosen"},outputs:{serverChosen:"serverChosen"},decls:8,vars:8,consts:[[1,"item-wrapper"],[1,"rounded-block"],[1,"main-row",3,"click"],[1,"radio"],[1,"dot"],[1,"server-name"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"div",2),Be("click",function(){return i.chooseServer()}),I(3,"span",3),ye(4,"i",4),R(),I(5,"div",5),Y(6),K(7,"transloco"),R()()()()),2&e&&(_(1),Lt("chosen",i.chosen),_(5),ie(" ",nn(7,3,"shared.Room #",Ii(6,eOe,i.server.id))," "))},pipes:[Jt],styles:["[_nghost-%COMP%]{width:100%}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:8px auto 0;border:solid 1px transparent;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .server-name[_ngcontent-%COMP%]{margin-left:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]{border:solid 1px #229607;pointer-events:none;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}"],changeDetection:0}),n})();function nOe(n,t){if(1&n){const e=Ot();vt(0),I(1,"app-change-server-item",6),Be("serverChosen",function(r){return Tt(e),oe().userChooseServer(r)}),R(),yt()}if(2&n){const e=t.$implicit,i=oe();let r;_(1),W("server",e)("chosen",e.id===(null!==(r=i.chosenServerId)&&void 0!==r?r:i.multiServer.currentServerId))}}let iOe=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.app=i,this.connector=r,this.multiServer=o}userChooseServer(e){this.chosenServerId=e}change(){this.connector.userChooseServer(this.chosenServerId),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(Yi),Z(qi),Z(mm))},n.\u0275cmp=_t({type:n,selectors:[["app-change-server"]],decls:15,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"text"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[3,"server","chosen","serverChosen"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.activeModal.close()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",2)(8,"p",3),Y(9),K(10,"transloco"),R(),te(11,nOe,2,2,"ng-container",4),I(12,"button",5),Be("click",function(){return i.change()}),Y(13),K(14,"transloco"),R()()),2&e&&(_(2),dt(J(3,6,"shared.modals.Change Room.title")),_(7),dt(J(10,8,"shared.modals.Change Room.text")),_(2),W("ngForOf",i.app.clientConfig.servers),_(1),Lt("disabled",!i.chosenServerId||i.chosenServerId===i.multiServer.currentServerId),_(1),ie(" ",J(14,10,"shared.CHANGE")," "))},directives:[Kn,tOe],pipes:[Jt],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:150px;width:100%}.modal-body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;margin-top:54px;opacity:1}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none;cursor:default}"],changeDetection:0}),n})(),rOe=(()=>{class n{constructor(e,i,r,o){this.ngbModal=e,this.modal=i,this.urlParams=r,this.ifc=o,this.activeInstances=[]}init(){this.ngbModal.activeInstances.subscribe(e=>this.activeInstances=e),this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,i=null){switch(e){case ei.bugReport:break;case ei.fairness:this.openModal(mp,{size:"lg"},{betId:i});break;case ei.fairnessSettings:this.openModal(vp,{size:"lg"});break;case ei.freeBets:if("true"===this.urlParams.aviaport){this.ifc.send(vi.AviaPortShowFreeBetModal);break}this.openModal(yp);break;case ei.avatar:this.openModal(rwe,{size:"lg",modalDialogClass:"modal-dialog--change-avatar"});break;case ei.rules:this.openModal(Zwe,{size:"xl"});break;case ei.whatIsPf:this.openModal(QTe,{size:"xl"});break;case ei.quickHelp:this.openModal(eMe,{size:"lg"});break;case ei.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.openModal(Cp,{backdrop:"static"},{params:i});break;case ei.myBetsHistory:this.openModal(Tp);break;case ei.gameLimits:this.openModal(VMe);break;case ei.otherSettings:this.openModal(WMe);break;case ei.chatRules:this.openModal(QMe);break;case ei.changeServer:this.openModal(iOe)}}openModal(e,i={},r={}){if(this.activeInstances.some(a=>a.componentInstance instanceof e))return;const s=this.ngbModal.open(e,i);Object.entries(r).forEach(([a,l])=>{s.componentInstance[a]=l})}}return n.\u0275fac=function(e){return new(e||n)(lt(G0),lt(va),lt(jl),lt(zs))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oOe=(()=>{class n{constructor(e,i,r,o,s){this.main=e,this.betControls=i,this.connector=r,this.message=o,this.gameConfig=s,this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}init(){this.main.getState(ar.Bet).pipe(cn(()=>this.isInactivityTimePass())).subscribe(()=>this.onBetState()),this.main.getState(ar.Run).subscribe(()=>this.onRunState())}onBetState(){return this.isFirstToastShown?this.isSecondToastShown?void 0:(this.message.add({value:Lc.SecondInactivityMessage,context:Ur.Warning}),void(this.isSecondToastShown=!0)):(this.message.add({value:Lc.FirstInactivityMessage,context:Ur.Warning}),void(this.isFirstToastShown=!0))}onRunState(){this.betControls.isBetSetted?this.reset():this.isFirstToastShown&&this.isSecondToastShown&&this.connector.shutdown(Ba.Inactivity)}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.gameConfig.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(lt($r),lt(Au),lt(qi),lt(fl),lt(Yn))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ru=(()=>(function(n){n.Active="Active",n.Archive="Archive"}(Ru||(Ru={})),Ru))(),fi=(()=>(function(n){n.CatchMultipliers="CATCH_MULTIPLIERS",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.BetInTotal="BET_IN_TOTAL",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM",n.CatchHighestMultiplier="CATCH_HIGHEST_MULTIPLIER"}(fi||(fi={})),fi))();const $D=new Set([fi.WinMoneyInTotal,fi.BetInTotal]);var Kl=(()=>(function(n){n.TaskCompleted="Task completed:",n.ChallengeCompleted="Challenge completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Challenge ended: all prizes have been won",n.ChallengePaused="Challenge has been paused",n.ChallengeResumed="Challenge has been resumed",n.PlayerKicked="You have been removed from the Challenge by the Administrator",n.ChallengeWasCanceled="Challenge was canceled"}(Kl||(Kl={})),Kl))();let _T=(()=>{class n{constructor(e,i,r){this.translate=e,this.bsMessage=i,this.currencyPrecisionPipe=r}getTranslation(e,i={}){const r=`challenges.toastMessage.${e}`;return this.translate.translate(r)?this.translate.translate(r,i):e}getTranslationTask(e,i){const r=`challenges.tasks.${e}`,o=this.translate.translate(r,{minBet:this.currencyPrecisionPipe.transform(i.minBet),targetMinMultiplier:i.targetMinMultiplier,goal:$D.has(e)?this.currencyPrecisionPipe.transform(i.goal):i.goal,currency:i.currency});return this.translate.translate(r)?o:e}show(e,i,r={},o){const s=o?this.getTranslation(e,r)+" "+this.getTranslationTask(o.taskType,o.params):this.getTranslation(e,r);this.bsMessage.add({value:s,context:i,scope:M0.Challenges,template:gh.Challenge})}}return n.\u0275fac=function(e){return new(e||n)(lt(ip),lt(fl),lt(zn))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();var mT=(()=>(function(n){n.PurplePink="purple-pink",n.Green="green",n.Teal="teal",n.Purple="purple",n.Red="red",n.Orange="orange"}(mT||(mT={})),mT))(),bd=(()=>(function(n){n.RACE="RACE",n.MISSION="MISSION",n.TOURNAMENT="TOURNAMENT"}(bd||(bd={})),bd))(),Vc=(()=>(function(n){n.FreeBet="FREE_BET",n.Special="SPECIAL"}(Vc||(Vc={})),Vc))(),Sd=(()=>(function(n){n.Single="SINGLE",n.Range="RANGE"}(Sd||(Sd={})),Sd))(),Ar=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED",n.Paused="PAUSED",n.Closed="CLOSED",n.Canceled="CANCELED"}(Ar||(Ar={})),Ar))(),nr=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED",n.Kicked="KICKED",n.OperatorKicked="OPERATOR_KICKED"}(nr||(nr={})),nr))(),Ji=(()=>(function(n){n.RACE="xRace",n.MISSION="xMission",n.TOURNAMENT="xTournament"}(Ji||(Ji={})),Ji))();const XD={[bd.RACE]:Ji.RACE,[bd.MISSION]:Ji.MISSION,[bd.TOURNAMENT]:Ji.TOURNAMENT},xz={name:"",startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0,isCurrencyNameHidden:!1,isNetwork:!1,leaderBoardSize:100,challengeId:0,type:bd.RACE,typeUi:XD[bd.RACE],isTicketBased:!1},sOe={config:xz,challengeStatus:Ar.Closed,playerStatus:nr.None,progress:{tasks:[],total:0},prizes:[],joinCount:0};let hs=(()=>{class n{constructor(e,i){this.stomp=e,this.gameConfig=i,this.updateDataSubject=new Jn(sOe),this.updateData$=this.updateDataSubject.asObservable(),this.updateStateSubject=new Jn({isChallengeAvailable:!1,joinCount:0}),this.updateState$=this.updateStateSubject.asObservable(),this.updateTicketsSubject=new Jn([]),this.updateTickets$=this.updateTicketsSubject.asObservable(),this._config=Object.assign({},xz),this.stomp.response(hi.ChallengesInit).pipe(Ha(r=>this.updateTicketsSubject.next(r.tickets)),cn(r=>r.challenges.length>0),Ae(r=>r.challenges[0])).subscribe(r=>this.handleChallengeUpdate(r)),this.stomp.response(hi.ChallengesAnnounce).subscribe(r=>this.handleChallengeUpdate(r)),this.stomp.response(hi.JoinCount).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{joinCount:r.joinCount}))}),this.stomp.response(hi.PlayerStatus).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.status!==nr.Kicked&&r.status!==nr.OperatorKicked}))}),this.stomp.response(hi.ChallengeStatus).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.status!==Ar.Closed&&r.status!==Ar.Canceled}))}),this.stomp.state$.subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.state!==Hc.Disconnected}))})}get update(){return this.updateStateSubject.getValue()}handleChallengeUpdate(e){var i,r;this._config={name:e.config.name,startDate:e.config.startDate,endDate:e.config.endDate,minBet:e.config.minBet,isCurrencyNameHidden:this.gameConfig.isCurrencyNameHidden,currency:this.gameConfig.isCurrencyNameHidden?"":this.gameConfig.currency,currencyPrecision:this.gameConfig.betPrecision,isNetwork:null!==(i=e.config.isNetwork)&&void 0!==i&&i,leaderBoardSize:e.config.leaderBoardSize||100,challengeId:e.config.challengeId,type:e.config.type,typeUi:XD[e.config.type],backgroundImage:null!==(r=e.config.backgroundImage)&&void 0!==r?r:mT.PurplePink,isTicketBased:e.config.isTicketBased},this.updateDataSubject.next(e),this.updateStateSubject.next({isChallengeAvailable:!0,joinCount:e.joinCount})}get config(){return this._config}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta),lt(Yn))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),wp=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.challenge=r,this.tasks=new Map,this.updateSubject=new Jn({tasks:[],totalProgress:0}),this.update$=this.updateSubject.asObservable(),this.challenge.updateData$.subscribe(o=>{this.tasks.clear(),o.progress.tasks.forEach(s=>{this.tasks.set(s.type,Object.assign(Object.assign({},s),{nameParams:{goal:s.goal,minBet:s.minBet,targetMinMultiplier:s.targetMinMultiplier,currency:this.challenge.config.currency}}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:o.progress.total})}),this.stomp.response(hi.Progress).subscribe(o=>{o.tasks.forEach(s=>{this.tasks.set(s.type,Object.assign(Object.assign({},this.tasks.get(s.type)),{progress:s.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:o.total}),this.tasks.get(s.type).progress===this.tasks.get(s.type).goal&&this.notification.show(Kl.TaskCompleted,Ur.Success,{},{taskType:s.type,params:this.tasks.get(s.type).nameParams})})})}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta),lt(_T),lt(hs))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function aOe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",2),Be("click",function(){const o=Tt(e).$implicit;return oe().onClickTab(o)}),Y(2),K(3,"transloco"),R(),yt()}if(2&n){const e=t.$implicit,i=oe();_(1),Lt("active",i.activeTab===e),_(1),ie(" ",J(3,3,i.translatePath+"."+e)," ")}}let lOe=(()=>{class n{constructor(e){this.cd=e,this.disabled=!1,this.toggle=new vn,this.activeTab="",this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}writeValue(e){!e||(this.activeTab=e,this.onModelChange(this.activeTab),this.cd.markForCheck())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(Z(Rn))},n.\u0275cmp=_t({type:n,selectors:[["app-navigation-switcher"]],inputs:{disabled:"disabled",tabs:"tabs",translatePath:"translatePath"},outputs:{toggle:"toggle"},features:[ni([{provide:qs,useExisting:de(()=>n),multi:!0}])],decls:2,vars:3,consts:[[1,"navigation-switcher"],[4,"ngFor","ngForOf"],["tabindex","-1",1,"tab",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,aOe,4,5,"ng-container",1),R()),2&e&&(Lt("disabled",i.disabled),_(1),W("ngForOf",i.tabs))},directives:[Kn],pipes:[Jt],styles:[".navigation-switcher[_ngcontent-%COMP%]{display:flex;width:100%;height:32px;background:#141516;border-radius:64px;border:solid 4px #141516}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex-grow:1;height:100%;width:100%;text-align:center;background:none;border-radius:32px;border:none;padding:0;color:#a3a3a3;font-size:12px;font-weight:400;letter-spacing:-.18px;transition:background-color .25s ease-in,color .25s ease-in}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#2c2d30;color:#ebebeb;cursor:default}"],changeDetection:0}),n})();var Am=(()=>(function(n){n.Active="ACTIVE",n.Used="USED",n.Expired="EXPIRED",n.Canceled="CANCELED"}(Am||(Am={})),Am))();let K0=(()=>{class n{constructor(e,i){this.stomp=e,this.challengeService=i,this.activeTicketsSubject=new Jn([]),this.activeTickets$=this.activeTicketsSubject.asObservable(),this.archiveTicketsSubject=new Jn([]),this.archiveTickets$=this.archiveTicketsSubject.asObservable(),this.inited=!1,this.loaded=!1}init(){this.inited||(this.inited=!0,this.challengeService.updateTickets$.subscribe(e=>{this.activeTicketsSubject.next([...e])}),this.stomp.response(hi.NewTicket).subscribe(e=>{this.activeTicketsSubject.next([...this.activeTicketsSubject.getValue(),e])}),this.stomp.response(hi.TicketsStatusUpdate).subscribe(e=>{(e.status===Am.Canceled||e.status===Am.Expired||e.status===Am.Used)&&this.remove(e.id)}),this.stomp.response(hi.TicketsArchive).subscribe(e=>{this.loaded=!0,200===e.code&&this.archiveTicketsSubject.next([...e.tickets])}))}remove(e){const i=this.activeTicketsSubject.getValue().filter(r=>r.challengeInfo.id!==e);this.activeTicketsSubject.next([...i])}hasActiveTicket(e){return this.activeTicketsSubject.getValue().some(i=>i.challengeInfo.id===e)}getArchiveTickets(){this.loaded=!1,this.stomp.request(ds.TicketsArchive,null)}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta),lt(hs))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cOe(n,t){if(1&n&&(I(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),Y(6),R(),I(7,"div",7),ye(8,"img",8),R()(),I(9,"div",9),Y(10),R()(),I(11,"div",10)(12,"div",11)(13,"div",12),Y(14),R(),I(15,"div",13),Y(16),K(17,"date"),K(18,"date"),R()(),I(19,"div",14)(20,"div",12),Y(21),R(),I(22,"div",13),Y(23),K(24,"date"),K(25,"date"),R()()()()()()),2&n){const e=t.$implicit,i=oe();Lt("archive",i.activeTab===i.ticketsTab.Archive),_(2),W("ngClass",i.challengeType),_(4),ie(" ",i.challengeTypeUI[i.ticket.challengeInfo.type]," "),_(2),W("srcset",i.getSrcSetType(i.challengeTypeImageNames[0],i.challengeTypeImageNames[1],i.challengeTypeImageNames[2]),pn)("src",i.getFullImgPathType(i.challengeTypeImageNames[0]),pn),_(2),dt(i.ticket.challengeInfo.name),_(4),dt(e("challenges.Start:")),_(2),Hn(" ",nn(17,13,i.ticket.challengeInfo.startDate,"HH:mm"),", ",nn(18,16,i.ticket.challengeInfo.startDate,"dd.MM.yy")," "),_(5),dt(e("challenges.End:")),_(2),Hn(" ",nn(24,19,i.ticket.challengeInfo.endDate,"HH:mm"),", ",nn(25,22,i.ticket.challengeInfo.endDate,"dd.MM.yy")," ")}}let Iz=(()=>{class n{constructor(){this.ticketsTab=Ru,this.challengeTypeImageNames=[],this.challengeType="",this.challengeTypeUI=XD}ngOnInit(){this.challengeType=this.ticket.challengeInfo.type.toLowerCase(),this.challengeTypeImageNames=[`x${this.challengeType}-icon.png`,`x${this.challengeType}-icon@2x.png`,`x${this.challengeType}-icon@3x.png`]}getFullImgPathType(e){return"assets/challenges/images/"+e}getSrcSetType(e,i,r){return`${this.getFullImgPathType(e)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-ticket-item"]],inputs:{ticket:"ticket",activeTab:"activeTab"},decls:1,vars:0,consts:[["class","ticket-card",3,"archive",4,"transloco"],[1,"ticket-card"],[1,"inner-border"],[1,"content",3,"ngClass"],[1,"first-row"],[1,"header"],[1,"name"],[1,"icon"],["draggable","false","alt","challenge-type",3,"srcset","src"],[1,"description"],[1,"second-row"],[1,"start-date"],[1,"title"],[1,"value"],[1,"end-date"]],template:function(e,i){1&e&&te(0,cOe,26,25,"div",0)},directives:[rp,Xo],pipes:[al],styles:['.ticket-card[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;flex-direction:column;align-items:flex-start;margin-top:11px;border-radius:16px;border:solid 4px #1a1a1a;background:#1a1a1a}.ticket-card.archive[_ngcontent-%COMP%]{opacity:.7}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]{display:flex;width:100%;border-radius:12px;border:solid 1px #333;background:transparent;overflow:hidden;background:linear-gradient(180deg,#1a1a1a 0%,#1a1a1a 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:0;width:100%;height:100%;border-radius:inherit;background:linear-gradient(0deg,#1a1a1a 0%,rgba(26,26,26,0) 100%);pointer-events:none}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:1;padding:8px;width:100%;height:128px;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content.race[_ngcontent-%COMP%]{background:radial-gradient(136.54% 111.8% at 100% 0%,rgba(255,146,51,.15) 0%,rgba(26,26,26,0) 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content.mission[_ngcontent-%COMP%]{background:radial-gradient(136.54% 111.8% at 100% 0%,rgba(255,51,97,.15) 0%,rgba(26,26,26,0) 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content.tournament[_ngcontent-%COMP%]{background:radial-gradient(136.54% 111.8% at 100% 0%,rgba(133,51,255,.15) 0%,rgba(26,26,26,0) 100%)}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:100%}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;padding-bottom:4px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;color:#ebebeb;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;text-overflow:ellipsis;font-size:16px;font-weight:600;letter-spacing:-.24px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{overflow:hidden;color:#ccc;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;text-overflow:ellipsis;font-size:12px;font-weight:400}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{width:100%}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .start-date[_ngcontent-%COMP%], .ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .end-date[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;overflow:hidden;color:#8f8f8f;text-overflow:ellipsis;font-size:10px;font-weight:500;letter-spacing:-.15px}.ticket-card[_ngcontent-%COMP%]   .inner-border[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .end-date[_ngcontent-%COMP%]{padding-top:8px}'],changeDetection:0}),n})();function uOe(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe().$implicit;_(1),ie("",e("challenges.No Active Tickets. Yet!")," ")}}function dOe(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe().$implicit;_(1),ie("",e("challenges.No Archive Tickets. Yet!")," ")}}function hOe(n,t){if(1&n&&(I(0,"div",1),ye(1,"div",2),I(2,"div",3),te(3,uOe,2,1,"span",4),te(4,dOe,2,1,"span",4),R()()),2&n){const e=oe();_(3),W("ngIf",e.activeTab===e.ticketsTab.Active),_(1),W("ngIf",e.activeTab===e.ticketsTab.Archive)}}let Az=(()=>{class n{constructor(){this.ticketsTab=Ru}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-no-tickets"]],inputs:{activeTab:"activeTab"},decls:1,vars:0,consts:[["class","wrapper",4,"transloco"],[1,"wrapper"],[1,"no-tickets-image"],[1,"text"],[4,"ngIf"]],template:function(e,i){1&e&&te(0,hOe,5,2,"div",0)},directives:[rp,zt],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:32px 0 21px}.wrapper[_ngcontent-%COMP%]   .no-tickets-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.1e243c2f0def2ce9.svg) no-repeat center center/contain}.wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:400;line-height:21px;padding-top:11px}"],changeDetection:0}),n})();function fOe(n,t){if(1&n&&ye(0,"app-ticket-item",3),2&n){const e=t.$implicit,i=oe(3);W("ticket",e)("activeTab",i.ticketsTab.Active)}}function pOe(n,t){if(1&n&&(vt(0),te(1,fOe,1,2,"app-ticket-item",2),yt()),2&n){const e=oe().ngIf;_(1),W("ngForOf",e)}}function gOe(n,t){1&n&&ye(0,"app-no-tickets",4),2&n&&W("activeTab",oe(2).ticketsTab.Active)}function _Oe(n,t){if(1&n&&(vt(0),te(1,pOe,2,1,"ng-container",0),te(2,gOe,1,1,"app-no-tickets",1),yt()),2&n){const e=t.ngIf;_(1),W("ngIf",e.length>0),_(1),W("ngIf",0===e.length)}}let mOe=(()=>{class n{constructor(e){this.ticketsService=e,this.ticketsTab=Ru}}return n.\u0275fac=function(e){return new(e||n)(Z(K0))},n.\u0275cmp=_t({type:n,selectors:[["app-active-tickets-tab"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"activeTab",4,"ngIf"],[3,"ticket","activeTab",4,"ngFor","ngForOf"],[3,"ticket","activeTab"],[3,"activeTab"]],template:function(e,i){1&e&&(te(0,_Oe,3,2,"ng-container",0),K(1,"async")),2&e&&W("ngIf",J(1,1,i.ticketsService.activeTickets$))},directives:[zt,Kn,Iz,Az],pipes:[pr],styles:[""],changeDetection:0}),n})();function vOe(n,t){if(1&n&&ye(0,"app-ticket-item",3),2&n){const e=t.$implicit,i=oe(3);W("ticket",e)("activeTab",i.ticketsTab.Archive)}}function yOe(n,t){if(1&n&&(vt(0),te(1,vOe,1,2,"app-ticket-item",2),yt()),2&n){const e=oe().ngIf;_(1),W("ngForOf",e)}}function bOe(n,t){1&n&&ye(0,"app-no-tickets",4),2&n&&W("activeTab",oe(2).ticketsTab.Archive)}function SOe(n,t){if(1&n&&(vt(0),te(1,yOe,2,1,"ng-container",0),te(2,bOe,1,1,"app-no-tickets",1),yt()),2&n){const e=t.ngIf;_(1),W("ngIf",e.length>0),_(1),W("ngIf",0===e.length)}}function COe(n,t){1&n&&ye(0,"app-loader")}let EOe=(()=>{class n{constructor(e){this.ticketsService=e,this.ticketsArchive=[],this.ticketsTab=Ru,this.loaded=!1}ngOnInit(){this.ticketsService.getArchiveTickets()}}return n.\u0275fac=function(e){return new(e||n)(Z(K0))},n.\u0275cmp=_t({type:n,selectors:[["app-archive-tickets-tab"]],decls:3,vars:4,consts:[[4,"ngIf"],[3,"activeTab",4,"ngIf"],[3,"ticket","activeTab",4,"ngFor","ngForOf"],[3,"ticket","activeTab"],[3,"activeTab"]],template:function(e,i){1&e&&(te(0,SOe,3,2,"ng-container",0),K(1,"async"),te(2,COe,1,0,"app-loader",0)),2&e&&(W("ngIf",J(1,2,i.ticketsService.archiveTickets$)),_(2),W("ngIf",!i.ticketsService.loaded))},directives:[zt,Kn,Iz,Az,Gc],pipes:[pr],styles:[""],changeDetection:0}),n})();function TOe(n,t){1&n&&ye(0,"app-active-tickets-tab")}function wOe(n,t){1&n&&ye(0,"app-archive-tickets-tab")}function MOe(n,t){if(1&n){const e=Ot();I(0,"div",1)(1,"div",2)(2,"span"),Y(3),R(),I(4,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(5,"span",4),R()(),I(6,"div",5)(7,"div",6)(8,"app-navigation-switcher",7,8),Be("ngModelChange",function(r){return Tt(e),oe().activeTab=r}),R()(),te(10,TOe,1,0,"app-active-tickets-tab",9),te(11,wOe,1,0,"app-archive-tickets-tab",9),R()()}if(2&n){const e=t.$implicit,i=oe();_(3),ie("",e("challenges.Tickets")," "),_(5),W("ngModel",i.activeTab)("tabs",i.ticketsTabs)("translatePath","challenges"),_(2),W("ngIf",i.activeTab===i.ticketsTab.Active),_(1),W("ngIf",i.activeTab===i.ticketsTab.Archive)}}let OOe=(()=>{class n{constructor(e,i){this.activeModal=e,this.task=i,this.activeTab=Ru.Active,this.ticketsTab=Ru,this.ticketsTabs=Object.values(Ru)}close(){this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(Z(Ir),Z(wp))},n.\u0275cmp=_t({type:n,selectors:[["app-tickets"]],decls:1,vars:0,consts:[["class","modal-content",4,"transloco"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"navigation-wrapper"],[1,"navigation",3,"ngModel","tabs","translatePath","ngModelChange"],["betSwitcher",""],[4,"ngIf"]],template:function(e,i){1&e&&te(0,MOe,12,6,"div",0)},directives:[rp,lOe,ba,Zs,zt,mOe,EOe],styles:[".modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{--color-modal-body: #1f1f1f;--modal-challenge-body-padding: 11px 8px 8px;display:flex;flex-direction:column}"],changeDetection:0}),n})();const Dz=function(n){return{active:n}};var zc=(()=>(function(n){n.Players="PLAYERS",n.Prizes="PRIZES"}(zc||(zc={})),zc))();let POe=(()=>{class n{constructor(){this.typeChanged=new vn,this.activeOption=zc.Players,this.LeaderboardSwitcherOption=zc}ngAfterViewInit(){this.onOptionChange(this.activeOption)}onOptionChange(e){this.activeOption=e,this.typeChanged.emit(this.activeOption)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-leaderboard-switcher"]],inputs:{activeOption:"activeOption"},outputs:{typeChanged:"typeChanged"},decls:7,vars:12,consts:[[1,"switcher-container"],[1,"btn",3,"ngClass","click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"button",1),Be("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Players)}),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Prizes)}),Y(5),K(6,"transloco"),R()()),2&e&&(_(1),W("ngClass",Ii(8,Dz,i.activeOption===i.LeaderboardSwitcherOption.Players)),_(1),ie(" ",J(3,4,"challenges.Players")," "),_(2),W("ngClass",Ii(10,Dz,i.activeOption===i.LeaderboardSwitcherOption.Prizes)),_(1),ie(" ",J(6,6,"challenges.Prizes")," "))},directives:[Xo],pipes:[Jt],styles:[".switcher-container[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;width:100%;height:40px;min-width:192px;padding:4px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:32px;background:#1f1f1f}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;padding:4px 8px;align-items:center;justify-content:center;flex:1 0 0;height:32px;align-self:stretch;border-radius:64px;color:#525252;text-align:center;font-size:12px;font-weight:500;line-height:normal;background:transparent}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:4px}.switcher-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#ccc;background:#292929}"],changeDetection:0}),n})(),q0=(()=>{class n{constructor(e,i){this.stomp=e,this.challenge=i,this.loadedSubject=new Jn(!1),this.items=[],this.myItem=null,this.myPosition=0,this.loaded$=this.loadedSubject.asObservable(),this.stomp.response(hi.Leaderboard).pipe(cn(r=>200===r.code)).subscribe(r=>{this.items=[...r.leaders],null!==r.myPosition?(this.myItem=this.getMyItem(r.myPosition-1),this.myPosition=r.myPosition):(this.myItem=null,this.myPosition=0),this.loadedSubject.next(!0)})}sendRequestLeaderboard(){this.loadedSubject.next(!1),this.stomp.request(ds.Leaderboard,{challengeId:this.challenge.config.challengeId})}getMyItem(e){return e<this.challenge.config.leaderBoardSize?this.items[e]:this.items.pop()}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta),lt(hs))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),J0=(()=>{class n{constructor(e,i,r,o){this.stomp=e,this.notification=i,this.challenge=r,this.currencyPrecisionPipe=o,this.updateSubject=new Jn({left:void 0}),this.update$=this.updateSubject.asObservable(),this.updateItemsSubject=new Jn([]),this.updateItems$=this.updateItemsSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.tournamentList=[],this.challenge.updateData$.subscribe(s=>{this.items=[...s.prizes],this.challenge.config.typeUi===Ji.TOURNAMENT&&(this.setTournamentList(s.prizes),this.setTournamentItems(s.prizes),this.total=this.items.length),this.updateSubject.next({}),this.updateItemsSubject.next(this.items)}),this.stomp.response(hi.Prize).subscribe(s=>{this.updateSubject.next({left:s.left}),0===s.left&&this.notification.show(Kl.PrizesEnded,Ur.Warning,{challenge:this.challenge.config.typeUi})})}setTournamentList(e){this.tournamentList=e.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).reduce((i,r)=>{var o,s;let a="";return r.type===Vc.FreeBet&&(a=this.currencyPrecisionPipe.transform(r.cost)+(this.challenge.config.isCurrencyNameHidden?"":" "+this.challenge.config.currency)+" Freebet"),r.type===Vc.Special&&(a=r.name),(null===(o=r.position)||void 0===o?void 0:o.type)===Sd.Single&&i.push(a),(null===(s=r.position)||void 0===s?void 0:s.type)===Sd.Range&&i.push(...Array(r.position.end-r.position.start+1).fill(a)),i},[])}setTournamentItems(e){this.items=e.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).reduce((i,r)=>{var o,s;return(null===(o=r.position)||void 0===o?void 0:o.type)===Sd.Single&&i.push(r),(null===(s=r.position)||void 0===s?void 0:s.type)===Sd.Range&&i.push(...Array(r.position.end-r.position.start+1).fill(r)),i},[])}getPrizePosition(e){var i,r;return(null===(i=e.position)||void 0===i?void 0:i.type)===Sd.Single?e.position.value:(null===(r=e.position)||void 0===r?void 0:r.type)===Sd.Range?e.position.start:void 0}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta),lt(_T),lt(hs),lt(zn))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Mp=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.challenge=r,this.update=new Jn({challenge:Ar.Announced,player:nr.None,finishDate:void 0}),this.update$=this.update.asObservable(),this.challenge.updateData$.subscribe(o=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:o.challengeStatus,finishDate:o.config.endDate,player:o.playerStatus}))}),this.stomp.response(hi.PlayerStatus).subscribe(o=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:o.status})),o.status===nr.Won&&this.notification.show(Kl.ChallengeCompleted,Ur.Success,{challenge:this.challenge.config.typeUi}),o.status===nr.Joined&&this.stomp.request(ds.Leaderboard,{challengeId:this.challenge.config.challengeId}),o.status===nr.Rewarded&&this.notification.show(Kl.PrizePaid,Ur.Success,{challenge:this.challenge.config.typeUi}),o.status===nr.Kicked&&this.notification.show(Kl.PlayerKicked,Ur.Danger,{challenge:this.challenge.config.typeUi}),o.status===nr.OperatorKicked&&this.notification.show(Kl.ChallengeWasCanceled,Ur.Danger,{challenge:this.challenge.config.typeUi})}),this.stomp.response(hi.ChallengeStatus).subscribe(o=>{o.status===Ar.Paused&&this.notification.show(Kl.ChallengePaused,Ur.Danger,{challenge:this.challenge.config.typeUi}),o.status===Ar.Canceled&&this.notification.show(Kl.ChallengeWasCanceled,Ur.Danger,{challenge:this.challenge.config.typeUi}),this.update.getValue().challenge===Ar.Paused&&o.status===Ar.Active&&this.notification.show(Kl.ChallengeResumed,Ur.Success,{challenge:this.challenge.config.typeUi}),this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:o.status,finishDate:o.finishDate||this.update.getValue().finishDate}))})}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta),lt(_T),lt(hs))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function xOe(n,t){if(1&n&&(vt(0),I(1,"div",3),ye(2,"div",4),I(3,"div",5)(4,"div",6),Y(5),K(6,"transloco"),R(),I(7,"div",7),Y(8),K(9,"currencyPrecision"),R()()(),I(10,"div",3),ye(11,"div",8),I(12,"div",5)(13,"div",6),Y(14),K(15,"transloco"),R(),I(16,"div",7),Y(17),K(18,"number"),R()()(),yt()),2&n){const e=oe();_(5),ie(" ",J(6,4,"challenges.Points scored")," "),_(3),ie(" ",nn(9,6,e.pointsScored,2)," "),_(6),ie(" ",J(15,9,"challenges.Position")," "),_(3),ie(" ",e.playerStatus===e.PlayerStatus.None?"-":nn(18,11,e.position,"1.0-0")," ")}}function IOe(n,t){1&n&&ye(0,"app-loader",9),2&n&&W("size","small")}const AOe=function(n){return{leaderboard:n}};let Rz=(()=>{class n{constructor(){this.isLeaderboardLoaded=!1,this.pointsScored=0,this.playerStatus=nr.None,this.position=0,this.componentVariant="DEFAULT",this.PlayerStatus=nr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-tournament-statistics"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",playerStatus:"playerStatus",position:"position",componentVariant:"componentVariant"},decls:4,vars:5,consts:[[1,"statistics",3,"ngClass"],[4,"ngIf","ngIfElse"],["loader",""],[1,"statistics-card"],[1,"card-icon","icon-points-scored","flex-shrink-0"],[1,"card-info"],[1,"card-title"],[1,"card-value"],[1,"card-icon","icon-position","flex-shrink-0"],[1,"loader",3,"size"]],template:function(e,i){if(1&e&&(I(0,"div",0),te(1,xOe,19,14,"ng-container",1),te(2,IOe,1,1,"ng-template",null,2,Hs),R()),2&e){const r=Ki(3);W("ngClass",Ii(3,AOe,"LEADERBOARD"===i.componentVariant)),_(1),W("ngIf",i.isLeaderboardLoaded)("ngIfElse",r)}},directives:[Xo,zt,Gc],pipes:[Jt,zn,Ju],styles:[".statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #242424}.statistics.leaderboard[_ngcontent-%COMP%]{border-top:none;border-radius:9px;background:#1f1f1f}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]:first-child{border-right:1px solid #242424}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-points-scored[_ngcontent-%COMP%]{background-image:url(icon-points-scored.465af97703dee8c8.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-position[_ngcontent-%COMP%]{background-image:url(icon-position.d68664419e52f5a6.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:13px;font-weight:400;line-height:normal;margin-bottom:4px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:700;line-height:normal;letter-spacing:-.5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.statistics[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})(),DOe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-no-players"]],decls:7,vars:6,consts:[[1,"no-players"],[1,"no-players-text"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),Y(2),K(3,"transloco"),I(4,"p"),Y(5),K(6,"transloco"),R()()()),2&e&&(_(2),ie(" ",J(3,2,"challenges.No players yet :(")," "),_(3),ie(" ",J(6,4,"challenges.You can be one of the first!")," "))},pipes:[Jt],styles:[".no-players[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}"],changeDetection:0}),n})();function ROe(n,t){if(1&n&&(I(0,"div",4),ye(1,"img",5),Y(2," TOP "),R()),2&n){const e=oe();_(1),W("srcset",e.getSrcSet("medal-gold.png","medal-gold@2x.png","medal-gold@3x.png"),pn)("src",e.getFullImgPath("medal-gold.png"),pn)}}function NOe(n,t){if(1&n&&(I(0,"div",4),ye(1,"img",5),Y(2," TOP "),R()),2&n){const e=oe();_(1),W("srcset",e.getSrcSet("medal-silver.png","medal-silver@2x.png","medal-silver@3x.png"),pn)("src",e.getFullImgPath("join.png"),pn)}}function kOe(n,t){if(1&n&&(I(0,"div",4),ye(1,"img",5),Y(2," TOP "),R()),2&n){const e=oe();_(1),W("srcset",e.getSrcSet("medal-bronze.png","medal-bronze@2x.png","medal-bronze@3x.png"),pn)("src",e.getFullImgPath("medal-bronze.png"),pn)}}function LOe(n,t){if(1&n&&(I(0,"div",6),Y(1),R()),2&n){const e=oe();_(1),ie(" ",e.placeNumber," ")}}let Nz=(()=>{class n{get placeNumber(){return this.leaderIndex+1}getSrcSet(e,i,r){return`${this.getFullImgPath(e)}, ${this.getFullImgPath(i)} 2x, ${this.getFullImgPath(r)} 3x`}getFullImgPath(e){return"assets/challenges/images/"+e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-leaderboard-player-place"]],inputs:{leaderIndex:"leaderIndex"},decls:6,vars:4,consts:[[1,"leaderboard-place-container"],[3,"ngSwitch"],["class","place-number top",4,"ngSwitchCase"],["class","place-number",4,"ngSwitchDefault"],[1,"place-number","top"],["draggable","false","alt","",3,"srcset","src"],[1,"place-number"]],template:function(e,i){1&e&&(I(0,"div",0),vt(1,1),te(2,ROe,3,2,"div",2),te(3,NOe,3,2,"div",2),te(4,kOe,3,2,"div",2),te(5,LOe,2,1,"div",3),yt(),R()),2&e&&(_(1),W("ngSwitch",i.placeNumber),_(1),W("ngSwitchCase",1),_(1),W("ngSwitchCase",2),_(1),W("ngSwitchCase",3))},directives:[Ko,Ts,du],styles:[".leaderboard-place-container[_ngcontent-%COMP%]{display:flex;min-width:52px;height:24px;padding:4px;justify-content:center;align-items:center;border-radius:32px;background:#242424}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]{width:100%;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:10px;font-weight:500;letter-spacing:-.25px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;-o-object-fit:cover;object-fit:cover;margin-right:4px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%], .leaderboard-place-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{color:#a3a3a3}"],changeDetection:0}),n})();function FOe(n,t){if(1&n&&ye(0,"img",3),2&n){const e=oe();W("src",e.getAvatar(e.avatar),pn)}}function BOe(n,t){1&n&&ye(0,"img",4)}let UOe=(()=>{class n{getAvatar(e){return ga(ko_avatarPath+e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-leaderboard-player-avatar"]],inputs:{avatar:"avatar"},decls:3,vars:2,consts:[[1,"avatar-container"],["draggable","false","class","d-inline-block","alt","",3,"src",4,"ngIf"],["draggable","false","class","d-inline-block","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",4,"ngIf"],["draggable","false","alt","",1,"d-inline-block",3,"src"],["draggable","false","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",1,"d-inline-block"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,FOe,1,1,"img",1),te(2,BOe,1,0,"img",2),R()),2&e&&(_(1),W("ngIf",i.avatar),_(1),W("ngIf",!i.avatar))},directives:[zt],styles:[".avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:24px}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),n})();function jOe(n,t){1&n&&ye(0,"app-leaderboard-player-place",6),2&n&&W("leaderIndex",oe().leaderboardIndex)}const GOe=function(n){return{complete:n}};function HOe(n,t){if(1&n&&(I(0,"div",7),Y(1),K(2,"currencyPrecision"),R()),2&n){const e=oe();W("ngClass",Ii(5,GOe,100===e.leaderboardItem.progress)),_(1),ie(" ",nn(2,2,e.leaderboardItem.progress,2),"% ")}}function VOe(n,t){1&n&&(vt(0),Y(1,"-"),yt())}function zOe(n,t){if(1&n&&(vt(0),Y(1),K(2,"currencyPrecision"),yt()),2&n){const e=oe(2);_(1),dt(nn(2,1,e.leaderboardItem.progress,2))}}function WOe(n,t){if(1&n&&(I(0,"div",8),te(1,VOe,2,0,"ng-container",9),te(2,zOe,3,4,"ng-container",9),R()),2&n){const e=oe();_(1),W("ngIf",!e.isChallengeActive),_(1),W("ngIf",e.isChallengeActive)}}const YOe=function(n){return{activeUser:n}};let KD=(()=>{class n{constructor(){this.isCurrentUserItem=!1,this.componentVariant=Ji.RACE,this.ChallengeTypeUI=Ji}get isChallengeActive(){return this.challengeStatus!==Ar.Announced}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-leaderboard-item"]],inputs:{leaderboardIndex:"leaderboardIndex",leaderboardItem:"leaderboardItem",isCurrentUserItem:"isCurrentUserItem",challengeStatus:"challengeStatus",componentVariant:"componentVariant"},decls:8,vars:10,consts:[[1,"leaderboard-item",3,"ngClass"],[3,"leaderIndex",4,"ngIf"],[1,"leaderboard-avatar",3,"avatar"],[1,"leaderboard-name"],["class","leaderboard-percentage",3,"ngClass",4,"ngIf"],["class","leaderboard-score",4,"ngIf"],[3,"leaderIndex"],[1,"leaderboard-percentage",3,"ngClass"],[1,"leaderboard-score"],[4,"ngIf"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,jOe,1,1,"app-leaderboard-player-place",1),ye(2,"app-leaderboard-player-avatar",2),I(3,"div",3),Y(4),K(5,"maskedUsername"),R(),te(6,HOe,3,7,"div",4),te(7,WOe,3,2,"div",5),R()),2&e&&(W("ngClass",Ii(8,YOe,i.isCurrentUserItem)),_(1),W("ngIf",i.isChallengeActive),_(1),W("avatar",i.leaderboardItem.avatar),_(2),ie(" ",J(5,6,i.leaderboardItem.name)," "),_(2),W("ngIf",i.componentVariant!==i.ChallengeTypeUI.TOURNAMENT),_(1),W("ngIf",i.componentVariant===i.ChallengeTypeUI.TOURNAMENT))},directives:[Xo,zt,Nz,UOe],pipes:[pa,zn],styles:[".leaderboard-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.leaderboard-item.activeUser[_ngcontent-%COMP%]{color:#ffde5c;border-radius:8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-avatar[_ngcontent-%COMP%]{margin:0 8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage[_ngcontent-%COMP%]{width:64px;text-align:right;margin-left:16px;font-size:14px;font-weight:500}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage.complete[_ngcontent-%COMP%]{color:#79e279}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-score[_ngcontent-%COMP%]{text-align:right;font-size:14px;font-weight:500}"],changeDetection:0}),n})();const $Oe=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function XOe(n,t){if(1&n&&ye(0,"app-leaderboard-item",4),2&n){const e=t.$implicit,i=t.index,r=oe();W("isCurrentUserItem",r.myIndex===i)("componentVariant",r.ChallengeTypeUI.TOURNAMENT)("challengeStatus",r.challengeStatus)("leaderboardIndex",i)("leaderboardItem",e)("ngClass",WO(6,$Oe,1===r.leaders.length,i-1===r.myIndex,r.myIndex&&r.myIndex>0&&i+1===r.myIndex,i>=r.maxListLength))}}const KOe=function(n){return{visible:n}};let Op=class{constructor(t,e){this.cd=t,this.hostElRef=e,this.leaders=[],this.myIndex=null,this.maxListLength=100,this.challengeStatus=Ar.Announced,this.isScrollToTopVisible=!1,this.ChallengeTypeUI=Ji,this.LEADERBOARD_ITEM_HEIGHT=40}ngAfterViewInit(){this.onLeaderboardLoaded()}scrollToTop(){this.hostElRef.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaders.length||Li(this.hostElRef.nativeElement,"scroll").pipe(Va(200),cn(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT),Gt(this)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};Op.\u0275fac=function(t){return new(t||Op)(Z(Rn),Z(zi))},Op.\u0275cmp=_t({type:Op,selectors:[["app-leaders-list"]],inputs:{leaders:"leaders",myIndex:"myIndex",maxListLength:"maxListLength",challengeStatus:"challengeStatus"},decls:6,vars:7,consts:[[1,"leaderboard-container"],["class","leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"back-to-top",3,"ngClass"],[1,"btn",3,"click"],[1,"leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,XOe,1,11,"app-leaderboard-item",1),R(),I(2,"div",2)(3,"button",3),Be("click",function(){return e.scrollToTop()}),Y(4),K(5,"transloco"),R()()),2&t&&(_(1),W("ngForOf",e.leaders),_(1),W("ngClass",Ii(5,KOe,e.isScrollToTopVisible)),_(2),ie(" ",J(5,3,"challenges.action.Back to top")," "))},directives:[Kn,KD,Xo],pipes:[Jt],styles:[".leaderboard-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]{width:100%}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.outsideList[_ngcontent-%COMP%]{display:none}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:not(.afterActiveUser), .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.singleListItem[_ngcontent-%COMP%], .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child.beforeActiveUser, .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.back-to-top[_ngcontent-%COMP%]{position:absolute;visibility:hidden;bottom:16px;left:0;z-index:100;width:100%;transition:opacity .3s}.back-to-top.visible[_ngcontent-%COMP%]{visibility:visible}.back-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;margin:0 auto;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}"],changeDetection:0}),Op=qe([si()],Op);let qOe=(()=>{class n{constructor(){this.prizeName="",this.prizeIndex=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-prize-item"]],inputs:{prizeName:"prizeName",prizeIndex:"prizeIndex"},decls:4,vars:2,consts:[[1,"prize-item"],[3,"leaderIndex"],[1,"prize-name"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"app-leaderboard-player-place",1),I(2,"div",2),Y(3),R()()),2&e&&(_(1),W("leaderIndex",i.prizeIndex),_(2),ie(" ",i.prizeName," "))},directives:[Nz],styles:[".prize-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.prize-item[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all;margin-left:8px}"],changeDetection:0}),n})();const JOe=function(n){return{singleListItem:n}};function ZOe(n,t){if(1&n&&ye(0,"app-prize-item",2),2&n){const e=t.$implicit,i=t.index,r=oe();W("ngClass",Ii(3,JOe,1===r.prizes.length))("prizeIndex",i)("prizeName",e)}}let QOe=(()=>{class n{constructor(){this.prizes=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-prizes-list"]],inputs:{prizes:"prizes"},decls:2,vars:1,consts:[[1,"prizes-container"],[3,"ngClass","prizeIndex","prizeName",4,"ngFor","ngForOf"],[3,"ngClass","prizeIndex","prizeName"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,ZOe,1,5,"app-prize-item",1),R()),2&e&&(_(1),W("ngForOf",i.prizes))},directives:[Kn,qOe,Xo],styles:[".prizes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child.singleListItem{border-radius:8px}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}"],changeDetection:0}),n})();function ePe(n,t){if(1&n&&(I(0,"div",6),ye(1,"app-leaderboard-item",7),R()),2&n){const e=oe(2);_(1),W("leaderboardItem",e.activePlayerItem)("componentVariant",e.ChallengeTypeUI.TOURNAMENT)("leaderboardIndex",e.myIndex)("challengeStatus",e.challengeStatus)("isCurrentUserItem",!0)}}function tPe(n,t){if(1&n&&(vt(0),te(1,ePe,2,5,"div",4),I(2,"div",5),Y(3),K(4,"transloco"),R(),yt()),2&n){const e=oe();_(1),W("ngIf",!!e.activePlayerItem&&e.playerStatus!==e.PlayerStatus.None),_(2),Hn(" ",J(4,3,"challenges.Total Players")," - ",e.totalPlayers," ")}}function nPe(n,t){if(1&n&&(I(0,"div",5),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),Hn(" ",J(2,2,"challenges.Total Prizes")," - ",e.totalPrizes," ")}}let iPe=(()=>{class n{constructor(){this.activeSwitcherOption=zc.Players,this.totalPrizes=0,this.totalPlayers=0,this.playerStatus=nr.None,this.activePlayerItem=null,this.myIndex=null,this.challengeStatus=Ar.Announced,this.LeaderboardSwitcherOption=zc,this.ChallengeTypeUI=Ji,this.PlayerStatus=nr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-leaderboard-footer"]],inputs:{activeSwitcherOption:"activeSwitcherOption",totalPrizes:"totalPrizes",totalPlayers:"totalPlayers",playerStatus:"playerStatus",activePlayerItem:"activePlayerItem",myIndex:"myIndex",challengeStatus:"challengeStatus"},decls:4,vars:2,consts:[[1,"leaderboard-footer"],[1,"blur-block"],[4,"ngIf"],["class","total-items",4,"ngIf"],["class","active-user-container",4,"ngIf"],[1,"total-items"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","componentVariant","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"div",1),te(2,tPe,5,5,"ng-container",2),te(3,nPe,3,4,"div",3),R()),2&e&&(_(2),W("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Players),_(1),W("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Prizes))},directives:[zt,KD],pipes:[Jt],styles:[".leaderboard-footer[_ngcontent-%COMP%]{position:relative;margin:0 8px}.leaderboard-footer[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;top:-80px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]{margin-top:16px}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{border-radius:8px}.leaderboard-footer[_ngcontent-%COMP%]   .total-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;margin:16px 0;background:#1a1a1a;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),n})();function rPe(n,t){if(1&n&&(I(0,"span",8),Y(1),R()),2&n){const e=oe(2);_(1),ie("(Top-",e.topValue,")")}}function oPe(n,t){1&n&&ye(0,"app-loader",9)}function sPe(n,t){if(1&n&&ye(0,"app-tournament-statistics",17),2&n){const e=oe(2).ngIf,i=oe();W("playerStatus",e.statusUpdate.player)("pointsScored",e.taskUpdate.totalProgress)("isLeaderboardLoaded",e.leaderBoardLoaded)("componentVariant","LEADERBOARD")("position",i.leaderboardService.myPosition)}}function aPe(n,t){1&n&&ye(0,"app-no-players",20)}function lPe(n,t){if(1&n&&ye(0,"app-leaders-list",21),2&n){const e=oe(3).ngIf,i=oe();W("challengeStatus",e.statusUpdate.challenge)("leaders",i.leaderboardService.items)("maxListLength",i.maxListLength)("myIndex",i.leaderboardService.myPosition-1)}}function cPe(n,t){if(1&n&&(vt(0),te(1,aPe,1,0,"app-no-players",18),te(2,lPe,1,4,"app-leaders-list",19),yt()),2&n){const e=oe(3);_(1),W("ngIf",!e.leaderboardService.items.length),_(1),W("ngIf",e.leaderboardService.items.length)}}function uPe(n,t){1&n&&ye(0,"app-prizes-list",22),2&n&&W("prizes",oe(3).prizeService.tournamentList)}function dPe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",10)(2,"app-leaderboard-switcher",11),Be("typeChanged",function(r){return Tt(e),oe(2).switchTab(r)}),R(),te(3,sPe,1,5,"app-tournament-statistics",12),vt(4,13),te(5,cPe,3,2,"ng-container",14),te(6,uPe,1,1,"app-prizes-list",15),yt(),R(),ye(7,"app-leaderboard-footer",16),yt()}if(2&n){const e=oe().ngIf,i=oe();_(2),W("activeOption",i.activeListTab),_(1),W("ngIf",e.statusUpdate.player!==i.PlayerStatus.None),_(1),W("ngSwitch",i.activeListTab),_(1),W("ngSwitchCase",i.LeaderboardSwitcherOption.Players),_(1),W("ngSwitchCase",i.LeaderboardSwitcherOption.Prizes),_(1),W("activeSwitcherOption",i.activeListTab)("myIndex",i.leaderboardService.myPosition-1)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("activePlayerItem",i.leaderboardService.myItem)("totalPrizes",i.prizeService.total)("totalPlayers",e.challengeStateUpdate.joinCount)}}function hPe(n,t){if(1&n){const e=Ot();I(0,"div",1)(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),te(5,rPe,2,1,"span",3),I(6,"button",4),Be("click",function(){return Tt(e),oe().close()}),ye(7,"span",5),R()(),te(8,oPe,1,0,"app-loader",6),te(9,dPe,8,12,"ng-container",7),R()}if(2&n){const e=t.ngIf,i=oe();_(3),dt(J(4,4,"challenges.Leaderboard")),_(2),W("ngIf",i.challenge.update.joinCount>=i.topValue),_(3),W("ngIf",!e.leaderBoardLoaded),_(1),W("ngIf",e.leaderBoardLoaded)}}let Nu=class{constructor(t,e,i,r,o,s){this.challenge=t,this.leaderboardService=e,this.prizeService=i,this.task=r,this.status=o,this.activeModal=s,this.topValue=100,this.ChallengeTypeUI=Ji,this.PlayerStatus=nr,this.maxListLength=this.challenge.config.leaderBoardSize,this.activeListTab=zc.Players,this.LeaderboardSwitcherOption=zc,this.data$=xu({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,prizeUpdate:this.prizeService.update$,leaderBoardLoaded:this.leaderboardService.loaded$})}ngOnInit(){this.challenge.updateState$.pipe(cn(t=>!t.isChallengeAvailable),Gt(this)).subscribe(()=>this.close())}close(){this.activeModal.close()}switchTab(t){this.activeListTab=t}};Nu.\u0275fac=function(t){return new(t||Nu)(Z(hs),Z(q0),Z(J0),Z(wp),Z(Mp),Z(Ir))},Nu.\u0275cmp=_t({type:Nu,selectors:[["app-leaderboard"]],decls:2,vars:3,consts:[["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","loader",4,"ngIf"],[4,"ngIf"],[1,"top-description"],[1,"loader"],[1,"modal-body"],[1,"leaderboard-switcher",3,"activeOption","typeChanged"],["class","tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","leaderboard-list",3,"prizes",4,"ngSwitchCase"],[3,"activeSwitcherOption","myIndex","challengeStatus","playerStatus","activePlayerItem","totalPrizes","totalPlayers"],[1,"tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position"],["class","h-100",4,"ngIf"],["class","leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex",4,"ngIf"],[1,"h-100"],[1,"leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex"],[1,"leaderboard-list",3,"prizes"]],template:function(t,e){1&t&&(te(0,hPe,10,6,"div",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.data$))},directives:[zt,Gc,POe,Rz,Ko,Ts,DOe,Op,QOe,iPe],pipes:[pr,Jt],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;height:100%;margin:auto 0;justify-content:center;align-items:center;flex:1 0 0;align-self:stretch}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .leaderboard-switcher[_ngcontent-%COMP%]{display:block;margin:8px 0 0}.modal-content[_ngcontent-%COMP%]   .tournament-statistics[_ngcontent-%COMP%]{display:block;margin:10px 0 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;border-radius:8px;margin-top:10px;height:100%}"],changeDetection:0}),Nu=qe([si()],Nu);let Mh=(()=>{class n{constructor(e){this.ngbModal=e,this.defaultOptions={windowClass:"modal-challenge"}}open(e,i){e!==Nu?this.ngbModal.open(e,Object.assign(Object.assign({},this.defaultOptions),null!=i?i:{})):this.ngbModal.open(Nu,Object.assign({},this.defaultOptions)).componentInstance.activeListTab=i}}return n.\u0275fac=function(e){return new(e||n)(lt(G0))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kz=(()=>{class n{constructor(){this.isChallengesEnabled=!1,this.isChatEnabled=!1}init(e){Object.assign(this,e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fPe(n,t){if(1&n&&(I(0,"div",35),Y(1),R()),2&n){const e=oe(2);_(1),ie(" ",e.freeBets.freeBetsCount," ")}}function pPe(n,t){if(1&n){const e=Ot();I(0,"div",32),Be("click",function(){return Tt(e),oe().onFreeBetsManagementOpen()}),I(1,"div",12)(2,"div",13),ye(3,"div",33),R(),I(4,"div",25),Y(5),K(6,"transloco"),R(),te(7,fPe,2,1,"div",34),R()()}if(2&n){const e=oe();W("disabled",e.isBetSetted),_(5),ie(" ",J(6,3,"shared.free_bets")," "),_(2),W("ngIf",e.freeBets.freeBetsCount>0)}}function gPe(n,t){if(1&n){const e=Ot();I(0,"div",23),Be("click",function(){return Tt(e),oe().onChallengeTicketsOpen()}),I(1,"div",12)(2,"div",13),ye(3,"div",36),R(),I(4,"div",37),Y(5),K(6,"transloco"),R()()()}2&n&&(_(5),ie(" ",J(6,1,"shared.Challenge Tickets")," "))}function _Pe(n,t){if(1&n){const e=Ot();I(0,"div",23),Be("click",function(){return Tt(e),oe().onOtherSettingsOpen()}),I(1,"div",12)(2,"div",13),ye(3,"div",38),R(),I(4,"div",37),Y(5),K(6,"transloco"),R()()()}2&n&&(_(5),ie(" ",J(6,1,"shared.Other_Settings")," "))}const mPe=function(n){return{value:n}};function vPe(n,t){if(1&n){const e=Ot();I(0,"div",23),Be("click",function(){return Tt(e),oe().onChangeServer()}),I(1,"div",12)(2,"div",13),ye(3,"div",39),R(),I(4,"div",37),Y(5),K(6,"transloco"),R()()()}if(2&n){const e=oe();_(5),ie(" ",nn(6,1,"shared.Game Room: Room #",Ii(4,mPe,e.multiServer.currentServerId))," ")}}function yPe(n,t){if(1&n){const e=Ot();I(0,"a",40),Be("click",function(){return Tt(e),oe().onBackToHome()}),ye(1,"div",41),I(2,"span"),Y(3),K(4,"transloco"),R()()}2&n&&(_(3),dt(J(4,1,"shared.home")))}let Pp=class{constructor(t,e,i,r,o,s,a,l,c,u,d,f,p,T){var x,k;this.connector=t,this.app=e,this.gameConfig=i,this.user=r,this.betControl=o,this.freeBets=s,this.proxy=a,this.ifc=l,this.cd=c,this.modal=u,this.urlParams=d,this.multiServer=f,this.modalHandlerService=p,this.challengeConfigService=T,this.returnUrl=null!==(x=this.urlParams.returnUrl)&&void 0!==x?x:"",this.accountHistoryUrl=null!==(k=this.urlParams.accountHistoryUrl)&&void 0!==k?k:""}ngOnInit(){this.ifc.receive$(Mr.OpenHelp).pipe(Gt(this)).subscribe(()=>this.onRulesOpen()),this.ifc.receive$(Mr.SetSound).pipe(Gt(this)).subscribe(t=>this.setSetting(Mr.SetSound,t.value)),this.ifc.receive$(Mr.SetMusic).pipe(Gt(this)).subscribe(t=>this.setSetting(Mr.SetMusic,t.value)),this.ifc.receive$(Mr.SetAnimation).pipe(Gt(this)).subscribe(t=>this.setSetting(Mr.SetAnimation,t.value))}setSetting(t,e){switch(t){case Mr.SetSound:this.user.settings.sound=e;break;case Mr.SetMusic:this.user.settings.music=e;break;case Mr.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get isBetSetted(){return this.betControl.isBetSetted}get avatar(){return ga(ko_avatarPath+this.user.avatar)}onChangeAvatar(){this.modal.open(ei.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(ei.freeBets)}onFairnessOpen(){this.modal.open(ei.fairnessSettings)}onRulesOpen(){this.modal.open(ei.rules)}onMyBetsHistoryOpen(){this.gameConfig.accountHistoryActionType===op.IfcEvent?this.ifc.send(vi.AccountHistory,{accountHistoryUrl:this.accountHistoryUrl}):this.gameConfig.accountHistoryActionType===op.NewTab&&this.accountHistoryUrl?window.open(this.accountHistoryUrl,"_blank"):this.accountHistoryUrl?window.open(this.accountHistoryUrl,"_top"):this.modal.open(ei.myBetsHistory)}onGameLimitsOpen(){this.modal.open(ei.gameLimits)}onOpenHelp(){this.modal.open(ei.quickHelp)}onOtherSettingsOpen(){this.modal.open(ei.otherSettings)}onBackToHome(){if(this.gameConfig.backToHomeActionType===sp.IfcEvent)return this.proxy.sendBackToHome(this.returnUrl),void this.ifc.send(vi.BackToHome,{returnUrl:this.returnUrl});window.open(this.returnUrl,"_top")}onChangeServer(){this.modal.open(ei.changeServer)}onChallengeTicketsOpen(){this.modalHandlerService.open(OOe)}};function bPe(n,t){if(1&n&&(I(0,"a",13),ye(1,"img",14),R()),2&n){const e=oe(2);Lt("disabled",null===e.urlParams.returnUrl),W("href",e.homeUrl,pn),_(1),W("src",e.brandLogo,pn)}}function SPe(n,t){if(1&n&&(I(0,"span",15),Y(1),R()),2&n){const e=oe(2);_(1),dt(e.gameConfig.currency)}}function CPe(n,t){1&n&&os(0)}function EPe(n,t){if(1&n){const e=Ot();I(0,"div",16),Be("click",function(){Tt(e);const r=oe(2);return r.chatFeatureService.isOpen=!r.chatFeatureService.isOpen}),ye(1,"div",17),R()}}function TPe(n,t){if(1&n&&(I(0,"div",3)(1,"div",4),te(2,bPe,2,4,"a",5),ye(3,"div",6),R(),I(4,"div",7)(5,"div",8)(6,"span",9),Y(7),K(8,"currencyPrecision"),K(9,"async"),R(),te(10,SPe,2,1,"span",10),R(),te(11,CPe,1,0,"ng-container",11),te(12,EPe,2,0,"div",12),K(13,"async"),R()()),2&n){const e=oe(),i=Ki(3);_(2),W("ngIf",e.app.clientConfig.brandLogo),_(1),Lt("game-logo-ab",e.app.isBrandAdjarabet),_(4),dt(J(8,7,J(9,9,e.userBalance$))),_(3),W("ngIf",!e.gameConfig.isCurrencyNameHidden),_(1),W("ngTemplateOutlet",i),_(1),W("ngIf",J(13,11,e.chatFeatureService.isChatEnabled$)&&!e.chatFeatureService.isOpen)}}function wPe(n,t){1&n&&os(0)}function MPe(n,t){if(1&n&&(I(0,"div",18),te(1,wPe,1,0,"ng-container",11),R()),2&n){oe();const e=Ki(3);_(1),W("ngTemplateOutlet",e)}}function OPe(n,t){if(1&n&&(I(0,"div",24),Y(1),R()),2&n){const e=oe(2);_(1),ie(" ",e.freeBets.freeBetsCount," ")}}function PPe(n,t){if(1&n&&(I(0,"div",19)(1,"div",20),ye(2,"div",21),te(3,OPe,2,1,"div",22),I(4,"div",23),ye(5,"app-settings-menu"),R()()()),2&n){const e=oe();W("placement","bottom-right"),_(3),W("ngIf",e.freeBets.freeBetsCount>0)}}Pp.\u0275fac=function(t){return new(t||Pp)(Z(qi),Z(Yi),Z(Yn),Z(Bc),Z(Au),Z(Iu),Z(YE),Z(zs),Z(Rn),Z(va),Z(jl),Z(mm),Z(Mh),Z(kz))},Pp.\u0275cmp=_t({type:Pp,selectors:[["app-settings-menu"]],decls:86,vars:41,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],["draggable","false",3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],[1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["ngbDropdownItem","","class","list-menu-item info-item",3,"disabled","click",4,"ngIf"],["ngbDropdownItem","","class","list-menu-item info-item",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","history-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","limits-icon"],[1,"icon","help-icon"],[1,"icon","rule-icon"],[1,"icon","fair-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"disabled","click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","challenge-ticket-icon"],[1,"title-text-info"],[1,"icon","other-icon"],[1,"icon","multi-server-icon"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ye(4,"img",4),R(),I(5,"div",5),Y(6),R()(),I(7,"div",6),Be("click",function(){return e.onChangeAvatar()}),ye(8,"div",7),I(9,"div",8)(10,"div"),Y(11),K(12,"transloco"),R(),I(13,"div"),Y(14),K(15,"transloco"),R()()()(),I(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13),ye(21,"div",14),R(),I(22,"span",15),Y(23),K(24,"transloco"),R()(),I(25,"div",16)(26,"app-ui-switcher",17),Be("ngModelChange",function(r){return e.user.settings.sound=r}),R()()(),I(27,"div",11)(28,"div",12)(29,"div",13),ye(30,"div",18),R(),I(31,"span",15),Y(32),K(33,"transloco"),R()(),I(34,"div",16)(35,"app-ui-switcher",17),Be("ngModelChange",function(r){return e.user.settings.music=r}),R()()(),I(36,"div",11)(37,"div",12)(38,"div",13),ye(39,"div",19),R(),I(40,"span",15),Y(41),K(42,"transloco"),R()(),I(43,"div",16)(44,"app-ui-switcher",17),Be("ngModelChange",function(r){return e.user.settings.animation=r}),R()()()(),I(45,"div",20),te(46,pPe,8,5,"div",21),te(47,gPe,7,3,"div",22),I(48,"div",23),Be("click",function(){return e.onMyBetsHistoryOpen()}),I(49,"div",12)(50,"div",13),ye(51,"div",24),R(),I(52,"div",25),Y(53),K(54,"transloco"),R()()(),I(55,"div",23),Be("click",function(){return e.onGameLimitsOpen()}),I(56,"div",12)(57,"div",13),ye(58,"div",26),R(),I(59,"div",25),Y(60),K(61,"transloco"),R()()(),I(62,"div",23),Be("click",function(){return e.onOpenHelp()}),I(63,"div",12)(64,"div",13),ye(65,"div",27),R(),I(66,"div",25),Y(67),K(68,"transloco"),R()()(),I(69,"div",23),Be("click",function(){return e.onRulesOpen()}),I(70,"div",12)(71,"div",13),ye(72,"div",28),R(),I(73,"div",25),Y(74),K(75,"transloco"),R()()(),I(76,"div",23),Be("click",function(){return e.onFairnessOpen()}),I(77,"div",12)(78,"div",13),ye(79,"div",29),R(),I(80,"div",25),Y(81),K(82,"transloco"),R()()(),te(83,_Pe,7,3,"div",30),te(84,vPe,7,6,"div",30),R()(),te(85,yPe,5,3,"a",31),R()),2&t&&(_(4),W("src",e.avatar,pn)("alt",e.avatar),_(2),dt(e.user.username),_(5),dt(J(12,21,"shared.change")),_(3),dt(J(15,23,"shared.avatar")),_(9),dt(J(24,25,"shared.sound")),_(3),W("ngModel",e.user.settings.sound),_(6),dt(J(33,27,"shared.music")),_(3),W("ngModel",e.user.settings.music),_(6),dt(J(42,29,"shared.animation")),_(3),W("ngModel",e.user.settings.animation),_(2),W("ngIf",e.app.isFreeBetsEnabled),_(1),W("ngIf",(null==e.gameConfig.engagementTools?null:e.gameConfig.engagementTools.host)&&e.challengeConfigService.isChallengesEnabled),_(6),ie(" ",J(54,31,"shared.my_bet_history")," "),_(7),ie(" ",J(61,33,"shared.game_limits")," "),_(7),ie(" ",J(68,35,"shared.how_to_play")," "),_(7),ie(" ",J(75,37,"shared.game_rules")," "),_(7),ie(" ",J(82,39,"shared.provably_fair_settings")," "),_(2),W("ngIf",e.user.settings.isOtherEnabled),_(1),W("ngIf",e.multiServer.isMultiServer&&e.gameConfig.isPodSelectAvailable),_(1),W("ngIf",e.urlParams.returnUrl))},directives:[GD,X0,ba,Zs,zt],pipes:[Jt],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.4789b256e5464f98.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item.disabled[_ngcontent-%COMP%]{opacity:.5}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.354a395bdd5bff4a.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.4cfceb698f352c5c.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.ab8f69f184d5fae8.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.e1cef8dadb898f11.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .challenge-ticket-icon[_ngcontent-%COMP%]{background:url(challenge-ticket.a4b1a0ad7f10f1fd.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.0c5beb8137f06e6d.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.f240a948b3e6f2f6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42f4d875e3b84de6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.5c82c8e4688aa90d.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.9ac24a8403a5c08f.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .multi-server-icon[_ngcontent-%COMP%]{background:url(multi-server.c9e1d3c5d7ebef88.svg) no-repeat center center;width:20px;height:20px;margin:0 5px 5px 0}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.6b1098bdadd19cef.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),Pp=qe([si()],Pp);let xp=class{constructor(t,e,i,r,o,s,a,l,c,u){this.mainService=t,this.chatFeatureService=e,this.modal=i,this.cd=r,this.freeBets=o,this.ifc=s,this.userService=a,this.app=l,this.gameConfig=c,this.urlParams=u,this.userBalance$=this.userService.balance$.pipe(Ae(d=>d>=0?d:0))}ngOnInit(){this.chatFeatureService.isOpen$.pipe(Gt(this)).subscribe(()=>this.cd.detectChanges()),this.freeBets.onUpdate$.pipe(Gt(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.receive$(Mr.AviaPortToggleGameMenu).pipe(Gt(this)).subscribe(()=>{this.onToggleGameMenu(),this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return ga(ko_brandPath+this.app.clientConfig.brandLogo)}onOpenHelp(){this.modal.open(ei.quickHelp)}onToggleGameMenu(){this.gameMenu.isOpen()?this.gameMenu.close():(this.gameMenu.open(),this.urlParams.aviaport&&(this.chatFeatureService.isOpen=!1))}};xp.\u0275fac=function(t){return new(t||xp)(Z($r),Z(pl),Z(va),Z(Rn),Z(Iu),Z(zs),Z(Bc),Z(Yi),Z(Yn),Z(jl))},xp.\u0275cmp=_t({type:xp,selectors:[["app-header"]],viewQuery:function(t,e){if(1&t&&fo(Th,5),2&t){let i;ii(i=ri())&&(e.gameMenu=i.first)}},decls:4,vars:2,consts:[["class","header",4,"ngIf"],["class","hidden-header",4,"ngIf"],["userMenu",""],[1,"header"],[1,"header-left"],["target","_top","class","main-page-btn position-relative",3,"href","disabled",4,"ngIf"],[1,"game-logo"],[1,"header-right"],[1,"balance"],[1,"balance-amount"],["class","balance-currency",4,"ngIf"],[4,"ngTemplateOutlet"],["class","chat-i-wrapper disabled-on-game-focused",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative",3,"href"],["draggable","false","alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"balance-currency"],[1,"chat-i-wrapper","disabled-on-game-focused",3,"click"],[1,"chat-i"],[1,"hidden-header"],["ngbDropdown","",1,"user-wrapper",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],[1,"badge","badge-danger","badge-notification","position-absolute"]],template:function(t,e){1&t&&(te(0,TPe,14,13,"div",0),te(1,MPe,2,1,"div",1),te(2,PPe,6,2,"ng-template",null,2,Hs)),2&t&&(W("ngIf",!e.urlParams.aviaport),_(1),W("ngIf",e.urlParams.aviaport))},directives:[zt,Kd,Th,HD,dT,Pp],pipes:[zn,pr],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:40px;padding:4px;background-color:#1b1c1d}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;margin-right:8px}.header-left[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{margin-right:4px;width:18px;height:18px;cursor:pointer}.header-left[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header-left[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header-left[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header-left[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;height:100%;margin:0 4px;background:url(aviator-logo.c6b742d995765be3.svg) no-repeat center center/contain}.header-left[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.3b29606fcc84f707.svg) no-repeat center center/contain}@media (min-width: 768px){.header-left[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:-moz-fit-content;min-width:fit-content}.header-right[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]{text-align:right;font-size:14px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}.header-right[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{color:#28a909;font-weight:600;margin-right:4px}.header-right[_ngcontent-%COMP%]   .balance-currency[_ngcontent-%COMP%]{color:#9b9c9e;font-weight:500;letter-spacing:-.21px;margin-right:4px}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{margin:4px;width:24px;height:24px;background:url(burger.c6267b2d55596c34.svg) no-repeat center center}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header-right[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0;right:0}.header-right[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header-right[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{margin:4px;width:24px;height:24px;cursor:pointer;background:url(chat.61cb237360b103af.svg) no-repeat center center}.hidden-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative;height:0;width:100%;padding-right:8px}.hidden-header[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{top:8px;visibility:hidden}.user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}"],changeDetection:0}),xp=qe([si()],xp);var Dm=(()=>(function(n){n.AllBets="All Bets",n.Previous="Previous",n.Top="Top"}(Dm||(Dm={})),Dm))();function xPe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",2),Be("click",function(){const o=Tt(e).$implicit;return oe().onClickTab(o)}),Y(2),K(3,"transloco"),R(),yt()}if(2&n){const e=t.$implicit,i=oe();_(1),Lt("active",i.activeTab===e),_(1),ie(" ",J(3,3,i.translatePath+"."+e)," ")}}let qD=(()=>{class n{constructor(e){this.cd=e,this.disabled=!1,this.toggle=new vn,this.activeTab="",this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}writeValue(e){!e||(this.activeTab=e,this.onModelChange(this.activeTab),this.cd.markForCheck())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(Z(Rn))},n.\u0275cmp=_t({type:n,selectors:[["app-navigation-switcher"]],inputs:{disabled:"disabled",tabs:"tabs",translatePath:"translatePath"},outputs:{toggle:"toggle"},features:[ni([{provide:qs,useExisting:de(()=>n),multi:!0}])],decls:2,vars:3,consts:[[1,"navigation-switcher"],[4,"ngFor","ngForOf"],["tabindex","-1",1,"tab",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,xPe,4,5,"ng-container",1),R()),2&e&&(Lt("disabled",i.disabled),_(1),W("ngForOf",i.tabs))},directives:[Kn],pipes:[Jt],styles:[".navigation-switcher[_ngcontent-%COMP%]{display:flex;width:100%;height:32px;background:#141516;border-radius:64px;border:solid 4px #141516}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex-grow:1;height:100%;width:100%;text-align:center;background:none;border-radius:32px;border:none;padding:0;color:#a3a3a3;font-size:12px;font-weight:400;letter-spacing:-.18px;transition:background-color .25s ease-in,color .25s ease-in}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#2c2d30;color:#ebebeb;cursor:default}"],changeDetection:0}),n})(),IPe=(()=>{class n{constructor(e,i,r,o,s){this.gameConfig=e,this.mainService=i,this.connector=r,this.user=o,this.app=s,this.allBetsSubject=new Jn([]),this.allBets$=this.allBetsSubject.asObservable().pipe(Ae(a=>{const l=this.gameConfig.minBet,c=this.gameConfig.maxBet;return a.filter(u=>u.bet>=l&&u.bet<=c)})),this.loaded=!1,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0,this.loadCurrentBetsInfo(),this.connector.response(xn.Bet,200).pipe(cn(()=>!this.isUpdateCurrentBetsReceived),cn(()=>!this.user.settings.getOther(Fc.HideMyActivity)),Ha(a=>this.allBetsSubject.next([...this.allBetsCurrentValue,a]))).subscribe(()=>{this.setNumberOfBets(this.allBetsCurrentValue.length),this.sortBets()}),this.connector.response(xn.CancelBet,200).pipe(cn(()=>!this.isUpdateCurrentBetsReceived),cn(()=>!this.user.settings.getOther(Fc.HideMyActivity)),Ha(a=>{const l=[...this.allBetsCurrentValue].filter(c=>!(c.player_id===a.player_id&&c.betId===a.betId));this.allBetsSubject.next(l)}),Va(100)).subscribe(()=>{this.setNumberOfBets(this.allBetsCurrentValue.length),this.sortBets()}),this.connector.response(xn.CashOut,200).pipe(cn(()=>!this.isUpdateCurrentBetsReceived),cn(()=>!this.user.settings.getOther(Fc.HideMyActivity)),Ha(a=>this.displayCashOuts(a.cashouts,a.multiplier)),Va(100)).subscribe(()=>{this.sortBets()}),this.connector.response(xn.UpdateCurrentBets,200).pipe(Ha(a=>this.allBetsSubject.next(a.bets)),Va(100)).subscribe(a=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(a.betsCount),this.sortBets()}),this.connector.response(xn.UpdateCurrentCashOuts,200).pipe(Va(100)).subscribe(a=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(a.cashouts)}),this.connector.response(xn.CurrentBetsInfo).subscribe(a=>{var l;200===a.code?(this.loaded=!0,this.allBetsSubject.next(a.bets),this.setNumberOfBets(null!==(l=a.betsCount)&&void 0!==l?l:this.allBetsCurrentValue.length),"cashOuts"in a&&Array.isArray(a.cashOuts)&&this.displayCashOuts(a.cashOuts),this.sortBets()):this.loaded=!0}),this.mainService.getState(ar.Bet).subscribe(()=>{this.allBetsSubject.next([]),this.setNumberOfBets(this.allBetsCurrentValue.length)})}get allBetsCurrentValue(){return this.allBetsSubject.getValue()}get numberOfBets(){return this._numberOfBets}loadCurrentBetsInfo(){this.loaded=!1,this.connector.request(lr.CurrentBetsInfo,null)}setNumberOfBets(e){this.loaded&&(this._numberOfBets=e)}displayCashOuts(e,i){const r=new Map(e.map(s=>[`${s.player_id}_${s.betId}`,s])),o=this.allBetsCurrentValue.map(s=>{const a=r.get(`${s.player_id}_${s.betId}`);return a?Object.assign(Object.assign({},s),{payout:"multiplier"in a?a.multiplier:i,winAmount:a.winAmount}):s});this.allBetsSubject.next(o)}sortBets(){const e=[...this.allBetsCurrentValue].sort((i,r)=>r.bet-i.bet);this.allBetsSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(Yn),lt($r),lt(qi),lt(Bc),lt(Yi))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),APe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-legacy-all-bets-counter"]],inputs:{total:"total"},decls:7,vars:4,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center"],[1,"text-uppercase"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div")(2,"div",1),Y(3),K(4,"transloco"),R(),I(5,"div"),Y(6),R()()()),2&e&&(_(3),ie(" ",J(4,2,"game.bets-widget.All Bets")," "),_(3),dt(i.total))},pipes:[Jt],styles:[".all-bets-block[_ngcontent-%COMP%]{padding:8px;font-size:14px;line-height:1.2}"],changeDetection:0}),n})();const Lz={activePlayersCount:0,topPlayerProfileImages:[]},Fz={betsCount:0,openBetsCount:0,totalCashOut:0,topPlayerProfileImages:[]};let Bz=(()=>{class n{constructor(e,i,r){this.connector=e,this.mainService=i,this.app=r,this.activePlayersCounterSubject=new Jn(Lz),this.activePlayersCounter$=this.activePlayersCounterSubject.asObservable(),this.totalWinSubject=new Jn(Fz),this.totalWin$=this.totalWinSubject.asObservable(),this.connector.response(xn.CurrentBetsInfo,200).subscribe(o=>{this.activePlayersCounterSubject.next({activePlayersCount:o.activePlayersCount||0,topPlayerProfileImages:o.topPlayerProfileImages||[]}),this.totalWinSubject.next({betsCount:o.betsCount||0,openBetsCount:o.openBetsCount||0,totalCashOut:o.totalCashOut||0,topPlayerProfileImages:o.topPlayerProfileImages||[]})}),this.connector.response(xn.UpdateCurrentBets,200).subscribe(o=>{this.activePlayersCounterSubject.next({activePlayersCount:o.activePlayersCount,topPlayerProfileImages:o.topPlayerProfileImages}),this.totalWinSubject.next(Object.assign(Object.assign({},this.totalWinCurrentValue),{betsCount:o.betsCount,openBetsCount:o.betsCount,topPlayerProfileImages:o.topPlayerProfileImages}))}),this.connector.response(xn.UpdateCurrentCashOuts,200).subscribe(o=>{this.activePlayersCounterSubject.next({activePlayersCount:o.activePlayersCount,topPlayerProfileImages:o.topPlayerProfileImages}),this.totalWinSubject.next(Object.assign(Object.assign({},this.totalWinCurrentValue),{openBetsCount:o.openBetsCount,totalCashOut:o.totalCashOut,topPlayerProfileImages:o.topPlayerProfileImages}))}),this.mainService.getState(ar.Bet).subscribe(()=>{this.activePlayersCounterSubject.next(Lz),this.totalWinSubject.next(Fz)})}get totalWinCurrentValue(){return this.totalWinSubject.getValue()}}return n.\u0275fac=function(e){return new(e||n)(lt(qi),lt($r),lt(Yi))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DPe=function(n){return{"z-index":n}};function RPe(n,t){if(1&n&&ye(0,"img",2),2&n){const e=t.$implicit,i=t.index,r=oe();W("ngStyle",Ii(3,DPe,10-i))("src",r.app.getAvatarUrl(e),pn)("alt",r.app.getAvatarUrl(e))}}let Uz=(()=>{class n{constructor(e){this.app=e,this.topPlayerProfileImages=[]}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi))},n.\u0275cmp=_t({type:n,selectors:[["app-top-player-avatars"]],inputs:{topPlayerProfileImages:"topPlayerProfileImages"},decls:2,vars:1,consts:[[1,"avatars"],["draggable","false","class","avatar",3,"ngStyle","src","alt",4,"ngFor","ngForOf"],["draggable","false",1,"avatar",3,"ngStyle","src","alt"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,RPe,1,5,"img",1),R()),2&e&&(_(1),W("ngForOf",i.topPlayerProfileImages))},directives:[Kn,mf],styles:[".avatars[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.avatars[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:solid 1px #28a90a}.avatars[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:first-child){margin-left:-8px}"]}),n})();function NPe(n,t){1&n&&ye(0,"app-top-player-avatars",14),2&n&&W("topPlayerProfileImages",oe().ngIf.topPlayerProfileImages)}function kPe(n,t){if(1&n&&(I(0,"div",2)(1,"div",3)(2,"div",4),te(3,NPe,1,1,"app-top-player-avatars",5),R(),I(4,"span",6),Y(5),K(6,"currencyPrecision"),R()(),I(7,"div",7)(8,"div",8)(9,"span",9),Y(10),R(),I(11,"span",10),Y(12),R()(),I(13,"div",11),Y(14),R()(),I(15,"div",12),ye(16,"div",13),R()()),2&n){const e=t.ngIf,i=oe().$implicit,r=oe();_(3),W("ngIf",e.openBetsCount>0),_(2),dt(J(6,9,e.totalCashOut)),_(5),Hn("",e.openBetsCount,"/",e.betsCount,""),_(2),ie(" ",i("game.bets-widget.Bets"),""),_(2),Hn(" ",i("game.bets-widget.Total win")," ",r.gameConfig.currency," "),_(2),Al("width",0!==e.betsCount?e.openBetsCount/e.betsCount*100:0,"%")}}function LPe(n,t){if(1&n&&(vt(0),te(1,kPe,17,11,"div",1),K(2,"async"),yt()),2&n){const e=oe();_(1),W("ngIf",J(2,1,e.playersActivityService.totalWin$))}}let FPe=(()=>{class n{constructor(e,i){this.gameConfig=e,this.playersActivityService=i}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn),Z(Bz))},n.\u0275cmp=_t({type:n,selectors:[["app-total-win-widget"]],decls:1,vars:0,consts:[[4,"transloco"],["class","total-win-container",4,"ngIf"],[1,"total-win-container"],[1,"header"],[1,"avatars"],[3,"topPlayerProfileImages",4,"ngIf"],[1,"cashout-value"],[1,"stats"],[1,"bets"],[1,"bets-count"],[1,"bets-label"],[1,"total-win"],[1,"progress"],[1,"progress-bar"],[3,"topPlayerProfileImages"]],template:function(e,i){1&e&&te(0,LPe,3,3,"ng-container",0)},directives:[rp,zt,Uz],pipes:[pr,zn],styles:[".total-win-container[_ngcontent-%COMP%]{display:flex;width:100%;min-width:300px;padding:8px;flex-direction:column;justify-content:center;align-items:center;border-radius:14px;background:#141516;margin-bottom:4px}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;width:100%;height:20px}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]{display:flex}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;margin-right:4px;-o-object-fit:cover;object-fit:cover;border:2px solid #fff}.total-win-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .cashout-value[_ngcontent-%COMP%]{color:#ccc;font-weight:600;font-size:16px;line-height:18px;vertical-align:middle}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;height:16px;width:100%}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .bets-count[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:100%;vertical-align:middle;color:#ccc}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .bets-label[_ngcontent-%COMP%]{padding-left:4px;font-size:12px;color:#7b7b7b}.total-win-container[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:100%;vertical-align:middle;color:#7b7b7b}.total-win-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:100%;height:8px;background:#2b2b2b80;border-radius:32px;overflow:hidden;padding:2px}.total-win-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background:#427f00;transition:width .3s ease;border-radius:32px}"],changeDetection:0}),n})();function yT(n,t=0){return function UPe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const Z0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Z0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new m(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Z0;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Z0;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},VPe=new class HPe extends pI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class GPe extends hI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Z0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Z0.cancelAnimationFrame(e),t._scheduled=void 0)}});let JD,zPe=1;const bT={};function jz(n){return n in bT&&(delete bT[n],!0)}const WPe={setImmediate(n){const t=zPe++;return bT[t]=!0,JD||(JD=Promise.resolve()),JD.then(()=>jz(t)&&n()),t},clearImmediate(n){jz(n)}},{setImmediate:YPe,clearImmediate:$Pe}=WPe,ST={setImmediate(...n){const{delegate:t}=ST;return((null==t?void 0:t.setImmediate)||YPe)(...n)},clearImmediate(n){const{delegate:t}=ST;return((null==t?void 0:t.clearImmediate)||$Pe)(n)},delegate:void 0},qPe=new class KPe extends pI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class XPe extends hI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ST.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ST.clearImmediate(e),t._scheduled=void 0)}});function Gz(n){return!!n&&(n instanceof ue||N(n.lift)&&N(n.subscribe))}let ZD;try{ZD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ZD=!1}let CT,Ip,Hz=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?hy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(lt(S_))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eb(){if("object"!=typeof document||!document)return 0;if(null==CT){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),CT=0,0===n.scrollLeft&&(n.scrollLeft=1,CT=0===n.scrollLeft?1:2),n.remove()}return CT}const txe=new gn("cdk-dir-doc",{providedIn:"root",factory:function nxe(){return Kk(Qr)}}),ixe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zz=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new vn,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function rxe(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ixe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(lt(txe,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})();class axe extends class oxe{}{constructor(t){super(),this._data=t}connect(){return Gz(this._data)?this._data:mu(this._data)}disconnect(){}}class lxe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((s,a,l)=>{let c,u;null==s.previousIndex?(c=this._insertView(()=>i(s,a,l),l,e,r(s)),u=c?1:0):null==l?(this._detachAndCacheView(a,e),u=3):(c=this._moveView(a,l,e,r(s)),u=2),o&&o({context:null==c?void 0:c.context,operation:u,record:s})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const s=t();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const Yz=new gn("_ViewRepeater"),cxe=["contentWrapper"],uxe=["*"],$z=new gn("VIRTUAL_SCROLL_STRATEGY");class dxe{constructor(t,e,i){this._scrolledIndexChange=new Xe,this.scrolledIndexChange=this._scrolledIndexChange.pipe(_h()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(s,r-l));s!=c&&(s=c,o=c*this._itemSize,e.start=Math.floor(s)),e.end=Math.max(0,Math.min(r,e.start+l))}const a=o-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(o+i);if(l<this._minBufferPx&&e.end!=r){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(r,e.end+c),e.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(s))}}function hxe(n){return n._scrollStrategy}let fxe=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new dxe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=yT(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=yT(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=yT(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=$t({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ni([{provide:$z,useFactory:hxe,deps:[de(()=>n)]}]),sa]}),n})(),Xz=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ue(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Va(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):mu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(cn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function jPe(n){return n instanceof zi?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Li(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(lt(Ti),lt(Hz),lt(Qr,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kz=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Xe,this._elementScrolled=new ue(s=>this.ngZone.runOutsideAngular(()=>Li(this.elementRef.nativeElement,"scroll").pipe(ro(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=eb()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==eb()?e.left=e.right:1==eb()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function QPe(){if(null==Ip){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ip=!1,Ip;if("scrollBehavior"in document.documentElement.style)Ip=!0;else{const n=Element.prototype.scrollTo;Ip=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ip}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==eb()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==eb()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(Z(zi),Z(Xz),Z(Ti),Z(zz,8))},n.\u0275dir=$t({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),_xe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Xe,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Va(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(lt(Hz),lt(Ti),lt(Qr,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vxe="undefined"!=typeof requestAnimationFrame?VPe:qPe;let qz=(()=>{class n extends Kz{constructor(e,i,r,o,s,a,l){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new Xe,this._renderedRangeSubject=new Xe,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ue(c=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=m.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function BPe(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(cp(null),Va(0,vxe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(ro(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function mxe(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(Z(zi),Z(Rn),Z(Ti),Z($z,8),Z(zz,8),Z(Xz),Z(_xe))},n.\u0275cmp=_t({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&fo(cxe,7),2&e){let r;ii(r=ri())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&Lt("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ni([{provide:Kz,useExisting:n}]),Vi],ngContentSelectors:uxe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(Kv(),I(0,"div",0,1),qv(2),R(),ye(3,"div",2)),2&e&&(_(3),Al("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function Jz(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let yxe=(()=>{class n{constructor(e,i,r,o,s,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=s,this.viewChange=new Xe,this._dataSourceChanges=new Xe,this.dataStream=this._dataSourceChanges.pipe(cp(null),function JPe(){return it((n,t)=>{let e,i=!1;n.subscribe(rt(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}(),fh(([l,c])=>this._changeDataSource(l,c)),WH(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Xe,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(ro(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function sxe(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new axe(Gz(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=yT(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let s,a;for(let l=0;l<o;l++){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){s=a=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return s&&a?Jz(i,"end",a)-Jz(i,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):mu()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(Z(Dl),Z(Lr),Z(ly),Z(Yz),Z(qz,4),Z(Ti))},n.\u0275dir=$t({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ni([{provide:Yz,useClass:lxe}])]}),n})(),Zz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({}),n})(),bxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Wz,Zz],Wz,Zz]}),n})();function Sxe(n,t){if(1&n&&(I(0,"div",9),Y(1),K(2,"multiplierPrecision"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,e.bet.payout),"x ")}}let Cxe=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi))},n.\u0275cmp=_t({type:n,selectors:[["app-bets-list-item"]],inputs:{bet:"bet"},decls:13,vars:13,consts:[[1,"bet-list-item"],[1,"bet-list-item-column","player"],["draggable","false",1,"avatar",3,"src","alt"],[1,"username"],[1,"bet-list-item-column","bet"],[3,"amount","isFreeBet"],[1,"bet-list-item-column","x"],["appColoredMultiplier","",4,"ngIf"],[1,"bet-list-item-column","win"],["appColoredMultiplier",""]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),ye(2,"img",2),I(3,"div",3),Y(4),K(5,"maskedUsername"),R()(),I(6,"div",4),ye(7,"app-bet-amount",5),R(),I(8,"div",6),te(9,Sxe,3,3,"div",7),R(),I(10,"div",8),Y(11),K(12,"currencyPrecision"),R()()),2&e&&(Lt("cashout",i.bet.winAmount),_(2),W("src",i.app.getAvatarUrl(i.bet.profileImage),pn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),_(2),dt(J(5,9,i.bet.username)),_(3),W("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),_(2),W("ngIf",i.bet.payout),_(2),ie(" ",J(12,11,i.bet.winAmount)," "))},directives:[$0,zt,vd],pipes:[pa,Ws,zn],styles:[".bet-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:32px;width:100%;padding:4px;margin-top:4px;border-radius:32px;background:#101112}.bet-list-item.cashout[_ngcontent-%COMP%]{background:linear-gradient(0deg,rgba(66,127,0,.3) 0%,rgba(66,127,0,.3) 100%),#101112}.bet-list-item-column[_ngcontent-%COMP%]{width:100%;font-size:12px;color:#bbbfc5;font-weight:500;text-align:right;margin-left:4px;padding:0 4px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.bet-list-item-column.player[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:84px;margin-left:0;padding:0}.bet-list-item-column.player[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:4px}.bet-list-item-column.player[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{padding:0 4px;width:100%;min-width:60px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;letter-spacing:-.18px;text-align:left;text-overflow:ellipsis;overflow:hidden}.bet-list-item-column.bet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;min-width:72px}"],changeDetection:0}),n})();function Exe(n,t){1&n&&ye(0,"app-loader")}function Txe(n,t){1&n&&ye(0,"app-bets-list-item",9),2&n&&W("bet",t.$implicit)}function wxe(n,t){if(1&n&&(I(0,"cdk-virtual-scroll-viewport",7),te(1,Txe,1,1,"app-bets-list-item",8),R()),2&n){const e=oe();W("itemSize",e.betItemTotalHeight),_(1),W("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let Qz=(()=>{class n{constructor(e){this.gameConfig=e,this.bets=[],this.loaded=!1,this.betItemTotalHeight=36}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-bets-list"]],inputs:{bets:"bets",loaded:"loaded"},decls:14,vars:13,consts:[[1,"bets-list-header"],[1,"bets-list-header-item","player"],[1,"bets-list-header-item","bet"],[1,"bets-list-header-item","x"],[1,"bets-list-header-item","win"],[4,"ngIf"],["class","h-100 scroll-y bets-list","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y","bets-list",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span",1),Y(2),K(3,"transloco"),R(),I(4,"span",2),Y(5),K(6,"transloco"),R(),I(7,"span",3),Y(8,"X"),R(),I(9,"span",4),Y(10),K(11,"transloco"),R()(),te(12,Exe,1,0,"app-loader",5),te(13,wxe,2,3,"cdk-virtual-scroll-viewport",6)),2&e&&(_(2),dt(J(3,7,"game.bets-widget.Player")),_(3),Hn(" ",J(6,9,"game.bets-widget.Bet")," ",i.gameConfig.currency," "),_(5),Hn(" ",J(11,11,"game.bets-widget.Win")," ",i.gameConfig.currency," "),_(2),W("ngIf",!i.loaded),_(1),W("ngIf",i.loaded))},directives:[zt,Gc,qz,fxe,yxe,Cxe],pipes:[Jt],styles:[".bets-list-header[_ngcontent-%COMP%]{display:flex;padding:4px;margin-bottom:4px;justify-content:center;align-items:center;color:#7b7b7b;font-size:10px;font-weight:500;letter-spacing:-.15px}.bets-list-header-item[_ngcontent-%COMP%]{height:12px;width:100%;min-width:72px;margin-left:4px;padding:0 4px;text-align:right;white-space:nowrap}.bets-list-header-item.player[_ngcontent-%COMP%]{min-width:84px;margin-left:0;text-align:left}.bets-list[_ngcontent-%COMP%]{border-radius:16px;margin:0}"],changeDetection:0}),n})();function Mxe(n,t){1&n&&ye(0,"app-legacy-all-bets-counter",5),2&n&&W("total",oe(2).allBetsTabService.numberOfBets)}function Oxe(n,t){1&n&&ye(0,"app-total-win-widget")}function Pxe(n,t){if(1&n&&(I(0,"div",1),te(1,Mxe,1,1,"app-legacy-all-bets-counter",2),te(2,Oxe,1,0,"app-total-win-widget",3),ye(3,"app-bets-list",4),R()),2&n){const e=t.ngIf,i=oe();_(1),W("ngIf",!i.gameConfig.isShowTotalWinWidget),_(1),W("ngIf",i.gameConfig.isShowTotalWinWidget),_(1),W("bets",e)("loaded",i.allBetsTabService.loaded)}}let Ap=class{constructor(t,e){this.gameConfig=t,this.allBetsTabService=e}ngOnInit(){this.allBetsTabService.loadCurrentBetsInfo()}};Ap.\u0275fac=function(t){return new(t||Ap)(Z(Yn),Z(IPe))},Ap.\u0275cmp=_t({type:Ap,selectors:[["app-all-bets-tab"]],decls:2,vars:3,consts:[["class","d-flex h-100 flex-column",4,"ngIf"],[1,"d-flex","h-100","flex-column"],[3,"total",4,"ngIf"],[4,"ngIf"],[1,"bets-list",3,"bets","loaded"],[3,"total"]],template:function(t,e){1&t&&(te(0,Pxe,4,4,"div",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.allBetsTabService.allBets$))},directives:[zt,APe,FPe,Qz],pipes:[pr],styles:[".bets-list[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}"],changeDetection:0}),Ap=qe([si()],Ap);let xxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-previous-round-result"]],inputs:{previousRoundResult:"previousRoundResult"},decls:7,vars:6,consts:[[1,"previous-round-result"],[1,"result-text"],["appColoredMultiplier","",1,"result-multiplier"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),Y(2),K(3,"transloco"),R(),I(4,"div",2),Y(5),K(6,"multiplierPrecision"),R()()),2&e&&(_(2),ie(" ",J(3,2,"game.bets-widget.Round Result")," "),_(3),ie(" ",J(6,4,i.previousRoundResult),"x "))},directives:[vd],pipes:[Jt,Ws],styles:[".previous-round-result[_ngcontent-%COMP%]{display:flex;width:100%;height:68px;min-width:300px;padding:8px;flex-direction:column;justify-content:center;align-items:center;border-radius:14px;background:#141516;margin-bottom:4px}.previous-round-result[_ngcontent-%COMP%]   .result-text[_ngcontent-%COMP%]{margin-bottom:2px;color:#bbbfc5;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-weight:500;letter-spacing:-.18px}.previous-round-result[_ngcontent-%COMP%]   .result-multiplier[_ngcontent-%COMP%]{text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:24px;font-style:normal;font-weight:700;line-height:normal}"],changeDetection:0}),n})();function Ixe(n,t){1&n&&ye(0,"app-previous-round-result",3),2&n&&W("previousRoundResult",oe().previousRoundResult)}let Dp=class{constructor(t,e,i){this.connector=t,this.app=e,this.cd=i,this.previousRoundBets=[],this.loaded=!1}ngOnInit(){this.getPreviousRoundBets(),this.connector.response(xn.PreviousRoundInfo).pipe(Gt(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this.previousRoundBets=[...t.bets],this.previousRoundResult=t.roundInfo.multiplier,this.cd.detectChanges()})}getPreviousRoundBets(){this.loaded=!1,this.connector.request(lr.PreviousRoundInfo,null)}};Dp.\u0275fac=function(t){return new(t||Dp)(Z(qi),Z(Yi),Z(Rn))},Dp.\u0275cmp=_t({type:Dp,selectors:[["app-previous-bets-tab"]],decls:3,vars:3,consts:[[1,"d-flex","h-100","flex-column"],[3,"previousRoundResult",4,"ngIf"],[1,"bets-list",3,"bets","loaded"],[3,"previousRoundResult"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,Ixe,1,1,"app-previous-round-result",1),ye(2,"app-bets-list",2),R()),2&t&&(_(1),W("ngIf",e.loaded),_(1),W("bets",e.previousRoundBets)("loaded",e.loaded))},directives:[zt,xxe,Qz],styles:[".bets-list[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}"],changeDetection:0}),Dp=qe([si()],Dp);var gl=(()=>(function(n){n.X="X",n.WIN="Win",n.ROUNDS="Rounds"}(gl||(gl={})),gl))();const Axe={[gl.X]:xn.GetHugeWinsInfo,[gl.WIN]:xn.GetTopWinsInfo,[gl.ROUNDS]:xn.GetTopRoundsInfo},Dxe={[gl.X]:lr.GetHugeWinsInfo,[gl.WIN]:lr.GetTopWinsInfo,[gl.ROUNDS]:lr.GetTopRoundsInfo};var Cd=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(Cd||(Cd={})),Cd))();function Rxe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",3),Be("click",function(){const o=Tt(e).$implicit;return oe().onClickTab(o)}),Y(2),K(3,"transloco"),R(),yt()}if(2&n){const e=t.$implicit,i=oe();_(1),Lt("top-tab-switcher__tab--active",i.activeType===e),_(1),ie(" ",J(3,3,"game.bets-widget.top."+e)," ")}}function Nxe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",3),Be("click",function(){const o=Tt(e).$implicit;return oe().onClickPeriod(o)}),Y(2),K(3,"transloco"),R(),yt()}if(2&n){const e=t.$implicit,i=oe();_(1),Lt("top-tab-switcher__tab--active",i.activePeriod===e),_(1),ie(" ",J(3,3,"game.bets-widget.top."+i.getPeriodName(e))," ")}}const kxe={[Cd.Day]:"Day",[Cd.Month]:"Month",[Cd.Year]:"Year"};let Lxe=(()=>{class n{constructor(){this.defaultOptions={period:Cd.Day,type:gl.X},this.tabChanged=new vn,this.tabs=Object.values(gl),this.periods=Object.values(Cd)}ngOnInit(){this.activeType=this.defaultOptions.type,this.activePeriod=this.defaultOptions.period}onClickTab(e){this.activeType!==e&&(this.activeType=e,this.tabChanged.emit({type:this.activeType,period:this.activePeriod}))}onClickPeriod(e){this.activePeriod!==e&&(this.activePeriod=e,this.tabChanged.emit({type:this.activeType,period:this.activePeriod}))}getPeriodName(e){return kxe[e]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-top-tab-switcher"]],inputs:{defaultOptions:"defaultOptions"},outputs:{tabChanged:"tabChanged"},decls:5,vars:2,consts:[[1,"top-tab-switcher"],[1,"top-tab-switcher-row"],[4,"ngFor","ngForOf"],[1,"top-tab-switcher__tab",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),te(2,Rxe,4,5,"ng-container",2),R(),I(3,"div",1),te(4,Nxe,4,5,"ng-container",2),R()()),2&e&&(_(2),W("ngForOf",i.tabs),_(2),W("ngForOf",i.periods))},directives:[Kn],pipes:[Jt],styles:[".top-tab-switcher[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;border-radius:16px;background:#141516;padding:4px}.top-tab-switcher-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.top-tab-switcher-row[_ngcontent-%COMP%]:first-child{margin-bottom:4px}.top-tab-switcher__tab[_ngcontent-%COMP%]{position:relative;width:100%;height:32px;border-radius:12px;background-color:transparent;color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.18px;border:none;padding:0 4px;transition:background-color .25s ease-in,color .25s ease-in}.top-tab-switcher__tab--active[_ngcontent-%COMP%]{background:#2c2d30;cursor:default;color:#ebebeb}.top-tab-switcher__tab[_ngcontent-%COMP%]:not(.top-tab-switcher__tab--active):hover{cursor:pointer;color:#d0021b}"],changeDetection:0}),n})(),Fxe=(()=>{class n{constructor(e,i,r){this.app=e,this.gameConfig=i,this.main=r,this.isMessageSendingBlocked=!1,this.betShared=new vn}onShareBetClick(e,i,r){this.betShared.emit({betId:e,roundId:i,playerId:r})}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi),Z(Yn),Z($r))},n.\u0275cmp=_t({type:n,selectors:[["app-top-wins-list-item"]],inputs:{bet:"bet",isMessageSendingBlocked:"isMessageSendingBlocked"},outputs:{betShared:"betShared"},decls:46,vars:35,consts:[[1,"top-wins-list-item"],[1,"top-wins-list-item-row"],["draggable","false","alt","avatar",1,"avatar",3,"src"],[1,"column","username-date"],[1,"username"],[1,"date"],[1,"buttons-group"],["aria-label","Share Bet",1,"btn",3,"disabled","click"],[1,"icon","share-i"],["aria-label","Check Fairness",1,"btn","disabled-on-game-focused",3,"click"],[1,"icon","fairness-i"],[1,"column","bet-details"],[1,"bet-details-row"],[1,"description"],[1,"value"],["appColoredMultiplier","",1,"value"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),ye(2,"img",2),I(3,"div",3)(4,"div",4),Y(5),K(6,"maskedUsername"),R(),I(7,"div",5),Y(8),K(9,"date"),R()(),I(10,"div",6)(11,"button",7),Be("click",function(){return i.onShareBetClick(i.bet.roundBetId,i.bet.roundId,i.bet.playerId)}),ye(12,"div",8),R(),I(13,"div",9),Be("click",function(){return i.main.checkFairness(i.bet.roundId)}),ye(14,"div",10),R()()(),I(15,"div",1)(16,"div",11)(17,"div",12)(18,"div",13),Y(19),K(20,"transloco"),R(),I(21,"div",14),Y(22),K(23,"currencyPrecision"),R()(),I(24,"div",12)(25,"div",13),Y(26),K(27,"transloco"),R(),I(28,"div",14),Y(29),K(30,"currencyPrecision"),R()()(),I(31,"div",11)(32,"div",12)(33,"div",13),Y(34),K(35,"transloco"),R(),I(36,"div",15),Y(37),K(38,"multiplierPrecision"),R()(),I(39,"div",12)(40,"div",13),Y(41),K(42,"transloco"),R(),I(43,"div",15),Y(44),K(45,"multiplierPrecision"),R()()()()()),2&e&&(_(2),W("src",i.app.getAvatarUrl(i.bet.profileImage),pn),_(3),dt(J(6,14,i.bet.username)),_(3),dt(nn(9,16,i.bet.endDate,"dd.MM.yy")),_(3),W("disabled",i.isMessageSendingBlocked),_(8),Hn(" ",J(20,19,"shared.bet")," ",i.gameConfig.currency," "),_(3),dt(J(23,21,i.bet.bet)),_(4),Hn(" ",J(27,23,"game.bets-widget.Win")," ",i.gameConfig.currency," "),_(3),dt(J(30,25,i.bet.winAmount)),_(5),ie(" ",J(35,27,"game.bets-widget.Result")," "),_(3),ie(" ",J(38,29,i.bet.payout),"x "),_(4),ie(" ",J(42,31,"game.bets-widget.Round max.")," "),_(3),ie(" ",J(45,33,i.bet.maxMultiplier),"x "))},directives:[vd],pipes:[pa,al,Jt,zn,Ws],styles:[".top-wins-list-item[_ngcontent-%COMP%]{display:flex;width:100%;height:92px;flex-direction:column;margin-bottom:4px;padding:8px;border-radius:16px;background:#101112;font-size:12px}.top-wins-list-item-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.top-wins-list-item-row[_ngcontent-%COMP%]:first-child{height:32px;margin-bottom:8px}.top-wins-list-item-row[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.top-wins-list-item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.top-wins-list-item[_ngcontent-%COMP%]   .username-date[_ngcontent-%COMP%]{margin-left:4px;padding:0 4px;letter-spacing:-.18px;width:100%;min-width:68px}.top-wins-list-item[_ngcontent-%COMP%]   .username-date[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#bbbfc5;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-weight:500;overflow:hidden;text-overflow:ellipsis;margin-bottom:1px}.top-wins-list-item[_ngcontent-%COMP%]   .username-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#7a7a7a;font-weight:400}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;width:32px;height:32px;justify-content:center;align-items:center;border-radius:64px;background:#2c2d30;padding:0}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-right:8px}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:32px;width:32px}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(message-icon.0fa68cf3ce1c8a15.svg) no-repeat center center/contain}.top-wins-list-item[_ngcontent-%COMP%]   .buttons-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(shield-icon.575a242f3c9fb8ed.svg) no-repeat center center/contain}.top-wins-list-item[_ngcontent-%COMP%]   .column.bet-details[_ngcontent-%COMP%]{width:50%}.top-wins-list-item[_ngcontent-%COMP%]   .column.bet-details[_ngcontent-%COMP%]:first-child{margin-right:8px}.top-wins-list-item[_ngcontent-%COMP%]   .bet-details-row[_ngcontent-%COMP%]{display:flex}.top-wins-list-item[_ngcontent-%COMP%]   .bet-details-row[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-right:auto;padding:0 2px;color:#7b7b7b;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;text-overflow:ellipsis;font-weight:400;letter-spacing:-.18px}.top-wins-list-item[_ngcontent-%COMP%]   .bet-details-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-left:auto;padding:0 2px;color:#bbbfc5;text-align:right;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-weight:500;letter-spacing:-.3px}"],changeDetection:0}),n})();function Bxe(n,t){if(1&n){const e=Ot();I(0,"app-top-wins-list-item",2),Be("betShared",function(r){return Tt(e),oe().onShareBet(r)}),R()}if(2&n){const e=t.$implicit,i=oe();W("isMessageSendingBlocked",!i.chatFeatureService.isChatEnabled||i.isMessageSendingBlocked)("bet",e)}}let Rp=class{constructor(t,e,i,r,o,s){this.chatFeatureService=t,this.gameConfig=e,this.cd=i,this.chatMessageService=r,this.oldChat=o,this.chatAntiSpamService=s,this.topWins=[],this.isMessageSendingBlocked=!1}ngOnInit(){this.chatAntiSpamService.isMessageSendingBlocked$.pipe(Gt(this)).subscribe(t=>{this.isMessageSendingBlocked=t,this.cd.markForCheck()})}onShareBet(t){var e;(null===(e=this.gameConfig.engagementTools)||void 0===e?void 0:e.isExternalChatEnabled)?this.chatMessageService.shareBet(t.betId,t.roundId,t.playerId):this.oldChat.shareBet(t.betId,t.roundId)}};Rp.\u0275fac=function(t){return new(t||Rp)(Z(pl),Z(Yn),Z(Rn),Z(Im),Z(vh),Z(V0))},Rp.\u0275cmp=_t({type:Rp,selectors:[["app-top-wins-list"]],inputs:{topWins:"topWins"},decls:2,vars:1,consts:[[1,"h-100","scroll-y","top-wins-list"],[3,"isMessageSendingBlocked","bet","betShared",4,"ngFor","ngForOf"],[3,"isMessageSendingBlocked","bet","betShared"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,Bxe,1,2,"app-top-wins-list-item",1),R()),2&t&&(_(1),W("ngForOf",e.topWins))},directives:[Kn,Fxe],styles:[".top-wins-list[_ngcontent-%COMP%]{border-radius:16px;margin:0}"],changeDetection:0}),Rp=qe([si()],Rp);let Uxe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(Z($r))},n.\u0275cmp=_t({type:n,selectors:[["app-top-rounds-list-item"]],inputs:{bet:"bet"},decls:10,vars:7,consts:[[1,"top-rounds-list-item"],[1,"top-rounds-list-item-column","date"],["appColoredMultiplier","",1,"top-rounds-list-item-column","x"],[1,"top-rounds-list-item-column"],["aria-label","Check Fairness",1,"disabled-on-game-focused","btn","fairness-btn",3,"click"],[1,"fairness-i"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),Y(2),K(3,"date"),R(),I(4,"div",2),Y(5),K(6,"multiplierPrecision"),R(),I(7,"div",3)(8,"button",4),Be("click",function(){return i.main.checkFairness(i.bet.roundId)}),ye(9,"div",5),R()()()),2&e&&(_(2),ie(" ",nn(3,2,i.bet.endDate,"dd.MM.yy HH:mm")," "),_(3),ie(" ",J(6,5,i.bet.maxMultiplier),"x "))},directives:[vd],pipes:[al,Ws],styles:[".top-rounds-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-radius:32px;background:#101112;height:32px;width:100%;padding:4px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-weight:500;letter-spacing:-.3px;margin-bottom:4px}.top-rounds-list-item-column[_ngcontent-%COMP%]{width:33%}.top-rounds-list-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:100px;overflow:hidden;color:#bbbfc5;text-overflow:ellipsis;padding:0 4px}.top-rounds-list-item[_ngcontent-%COMP%]   .x[_ngcontent-%COMP%]{text-align:right;padding:0 4px}.top-rounds-list-item[_ngcontent-%COMP%]   .fairness-btn[_ngcontent-%COMP%]{display:flex;width:24px;height:24px;justify-content:center;align-items:center;border-radius:64px;background:#2c2d30;margin-left:auto;padding:0}.top-rounds-list-item[_ngcontent-%COMP%]   .fairness-btn[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(shield-icon.575a242f3c9fb8ed.svg) no-repeat center center/contain;width:24px;height:24px}"],changeDetection:0}),n})();function jxe(n,t){1&n&&ye(0,"app-top-rounds-list-item",4),2&n&&W("bet",t.$implicit)}let Gxe=(()=>{class n{constructor(){this.topRounds=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-top-rounds-list"]],inputs:{topRounds:"topRounds"},decls:9,vars:4,consts:[[1,"top-rounds-list-header"],[1,"top-rounds-list-header-item"],[1,"h-100","scroll-y","top-rounds-list"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),Y(2),K(3,"transloco"),R(),I(4,"div",1),Y(5,"X"),R(),ye(6,"div",1),R(),I(7,"div",2),te(8,jxe,1,1,"app-top-rounds-list-item",3),R()),2&e&&(_(2),ie(" ",J(3,2,"game.bets-widget.top.Date & Time")," "),_(6),W("ngForOf",i.topRounds))},directives:[Kn,Uxe],pipes:[Jt],styles:[".top-rounds-list-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px;margin-bottom:4px;color:#7b7b7b;font-size:10px;font-weight:500;letter-spacing:-.15px}.top-rounds-list-header-item[_ngcontent-%COMP%]{width:100%;text-align:right;height:12px;padding:0 4px}.top-rounds-list-header-item[_ngcontent-%COMP%]:first-child{text-align:left}.top-rounds-list[_ngcontent-%COMP%]{border-radius:16px;margin:0}"],changeDetection:0}),n})();function Hxe(n,t){1&n&&ye(0,"app-loader")}function Vxe(n,t){1&n&&ye(0,"app-top-wins-list",5),2&n&&W("topWins",oe().topWins)}function zxe(n,t){1&n&&ye(0,"app-top-rounds-list",6),2&n&&W("topRounds",oe().topRounds)}let Np=class{constructor(t,e,i){this.gameConfig=t,this.cd=e,this.connector=i,this.loaded=!1,this.topRounds=[],this._topWins=[],this.topListOptions={type:gl.X,period:Cd.Day}}onTopTabChange(t){this.topListOptions=t,this.loadData()}ngOnInit(){this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(Dxe[this.topListOptions.type],{period:this.topListOptions.period}),this.statistics$=this.connector.response(Axe[this.topListOptions.type]).pipe(Gt(this)).subscribe(e=>{"topRounds"in e&&(this.topRounds=e.topRounds),"topWins"in e&&(this._topWins=e.topWins),this.loaded=!0,this.cd.markForCheck()}),this.cd.markForCheck()}get topWins(){const t=this.gameConfig.minBet,e=this.gameConfig.maxBet;return this._topWins.filter(i=>i.bet>=t&&i.bet<=e)}get isTopRounds(){return this.topListOptions.type===gl.ROUNDS}};function Wxe(n,t){1&n&&(I(0,"a",6),Y(1," Powered by "),ye(2,"div",7),R()),2&n&&W("href","https://spribe.co",pn)}function Yxe(n,t){1&n&&ye(0,"div",7)}Np.\u0275fac=function(t){return new(t||Np)(Z(Yn),Z(Rn),Z(qi))},Np.\u0275cmp=_t({type:Np,selectors:[["app-top-tab"]],decls:5,vars:4,consts:[[1,"d-flex","h-100","flex-column"],[3,"defaultOptions","tabChanged"],[4,"ngIf"],["class","top-list h-100",3,"topWins",4,"ngIf"],["class","top-list d-flex h-100 flex-column",3,"topRounds",4,"ngIf"],[1,"top-list","h-100",3,"topWins"],[1,"top-list","d-flex","h-100","flex-column",3,"topRounds"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"app-top-tab-switcher",1),Be("tabChanged",function(r){return e.onTopTabChange(r)}),R(),te(2,Hxe,1,0,"app-loader",2),te(3,Vxe,1,1,"app-top-wins-list",3),te(4,zxe,1,1,"app-top-rounds-list",4),R()),2&t&&(_(1),W("defaultOptions",e.topListOptions),_(1),W("ngIf",!e.loaded),_(1),W("ngIf",e.loaded&&!e.isTopRounds),_(1),W("ngIf",e.loaded&&e.isTopRounds&&e.topRounds.length>0))},directives:[Lxe,zt,Gc,Rp,Gxe],styles:[".top-list[_ngcontent-%COMP%]{overflow:hidden;margin-top:4px}"],changeDetection:0}),Np=qe([si()],Np);let $xe=(()=>{class n{constructor(e,i){this.gameConfig=e,this.modal=i}onWhatIsPf(){this.modal.open(ei.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn),Z(va))},n.\u0275cmp=_t({type:n,selectors:[["app-bets-widget-footer"]],decls:7,vars:2,consts:[[1,"bets-widget-footer"],[1,"btn","provably-fair-block","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"logo-block","disabled-on-game-focused"],["class","logo-btn","target","_blank",3,"href",4,"ngIf"],["class","i-logo",4,"ngIf"],["target","_blank",1,"logo-btn",3,"href"],[1,"i-logo"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"button",1),Be("click",function(){return i.onWhatIsPf()}),ye(2,"div",2),Y(3," Provably Fair Game "),R(),I(4,"div",3),te(5,Wxe,3,1,"a",4),te(6,Yxe,1,0,"div",5),R()()),2&e&&(_(5),W("ngIf",!i.gameConfig.isLogoUrlHidden),_(1),W("ngIf",i.gameConfig.isLogoUrlHidden))},directives:[zt],styles:[".bets-widget-footer[_ngcontent-%COMP%]{display:flex;padding:10px 4px;justify-content:space-between;align-items:center;width:100%}.bets-widget-footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;align-items:center;height:12px;color:#a3a3a3;font-size:10px;font-weight:500;line-height:12px;padding:0 4px}.bets-widget-footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{width:12px;height:12px;background:url(pf-icon.431e53a93be90923.svg) no-repeat center center/contain;margin:0 6px}.bets-widget-footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{height:12px;padding:0 4px}.bets-widget-footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .logo-btn[_ngcontent-%COMP%]{display:flex;color:#525252;font-size:10px;font-weight:500;line-height:12px;text-decoration:none}.bets-widget-footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{padding:.5px 1px 2px;background:url(logo-icon.eaa752ca5b1bd8fb.svg) no-repeat center center/contain;width:35px;height:10px;margin-left:3px}"],changeDetection:0}),n})();function Xxe(n,t){if(1&n){const e=Ot();I(0,"div",7),Be("click",function(){Tt(e);const r=oe(2);return r.modal.open(r.modalKey.otherSettings)}),I(1,"u"),Y(2),K(3,"transloco"),R()()}2&n&&(_(2),ie(" ",J(3,1,"shared.Settings")," "))}function Kxe(n,t){if(1&n&&(vt(0),I(1,"div",4),ye(2,"div",5),I(3,"span"),Y(4),K(5,"transloco"),R(),te(6,Xxe,4,3,"div",6),R(),yt()),2&n){const e=oe();_(4),ie(" ",J(5,2,"shared.This_functionality_is_disabled"),""),_(2),W("ngIf",e.isTabsHiddenByUser)}}function qxe(n,t){1&n&&ye(0,"app-all-bets-tab",9)}function Jxe(n,t){1&n&&ye(0,"app-previous-bets-tab",9)}function Zxe(n,t){1&n&&ye(0,"app-top-tab",9)}function Qxe(n,t){if(1&n&&(vt(0),te(1,qxe,1,0,"app-all-bets-tab",8),te(2,Jxe,1,0,"app-previous-bets-tab",8),te(3,Zxe,1,0,"app-top-tab",8),yt()),2&n){const e=oe();_(1),W("ngIf",e.isActive(e.betsWidgetTab.AllBets)),_(1),W("ngIf",e.isActive(e.betsWidgetTab.Previous)),_(1),W("ngIf",e.isActive(e.betsWidgetTab.Top))}}let eIe=(()=>{class n{constructor(e,i,r,o){this.gameConfig=e,this.user=i,this.modal=r,this.cd=o,this.activeTab=Dm.AllBets,this.betsWidgetTab=Dm,this.betsWidgetTabs=Object.values(Dm),this.isTabsHiddenByUser=this.user.settings.getOther(Fc.HideLiveBetsAndStatistics),this.modalKey=ei}ngOnInit(){this.user.settings.other$.pipe(cn(e=>e.name===Fc.HideLiveBetsAndStatistics)).subscribe(e=>{this.isTabsHiddenByUser=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}get isTabsHidden(){return this.gameConfig.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn),Z(Bc),Z(va),Z(Rn))},n.\u0275cmp=_t({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"navigation-switcher",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"bets-footer"],[1,"disabled-block","h-100","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"app-navigation-switcher",1),Be("ngModelChange",function(o){return i.activeTab=o}),R(),te(2,Kxe,7,4,"ng-container",2),te(3,Qxe,4,3,"ng-container",2),ye(4,"app-bets-widget-footer",3),R()),2&e&&(_(1),W("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),_(1),W("ngIf",i.isTabsHidden),_(1),W("ngIf",!i.isTabsHidden))},directives:[qD,ba,Zs,zt,Ap,Dp,Np,$xe],pipes:[Jt],styles:["[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;min-width:316px;background:#1b1c1d;border-radius:20px;padding:8px 8px 0}.bets-block[_ngcontent-%COMP%]   .navigation-switcher[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:400px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0;margin-top:4px}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.cc9a74671114ce5f.svg) no-repeat center center/contain}"],changeDetection:0}),n})();function Ed(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eW(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var eR,oo,ku,oR,sR,aW,uW,Um,DT,_l={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Nm={duration:.5,overwrite:!1,delay:0},ql=1e8,mr=1e-8,tR=2*Math.PI,tIe=tR/4,nIe=0,tW=Math.sqrt,iIe=Math.cos,rIe=Math.sin,fs=function(t){return"string"==typeof t},ps=function(t){return"function"==typeof t},Td=function(t){return"number"==typeof t},nR=function(t){return void 0===t},wd=function(t){return"object"==typeof t},za=function(t){return!1!==t},nW=function(){return"undefined"!=typeof window},ET=function(t){return ps(t)||fs(t)},iW="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ea=Array.isArray,iR=/(?:-?\.?\d|\.)+/gi,rW=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,km=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,rR=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,oW=/[+-]=-?[.\d]+/,sW=/[^,'"\[\]\s]+/gi,oIe=/[\d.+\-=]+(?:e[-+]\d*)*/i,ml={},TT={},lW=function(t){return(TT=Lm(t,ml))&&Fu},aR=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},wT=function(t,e){return!e&&console.warn(t)},cW=function(t,e){return t&&(ml[t]=e)&&TT&&(TT[t]=e)||ml},tb=function(){return 0},lR={},Oh=[],cR={},vl={},uR={},dW=30,MT=[],dR="",hR=function(t){var i,r,e=t[0];if(wd(e)||ps(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=MT.length;r--&&!MT[r].targetTest(e););i=MT[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new BW(t[r],i)))||t.splice(r,1);return t},kp=function(t){return t._gsap||hR(Ql(t))[0]._gsap},hW=function(t,e,i){return(i=t[e])&&ps(i)?t[e]():nR(i)&&t.getAttribute&&t.getAttribute(e)||i},Wa=function(t,e){return(t=t.split(",")).forEach(e)||t},jo=function(t){return Math.round(1e5*t)/1e5||0},ta=function(t){return Math.round(1e7*t)/1e7||0},sIe=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},OT=function(){var i,r,t=Oh.length,e=Oh.slice(0);for(cR={},Oh.length=0,i=0;i<t;i++)(r=e[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},fW=function(t,e,i,r){Oh.length&&OT(),t.render(e,i,r),Oh.length&&OT()},pW=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(sW).length<2?e:fs(t)?t.trim():t},gW=function(t){return t},Jl=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Lm=function(t,e){for(var i in e)t[i]=e[i];return t},_W=function n(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=wd(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},PT=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},nb=function(t){var e=t.parent||oo,i=t.keyframes?function(t){return function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}}(ea(t.keyframes)):Jl;if(za(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},xT=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o=e._prev,s=e._next;o?o._next=s:t[i]===e&&(t[i]=s),s?s._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},Md=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Lp=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},uIe=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},dIe=function n(t){return!t||t._ts&&n(t.parent)},mW=function(t){return t._repeat?Fm(t._tTime,t=t.duration()+t._rDelay)*t:0},Fm=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},IT=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},AT=function(t){return t._end=ta(t._start+(t._tDur/Math.abs(t._ts||t._rts||mr)||0))},vW=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=ta(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),AT(t),i._dirty||Lp(i,t)),t},yW=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=IT(t.rawTime(),e),(!e._dur||rb(0,e.totalDuration(),i)-e._tTime>mr)&&e.render(i,!0)),Lp(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-mr}},Lu=function(t,e,i,r){return e.parent&&Md(e),e._start=ta((Td(i)?i:i||t!==oo?Zl(t,i,e):t._time)+e._delay),e._end=ta(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,o){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,s=t[r];if(o)for(a=e[o];s&&s[o]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),fR(e)||(t._recent=e),r||yW(t,e),t},bW=function(t,e){return(ml.ScrollTrigger||aR("scrollTrigger",e))&&ml.ScrollTrigger.create(e,t)},SW=function(t,e,i,r){return NIe(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&uW!==tc.frame?(Oh.push(t),t._lazy=[e,r],1):void 0:1},hIe=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},fR=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Bm=function(t,e,i,r){var o=t._repeat,s=ta(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:ta(s*(o+1)+t._rDelay*o):s,a>0&&!r?vW(t,t._tTime=t._tDur*a):t.parent&&AT(t),i||Lp(t.parent,t),t},CW=function(t){return t instanceof $a?Lp(t):Bm(t,t._dur)},gIe={_start:0,endTime:tb,totalDuration:tb},Zl=function n(t,e,i){var a,l,c,r=t.labels,o=t._recent||gIe,s=t.duration()>=ql?o.endTime(!1):t._dur;return fs(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),c="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?o:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=s),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(ea(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:s+l)):null==e?s:+e},ib=function(t,e,i){var a,l,r=Td(e[1]),o=(r?2:1)+(t<2?0:1),s=e[o];if(r&&(s.duration=e[1]),s.parent=i,t){for(a=s,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=za(l.vars.inherit)&&l.parent;s.immediateRender=za(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return new gs(e[0],s,e[o+1])},Ph=function(t,e){return t||0===t?e(t):e},rb=function(t,e,i){return i<t?t:i>e?e:i},Ya=function(t,e){return fs(t)&&(e=oIe.exec(t))?t.substr(e.index+e[0].length):""},pR=[].slice,EW=function(t,e){return t&&wd(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&wd(t[0]))&&!t.nodeType&&t!==ku},Ql=function(t,e,i){return!fs(t)||i||!oR&&jm()?ea(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(r){var o;return fs(r)&&!e||EW(r,1)?(o=i).push.apply(o,Ql(r)):i.push(r)})||i}(t,i):EW(t)?pR.call(t,0):t?[t]:[]:pR.call((e||sR).querySelectorAll(t),0)},TW=function(t){return t.sort(function(){return.5-Math.random()})},wW=function(t){if(ps(t))return t;var e=wd(t)?t:{each:t},i=Fp(e.ease),r=e.from||0,o=parseFloat(e.base)||0,s={},a=r>0&&r<1,l=isNaN(r)||a,c=e.axis,u=r,d=r;return fs(r)?u=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],d=r[1]),function(f,p,T){var B,$,q,ee,se,ae,Ee,Ce,ge,x=(T||e).length,k=s[x];if(!k){if(!(ge="auto"===e.grid?0:(e.grid||[1,ql])[1])){for(Ee=-ql;Ee<(Ee=T[ge++].getBoundingClientRect().left)&&ge<x;);ge--}for(k=s[x]=[],B=l?Math.min(ge,x)*u-.5:r%ge,$=ge===ql?0:l?x*d/ge-.5:r/ge|0,Ee=0,Ce=ql,ae=0;ae<x;ae++)q=ae%ge-B,ee=$-(ae/ge|0),k[ae]=se=c?Math.abs("y"===c?ee:q):tW(q*q+ee*ee),se>Ee&&(Ee=se),se<Ce&&(Ce=se);"random"===r&&TW(k),k.max=Ee-Ce,k.min=Ce,k.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(ge>x?x-1:c?"y"===c?x/ge:ge:Math.max(ge,x/ge))||0)*("edges"===r?-1:1),k.b=x<0?o-x:o,k.u=Ya(e.amount||e.each)||0,i=i&&x<0?kW(i):i}return x=(k[f]-k.min)/k.max||0,ta(k.b+(i?i(x):x)*k.v)+k.u}},gR=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(Td(i)?0:Ya(i))}},MW=function(t,e){var r,o,i=ea(t);return!i&&wd(t)&&(r=i=t.radius||ql,t.values?(t=Ql(t.values),(o=!Td(t[0]))&&(r*=r)):t=gR(t.increment)),Ph(e,i?ps(t)?function(s){return o=t(s),Math.abs(o-s)<=r?o:s}:function(s){for(var f,p,a=parseFloat(o?s.x:s),l=parseFloat(o?s.y:0),c=ql,u=0,d=t.length;d--;)(f=o?(f=t[d].x-a)*f+(p=t[d].y-l)*p:Math.abs(t[d]-a))<c&&(c=f,u=d);return u=!r||c<=r?t[u]:s,o||u===s||Td(s)?u:u+Ya(s)}:gR(t))},OW=function(t,e,i,r){return Ph(ea(t)?!e:!0===i?!!(i=0):!r,function(){return ea(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})},PW=function(t,e,i){return Ph(i,function(r){return t[~~e(r)]})},ob=function(t){for(var r,o,s,a,e=0,i="";~(r=t.indexOf("random(",e));)s=t.indexOf(")",r),a="["===t.charAt(r+7),o=t.substr(r+7,s-r-7).match(a?sW:iR),i+=t.substr(e,r-e)+OW(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),e=s+1;return i+t.substr(e,t.length-e)},xW=function(t,e,i,r,o){var s=e-t,a=r-i;return Ph(o,function(l){return i+((l-t)/s*a||0)})},IW=function(t,e,i){var s,a,l,r=t.labels,o=ql;for(s in r)(a=r[s]-e)<0==!!i&&a&&o>(a=Math.abs(a))&&(l=s,o=a);return l},ec=function(t,e,i){var s,a,r=t.vars,o=r[e];if(o)return s=r[e+"Params"],a=r.callbackScope||t,i&&Oh.length&&OT(),s?o.apply(a,s):o.call(a)},sb=function(t){return Md(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&ec(t,"onInterrupt"),t},wIe=function(t){var e=(t=!t.name&&t.default||t).name,i=ps(t),r=e&&!i&&t.init?function(){this._props=[]}:t,o={init:tb,render:CR,add:yR,kill:GIe,modifier:jIe,rawVars:0},s={targetTest:0,get:0,getSetter:SR,aliases:{},register:0};if(jm(),t!==r){if(vl[e])return;Jl(r,Jl(PT(t,o),s)),Lm(r.prototype,Lm(o,PT(t,s))),vl[r.prop=e]=r,t.targetTest&&(MT.push(r),lR[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}cW(e,r),t.register&&t.register(Fu,r,Xa)},vr=255,ab={aqua:[0,vr,vr],lime:[0,vr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,vr],navy:[0,0,128],white:[vr,vr,vr],olive:[128,128,0],yellow:[vr,vr,0],orange:[vr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[vr,0,0],pink:[vr,192,203],cyan:[0,vr,vr],transparent:[vr,vr,vr,0]},_R=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*vr+.5|0},AW=function(t,e,i){var o,s,a,l,c,u,d,f,p,T,r=t?Td(t)?[t>>16,t>>8&vr,t&vr]:0:ab.black;if(!r){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),ab[t])r=ab[t];else if("#"===t.charAt(0)){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+o+o+s+s+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(r=parseInt(t.substr(1,6),16))>>16,r>>8&vr,r&vr,parseInt(t.substr(7),16)/255];r=[(t=parseInt(t.substr(1),16))>>16,t>>8&vr,t&vr]}else if("hsl"===t.substr(0,3))if(r=T=t.match(iR),e){if(~t.indexOf("="))return r=t.match(rW),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,o=2*(u=+r[2]/100)-(s=u<=.5?u*(c+1):u+c-u*c),r.length>3&&(r[3]*=1),r[0]=_R(l+1/3,o,s),r[1]=_R(l,o,s),r[2]=_R(l-1/3,o,s);else r=t.match(iR)||ab.transparent;r=r.map(Number)}return e&&!T&&(o=r[0]/vr,s=r[1]/vr,a=r[2]/vr,u=((d=Math.max(o,s,a))+(f=Math.min(o,s,a)))/2,d===f?l=c=0:(p=d-f,c=u>.5?p/(2-d-f):p/(d+f),l=d===o?(s-a)/p+(s<a?6:0):d===s?(a-o)/p+2:(o-s)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},DW=function(t){var e=[],i=[],r=-1;return t.split(xh).forEach(function(o){var s=o.match(km)||[];e.push.apply(e,s),i.push(r+=s.length+1)}),e.c=i,e},RW=function(t,e,i){var l,c,u,d,r="",o=(t+r).match(xh),s=e?"hsla(":"rgba(",a=0;if(!o)return t;if(o=o.map(function(f){return(f=AW(f,e,1))&&s+(e?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(u=DW(t),(l=i.c).join(r)!==u.c.join(r)))for(d=(c=t.replace(xh,"1").split(km)).length-1;a<d;a++)r+=c[a]+(~l.indexOf(a)?o.shift()||s+"0,0,0,0)":(u.length?u:o.length?o:i).shift());if(!c)for(d=(c=t.split(xh)).length-1;a<d;a++)r+=c[a]+o[a];return r+c[d]},xh=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in ab)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),MIe=/hsl[a]?\(/,NW=function(t){var i,e=t.join(" ");if(xh.lastIndex=0,xh.test(e))return i=MIe.test(e),t[1]=RW(t[1],i),t[0]=RW(t[0],i,DW(t[1])),!0},tc=function(){var l,c,u,d,f,p,n=Date.now,t=500,e=33,i=n(),r=i,o=1e3/240,s=o,a=[],T=function x(k){var q,ee,se,ae,B=n()-r,$=!0===k;if(B>t&&(i+=B-e),((q=(se=(r+=B)-i)-s)>0||$)&&(ae=++d.frame,f=se-1e3*d.time,d.time=se/=1e3,s+=q+(q>=o?4:o-q),ee=1),$||(l=c(x)),ee)for(p=0;p<a.length;p++)a[p](se,f,ae,k)};return d={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(k){return f/(1e3/(k||60))},wake:function(){aW&&(!oR&&nW()&&(ku=oR=window,sR=ku.document||{},ml.gsap=Fu,(ku.gsapVersions||(ku.gsapVersions=[])).push(Fu.version),lW(TT||ku.GreenSockGlobals||!ku.gsap&&ku||{}),u=ku.requestAnimationFrame),l&&d.sleep(),c=u||function(k){return setTimeout(k,s-1e3*d.time+1|0)},DT=1,T(2))},sleep:function(){(u?ku.cancelAnimationFrame:clearTimeout)(l),DT=0,c=tb},lagSmoothing:function(k,B){t=k||1/mr,e=Math.min(B,t,0)},fps:function(k){s=1e3*d.time+(o=1e3/(k||240))},add:function(k){a.indexOf(k)<0&&a.push(k),jm()},remove:function(k,B){~(B=a.indexOf(k))&&a.splice(B,1)&&p>=B&&p--},_listeners:a}}(),jm=function(){return!DT&&tc.wake()},Mi={},OIe=/^[\d.\-M][\d.\-,\s]/,PIe=/["']/g,xIe=function(t){for(var a,l,c,e={},i=t.substr(1,t.length-3).split(":"),r=i[0],o=1,s=i.length;o<s;o++)l=i[o],a=o!==s-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[r]=isNaN(c)?c.replace(PIe,"").trim():+c,r=l.substr(a+1).trim();return e},kW=function(t){return function(e){return 1-t(1-e)}},LW=function n(t,e){for(var r,i=t._first;i;)i instanceof $a?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},Fp=function(t,e){return t&&(ps(t)?t:Mi[t]||function(t){var e=(t+"").split("("),i=Mi[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[xIe(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(pW)):Mi._CE&&OIe.test(t)?Mi._CE("",t):i}(t))||e},Bp=function(t,e,i,r){void 0===i&&(i=function(l){return 1-e(1-l)}),void 0===r&&(r=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var s,o={easeIn:e,easeOut:i,easeInOut:r};return Wa(t,function(a){for(var l in Mi[a]=ml[a]=o,Mi[s=a.toLowerCase()]=i,o)Mi[s+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Mi[a+"."+l]=o[l]}),o},FW=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},mR=function n(t,e,i){var r=e>=1?e:1,o=(i||(t?.3:.45))/(e<1?e:1),s=o/tR*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*rIe((u-s)*o)+1},l="out"===t?a:"in"===t?function(c){return 1-a(1-c)}:FW(a);return o=tR/o,l.config=function(c,u){return n(t,c,u)},l},vR=function n(t,e){void 0===e&&(e=1.70158);var i=function(s){return s?--s*s*((e+1)*s+e)+1:0},r="out"===t?i:"in"===t?function(o){return 1-i(1-o)}:FW(i);return r.config=function(o){return n(t,o)},r};Wa("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Bp(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(2*i,e)/2:1-Math.pow(2*(1-i),e)/2})}),Mi.Linear.easeNone=Mi.none=Mi.Linear.easeIn,Bp("Elastic",mR("in"),mR("out"),mR()),function(n,t){var o=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Bp("Bounce",function(s){return 1-o(1-s)},o)}(7.5625,2.75),Bp("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Bp("Circ",function(n){return-(tW(1-n*n)-1)}),Bp("Sine",function(n){return 1===n?1:1-iIe(n*tIe)}),Bp("Back",vR("in"),vR("out"),vR()),Mi.SteppedEase=Mi.steps=ml.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),o=e?1:0;return function(a){return((r*rb(0,.99999999,a)|0)+o)*i}}},Nm.ease=Mi["quad.out"],Wa("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return dR+=n+","+n+"Params,"});var BW=function(t,e){this.id=nIe++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:hW,this.set=e?e.getSetter:SR},lb=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Bm(this,+e.duration,1,1),this.data=e.data,DT||tc.wake()}var t=n.prototype;return t.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,Bm(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(jm(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(vW(this,i),!o._dp||o.parent||yW(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Lu(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===mr||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),fW(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+mW(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+mW(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,r){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,r):this._repeat?Fm(this._tTime,o)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-mr?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?IT(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-mr?0:this._rts,uIe(this.totalTime(rb(-this._delay,this._tDur,r),!0)),AT(this),this},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(jm(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==mr&&(this._tTime-=mr)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Lu(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(za(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?IT(r.rawTime(i),this):this._tTime:this._tTime},t.globalTime=function(i){for(var r=this,o=arguments.length?i:r.rawTime();r;)o=r._start+o/(r._ts||1),r=r._dp;return o},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,CW(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,CW(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(Zl(this,i),za(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,za(r))},t.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-mr:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-mr,this},t.isActive=function(){var o,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=r&&o<this.endTime(!0)-mr))},t.eventCallback=function(i,r,o){var s=this.vars;return arguments.length>1?(r?(s[i]=r,o&&(s[i+"Params"]=o),"onUpdate"===i&&(this._onUpdate=r)):delete s[i],this):s[i]},t.then=function(i){var r=this;return new Promise(function(o){var s=ps(i)?i:gW,a=function(){var c=r.then;r.then=null,ps(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=c),o(s),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){sb(this)},n}();Jl(lb.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-mr,_prom:0,_ps:!1,_rts:1});var $a=function(n){function t(i,r){var o;return void 0===i&&(i={}),(o=n.call(this,i)||this).labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=za(i.sortChildren),oo&&Lu(i.parent||oo,Ed(o),r),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&bW(Ed(o),i.scrollTrigger),o}eW(t,n);var e=t.prototype;return e.to=function(r,o,s){return ib(0,arguments,this),this},e.from=function(r,o,s){return ib(1,arguments,this),this},e.fromTo=function(r,o,s,a){return ib(2,arguments,this),this},e.set=function(r,o,s){return o.duration=0,o.parent=this,nb(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new gs(r,o,Zl(this,s),1),this},e.call=function(r,o,s){return Lu(this,gs.delayedCall(0,r,o),s)},e.staggerTo=function(r,o,s,a,l,c,u){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=c,s.onCompleteParams=u,s.parent=this,new gs(r,s,Zl(this,l)),this},e.staggerFrom=function(r,o,s,a,l,c,u){return s.runBackwards=1,nb(s).immediateRender=za(s.immediateRender),this.staggerTo(r,o,s,a,l,c,u)},e.staggerFromTo=function(r,o,s,a,l,c,u,d){return a.startAt=s,nb(a).immediateRender=za(a.immediateRender),this.staggerTo(r,o,a,l,c,u,d)},e.render=function(r,o,s){var f,p,T,x,k,B,$,q,ee,se,ae,Ee,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:ta(r),d=this._zTime<0!=r<0&&(this._initted||!c);if(this!==oo&&u>l&&r>=0&&(u=l),u!==this._tTime||s||d){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),f=u,ee=this._start,B=!(q=this._ts),d&&(c||(a=this._zTime),(r||!o)&&(this._zTime=r)),this._repeat){if(ae=this._yoyo,k=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*k+r,o,s);if(f=ta(u%k),u===l?(x=this._repeat,f=c):((x=~~(u/k))&&x===u/k&&(f=c,x--),f>c&&(f=c)),se=Fm(this._tTime,k),!a&&this._tTime&&se!==x&&(se=x),ae&&1&x&&(f=c-f,Ee=1),x!==se&&!this._lock){var Ce=ae&&1&se,ge=Ce===(ae&&1&x);if(x<se&&(Ce=!Ce),a=Ce?0:c,this._lock=1,this.render(a||(Ee?0:ta(x*k)),o,!c)._lock=0,this._tTime=u,!o&&this.parent&&ec(this,"onRepeat"),this.vars.repeatRefresh&&!Ee&&(this.invalidate()._lock=1),a&&a!==this._time||B!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,ge&&(this._lock=2,this.render(a=Ce?c:-1e-4,!0),this.vars.repeatRefresh&&!Ee&&this.invalidate()),this._lock=0,!this._ts&&!B)return this;LW(this,Ee)}}if(this._hasPause&&!this._forcing&&this._lock<2&&($=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,ta(a),ta(f)),$&&(u-=f-(f=$._start))),this._tTime=u,this._time=f,this._act=!q,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&!o&&(ec(this,"onStart"),this._tTime!==u))return this;if(f>=a&&r>=0)for(p=this._first;p;){if(T=p._next,(p._act||f>=p._start)&&p._ts&&$!==p){if(p.parent!==this)return this.render(r,o,s);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,o,s),f!==this._time||!this._ts&&!B){$=0,T&&(u+=this._zTime=-mr);break}}p=T}else{p=this._last;for(var ve=r<0?r:f;p;){if(T=p._prev,(p._act||ve<=p._end)&&p._ts&&$!==p){if(p.parent!==this)return this.render(r,o,s);if(p.render(p._ts>0?(ve-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(ve-p._start)*p._ts,o,s),f!==this._time||!this._ts&&!B){$=0,T&&(u+=this._zTime=ve?-mr:mr);break}}p=T}}if($&&!o&&(this.pause(),$.render(f>=a?0:-mr)._zTime=f>=a?1:-1,this._ts))return this._start=ee,AT(this),this.render(r,o,s);this._onUpdate&&!o&&ec(this,"onUpdate",!0),(u===l&&l>=this.totalDuration()||!u&&a)&&(ee===this._start||Math.abs(q)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Md(this,1),!o&&(!(r<0)||a)&&(u||a||!l)&&(ec(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,o){var s=this;if(Td(o)||(o=Zl(this,o,r)),!(r instanceof lb)){if(ea(r))return r.forEach(function(a){return s.add(a,o)}),this;if(fs(r))return this.addLabel(r,o);if(!ps(r))return this;r=gs.delayedCall(0,r)}return this!==r?Lu(this,r,o):this},e.getChildren=function(r,o,s,a){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=-ql);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof gs?o&&l.push(c):(s&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,o,s)))),c=c._next;return l},e.getById=function(r){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===r)return o[s]},e.remove=function(r){return fs(r)?this.removeLabel(r):ps(r)?this.killTweensOf(r):(xT(this,r),r===this._recent&&(this._recent=this._last),Lp(this))},e.totalTime=function(r,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ta(tc.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,o),this._forcing=0,this):this._tTime},e.addLabel=function(r,o){return this.labels[r]=Zl(this,o),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,o,s){var a=gs.delayedCall(0,o||tb,s);return a.data="isPause",this._hasPause=1,Lu(this,a,Zl(this,r))},e.removePause=function(r){var o=this._first;for(r=Zl(this,r);o;)o._start===r&&"isPause"===o.data&&Md(o),o=o._next},e.killTweensOf=function(r,o,s){for(var a=this.getTweensOf(r,s),l=a.length;l--;)Ih!==a[l]&&a[l].kill(r,o);return this},e.getTweensOf=function(r,o){for(var u,s=[],a=Ql(r),l=this._first,c=Td(o);l;)l instanceof gs?sIe(l._targets,a)&&(c?(!Ih||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&s.push(l):(u=l.getTweensOf(a,o)).length&&s.push.apply(s,u),l=l._next;return s},e.tweenTo=function(r,o){o=o||{};var p,s=this,a=Zl(s,r),c=o.startAt,u=o.onStart,d=o.onStartParams,f=o.immediateRender,T=gs.to(s,Jl({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale())||mr,onStart:function(){if(s.pause(),!p){var k=o.duration||Math.abs((a-(c&&"time"in c?c.time:s._time))/s.timeScale());T._dur!==k&&Bm(T,k,0,1).render(T._time,!0,!0),p=1}u&&u.apply(T,d||[])}},o));return f?T.render(0):T},e.tweenFromTo=function(r,o,s){return this.tweenTo(o,Jl({startAt:{time:Zl(this,r)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(r){return void 0===r&&(r=this._time),IW(this,Zl(this,r))},e.previousLabel=function(r){return void 0===r&&(r=this._time),IW(this,Zl(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+mr)},e.shiftChildren=function(r,o,s){void 0===s&&(s=0);for(var c,a=this._first,l=this.labels;a;)a._start>=s&&(a._start+=r,a._end+=r),a=a._next;if(o)for(c in l)l[c]>=s&&(l[c]+=r);return Lp(this)},e.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},e.clear=function(r){void 0===r&&(r=!0);for(var s,o=this._first;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Lp(this)},e.totalDuration=function(r){var c,u,d,o=0,s=this,a=s._last,l=ql;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(d=s.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,Lu(s,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(o-=u,(!d&&!s._dp||d&&d.smoothChildTiming)&&(s._start+=u/s._ts,s._time-=u,s._tTime-=u),s.shiftChildren(-u,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=c;Bm(s,s===oo&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(r){if(oo._ts&&(fW(oo,IT(r,oo)),uW=tc.frame),tc.frame>=dW){dW+=_l.autoSleep||120;var o=oo._first;if((!o||!o._ts)&&_l.autoSleep&&tc._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||tc.sleep()}}},t}(lb);Jl($a.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ih,DIe=function(t,e,i,r,o,s,a){var d,f,p,T,x,k,B,$,l=new Xa(this._pt,t,e,0,1,zW,null,o),c=0,u=0;for(l.b=i,l.e=r,i+="",(B=~(r+="").indexOf("random("))&&(r=ob(r)),s&&(s($=[i,r],t,e),i=$[0],r=$[1]),f=i.match(rR)||[];d=rR.exec(r);)T=d[0],x=r.substring(c,d.index),p?p=(p+1)%5:"rgba("===x.substr(-5)&&(p=1),T!==f[u++]&&(k=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:x||1===u?x:",",s:k,c:"="===T.charAt(1)?parseFloat(T.substr(2))*("-"===T.charAt(0)?-1:1):parseFloat(T)-k,m:p&&p<4?Math.round:0},c=rR.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(oW.test(r)||B)&&(l.e=0),this._pt=l,l},yR=function(t,e,i,r,o,s,a,l,c){ps(r)&&(r=r(o||0,t,s));var p,u=t[e],d="get"!==i?i:ps(u)?c?t[e.indexOf("set")||!ps(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():u,f=ps(u)?c?FIe:HW:bR;if(fs(r)&&(~r.indexOf("random(")&&(r=ob(r)),"="===r.charAt(1)&&((p=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(Ya(d)||0))||0===p)&&(r=p)),d!==r)return isNaN(d*r)||""===r?(!u&&!(e in t)&&aR(e,r),DIe.call(this,t,e,d,r,f,l||_l.stringFilter,c)):(p=new Xa(this._pt,t,e,+d||0,r-(d||0),"boolean"==typeof u?UIe:VW,0,f),c&&(p.fp=c),a&&p.modifier(a,this,t),this._pt=p)},UW=function(t,e,i,r,o,s){var a,l,c,u;if(vl[t]&&!1!==(a=new vl[t]).init(o,a.rawVars?e[t]:function(t,e,i,r,o){if(ps(t)&&(t=cb(t,o,e,i,r)),!wd(t)||t.style&&t.nodeType||ea(t)||iW(t))return fs(t)?cb(t,o,e,i,r):t;var a,s={};for(a in t)s[a]=cb(t[a],o,e,i,r);return s}(e[t],r,o,s,i),i,r,s)&&(i._pt=l=new Xa(i._pt,o,t,0,1,a.render,a,0,a.priority),i!==Um))for(c=i._ptLookup[i._targets.indexOf(o)],u=a._props.length;u--;)c[a._props[u]]=l;return a},NIe=function n(t,e){var ae,Ee,Ce,ge,ve,Ve,Pe,De,Ye,Ge,Ne,ke,$e,i=t.vars,r=i.ease,o=i.startAt,s=i.immediateRender,a=i.lazy,l=i.onUpdate,c=i.onUpdateParams,u=i.callbackScope,d=i.runBackwards,f=i.yoyoEase,p=i.keyframes,T=i.autoRevert,x=t._dur,k=t._startAt,B=t._targets,$=t.parent,q=$&&"nested"===$.data?$.parent._targets:B,ee="auto"===t._overwrite&&!eR,se=t.timeline;if(se&&(!p||!r)&&(r="none"),t._ease=Fp(r,Nm.ease),t._yEase=f?kW(Fp(!0===f?r:f,Nm.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!se&&!!i.runBackwards,!se||p&&!i.stagger){if(ke=(De=B[0]?kp(B[0]).harness:0)&&i[De.prop],ae=PT(i,lR),k&&Md(k.render(-1,!0)),o)if(Md(t._startAt=gs.set(B,Jl({data:"isStart",overwrite:!1,parent:$,immediateRender:!0,lazy:za(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:u,stagger:0},o))),e<0&&!s&&!T&&t._startAt.render(-1,!0),s){if(e>0&&!T&&(t._startAt=0),x&&e<=0)return void(e&&(t._zTime=e))}else!1===T&&(t._startAt=0);else if(d&&x)if(k)!T&&(t._startAt=0);else if(e&&(s=!1),Ce=Jl({overwrite:!1,data:"isFromStart",lazy:s&&za(a),immediateRender:s,stagger:0,parent:$},ae),ke&&(Ce[De.prop]=ke),Md(t._startAt=gs.set(B,Ce)),e<0&&t._startAt.render(-1,!0),t._zTime=e,s){if(!e)return}else n(t._startAt,mr);for(t._pt=0,a=x&&za(a)||a&&!x,Ee=0;Ee<B.length;Ee++){if(Pe=(ve=B[Ee])._gsap||hR(B)[Ee]._gsap,t._ptLookup[Ee]=Ge={},cR[Pe.id]&&Oh.length&&OT(),Ne=q===B?Ee:q.indexOf(ve),De&&!1!==(Ye=new De).init(ve,ke||ae,t,Ne,q)&&(t._pt=ge=new Xa(t._pt,ve,Ye.name,0,1,Ye.render,Ye,0,Ye.priority),Ye._props.forEach(function(gt){Ge[gt]=ge}),Ye.priority&&(Ve=1)),!De||ke)for(Ce in ae)vl[Ce]&&(Ye=UW(Ce,ae,t,Ne,ve,q))?Ye.priority&&(Ve=1):Ge[Ce]=ge=yR.call(t,ve,Ce,"get",ae[Ce],Ne,q,0,i.stringFilter);t._op&&t._op[Ee]&&t.kill(ve,t._op[Ee]),ee&&t._pt&&(Ih=t,oo.killTweensOf(ve,Ge,t.globalTime(e)),$e=!t.parent,Ih=0),t._pt&&a&&(cR[Pe.id]=1)}Ve&&WW(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!$e,p&&e<=0&&se.render(ql,!0,!0)},LIe=function(t,e,i,r){var s,a,o=e.ease||r||"power1.inOut";if(ea(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:o})});else for(s in e)a=i[s]||(i[s]=[]),"ease"===s||a.push({t:parseFloat(t),v:e[s],e:o})},cb=function(t,e,i,r,o){return ps(t)?t.call(e,i,r,o):fs(t)&&~t.indexOf("random(")?ob(t):t},jW=dR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",GW={};Wa(jW+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return GW[n]=1});var gs=function(n){function t(i,r,o,s){var a;"number"==typeof r&&(o.duration=r,r=o,o=null);var ee,se,ae,Ee,Ce,ge,ve,Ve,l=(a=n.call(this,s?r:nb(r))||this).vars,c=l.duration,u=l.delay,d=l.immediateRender,f=l.stagger,p=l.overwrite,T=l.keyframes,x=l.defaults,k=l.scrollTrigger,B=l.yoyoEase,$=r.parent||oo,q=(ea(i)||iW(i)?Td(i[0]):"length"in r)?[i]:Ql(i);if(a._targets=q.length?hR(q):wT("GSAP target "+i+" not found. https://greensock.com",!_l.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,T||f||ET(c)||ET(u)){if(r=a.vars,(ee=a.timeline=new $a({data:"nested",defaults:x||{}})).kill(),ee.parent=ee._dp=Ed(a),ee._start=0,f||ET(c)||ET(u)){if(Ee=q.length,ve=f&&wW(f),wd(f))for(Ce in f)~jW.indexOf(Ce)&&(Ve||(Ve={}),Ve[Ce]=f[Ce]);for(se=0;se<Ee;se++)(ae=PT(r,GW)).stagger=0,B&&(ae.yoyoEase=B),Ve&&Lm(ae,Ve),ge=q[se],ae.duration=+cb(c,Ed(a),se,ge,q),ae.delay=(+cb(u,Ed(a),se,ge,q)||0)-a._delay,!f&&1===Ee&&ae.delay&&(a._delay=u=ae.delay,a._start+=u,ae.delay=0),ee.to(ge,ae,ve?ve(se,ge,q):0),ee._ease=Mi.none;ee.duration()?c=u=0:a.timeline=0}else if(T){nb(Jl(ee.vars.defaults,{ease:"none"})),ee._ease=Fp(T.ease||r.ease||"none");var De,Ye,Ge,Pe=0;if(ea(T))T.forEach(function(Ne){return ee.to(q,Ne,">")});else{for(Ce in ae={},T)"ease"===Ce||"easeEach"===Ce||LIe(Ce,T[Ce],ae,T.easeEach);for(Ce in ae)for(De=ae[Ce].sort(function(Ne,ke){return Ne.t-ke.t}),Pe=0,se=0;se<De.length;se++)(Ge={ease:(Ye=De[se]).e,duration:(Ye.t-(se?De[se-1].t:0))/100*c})[Ce]=Ye.v,ee.to(q,Ge,Pe),Pe+=Ge.duration;ee.duration()<c&&ee.to({},{duration:c-ee.duration()})}}c||a.duration(c=ee.duration())}else a.timeline=0;return!0===p&&!eR&&(Ih=Ed(a),oo.killTweensOf(q),Ih=0),Lu($,Ed(a),o),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!c&&!T&&a._start===ta($._time)&&za(d)&&dIe(Ed(a))&&"nested"!==$.data)&&(a._tTime=-mr,a.render(Math.max(0,-u))),k&&bW(Ed(a),k),a}eW(t,n);var e=t.prototype;return e.render=function(r,o,s){var d,f,p,T,x,k,B,$,q,a=this._time,l=this._tDur,c=this._dur,u=r>l-mr&&r>=0?l:r<mr?0:r;if(c){if(u!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(d=u,$=this.timeline,this._repeat){if(T=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*T+r,o,s);if(d=ta(u%T),u===l?(p=this._repeat,d=c):((p=~~(u/T))&&p===u/T&&(d=c,p--),d>c&&(d=c)),(k=this._yoyo&&1&p)&&(q=this._yEase,d=c-d),x=Fm(this._tTime,T),d===a&&!s&&this._initted)return this;p!==x&&($&&this._yEase&&LW($,k),this.vars.repeatRefresh&&!k&&!this._lock&&(this._lock=s=1,this.render(ta(T*p),!0).invalidate()._lock=0))}if(!this._initted){if(SW(this,r<0?r:d,s,o))return this._tTime=0,this;if(c!==this._dur)return this.render(r,o,s)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=B=(q||this._ease)(d/c),this._from&&(this.ratio=B=1-B),d&&!a&&!o&&(ec(this,"onStart"),this._tTime!==u))return this;for(f=this._pt;f;)f.r(B,f.d),f=f._next;$&&$.render(r<0?r:!d&&k?-mr:$._dur*$._ease(d/this._dur),o,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!o&&(r<0&&this._startAt&&this._startAt.render(r,!0,s),ec(this,"onUpdate")),this._repeat&&p!==x&&this.vars.onRepeat&&!o&&this.parent&&ec(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&Md(this,1),!o&&(!(r<0)||a)&&(u||a)&&(ec(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var c,u,d,o=t.ratio,s=e<0||!e&&(!t._start&&hIe(t)&&(t._initted||!fR(t))||(t._ts<0||t._dp._ts<0)&&!fR(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=rb(0,t._tDur,e),u=Fm(l,a),t._yoyo&&1&u&&(s=1-s),u!==Fm(t._tTime,a)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||r||t._zTime===mr||!e&&t._zTime){if(!t._initted&&SW(t,e,r,i))return;for(d=t._zTime,t._zTime=e||(i?mr:0),i||(i=e&&!d),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,c=t._pt;c;)c.r(s,c.d),c=c._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&ec(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&ec(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&Md(t,1),i||(ec(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,r,o,s);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(r,o){if(void 0===o&&(o="all"),!(r||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?sb(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,o,Ih&&!0!==Ih.vars.overwrite)._first||sb(this),this.parent&&s!==this.timeline.totalDuration()&&Bm(this,this._dur*this.timeline._tDur/s,0,1),this}var d,f,p,T,x,k,B,a=this._targets,l=r?Ql(r):a,c=this._ptLookup,u=this._pt;if((!o||"all"===o)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(a,l))return"all"===o&&(this._pt=0),sb(this);for(d=this._op=this._op||[],"all"!==o&&(fs(o)&&(x={},Wa(o,function($){return x[$]=1}),o=x),o=function(t,e){var o,s,a,l,i=t[0]?kp(t[0]).harness:0,r=i&&i.aliases;if(!r)return e;for(s in o=Lm({},e),r)if(s in o)for(a=(l=r[s].split(",")).length;a--;)o[l[a]]=o[s];return o}(a,o)),B=a.length;B--;)if(~l.indexOf(a[B]))for(x in f=c[B],"all"===o?(d[B]=o,T=f,p={}):(p=d[B]=d[B]||{},T=o),T)(k=f&&f[x])&&((!("kill"in k.d)||!0===k.d.kill(x))&&xT(this,k,"_pt"),delete f[x]),"all"!==p&&(p[x]=1);return this._initted&&!this._pt&&u&&sb(this),this},t.to=function(r,o){return new t(r,o,arguments[2])},t.from=function(r,o){return ib(1,arguments)},t.delayedCall=function(r,o,s,a){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(r,o,s){return ib(2,arguments)},t.set=function(r,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(r,o)},t.killTweensOf=function(r,o,s){return oo.killTweensOf(r,o,s)},t}(lb);Jl(gs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Wa("staggerTo,staggerFrom,staggerFromTo",function(n){gs[n]=function(){var t=new $a,e=pR.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var bR=function(t,e,i){return t[e]=i},HW=function(t,e,i){return t[e](i)},FIe=function(t,e,i,r){return t[e](r.fp,i)},BIe=function(t,e,i){return t.setAttribute(e,i)},SR=function(t,e){return ps(t[e])?HW:nR(t[e])&&t.setAttribute?BIe:bR},VW=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},UIe=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},zW=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},CR=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},jIe=function(t,e,i,r){for(var s,o=this._pt;o;)s=o._next,o.p===r&&o.modifier(t,e,i),o=s},GIe=function(t){for(var i,r,e=this._pt;e;)r=e._next,e.p===t&&!e.op||e.op===t?xT(this,e,"_pt"):e.dep||(i=1),e=r;return!i},HIe=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},WW=function(t){for(var i,r,o,s,e=t._pt;e;){for(i=e._next,r=o;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:s)?e._prev._next=e:o=e,(e._next=r)?r._prev=e:s=e,e=i}t._pt=o},Xa=function(){function n(e,i,r,o,s,a,l,c,u){this.t=i,this.s=o,this.c=s,this.p=r,this.r=a||VW,this.d=l||this,this.set=c||bR,this.pr=u||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(i,r,o){this.mSet=this.mSet||this.set,this.set=HIe,this.m=i,this.mt=o,this.tween=r},n}();Wa(dR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return lR[n]=1}),ml.TweenMax=ml.TweenLite=gs,ml.TimelineLite=ml.TimelineMax=$a,oo=new $a({sortChildren:!1,defaults:Nm,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_l.stringFilter=NW;var RT={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return wIe(r)})},timeline:function(t){return new $a(t)},getTweensOf:function(t,e){return oo.getTweensOf(t,e)},getProperty:function(t,e,i,r){fs(t)&&(t=Ql(t)[0]);var o=kp(t||{}).get,s=i?gW:pW;return"native"===i&&(i=""),t&&(e?s((vl[e]&&vl[e].get||o)(t,e,i,r)):function(a,l,c){return s((vl[a]&&vl[a].get||o)(t,a,l,c))})},quickSetter:function(t,e,i){if((t=Ql(t)).length>1){var r=t.map(function(u){return Fu.quickSetter(u,e,i)}),o=r.length;return function(u){for(var d=o;d--;)r[d](u)}}var s=vl[e],a=kp(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,c=s?function(u){var d=new s;Um._pt=0,d.init(t,i?u+i:u,Um,0,[t]),d.render(1,d),Um._pt&&CR(1,Um)}:a.set(t,l);return s?c:function(u){return c(t,l,i?u+i:u,a,1)}},isTweening:function(t){return oo.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Fp(t.ease,Nm.ease)),_W(Nm,t||{})},config:function(t){return _W(_l,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,o=t.defaults,s=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!vl[a]&&!ml[a]&&wT(e+" effect requires "+a+" plugin.")}),uR[e]=function(a,l,c){return i(Ql(a),Jl(l||{},o),c)},s&&($a.prototype[e]=function(a,l,c){return this.add(uR[e](a,wd(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){Mi[t]=Fp(e)},parseEase:function(t,e){return arguments.length?Fp(t,e):Mi},getById:function(t){return oo.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,o,i=new $a(t);for(i.smoothChildTiming=za(t.smoothChildTiming),oo.remove(i),i._dp=0,i._time=i._tTime=oo._time,r=oo._first;r;)o=r._next,(e||!(!r._dur&&r instanceof gs&&r.vars.onComplete===r._targets[0]))&&Lu(i,r,r._start-r._delay),r=o;return Lu(oo,i,0),i},utils:{wrap:function n(t,e,i){var r=e-t;return ea(t)?PW(t,n(0,t.length),e):Ph(i,function(o){return(r+(o-t)%r)%r+t})},wrapYoyo:function n(t,e,i){var r=e-t,o=2*r;return ea(t)?PW(t,n(0,t.length-1),e):Ph(i,function(s){return t+((s=(o+(s-t)%o)%o||0)>r?o-s:s)})},distribute:wW,random:OW,snap:MW,normalize:function(t,e,i){return xW(t,e,0,1,i)},getUnit:Ya,clamp:function(t,e,i){return Ph(i,function(r){return rb(t,e,r)})},splitColor:AW,toArray:Ql,selector:function(t){return t=Ql(t)[0]||wT("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return Ql(e,i.querySelectorAll?i:i===t?wT("Invalid scope")||sR.createElement("div"):t)}},mapRange:xW,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(o,s){return s(o)},r)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||Ya(i))}},interpolate:function n(t,e,i,r){var o=isNaN(t+e)?0:function(p){return(1-p)*t+p*e};if(!o){var l,c,u,d,f,s=fs(t),a={};if(!0===i&&(r=1)&&(i=null),s)t={p:t},e={p:e};else if(ea(t)&&!ea(e)){for(u=[],f=(d=t.length)-2,c=1;c<d;c++)u.push(n(t[c-1],t[c]));d--,o=function(T){T*=d;var x=Math.min(f,~~T);return u[x](T-x)},i=e}else r||(t=Lm(ea(t)?[]:{},t));if(!u){for(l in e)yR.call(a,t,l,"get",e[l]);o=function(T){return CR(T,a)||(s?t.p:t)}}}return Ph(i,o)},shuffle:TW},install:lW,effects:uR,ticker:tc,updateRoot:$a.updateRoot,plugins:vl,globalTimeline:oo,core:{PropTween:Xa,globals:cW,Tween:gs,Timeline:$a,Animation:lb,getCache:kp,_removeLinkedListItem:xT,suppressOverwrites:function(t){return eR=t}}};Wa("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return RT[n]=gs[n]}),tc.add($a.updateRoot),Um=RT.to({},{duration:0});var VIe=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},ER=function(t,e){return{name:t,rawVars:1,init:function(r,o,s){s._onInit=function(a){var l,c;if(fs(o)&&(l={},Wa(o,function(u){return l[u]=1}),o=l),e){for(c in l={},o)l[c]=e(o[c]);o=l}!function(t,e){var r,o,s,i=t._targets;for(r in e)for(o=i.length;o--;)(s=t._ptLookup[o][r])&&(s=s.d)&&(s._pt&&(s=VIe(s,r)),s&&s.modifier&&s.modifier(e[r],t,i[o],r))}(a,o)}}}},Fu=RT.registerPlugin({name:"attr",init:function(t,e,i,r,o){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,o,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},ER("roundProps",gR),ER("modifiers"),ER("snap",MW))||RT;gs.version=$a.version=Fu.version="3.9.1",aW=1,nW()&&jm();var YW,Ah,Gm,TR,Up,$W,QW,Dh={},jp=180/Math.PI,Hm=Math.PI/180,Vm=Math.atan2,XW=1e8,KW=/([A-Z])/g,$Ie=/(?:left|right|width|margin|padding|x)/i,XIe=/[\s,\(]\S/,Rh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qW=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},KIe=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},qIe=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},JIe=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},JW=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ZW=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},ZIe=function(t,e,i){return t.style[e]=i},QIe=function(t,e,i){return t.style.setProperty(e,i)},e2e=function(t,e,i){return t._gsap[e]=i},t2e=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},n2e=function(t,e,i,r,o){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(o,s)},i2e=function(t,e,i,r,o){var s=t._gsap;s[e]=i,s.renderTransform(o,s)},Ds="transform",Nh=Ds+"Origin",wR=function(t,e){var i=Ah.createElementNS?Ah.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ah.createElement(t);return i.style?i:Ah.createElement(t)},Od=function n(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(KW,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&n(t,zm(e)||e,1)||""},eY="O,Moz,ms,Ms,Webkit".split(","),zm=function(t,e,i){var o=(e||Up).style,s=5;if(t in o&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(eY[s]+t in o););return s<0?null:(3===s?"ms":s>=0?eY[s]:"")+t},MR=function(){"undefined"!=typeof window&&window.document&&(YW=window,Gm=(Ah=YW.document).documentElement,Up=wR("div")||{style:{}},wR("div"),Ds=zm(Ds),Nh=Ds+"Origin",Up.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",QW=!!zm("perspective"),TR=1)},OR=function n(t){var s,e=wR("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Gm.appendChild(e),e.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(s=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Gm.removeChild(e),this.style.cssText=o,s},tY=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},nY=function(t){var e;try{e=t.getBBox()}catch(i){e=OR.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===OR||(e=OR.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+tY(t,["x","cx","x1"])||0,y:+tY(t,["y","cy","y1"])||0,width:0,height:0}},iY=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!nY(t))},ub=function(t,e){if(e){var i=t.style;e in Dh&&e!==Nh&&(e=Ds),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(KW,"-$1").toLowerCase())):i.removeAttribute(e)}},kh=function(t,e,i,r,o,s){var a=new Xa(t._pt,e,i,0,1,s?ZW:JW);return t._pt=a,a.b=r,a.e=o,t._props.push(i),a},rY={deg:1,rad:1,turn:1},Lh=function n(t,e,i,r){var T,x,k,B,o=parseFloat(i)||0,s=(i+"").trim().substr((o+"").length)||"px",a=Up.style,l=$Ie.test(e),c="svg"===t.tagName.toLowerCase(),u=(c?"client":"offset")+(l?"Width":"Height"),d=100,f="px"===r,p="%"===r;return r===s||!o||rY[r]||rY[s]?o:("px"!==s&&!f&&(o=n(t,e,i,"px")),B=t.getCTM&&iY(t),!p&&"%"!==s||!Dh[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=d+(f?s:r),x=~e.indexOf("adius")||"em"===r&&t.appendChild&&!c?t:t.parentNode,B&&(x=(t.ownerSVGElement||{}).parentNode),(!x||x===Ah||!x.appendChild)&&(x=Ah.body),(k=x._gsap)&&p&&k.width&&l&&k.time===tc.time?jo(o/k.width*d):((p||"%"===s)&&(a.position=Od(t,"position")),x===t&&(a.position="static"),x.appendChild(Up),T=Up[u],x.removeChild(Up),a.position="absolute",l&&p&&((k=kp(x)).time=tc.time,k.width=x[u]),jo(f?T*o/d:T&&o?d/T*o:0))):(T=B?t.getBBox()[l?"width":"height"]:t[u],jo(p?o/T*d:o/100*T)))},Gp=function(t,e,i,r){var o;return TR||MR(),e in Rh&&"transform"!==e&&~(e=Rh[e]).indexOf(",")&&(e=e.split(",")[0]),Dh[e]&&"transform"!==e?(o=hb(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:kT(Od(t,Nh))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=NT[e]&&NT[e](t,e,i)||Od(t,e)||hW(t,e)||("opacity"===e?1:0)),i&&!~(o+"").trim().indexOf(" ")?Lh(t,e,o,i)+i:o},r2e=function(t,e,i,r){if(!i||"none"===i){var o=zm(e,t,1),s=o&&Od(t,o,1);s&&s!==i?(e=o,i=s):"borderColor"===e&&(i=Od(t,"borderTopColor"))}var u,d,f,p,T,x,k,B,$,q,ee,se,a=new Xa(this._pt,t.style,e,0,1,zW),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=Od(t,e)||r,t.style[e]=i),NW(u=[i,r]),r=u[1],f=(i=u[0]).match(km)||[],(r.match(km)||[]).length){for(;d=km.exec(r);)k=d[0],$=r.substring(l,d.index),T?T=(T+1)%5:("rgba("===$.substr(-5)||"hsla("===$.substr(-5))&&(T=1),k!==(x=f[c++]||"")&&(p=parseFloat(x)||0,ee=x.substr((p+"").length),(se="="===k.charAt(1)?+(k.charAt(0)+"1"):0)&&(k=k.substr(2)),B=parseFloat(k),q=k.substr((B+"").length),l=km.lastIndex-q.length,q||(q=q||_l.units[e]||ee,l===r.length&&(r+=q,a.e+=q)),ee!==q&&(p=Lh(t,e,x,q)||0),a._pt={_next:a._pt,p:$||1===c?$:",",s:p,c:se?se*B:B-p,m:T&&T<4||"zIndex"===e?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===e&&"none"===r?ZW:JW;return oW.test(r)&&(a.e=0),this._pt=a,a},oY={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},o2e=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(t=i,i=r,r=t),e[0]=oY[i]||i,e[1]=oY[r]||r,e.join(" ")},s2e=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,c,i=e.t,o=e.u,s=i._gsap;if("all"===o||!0===o)i.style.cssText="",l=1;else for(c=(o=o.split(",")).length;--c>-1;)Dh[a=o[c]]&&(l=1,a="transformOrigin"===a?Nh:Ds),ub(i,a);l&&(ub(i,Ds),s&&(s.svg&&i.removeAttribute("transform"),hb(i,1),s.uncache=1))}},NT={clearProps:function(t,e,i,r,o){if("isFromStart"!==o.data){var s=t._pt=new Xa(t._pt,e,i,0,0,s2e);return s.u=r,s.pr=-10,s.tween=o,t._props.push(i),1}}},db=[1,0,0,1,0,0],sY={},aY=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},lY=function(t){var e=Od(t,Ds);return aY(e)?db:e.substr(7).match(rW).map(jo)},PR=function(t,e){var s,a,l,c,i=t._gsap||kp(t),r=t.style,o=lY(t);return i.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?db:o:(o===db&&!t.offsetParent&&t!==Gm&&!i.svg&&(l=r.display,r.display="block",(!(s=t.parentNode)||!t.offsetParent)&&(c=1,a=t.nextSibling,Gm.appendChild(t)),o=lY(t),l?r.display=l:ub(t,"display"),c&&(a?s.insertBefore(t,a):s?s.appendChild(t):Gm.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},xR=function(t,e,i,r,o,s){var ae,Ee,ge,a=t._gsap,l=o||PR(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,p=l[0],T=l[1],x=l[2],k=l[3],B=l[4],$=l[5],q=e.split(" "),ee=parseFloat(q[0])||0,se=parseFloat(q[1])||0;i?l!==db&&(Ee=p*k-T*x)&&(ge=ee*(-T/Ee)+se*(p/Ee)-(p*$-T*B)/Ee,ee=ee*(k/Ee)+se*(-x/Ee)+(x*$-k*B)/Ee,se=ge):(ee=(ae=nY(t)).x+(~q[0].indexOf("%")?ee/100*ae.width:ee),se=ae.y+(~(q[1]||q[0]).indexOf("%")?se/100*ae.height:se)),r||!1!==r&&a.smooth?(a.xOffset=d+((B=ee-c)*p+($=se-u)*x)-B,a.yOffset=f+(B*T+$*k)-$):a.xOffset=a.yOffset=0,a.xOrigin=ee,a.yOrigin=se,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[Nh]="0px 0px",s&&(kh(s,a,"xOrigin",c,ee),kh(s,a,"yOrigin",u,se),kh(s,a,"xOffset",d,a.xOffset),kh(s,a,"yOffset",f,a.yOffset)),t.setAttribute("data-svg-origin",ee+" "+se)},hb=function(t,e){var i=t._gsap||new BW(t);if("x"in i&&!e&&!i.uncache)return i;var c,u,d,f,p,T,x,k,B,$,q,ee,se,ae,Ee,Ce,ge,ve,Ve,Pe,De,Ye,Ge,Ne,ke,$e,gt,we,st,ft,St,Ft,r=t.style,o=i.scaleX<0,s="px",a="deg",l=Od(t,Nh)||"0";return c=u=d=T=x=k=B=$=q=0,f=p=1,i.svg=!(!t.getCTM||!iY(t)),ae=PR(t,i.svg),i.svg&&(Ne=(!i.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),xR(t,Ne||l,!!Ne||i.originIsAbsolute,!1!==i.smooth,ae)),ee=i.xOrigin||0,se=i.yOrigin||0,ae!==db&&(ve=ae[0],Ve=ae[1],Pe=ae[2],De=ae[3],c=Ye=ae[4],u=Ge=ae[5],6===ae.length?(f=Math.sqrt(ve*ve+Ve*Ve),p=Math.sqrt(De*De+Pe*Pe),T=ve||Ve?Vm(Ve,ve)*jp:0,(B=Pe||De?Vm(Pe,De)*jp+T:0)&&(p*=Math.abs(Math.cos(B*Hm))),i.svg&&(c-=ee-(ee*ve+se*Pe),u-=se-(ee*Ve+se*De))):(ft=ae[7],gt=ae[8],we=ae[9],St=ae[11],c=ae[12],u=ae[13],d=ae[14],x=(Ee=Vm(Ft=ae[6],st=ae[10]))*jp,Ee&&(Ne=Ye*(Ce=Math.cos(-Ee))+gt*(ge=Math.sin(-Ee)),ke=Ge*Ce+we*ge,$e=Ft*Ce+st*ge,gt=Ye*-ge+gt*Ce,we=Ge*-ge+we*Ce,st=Ft*-ge+st*Ce,St=ft*-ge+St*Ce,Ye=Ne,Ge=ke,Ft=$e),k=(Ee=Vm(-Pe,st))*jp,Ee&&(Ce=Math.cos(-Ee),St=De*(ge=Math.sin(-Ee))+St*Ce,ve=Ne=ve*Ce-gt*ge,Ve=ke=Ve*Ce-we*ge,Pe=$e=Pe*Ce-st*ge),T=(Ee=Vm(Ve,ve))*jp,Ee&&(Ne=ve*(Ce=Math.cos(Ee))+Ve*(ge=Math.sin(Ee)),ke=Ye*Ce+Ge*ge,Ve=Ve*Ce-ve*ge,Ge=Ge*Ce-Ye*ge,ve=Ne,Ye=ke),x&&Math.abs(x)+Math.abs(T)>359.9&&(x=T=0,k=180-k),f=jo(Math.sqrt(ve*ve+Ve*Ve+Pe*Pe)),p=jo(Math.sqrt(Ge*Ge+Ft*Ft)),Ee=Vm(Ye,Ge),B=Math.abs(Ee)>2e-4?Ee*jp:0,q=St?1/(St<0?-St:St):0),i.svg&&(Ne=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!aY(Od(t,Ds)),Ne&&t.setAttribute("transform",Ne))),Math.abs(B)>90&&Math.abs(B)<270&&(o?(f*=-1,B+=T<=0?180:-180,T+=T<=0?180:-180):(p*=-1,B+=B<=0?180:-180)),i.x=c-((i.xPercent=c&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+s,i.y=u-((i.yPercent=u&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+s,i.z=d+s,i.scaleX=jo(f),i.scaleY=jo(p),i.rotation=jo(T)+a,i.rotationX=jo(x)+a,i.rotationY=jo(k)+a,i.skewX=B+a,i.skewY=$+a,i.transformPerspective=q+s,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[Nh]=kT(l)),i.xOffset=i.yOffset=0,i.force3D=_l.force3D,i.renderTransform=i.svg?l2e:QW?cY:a2e,i.uncache=0,i},kT=function(t){return(t=t.split(" "))[0]+" "+t[1]},IR=function(t,e,i){var r=Ya(e);return jo(parseFloat(e)+parseFloat(Lh(t,"x",i+"px",r)))+r},a2e=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,cY(t,e)},Hp="0deg",fb="0px",Vp=") ",cY=function(t,e){var i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,f=i.skewX,p=i.skewY,T=i.scaleX,x=i.scaleY,k=i.transformPerspective,B=i.force3D,$=i.target,q=i.zOrigin,ee="",se="auto"===B&&t&&1!==t||!0===B;if(q&&(d!==Hp||u!==Hp)){var ge,ae=parseFloat(u)*Hm,Ee=Math.sin(ae),Ce=Math.cos(ae);ae=parseFloat(d)*Hm,ge=Math.cos(ae),s=IR($,s,Ee*ge*-q),a=IR($,a,-Math.sin(ae)*-q),l=IR($,l,Ce*ge*-q+q)}k!==fb&&(ee+="perspective("+k+Vp),(r||o)&&(ee+="translate("+r+"%, "+o+"%) "),(se||s!==fb||a!==fb||l!==fb)&&(ee+=l!==fb||se?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+Vp),c!==Hp&&(ee+="rotate("+c+Vp),u!==Hp&&(ee+="rotateY("+u+Vp),d!==Hp&&(ee+="rotateX("+d+Vp),(f!==Hp||p!==Hp)&&(ee+="skew("+f+", "+p+Vp),(1!==T||1!==x)&&(ee+="scale("+T+", "+x+Vp),$.style[Ds]=ee||"translate(0, 0)"},l2e=function(t,e){var se,ae,Ee,Ce,ge,i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,f=i.scaleY,p=i.target,T=i.xOrigin,x=i.yOrigin,k=i.xOffset,B=i.yOffset,$=i.forceCSS,q=parseFloat(s),ee=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(u=parseFloat(u))&&(c+=u=parseFloat(u),l+=u),l||c?(l*=Hm,c*=Hm,se=Math.cos(l)*d,ae=Math.sin(l)*d,Ee=Math.sin(l-c)*-f,Ce=Math.cos(l-c)*f,c&&(u*=Hm,ge=Math.tan(c-u),Ee*=ge=Math.sqrt(1+ge*ge),Ce*=ge,u&&(ge=Math.tan(u),se*=ge=Math.sqrt(1+ge*ge),ae*=ge)),se=jo(se),ae=jo(ae),Ee=jo(Ee),Ce=jo(Ce)):(se=d,Ce=f,ae=Ee=0),(q&&!~(s+"").indexOf("px")||ee&&!~(a+"").indexOf("px"))&&(q=Lh(p,"x",s,"px"),ee=Lh(p,"y",a,"px")),(T||x||k||B)&&(q=jo(q+T-(T*se+x*Ee)+k),ee=jo(ee+x-(T*ae+x*Ce)+B)),(r||o)&&(ge=p.getBBox(),q=jo(q+r/100*ge.width),ee=jo(ee+o/100*ge.height)),p.setAttribute("transform",ge="matrix("+se+","+ae+","+Ee+","+Ce+","+q+","+ee+")"),$&&(p.style[Ds]=ge)},c2e=function(t,e,i,r,o,s){var f,p,a=360,l=fs(o),c=parseFloat(o)*(l&&~o.indexOf("rad")?jp:1),u=s?c*s:c-r,d=r+u+"deg";return l&&("short"===(f=o.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-a),"cw"===f&&u<0?u=(u+a*XW)%a-~~(u/a)*a:"ccw"===f&&u>0&&(u=(u-a*XW)%a-~~(u/a)*a)),t._pt=p=new Xa(t._pt,e,i,r,u,KIe),p.e=d,p.u="deg",t._props.push(i),p},uY=function(t,e){for(var i in e)t[i]=e[i];return t},u2e=function(t,e,i){var a,l,c,u,d,f,T,r=uY({},i._gsap),s=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),s[Ds]=e,a=hb(i,1),ub(i,Ds),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Ds],s[Ds]=e,a=hb(i,1),s[Ds]=c),Dh)(c=r[l])!==(u=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(d=Ya(c)!==(T=Ya(u))?Lh(i,l,c,T):parseFloat(c),f=parseFloat(u),t._pt=new Xa(t._pt,a,l,d,f-d,qW),t._pt.u=T||0,t._props.push(l));uY(a,r)};Wa("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",r="Bottom",o="Left",s=(t<3?[e,i,r,o]:[e+o,e+i,r+i,r+o]).map(function(a){return t<2?n+a:"border"+a+n});NT[t>1?"border"+n:n]=function(a,l,c,u,d){var f,p;if(arguments.length<4)return f=s.map(function(T){return Gp(a,T,c)}),5===(p=f.join(" ")).split(f[0]).length?f[0]:p;f=(u+"").split(" "),p={},s.forEach(function(T,x){return p[T]=f[x]=f[x]||f[(x-1)/2|0]}),a.init(l,p,d)}});var dY={name:"css",register:MR,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,o){var c,u,d,f,p,T,x,k,B,$,q,ee,se,ae,Ee,s=this._props,a=t.style,l=i.vars.startAt;for(x in TR||MR(),e)if("autoRound"!==x&&(u=e[x],!vl[x]||!UW(x,e,i,r,t,o)))if(T=NT[x],"function"==(p=typeof u)&&(p=typeof(u=u.call(i,r,t,o))),"string"===p&&~u.indexOf("random(")&&(u=ob(u)),T)T(this,t,x,u,i)&&(Ee=1);else if("--"===x.substr(0,2))c=(getComputedStyle(t).getPropertyValue(x)+"").trim(),u+="",xh.lastIndex=0,xh.test(c)||(k=Ya(c),B=Ya(u)),B?k!==B&&(c=Lh(t,x,c,B)+B):k&&(u+=k),this.add(a,"setProperty",c,u,r,o,0,0,x),s.push(x);else if("undefined"!==p){if(l&&x in l?(c="function"==typeof l[x]?l[x].call(i,r,t,o):l[x],fs(c)&&~c.indexOf("random(")&&(c=ob(c)),Ya(c+"")||(c+=_l.units[x]||Ya(Gp(t,x))||""),"="===(c+"").charAt(1)&&(c=Gp(t,x))):c=Gp(t,x),f=parseFloat(c),($="string"===p&&"="===u.charAt(1)?+(u.charAt(0)+"1"):0)&&(u=u.substr(2)),d=parseFloat(u),x in Rh&&("autoAlpha"===x&&(1===f&&"hidden"===Gp(t,"visibility")&&d&&(f=0),kh(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),"scale"!==x&&"transform"!==x&&~(x=Rh[x]).indexOf(",")&&(x=x.split(",")[0])),q=x in Dh)if(ee||((se=t._gsap).renderTransform&&!e.parseTransform||hb(t,e.parseTransform),ae=!1!==e.smoothOrigin&&se.smooth,(ee=this._pt=new Xa(this._pt,a,Ds,0,1,se.renderTransform,se,0,-1)).dep=1),"scale"===x)this._pt=new Xa(this._pt,se,"scaleY",se.scaleY,($?$*d:d-se.scaleY)||0),s.push("scaleY",x),x+="X";else{if("transformOrigin"===x){u=o2e(u),se.svg?xR(t,u,0,ae,0,this):((B=parseFloat(u.split(" ")[2])||0)!==se.zOrigin&&kh(this,se,"zOrigin",se.zOrigin,B),kh(this,a,x,kT(c),kT(u)));continue}if("svgOrigin"===x){xR(t,u,1,ae,0,this);continue}if(x in sY){c2e(this,se,x,f,u,$);continue}if("smoothOrigin"===x){kh(this,se,"smooth",se.smooth,u);continue}if("force3D"===x){se[x]=u;continue}if("transform"===x){u2e(this,u,t);continue}}else x in a||(x=zm(x)||x);if(q||(d||0===d)&&(f||0===f)&&!XIe.test(u)&&x in a)d||(d=0),(k=(c+"").substr((f+"").length))!==(B=Ya(u)||(x in _l.units?_l.units[x]:k))&&(f=Lh(t,x,c,B)),this._pt=new Xa(this._pt,q?se:a,x,f,$?$*d:d-f,q||"px"!==B&&"zIndex"!==x||!1===e.autoRound?qW:JIe),this._pt.u=B||0,k!==B&&"%"!==B&&(this._pt.b=c,this._pt.r=qIe);else if(x in a)r2e.call(this,t,x,c,u);else{if(!(x in t)){aR(x,u);continue}this.add(t,x,c||t[x],u,r,o)}s.push(x)}Ee&&WW(this)},get:Gp,aliases:Rh,getSetter:function(t,e,i){var r=Rh[e];return r&&r.indexOf(",")<0&&(e=r),e in Dh&&e!==Nh&&(t._gsap.x||Gp(t,"x"))?i&&$W===i?"scale"===e?t2e:e2e:($W=i||{})&&("scale"===e?n2e:i2e):t.style&&!nR(t.style[e])?ZIe:~e.indexOf("-")?QIe:SR(t,e)},core:{_removeProperty:ub,_getMatrix:PR}};Fu.utils.checkPrefix=zm,function(n,t,e,i){var r=Wa(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){Dh[o]=1});Wa(t,function(o){_l.units[o]="deg",sY[o]=1}),Rh[r[13]]=n+","+t,Wa("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var s=o.split(":");Rh[s[1]]=r[s[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Wa("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){_l.units[n]="px"}),Fu.registerPlugin(dY);var Zn,Wm,Kr,na,Pd,Eo,hY,AR,pb,LT,FT,DR,wa,BT,RR,Ma,fY,pY,Ym,gY,NR,_Y,kR,Qm,PY,WR,_s=Fu.registerPlugin(dY)||Fu,gb=1,zp=[],Wp=[],Fh=Date.now,LR=Fh(),Wc=0,mY=1,UT=function(t){return t},Bu=function(t){return pb(t)[0]||(Yc(t)&&!1!==Zn.config().nullTargetWarn?console.warn("Element not found:",t):null)},vY=function(t){return Math.round(1e5*t)/1e5||0},yY=function(){return"undefined"!=typeof window},bY=function(){return Zn||yY()&&(Zn=window.gsap)&&Zn.registerPlugin&&Zn},$m=function(t){return!!~hY.indexOf(t)},Yp=function(t,e){return~zp.indexOf(t)&&zp[zp.indexOf(t)+1][e]},jT=function(t,e){var i=e.s,r=e.sc,o=Wp.indexOf(t),s=r===Pa.sc?1:2;return!~o&&(o=Wp.push(t)-1),Wp[o+s]||(Wp[o+s]=Yp(t,i)||($m(t)?r:function(a){return arguments.length?t[i]=a:t[i]}))},SY=function(t){return Yp(t,"getBoundingClientRect")||($m(t)?function(){return rw.width=Kr.innerWidth,rw.height=Kr.innerHeight,rw}:function(){return Id(t)})},GT=function(t,e){var i,r=e.d2,o=e.d,s=e.a;return(i="scroll"+r)&&(s=Yp(t,i))?s()-SY(t)()[o]:$m(t)?(Eo[i]||Pd[i])-(Kr["inner"+r]||Pd["client"+r]||Eo["client"+r]):t[i]-t["offset"+r]},FR=function(t,e){for(var i=0;i<Ym.length;i+=3)(!e||~e.indexOf(Ym[i+1]))&&t(Ym[i],Ym[i+1],Ym[i+2])},Yc=function(t){return"string"==typeof t},Uu=function(t){return"function"==typeof t},_b=function(t){return"number"==typeof t},BR=function(t){return"object"==typeof t},HT=function(t){return Uu(t)&&t()},CY=function(t,e){return function(){var i=HT(t),r=HT(e);return function(){HT(i),HT(r)}}},mb=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},UR=function(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},Xm=Math.abs,VT="scrollLeft",zT="scrollTop",jR="left",WT="right",YT="bottom",Bh="width",Uh="height",Km="Right",qm="Left",Jm="Top",Zm="Bottom",Go="padding",nc="margin",$p="Width",Oa="px",$c={s:VT,p:jR,p2:qm,os:WT,os2:Km,d:Bh,d2:$p,a:"x",sc:function(t){return arguments.length?Kr.scrollTo(t,Pa.sc()):Kr.pageXOffset||na[VT]||Pd[VT]||Eo[VT]||0}},Pa={s:zT,p:"top",p2:Jm,os:YT,os2:Zm,d:Uh,d2:"Height",a:"y",op:$c,sc:function(t){return arguments.length?Kr.scrollTo($c.sc(),t):Kr.pageYOffset||na[zT]||Pd[zT]||Eo[zT]||0}},xd=function(t){return Kr.getComputedStyle(t)},EY=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Id=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==xd(t)[RR]&&Zn.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},HR=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},TY=function(t){var o,e=[],i=t.labels,r=t.duration();for(o in i)e.push(i[o]/r);return e},VR=function(t){var e=Zn.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,o){return r-o});return i?function(r,o,s){var a;if(void 0===s&&(s=.001),!o)return e(r);if(o>0){for(r-=s,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}for(a=i.length,r+=s;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,o,s){void 0===s&&(s=.001);var a=e(r);return!o||Math.abs(a-r)<s||a-r<0==o<0?a:e(o<0?r-t:r+t)}},wY=function(t,e,i,r){return i.split(",").forEach(function(o){return t(e,o,r)})},xa=function(t,e,i){return t.addEventListener(e,i,{passive:!0})},vb=function(t,e,i){return t.removeEventListener(e,i)},MY={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},XT={toggleActions:"play",anticipatePin:0},KT={top:0,left:0,center:.5,bottom:1,right:1},qT=function(t,e){if(Yc(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=e/100),t=t.substr(0,i-1)),t=r+(t in KT?KT[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},JT=function(t,e,i,r,o,s,a,l){var c=o.startColor,u=o.endColor,d=o.fontSize,f=o.indent,p=o.fontWeight,T=na.createElement("div"),x=$m(i)||"fixed"===Yp(i,"pinType"),k=-1!==t.indexOf("scroller"),B=x?Eo:i,$=-1!==t.indexOf("start"),q=$?c:u,ee="border-color:"+q+";font-size:"+d+";color:"+q+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return ee+="position:"+((k||l)&&x?"fixed;":"absolute;"),(k||l||!x)&&(ee+=(r===Pa?WT:YT)+":"+(s+parseFloat(f))+"px;"),a&&(ee+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),T._isStart=$,T.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),T.style.cssText=ee,T.innerText=e||0===e?t+"-"+e:t,B.children[0]?B.insertBefore(T,B.children[0]):B.appendChild(T),T._offset=T["offset"+r.op.d2],ZT(T,0,r,$),T},ZT=function(t,e,i,r){var o={display:"block"},s=i[r?"os2":"p2"],a=i[r?"p2":"os2"];t._isFlipped=r,o[i.a+"Percent"]=r?-100:0,o[i.a]=r?"1px":0,o["border"+s+$p]=1,o["border"+a+$p]=0,o[i.p]=e+"px",Zn.set(t,o)},$i=[],zR={},OY=function(){return Fh()-Wc>34&&YR()},QT=function(){YR(),Wc||ev("scrollStart"),Wc=Fh()},yb=function(){return!wa&&!_Y&&!na.fullscreenElement&&AR.restart(!0)},bb={},_2e=[],_o=[],xY=function(t){var o,e=Zn.ticker.frame,i=[],r=0;if(PY!==e||gb){for(ew();r<_o.length;r+=4)(o=Kr.matchMedia(_o[r]).matches)!==_o[r+3]&&(_o[r+3]=o,o?i.push(r):ew(1,_o[r])||Uu(_o[r+2])&&_o[r+2]());for(AY(),r=0;r<i.length;r++)Qm=_o[o=i[r]],_o[o+2]=_o[o+1](t);Qm=0,Wm&&tv(0,1),PY=e,ev("matchMedia")}},IY=function n(){return vb(yr,"scrollEnd",n)||tv(!0)},ev=function(t){return bb[t]&&bb[t].map(function(e){return e()})||_2e},ic=[],AY=function(t){for(var e=0;e<ic.length;e+=5)(!t||ic[e+4]===t)&&(ic[e].style.cssText=ic[e+1],ic[e].getBBox&&ic[e].setAttribute("transform",ic[e+2]||""),ic[e+3].uncache=1)},ew=function(t,e){var i;for(Ma=0;Ma<$i.length;Ma++)i=$i[Ma],(!e||i.media===e)&&(t?i.kill(1):i.revert());e&&AY(e),e||ev("revert")},DY=function(){return Wp.forEach(function(t){return"function"==typeof t&&(t.rec=0)})},tv=function(t,e){if(!Wc||t){WR=!0;var i=ev("refreshInit");gY&&yr.sort(),e||ew(),$i.forEach(function(r){return r.refresh()}),$i.forEach(function(r){return"max"===r.vars.end&&r.setPositions(r.start,GT(r.scroller,r._dir))}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),DY(),AR.pause(),WR=!1,ev("refresh")}else xa(yr,"scrollEnd",IY)},RY=0,tw=1,YR=function(){if(!WR){var t=$i.length,e=Fh(),i=e-LR>=50,r=t&&$i[0].scroll();if(tw=RY>r?-1:1,RY=r,i&&(Wc&&!BT&&e-Wc>200&&(Wc=0,ev("scrollEnd")),FT=LR,LR=e),tw<0){for(Ma=t;Ma-- >0;)$i[Ma]&&$i[Ma].update(0,i);tw=1}else for(Ma=0;Ma<t;Ma++)$i[Ma]&&$i[Ma].update(0,i)}},$R=[jR,"top",YT,WT,nc+Zm,nc+Km,nc+Jm,nc+qm,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],nw=$R.concat([Bh,Uh,"boxSizing","max"+$p,"maxHeight","position",nc,Go,Go+Jm,Go+Km,Go+Zm,Go+qm]),XR=function(t,e,i,r){if(t.parentNode!==e){for(var l,o=$R.length,s=e.style,a=t.style;o--;)s[l=$R[o]]=i[l];s.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(s.display="inline-block"),a[YT]=a[WT]=s.flexBasis="auto",s.overflow="visible",s.boxSizing="border-box",s[Bh]=HR(t,$c)+Oa,s[Uh]=HR(t,Pa)+Oa,s[Go]=a[nc]=a.top=a[jR]="0",Sb(r),a[Bh]=a.maxWidth=i[Bh],a[Uh]=a.maxHeight=i[Uh],a[Go]=i[Go],t.parentNode.insertBefore(e,t),e.appendChild(t)}},v2e=/([A-Z])/g,Sb=function(t){if(t){var o,s,e=t.t.style,i=t.length,r=0;for((t.t._gsap||Zn.core.getCache(t.t)).uncache=1;r<i;r+=2)o=t[r],(s=t[r+1])?e[o]=s:e[o]&&e.removeProperty(o.replace(v2e,"-$1").toLowerCase())}},iw=function(t){for(var e=nw.length,i=t.style,r=[],o=0;o<e;o++)r.push(nw[o],i[nw[o]]);return r.t=t,r},rw={left:0,top:0},NY=function(t,e,i,r,o,s,a,l,c,u,d,f,p){Uu(t)&&(t=t(l)),Yc(t)&&"max"===t.substr(0,3)&&(t=f+("="===t.charAt(4)?qT("0"+t.substr(3),i):0));var x,k,B,T=p?p.time():0;if(p&&p.seek(0),_b(t))a&&ZT(a,i,r,!0);else{Uu(e)&&(e=e(l));var q,ee,se,ae,$=t.split(" ");B=Bu(e)||Eo,(!(q=Id(B)||{})||!q.left&&!q.top)&&"none"===xd(B).display&&(ae=B.style.display,B.style.display="block",q=Id(B),ae?B.style.display=ae:B.style.removeProperty("display")),ee=qT($[0],q[r.d]),se=qT($[1]||"0",i),t=q[r.p]-c[r.p]-u+ee+o-se,a&&ZT(a,se,r,i-se<20||a._isStart&&se>20),i-=i-se}if(s){var Ee=t+i,Ce=s._isStart;x="scroll"+r.d2,ZT(s,Ee,r,Ce&&Ee>20||!Ce&&(d?Math.max(Eo[x],Pd[x]):s.parentNode[x])<=Ee+1),d&&(c=Id(a),d&&(s.style[r.op.p]=c[r.op.p]-r.op.m-s._offset+Oa))}return p&&B&&(x=Id(B),p.seek(f),k=Id(B),p._caScrollDist=x[r.p]-k[r.p],t=t/p._caScrollDist*f),p&&p.seek(T),p?t:Math.round(t)},b2e=/(?:webkit|moz|length|cssText|inset)/i,kY=function(t,e,i,r){if(t.parentNode!==e){var s,a,o=t.style;if(e===Eo){for(s in t._stOrig=o.cssText,a=xd(t))!+s&&!b2e.test(s)&&a[s]&&"string"==typeof o[s]&&"0"!==s&&(o[s]=a[s]);o.top=i,o.left=r}else o.cssText=t._stOrig;Zn.core.getCache(t).uncache=1,e.appendChild(t)}},LY=function(t,e){var o,s,i=jT(t,e),r="_scroll"+e.p2,a=function l(c,u,d,f,p){var T=l.tween,x=u.onComplete,k={};return T&&T.kill(),o=Math.round(d),u[r]=c,u.modifiers=k,k[r]=function(B){return(B=vY(i()))!==o&&B!==s&&Math.abs(B-o)>2&&Math.abs(B-s)>2?(T.kill(),l.tween=0):B=d+f*T.ratio+p*T.ratio*T.ratio,s=o,o=vY(B)},u.onComplete=function(){l.tween=0,x&&x.call(T)},T=l.tween=Zn.to(t,u)};return t[r]=i,xa(t,"wheel",function(){return a.tween&&a.tween.kill()&&(a.tween=0)}),a};$c.op=Pa;var yr=function(){function n(e,i){Wm||n.register(Zn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(1),mY){var Xt,tn,kn,yn,hn,Kt,On,fn,cr,jn,In,To,br,wl,Zc,Gu,wo,Nd,kd,$N,Gb,Jh,VX,Hb,zX,XN,KN,Gw,qN,Da,Hw,Zh,mv,Vb,zb,JN,ZN,s=(i=EY(Yc(i)||_b(i)||i.nodeType?{trigger:i}:i,XT)).onUpdate,a=i.toggleClass,l=i.id,c=i.onToggle,u=i.onRefresh,d=i.scrub,f=i.trigger,p=i.pin,T=i.pinSpacing,x=i.invalidateOnRefresh,k=i.anticipatePin,B=i.onScrubComplete,$=i.onSnapComplete,q=i.once,ee=i.snap,se=i.pinReparent,ae=i.pinSpacer,Ee=i.containerAnimation,Ce=i.fastScrollEnd,ge=i.preventOverlaps,ve=i.horizontal||i.containerAnimation&&!1!==i.horizontal?$c:Pa,Ve=!d&&0!==d,Pe=Bu(i.scroller||Kr),De=Zn.core.getCache(Pe),Ye=$m(Pe),Ge="fixed"===("pinType"in i?i.pinType:Yp(Pe,"pinType")||Ye&&"fixed"),Ne=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],ke=Ve&&i.toggleActions.split(" "),$e="markers"in i?i.markers:XT.markers,gt=Ye?0:parseFloat(xd(Pe)["border"+ve.p2+$p])||0,we=this,st=i.onRefreshInit&&function(){return i.onRefreshInit(we)},ft=function(t,e,i){var r=i.d,o=i.d2,s=i.a;return(s=Yp(t,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(e?Kr["inner"+o]:t["client"+o])||0}}(Pe,Ye,ve),St=(t=Pe,!Ye||~zp.indexOf(t)?SY(t):function(){return rw}),Ft=0,At=jT(Pe,ve);if(we.media=Qm,we._dir=ve,k*=45,we.scroller=Pe,we.scroll=Ee?Ee.time.bind(Ee):At,yn=At(),we.vars=i,r=r||i.animation,"refreshPriority"in i&&(gY=1),De.tweenScroll=De.tweenScroll||{top:LY(Pe,Pa),left:LY(Pe,$c)},we.tweenTo=Xt=De.tweenScroll[ve.p],r&&(r.vars.lazy=!1,r._initted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.render(0,!0,!0),we.animation=r.pause(),r.scrollTrigger=we,(Hw=_b(d)&&d)&&(Da=Zn.to(r,{ease:"power3",duration:Hw,onComplete:function(){return B&&B(we)}})),Gw=0,l||(l=r.vars.id)),$i.push(we),ee&&((!BR(ee)||ee.push)&&(ee={snapTo:ee}),"scrollBehavior"in Eo.style&&Zn.set(Ye?[Eo,Pd]:Pe,{scrollBehavior:"auto"}),kn=Uu(ee.snapTo)?ee.snapTo:"labels"===ee.snapTo?function(t){return function(e){return Zn.utils.snap(TY(t),e)}}(r):"labelsDirectional"===ee.snapTo?function(t){return function(e,i){return VR(TY(t))(e,i.direction)}}(r):!1!==ee.directional?function(Si,Xi){return VR(ee.snapTo)(Si,Xi.direction)}:Zn.utils.snap(ee.snapTo),Zh=BR(Zh=ee.duration||{min:.1,max:2})?LT(Zh.min,Zh.max):LT(Zh,Zh),mv=Zn.delayedCall(ee.delay||Hw/2||.1,function(){if(Math.abs(we.getVelocity())<10&&!BT&&Ft!==At()){var Si=r&&!Ve?r.totalProgress():we.progress,Xi=(Si-qN)/(Fh()-FT)*1e3||0,ir=Zn.utils.clamp(-we.progress,1-we.progress,Xm(Xi/2)*Xi/.185),ur=we.progress+(!1===ee.inertia?0:ir),hc=LT(0,1,kn(ur,we)),ai=At(),Mo=Math.round(Kt+hc*br),Ld=ee.onStart,ao=ee.onInterrupt,qa=ee.onComplete,Qc=Xt.tween;if(ai<=On&&ai>=Kt&&Mo!==ai){if(Qc&&!Qc._initted&&Qc.data<=Xm(Mo-ai))return;!1===ee.inertia&&(ir=hc-we.progress),Xt(Mo,{duration:Zh(Xm(.185*Math.max(Xm(ur-Si),Xm(hc-Si))/Xi/.05||0)),ease:ee.ease||"power3",data:Xm(Mo-ai),onInterrupt:function(){return mv.restart(!0)&&ao&&ao(we)},onComplete:function(){we.update(),Ft=At(),Gw=qN=r&&!Ve?r.totalProgress():we.progress,$&&$(we),qa&&qa(we)}},ai,ir*br,Mo-ai-ir*br),Ld&&Ld(we,Xt.tween)}}else we.isActive&&mv.restart(!0)}).pause()),l&&(zR[l]=we),f=we.trigger=Bu(f||p),p=!0===p?f:Bu(p),Yc(a)&&(a={targets:f,className:a}),p&&(!1===T||T===nc||(T=!(!T&&"flex"===xd(p.parentNode).display)&&Go),we.pin=p,!1!==i.force3D&&Zn.set(p,{force3D:!0}),(tn=Zn.core.getCache(p)).spacer?wl=tn.pinState:(ae&&((ae=Bu(ae))&&!ae.nodeType&&(ae=ae.current||ae.nativeElement),tn.spacerIsNative=!!ae,ae&&(tn.spacerState=iw(ae))),tn.spacer=wo=ae||na.createElement("div"),wo.classList.add("pin-spacer"),l&&wo.classList.add("pin-spacer-"+l),tn.pinState=wl=iw(p)),we.spacer=wo=tn.spacer,KN=xd(p),VX=KN[T+ve.os2],kd=Zn.getProperty(p),$N=Zn.quickSetter(p,ve.a,Oa),XR(p,wo,KN),Gu=iw(p)),$e&&(To=BR($e)?EY($e,MY):MY,jn=JT("scroller-start",l,Pe,ve,To,0),In=JT("scroller-end",l,Pe,ve,To,0,jn),fn=JT("start",l,Pe,ve,To,Nd=jn["offset"+ve.op.d2],0,Ee),cr=JT("end",l,Pe,ve,To,Nd,0,Ee),Ee&&(ZN=Zn.quickSetter([fn,cr],ve.a,Oa)),!Ge&&!(zp.length&&!0===Yp(Pe,"fixedMarkers"))&&(function(t){var e=xd(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(Ye?Eo:Pe),Zn.set([jn,In],{force3D:!0}),zX=Zn.quickSetter(jn,ve.a,Oa),XN=Zn.quickSetter(In,ve.a,Oa))),Ee){var WX=Ee.vars.onUpdate,MUe=Ee.vars.onUpdateParams;Ee.eventCallback("onUpdate",function(){we.update(0,0,1),WX&&WX.apply(MUe||[])})}we.previous=function(){return $i[$i.indexOf(we)-1]},we.next=function(){return $i[$i.indexOf(we)+1]},we.revert=function(Si){var Xi=!1!==Si||!we.enabled,ir=wa;Xi!==we.isReverted&&(Xi&&(we.scroll.rec||(we.scroll.rec=At()),zb=Math.max(At(),we.scroll.rec||0),Vb=we.progress,JN=r&&r.progress()),fn&&[fn,cr,jn,In].forEach(function(ur){return ur.style.display=Xi?"none":"block"}),Xi&&(wa=1),we.update(Xi),wa=ir,p&&(Xi?function(t,e,i){Sb(i);var r=t._gsap;if(r.spacerIsNative)Sb(r.spacerState);else if(t.parentNode===e){var o=e.parentNode;o&&(o.insertBefore(t,e),o.removeChild(e))}}(p,wo,wl):(!se||!we.isActive)&&XR(p,wo,xd(p),Hb)),we.isReverted=Xi)},we.refresh=function(Si,Xi){if(!wa&&we.enabled||Xi){if(p&&Si&&Wc)return void xa(n,"scrollEnd",IY);wa=1,Da&&Da.pause(),x&&r&&r.time(-.01,!0).invalidate(),we.isReverted||we.revert();for(var ns,ks,vv,Pg,is,bs,Fd,QN,YX,Wb,ir=ft(),ur=St(),hc=Ee?Ee.duration():GT(Pe,ve),ai=0,Mo=0,so=i.end,Ld=i.endTrigger||f,ao=i.start||(0!==i.start&&f?p?"0 0":"0 100%":0),qa=i.pinnedContainer&&Bu(i.pinnedContainer),Qc=f&&Math.max(0,$i.indexOf(we))||0,ts=Qc;ts--;)(bs=$i[ts]).end||bs.refresh(0,1)||(wa=1),(Fd=bs.pin)&&(Fd===f||Fd===p)&&!bs.isReverted&&(Wb||(Wb=[]),Wb.unshift(bs),bs.revert());for(Uu(ao)&&(ao=ao(we)),Kt=NY(ao,f,ir,ve,At(),fn,jn,we,ur,gt,Ge,hc,Ee)||(p?-.001:0),Uu(so)&&(so=so(we)),Yc(so)&&!so.indexOf("+=")&&(~so.indexOf(" ")?so=(Yc(ao)?ao.split(" ")[0]:"")+so:(ai=qT(so.substr(2),ir),so=Yc(ao)?ao:Kt+ai,Ld=f)),On=Math.max(Kt,NY(so||(Ld?"100% 0":hc),Ld,ir,ve,At()+ai,cr,In,we,ur,gt,Ge,hc,Ee))||-.001,br=On-Kt||(Kt-=.01)&&.001,ai=0,ts=Qc;ts--;)(Fd=(bs=$i[ts]).pin)&&bs.start-bs._pinPush<Kt&&!Ee&&(ns=bs.end-bs.start,(Fd===f||Fd===qa)&&!_b(ao)&&(ai+=ns*(1-bs.progress)),Fd===p&&(Mo+=ns));if(Kt+=ai,On+=ai,we._pinPush=Mo,fn&&ai&&((ns={})[ve.a]="+="+ai,qa&&(ns[ve.p]="-="+At()),Zn.set([fn,cr],ns)),p)ns=xd(p),Pg=ve===Pa,vv=At(),Gb=parseFloat(kd(ve.a))+Mo,!hc&&On>1&&((Ye?Eo:Pe).style["overflow-"+ve.a]="scroll"),XR(p,wo,ns),Gu=iw(p),ks=Id(p,!0),QN=Ge&&jT(Pe,Pg?$c:Pa)(),T&&((Hb=[T+ve.os2,br+Mo+Oa]).t=wo,(ts=T===Go?HR(p,ve)+br+Mo:0)&&Hb.push(ve.d,ts+Oa),Sb(Hb),Ge&&At(zb)),Ge&&((is={top:ks.top+(Pg?vv-Kt:QN)+Oa,left:ks.left+(Pg?QN:vv-Kt)+Oa,boxSizing:"border-box",position:"fixed"})[Bh]=is.maxWidth=Math.ceil(ks.width)+Oa,is[Uh]=is.maxHeight=Math.ceil(ks.height)+Oa,is[nc]=is[nc+Jm]=is[nc+Km]=is[nc+Zm]=is[nc+qm]="0",is[Go]=ns[Go],is[Go+Jm]=ns[Go+Jm],is[Go+Km]=ns[Go+Km],is[Go+Zm]=ns[Go+Zm],is[Go+qm]=ns[Go+qm],Zc=function(t,e,i){for(var a,r=[],o=t.length,s=i?8:0;s<o;s+=2)r.push(a=t[s],a in e?e[a]:t[s+1]);return r.t=t.t,r}(wl,is,se)),r?(YX=r._initted,NR(1),r.render(r.duration(),!0,!0),Jh=kd(ve.a)-Gb+br+Mo,br!==Jh&&Zc.splice(Zc.length-2,2),r.render(0,!0,!0),YX||r.invalidate(),NR(0)):Jh=br;else if(f&&At()&&!Ee)for(ks=f.parentNode;ks&&ks!==Eo;)ks._pinOffset&&(Kt-=ks._pinOffset,On-=ks._pinOffset),ks=ks.parentNode;Wb&&Wb.forEach(function(OUe){return OUe.revert(!1)}),we.start=Kt,we.end=On,yn=hn=At(),Ee||(yn<zb&&At(zb),we.scroll.rec=0),we.revert(!1),wa=0,r&&Ve&&r._initted&&r.progress()!==JN&&r.progress(JN,!0).render(r.time(),!0,!0),(Vb!==we.progress||Ee)&&(r&&!Ve&&r.totalProgress(Vb,!0),we.progress=Vb,we.update(0,0,1)),p&&T&&(wo._pinOffset=Math.round(we.progress*Jh)),u&&u(we)}},we.getVelocity=function(){return(At()-hn)/(Fh()-FT)*1e3||0},we.endAnimation=function(){mb(we.callbackAnimation),r&&(Da?Da.progress(1):r.paused()?Ve||mb(r,we.direction<0,1):mb(r,r.reversed()))},we.labelToScroll=function(Si){return r&&r.labels&&(Kt||we.refresh()||Kt)+r.labels[Si]/r.duration()*br||0},we.getTrailing=function(Si){var Xi=$i.indexOf(we),ir=we.direction>0?$i.slice(0,Xi).reverse():$i.slice(Xi+1);return Yc(Si)?ir.filter(function(ur){return ur.vars.preventOverlaps===Si}):ir},we.update=function(Si,Xi,ir){if(!Ee||ir||Si){var so,ao,qa,Qc,ts,ns,ks,ur=we.scroll(),hc=Si?0:(ur-Kt)/br,ai=hc<0?0:hc>1?1:hc||0,Mo=we.progress;if(Xi&&(hn=yn,yn=Ee?At():ur,ee&&(qN=Gw,Gw=r&&!Ve?r.totalProgress():ai)),k&&!ai&&p&&!wa&&!gb&&Wc&&Kt<ur+(ur-hn)/(Fh()-FT)*k&&(ai=1e-4),ai!==Mo&&we.enabled){if(Qc=(ts=(so=we.isActive=!!ai&&ai<1)!=(!!Mo&&Mo<1))||!!ai!=!!Mo,we.direction=ai>Mo?1:-1,we.progress=ai,Qc&&!wa&&(ao=ai&&!Mo?0:1===ai?1:1===Mo?2:3,Ve&&(qa=!ts&&"none"!==ke[ao+1]&&ke[ao+1]||ke[ao],ks=r&&("complete"===qa||"reset"===qa||qa in r))),ge&&ts&&(ks||d||!r)&&(Uu(ge)?ge(we):we.getTrailing(ge).forEach(function(bs){return bs.endAnimation()})),Ve||(!Da||wa||gb?r&&r.totalProgress(ai,!!wa):(Da.vars.totalProgress=ai,Da.invalidate().restart())),p)if(Si&&T&&(wo.style[T+ve.os2]=VX),Ge){if(Qc){if(ns=!Si&&ai>Mo&&On+1>ur&&ur+1>=GT(Pe,ve),se)if(Si||!so&&!ns)kY(p,wo);else{var vv=Id(p,!0),Pg=ur-Kt;kY(p,Eo,vv.top+(ve===Pa?Pg:0)+Oa,vv.left+(ve===Pa?0:Pg)+Oa)}Sb(so||ns?Zc:Gu),Jh!==br&&ai<1&&so||$N(Gb+(1!==ai||ns?0:Jh))}}else $N(Gb+Jh*ai);ee&&!Xt.tween&&!wa&&!gb&&mv.restart(!0),a&&(ts||q&&ai&&(ai<1||!kR))&&pb(a.targets).forEach(function(bs){return bs.classList[so||q?"add":"remove"](a.className)}),s&&!Ve&&!Si&&s(we),Qc&&!wa?(Ve&&(ks&&("complete"===qa?r.pause().totalProgress(1):"reset"===qa?r.restart(!0).pause():"restart"===qa?r.restart(!0):r[qa]()),s&&s(we)),(ts||!kR)&&(c&&ts&&UR(we,c),Ne[ao]&&UR(we,Ne[ao]),q&&(1===ai?we.kill(!1,1):Ne[ao]=0),ts||Ne[ao=1===ai?1:3]&&UR(we,Ne[ao])),Ce&&!so&&Math.abs(we.getVelocity())>(_b(Ce)?Ce:2500)&&(mb(we.callbackAnimation),Da?Da.progress(1):mb(r,!ai,1))):Ve&&s&&!wa&&s(we)}if(XN){var is=Ee?ur/Ee.duration()*(Ee._caScrollDist||0):ur;zX(is+(jn._isFlipped?1:0)),XN(is)}ZN&&ZN(-ur/Ee.duration()*(Ee._caScrollDist||0))}},we.enable=function(Si,Xi){we.enabled||(we.enabled=!0,xa(Pe,"resize",yb),xa(Pe,"scroll",QT),st&&xa(n,"refreshInit",st),!1!==Si&&(we.progress=Vb=0,yn=hn=Ft=At()),!1!==Xi&&we.refresh())},we.getTween=function(Si){return Si&&Xt?Xt.tween:Da},we.setPositions=function(Si,Xi){p&&(Gb+=Si-Kt,Jh+=Xi-Si-br),we.start=Kt=Si,we.end=On=Xi,br=Xi-Si,we.update()},we.disable=function(Si,Xi){if(we.enabled&&(!1!==Si&&we.revert(),we.enabled=we.isActive=!1,Xi||Da&&Da.pause(),zb=0,tn&&(tn.uncache=1),st&&vb(n,"refreshInit",st),mv&&(mv.pause(),Xt.tween&&Xt.tween.kill()&&(Xt.tween=0)),!Ye)){for(var ir=$i.length;ir--;)if($i[ir].scroller===Pe&&$i[ir]!==we)return;vb(Pe,"resize",yb),vb(Pe,"scroll",QT)}},we.kill=function(Si,Xi){we.disable(Si,Xi),Da&&Da.kill(),l&&delete zR[l];var ir=$i.indexOf(we);ir>=0&&$i.splice(ir,1),ir===Ma&&tw>0&&Ma--,ir=0,$i.forEach(function(ur){return ur.scroller===we.scroller&&(ir=1)}),ir||(we.scroll.rec=0),r&&(r.scrollTrigger=null,Si&&r.render(-1),Xi||r.kill()),fn&&[fn,cr,jn,In].forEach(function(ur){return ur.parentNode&&ur.parentNode.removeChild(ur)}),p&&(tn&&(tn.uncache=1),ir=0,$i.forEach(function(ur){return ur.pin===p&&ir++}),ir||(tn.spacer=0))},we.enable(!1,!1),r&&r.add&&!br?Zn.delayedCall(.01,function(){return Kt||On||we.refresh()})&&(br=.01)&&(Kt=On=0):we.refresh()}else this.update=this.refresh=this.kill=UT;var t},n.register=function(i){if(!Wm&&(Zn=i||bY(),yY()&&window.document&&(Kr=window,na=document,Pd=na.documentElement,Eo=na.body),Zn&&(pb=Zn.utils.toArray,LT=Zn.utils.clamp,NR=Zn.core.suppressOverwrites||UT,Zn.core.globals("ScrollTrigger",n),Eo))){xa(Kr,"wheel",QT),hY=[Kr,na,Pd,Eo],xa(na,"scroll",QT);var s,r=Eo.style,o=r.borderTopStyle;r.borderTopStyle="solid",s=Id(Eo),Pa.m=Math.round(s.top+Pa.sc())||0,$c.m=Math.round(s.left+$c.sc())||0,o?r.borderTopStyle=o:r.removeProperty("border-top-style"),DR=setInterval(OY,200),Zn.delayedCall(.5,function(){return gb=0}),xa(na,"touchcancel",UT),xa(Eo,"touchstart",UT),wY(xa,na,"pointerdown,touchstart,mousedown",function(){return BT=1}),wY(xa,na,"pointerup,touchend,mouseup",function(){return BT=0}),RR=Zn.utils.checkPrefix("transform"),nw.push(RR),Wm=Fh(),AR=Zn.delayedCall(.2,tv).pause(),Ym=[na,"visibilitychange",function(){var a=Kr.innerWidth,l=Kr.innerHeight;na.hidden?(fY=a,pY=l):(fY!==a||pY!==l)&&yb()},na,"DOMContentLoaded",tv,Kr,"load",function(){return Wc||tv()},Kr,"resize",yb],FR(xa)}return Wm},n.defaults=function(i){if(i)for(var r in i)XT[r]=i[r];return XT},n.kill=function(){mY=0,$i.slice(0).forEach(function(i){return i.kill(1)})},n.config=function(i){"limitCallbacks"in i&&(kR=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(DR)||(DR=r)&&setInterval(OY,r),"autoRefreshEvents"in i&&(FR(vb)||FR(xa,i.autoRefreshEvents||"none"),_Y=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var o=Bu(i),s=Wp.indexOf(o),a=$m(o);~s&&Wp.splice(s,a?6:2),r&&(a?zp.unshift(Kr,r,Eo,r,Pd,r):zp.unshift(o,r))},n.matchMedia=function(i){var r,o,s,a,l;for(o in i)s=_o.indexOf(o),a=i[o],Qm=o,"all"===o?a():(r=Kr.matchMedia(o))&&(r.matches&&(l=a()),~s?(_o[s+1]=CY(_o[s+1],a),_o[s+2]=CY(_o[s+2],l)):(s=_o.length,_o.push(o,a,l),r.addListener?r.addListener(xY):r.addEventListener("change",xY)),_o[s+3]=r.matches),Qm=0;return _o},n.clearMatchMedia=function(i){i||(_o.length=0),(i=_o.indexOf(i))>=0&&_o.splice(i,4)},n.isInViewport=function(i,r,o){var s=(Yc(i)?Bu(i):i).getBoundingClientRect(),a=s[o?Bh:Uh]*r||0;return o?s.right-a>0&&s.left+a<Kr.innerWidth:s.bottom-a>0&&s.top+a<Kr.innerHeight},n.positionInViewport=function(i,r,o){Yc(i)&&(i=Bu(i));var s=i.getBoundingClientRect(),a=s[o?Bh:Uh],l=null==r?a/2:r in KT?KT[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return o?(s.left+l)/Kr.innerWidth:(s.top+l)/Kr.innerHeight},n}();yr.version="3.9.1",yr.saveStyles=function(n){return n?pb(n).forEach(function(t){if(t&&t.style){var e=ic.indexOf(t);e>=0&&ic.splice(e,5),ic.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Zn.core.getCache(t),Qm)}}):ic},yr.revert=function(n,t){return ew(!n,t)},yr.create=function(n,t){return new yr(n,t)},yr.refresh=function(n){return n?yb():(Wm||yr.register())&&tv(!0)},yr.update=YR,yr.clearScrollMemory=DY,yr.maxScroll=function(n,t){return GT(n,t?$c:Pa)},yr.getScrollFunc=function(n,t){return jT(Bu(n),t?$c:Pa)},yr.getById=function(n){return zR[n]},yr.getAll=function(){return $i.slice(0)},yr.isScrolling=function(){return!!Wc},yr.snapDirectional=VR,yr.addEventListener=function(n,t){var e=bb[n]||(bb[n]=[]);~e.indexOf(t)||e.push(t)},yr.removeEventListener=function(n,t){var e=bb[n],i=e&&e.indexOf(t);i>=0&&e.splice(i,1)},yr.batch=function(n,t){var a,e=[],i={},r=t.interval||.016,o=t.batchMax||1e9,s=function(c,u){var d=[],f=[],p=Zn.delayedCall(r,function(){u(d,f),d=[],f=[]}).pause();return function(T){d.length||p.restart(!0),d.push(T.trigger),f.push(T),o<=d.length&&p.progress(1)}};for(a in t)i[a]="on"===a.substr(0,2)&&Uu(t[a])&&"onRefreshInit"!==a?s(0,t[a]):t[a];return Uu(o)&&(o=o(),xa(yr,"refresh",function(){return o=t.batchMax()})),pb(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,e.push(yr.create(c))}),e},yr.sort=function(n){return $i.sort(n||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},bY()&&Zn.registerPlugin(yr);const ms="challenges.challengeDetailsMessages.",nv=`${Ji.RACE}.`,iv=`${Ji.MISSION}.`,rv=`${Ji.TOURNAMENT}.`,FY={[Ji.RACE]:{waitForStart:ms+nv+"You have successfully joined the xRace. Wait for the start.",missionPaused:ms+nv+"Oops! The xRace is paused. It will be resumed shortly",prizeClaimed:ms+nv+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:ms+nv+"xRace is over! See you at the next challenge",missionOverFail:ms+nv+"xRace is over! Try harder next time!",minBetError:ms+nv+"Your bet is below the {{amount}} {{currency}} minimum for the xRace! Progress is paused."},[Ji.MISSION]:{waitForStart:ms+iv+"You have successfully joined the xMission. Wait for the start.",missionPaused:ms+iv+"Oops! The xMission is paused. It will be resumed shortly",prizeClaimed:ms+iv+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:ms+iv+"xMission is over! See you at the next challenge",missionOverFail:ms+iv+"xMission is over! Try harder next time!",minBetError:ms+iv+"Your bet is below the {{amount}} {{currency}} minimum for the xMission! Progress is paused."},[Ji.TOURNAMENT]:{waitForStart:ms+rv+"You have successfully joined the xTournament. Wait for the start.",missionPaused:ms+rv+"Oops! The xTournament is paused. It will be resumed shortly",prizeClaimed:ms+rv+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:ms+rv+"xTournament is over! See you at the next challenge",missionOverFail:ms+rv+"xTournament is over! Try harder next time!",minBetError:ms+rv+"Your bet is below the {{amount}} {{currency}} minimum for the xTournament! Progress is paused."}};let Cb=(()=>{class n{constructor(e,i){this.challenge=e,this.status=i,this.stakes=new Map([]),this.challengeStatus=Ar.Announced,this.playerStatus=nr.None,this.updateSubject=new Jn(!1),this.update$=this.updateSubject.asObservable().pipe(_h()),this.status.update$.subscribe(r=>{this.challengeStatus=r.challenge,this.playerStatus=r.player,this.update()})}updateStake(e,i=1){this.stakes.set(i,e),this.update()}update(){const e=Array.from(this.stakes.values()).every(i=>i<this.challenge.config.minBet)&&this.challengeStatus===Ar.Active&&this.playerStatus===nr.Joined;this.updateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(hs),lt(Mp))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();var Xp=(()=>(function(n){n.Upcoming="Upcoming",n.Waiting="Waiting",n.Live="Live",n.Paused="Paused",n.Finished="Finished",n.Done="Done",n.MinBet="Min. bet"}(Xp||(Xp={})),Xp))();let KR=(()=>{class n{constructor(){this.ChallengeStatusUI=Xp}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-status-badge"]],inputs:{status:"status"},decls:2,vars:4,template:function(e,i){1&e&&(I(0,"div"),Y(1),R()),2&e&&(Zv("badge ",i.status===i.ChallengeStatusUI.MinBet?"error":i.status,""),_(1),ie(" ",i.status,"\n"))},styles:['.badge[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:32px;padding:4px 12px 4px 32px;gap:10px;border-radius:64px;background:rgba(255,255,255,.05);color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;text-transform:uppercase}.badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:4px;width:24px;height:24px;content:""}.badge.Upcoming[_ngcontent-%COMP%]:before{background:url(icon-calendar.12bccc41819bd1c4.svg) no-repeat center center/contain}.badge.Waiting[_ngcontent-%COMP%]:before{background:url(icon-clock.86b9aad31b70a448.svg) no-repeat center center/contain}.badge.Live[_ngcontent-%COMP%]:before{background:url(icon-live.fba3a212e8b0085a.svg) no-repeat center center/contain}.badge.Paused[_ngcontent-%COMP%]:before{background:url(icon-pause.12f2008275ca41b7.svg) no-repeat center center/contain}.badge.Done[_ngcontent-%COMP%]:before{background:url(icon-check.d5a3b64009441dd8.svg) no-repeat center center/contain}.badge.Finished[_ngcontent-%COMP%]:before{background:url(icon-finish.0ee21c90fcf67e59.svg) no-repeat center center/contain}.badge.error[_ngcontent-%COMP%]:before{background:url(icon-error.6f5e522566577a2b.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function S2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Upcoming)}function C2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Live)}function E2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Live)}function T2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Waiting)}function w2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Paused)}function M2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Paused)}function O2e(n,t){if(1&n&&ye(0,"app-challenge-status-badge",4),2&n){const e=oe(2);W("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done)}}function P2e(n,t){if(1&n&&ye(0,"app-challenge-status-badge",4),2&n){const e=oe(2);W("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished)}}function x2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Finished)}function I2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe(2).ChallengeStatusUI.Finished)}function A2e(n,t){if(1&n&&(vt(0),te(1,S2e,1,1,"app-challenge-status-badge",2),te(2,C2e,1,1,"app-challenge-status-badge",2),te(3,E2e,1,1,"app-challenge-status-badge",2),te(4,T2e,1,1,"app-challenge-status-badge",2),te(5,w2e,1,1,"app-challenge-status-badge",2),te(6,M2e,1,1,"app-challenge-status-badge",2),te(7,O2e,1,1,"app-challenge-status-badge",2),te(8,P2e,1,1,"app-challenge-status-badge",2),te(9,x2e,1,1,"app-challenge-status-badge",2),te(10,I2e,1,1,"app-challenge-status-badge",2),yt()),2&n){const e=oe();_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.playerStatus===e.PlayerStatus.Won),_(1),W("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function D2e(n,t){1&n&&ye(0,"app-challenge-status-badge",4),2&n&&W("status",oe().ChallengeStatusUI.MinBet)}let BY=(()=>{class n{constructor(){this.ChallengeStatusUI=Xp,this.ChallengeStatus=Ar,this.PlayerStatus=nr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-header-main"]],inputs:{challengeStatus:"challengeStatus",playerStatus:"playerStatus",userCount:"userCount",isMinBetError:"isMinBetError"},decls:6,vars:6,consts:[[1,"challenge-header-main"],[4,"ngIf"],[3,"status",4,"ngIf"],[1,"user-count-badge"],[3,"status"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,A2e,11,10,"ng-container",1),te(2,D2e,1,1,"app-challenge-status-badge",2),I(3,"div",3),Y(4),K(5,"number"),R()()),2&e&&(_(1),W("ngIf",!i.isMinBetError),_(1),W("ngIf",i.isMinBetError),_(2),dt(nn(5,3,i.userCount,"1.0-0")))},directives:[zt,KR],pipes:[Ju],styles:['[_nghost-%COMP%]{width:100%;height:100%}.challenge-header-main[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px;padding:8px}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:32px;max-width:112px;padding:4px 12px 4px 4px;background-color:#ffffff0d;border-radius:64px;color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;letter-spacing:-.3px;text-transform:uppercase}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]:before{content:"";margin-right:4px;width:24px;height:24px;background:url(icon-user.47ea8246ab247e97.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),UY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-header-scrolled"]],inputs:{title:"title"},decls:2,vars:1,template:function(e,i){1&e&&(I(0,"span"),Y(1),R()),2&e&&(_(1),dt(i.title))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#1a1a1a;padding:8px 0}"],changeDetection:0}),n})();function qR(n=0,t=K_){return n<0&&(n=0),bu(n,n,t)}function R2e(n,t){if(1&n&&(I(0,"div",1)(1,"span",2),Y(2),K(3,"number"),R(),Y(4,":"),I(5,"span",2),Y(6),K(7,"number"),R(),Y(8,":"),I(9,"span",2),Y(10),K(11,"number"),R()()),2&n){const e=t.ngIf;_(2),dt(nn(3,3,e.hours,"2.0")),_(4),dt(nn(7,6,e.minutes,"2.0")),_(4),dt(nn(11,9,e.seconds,"2.0"))}}let Kp=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=qR(1e3).pipe(cp(0),Ae(()=>this.calcDateDiff()),Gt(this))}calcDateDiff(){const t=new Wi(this.targetDate-Date.now());return t.toNumber()<=0?{seconds:0,minutes:0,hours:0}:{hours:t.div(this.milSecInSec).div(this.minInH).div(this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:t.div(this.milSecInSec).div(this.minInH).mod(this.secInMin).floor().toNumber(),seconds:t.div(this.milSecInSec).mod(this.secInMin).floor().toNumber()}}};function N2e(n,t){if(1&n&&(function Ok(){Bn.lFrame.currentNamespace="svg"}(),I(0,"svg",11),ye(1,"circle",12)(2,"circle",13),R()),2&n){const e=oe();Ei("width",e.progressCircleDimension)("height",e.progressCircleDimension)("viewBox","0 0 "+e.progressCircleDimension+" "+e.progressCircleDimension),_(1),Ei("r",e.progressCircleRadius)("cx",e.progressCircleDimension/2)("cy",e.progressCircleDimension/2),_(1),Ei("r",e.progressCircleRadius)("cx",e.progressCircleDimension/2)("cy",e.progressCircleDimension/2)("stroke-dasharray",6.28*e.progressCircleRadius+"px")("stroke-dashoffset",6.28*e.progressCircleRadius*(100-e.progress)/100+"px")}}function k2e(n,t){if(1&n&&(I(0,"span",14),Y(1),K(2,"transloco"),K(3,"date"),K(4,"date"),R()),2&n){const e=oe();_(1),d_(" ",J(2,3,"challenges.Start:")," ",nn(3,5,e.startDate,"d MMM y")," \u2022 ",nn(4,8,e.startDate,"HH:mm")," ")}}function L2e(n,t){if(1&n&&(I(0,"span",14),Y(1),K(2,"transloco"),K(3,"date"),K(4,"date"),R()),2&n){const e=oe();_(1),d_(" ",J(2,3,"challenges.End:")," ",nn(3,5,e.endDate,"d MMM y")," \u2022 ",nn(4,8,e.endDate,"HH:mm")," ")}}function F2e(n,t){1&n&&ye(0,"app-challenge-countdown",15),2&n&&W("targetDate",oe().targetDate)}Kp.\u0275fac=function(t){return new(t||Kp)},Kp.\u0275cmp=_t({type:Kp,selectors:[["app-challenge-countdown"]],inputs:{targetDate:"targetDate"},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"value-part"]],template:function(t,e){1&t&&(te(0,R2e,12,12,"div",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.timeLeft$))},directives:[zt],pipes:[pr,Ju],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#7a7a7acc;font-size:24px;font-weight:600;line-height:28px;letter-spacing:-.6px}.container[_ngcontent-%COMP%]   .value-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:48px;width:48px;color:#e0e0e0cc;padding:4px;border-radius:8px;background-color:#1f1f1f;margin:0 4px;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),Kp=qe([si()],Kp);let jY=(()=>{class n{constructor(){this.challengeTypeUI=Ji,this.progressCircleDimension=80,this.progressCircleRadius=36,this.bgImageNames=[],this.typeImageNames=[]}ngOnChanges(){const e=this.type.toLowerCase();this.bgImageNames=[`${e}-details-${this.backgroundImage}-bg.png`,`${e}-details-${this.backgroundImage}-bg@2x.png`,`${e}-details-${this.backgroundImage}-bg@3x.png`],this.typeImageNames=[`${e}-icon.png`,`${e}-icon@2x.png`,`${e}-icon@3x.png`]}get targetDate(){return this.isChallengeStarted?this.endDate:this.startDate}get shouldDisplayCountdown(){const e=Date.now();return!this.isChallengePaused&&!this.isChallengeFinished&&e<this.targetDate&&this.targetDate-e<864e5}getFullImgPathBg(e){return"assets/images/engagement-tools/"+e}getSrcSetBg(e,i,r){return`${this.getFullImgPathBg(e)}, ${this.getFullImgPathBg(i)} 2x, ${this.getFullImgPathBg(r)} 3x`}getFullImgPathType(e){return"assets/challenges/images/"+e}getSrcSetType(e,i,r){return`${this.getFullImgPathType(e)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-info-main"]],inputs:{name:"name",type:"type",startDate:"startDate",endDate:"endDate",progress:"progress",isProgressEnabled:"isProgressEnabled",isError:"isError",isChallengeStarted:"isChallengeStarted",isChallengePaused:"isChallengePaused",isChallengeFinished:"isChallengeFinished",backgroundImage:"backgroundImage"},features:[sa],decls:14,vars:18,consts:[[1,"challenge-info-main"],[1,"image-wrapper"],["draggable","false","alt","mission-details-bg",1,"bg-image",3,"srcset","src"],[1,"content"],[1,"challenge-progress"],["class","progress-circle",4,"ngIf"],["draggable","false","alt","challenge-type",3,"srcset","src"],[1,"type"],[1,"name"],["class","schedule",4,"ngIf"],[3,"targetDate",4,"ngIf"],[1,"progress-circle"],["fill","transparent","stroke","var(--progress-bar-bg)","stroke-width","var(--progress-stroke-width)"],["fill","transparent","stroke","var(--progress-color)","stroke-linecap","round","stroke-width","var(--progress-stroke-width)"],[1,"schedule"],[3,"targetDate"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),ye(2,"img",2),R(),I(3,"div",3)(4,"div",4),te(5,N2e,3,11,"svg",5),ye(6,"img",6),R(),I(7,"span",7),Y(8),R(),I(9,"span",8),Y(10),R(),te(11,k2e,5,11,"span",9),te(12,L2e,5,11,"span",9),te(13,F2e,1,1,"app-challenge-countdown",10),R()()),2&e&&(Al("--progress",i.progress),_(2),W("srcset",i.getSrcSetBg(i.bgImageNames[0],i.bgImageNames[1],i.bgImageNames[2]),pn)("src",i.getFullImgPathBg(i.bgImageNames[0]),pn),_(2),Lt("live",i.isProgressEnabled)("success",i.isProgressEnabled&&100===i.progress)("error",i.isError),_(1),W("ngIf",i.type!==i.challengeTypeUI.TOURNAMENT),_(1),W("srcset",i.getSrcSetType(i.typeImageNames[0],i.typeImageNames[1],i.typeImageNames[2]),pn)("src",i.getFullImgPathType(i.typeImageNames[0]),pn),_(2),dt(i.type),_(2),dt(i.name),_(1),W("ngIf",!i.isChallengeStarted&&!i.isChallengeFinished),_(1),W("ngIf",i.isChallengeStarted||i.isChallengeFinished),_(1),W("ngIf",i.shouldDisplayCountdown))},directives:[zt,Kp],pipes:[Jt,al],styles:['.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:absolute;top:-4px;left:0;width:100%;height:248px;overflow:hidden}.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(180deg,rgba(26,26,26,0) 50.25%,#1a1a1a 100%)}.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%);width:auto;height:100%;z-index:0}@media (min-width: 768px){.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{height:295px;top:-24px}}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:64px 32px 16px;z-index:1}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]{--progress-stroke-width: 4px;--progress-bar-bg: rgba(255, 255, 255, .05);--progress-color: rgba(255, 255, 255, .1);position:relative;display:flex;justify-content:center;align-items:center;width:72px;height:72px;border-radius:50%;margin-bottom:12px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transform-origin:center;transform:rotate(-90deg)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.live[_ngcontent-%COMP%]{--progress-color: #ffde5c}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.success[_ngcontent-%COMP%]{--progress-color: #79e279}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.error[_ngcontent-%COMP%]{--progress-color: #f35656}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;padding:8px;background-color:#ffffff1a;border-radius:50%}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e0e0e0;text-align:center;font-size:12px;font-weight:400;line-height:16px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   app-challenge-countdown[_ngcontent-%COMP%]{margin-top:16px}'],changeDetection:0}),n})(),GY=(()=>{class n{constructor(){this.isError=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-message"]],inputs:{message:"message",isError:"isError"},decls:2,vars:3,consts:[[1,"challenge-message"]],template:function(e,i){1&e&&(I(0,"div",0),Y(1),R()),2&e&&(Lt("error",i.isError),_(1),ie(" ",i.message,"\n"))},styles:["[_nghost-%COMP%]{z-index:1}.challenge-message[_ngcontent-%COMP%]{width:250px;color:#a3a3a3;background-color:#1f1f1f;padding:8px 16px;border-radius:2px 12px 12px;font-size:12px;font-weight:400;line-height:16px;text-align:center}.challenge-message.error[_ngcontent-%COMP%]{color:#f35656;text-align:left}"],changeDetection:0}),n})();const B2e=["leaderboardContainer"];function U2e(n,t){if(1&n&&(I(0,"span",6),Y(1),R()),2&n){const e=oe();_(1),ie(" (Top-",e.topValue,") ")}}function j2e(n,t){1&n&&(I(0,"div",11),ye(1,"app-loader"),R())}function G2e(n,t){1&n&&(I(0,"div",12)(1,"div",13),Y(2),K(3,"transloco"),I(4,"p"),Y(5),K(6,"transloco"),R()()()),2&n&&(_(2),ie(" ",J(3,2,"challenges.No players yet :(")," "),_(3),ie(" ",J(6,4,"challenges.You can be one of the first!")," "))}const H2e=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function V2e(n,t){if(1&n&&ye(0,"app-leaderboard-item",23),2&n){const e=t.$implicit,i=t.index,r=oe(2).ngIf,o=oe();W("isCurrentUserItem",o.leaderboard.myPosition===i+1)("challengeStatus",r.challenge)("leaderboardIndex",i)("leaderboardItem",e)("ngClass",WO(5,H2e,1===o.leaderboard.items.length,i===o.leaderboard.myPosition,o.leaderboard.myPosition>1&&i+2===o.leaderboard.myPosition,i>=o.maxListLength))}}function z2e(n,t){if(1&n&&(I(0,"div",24),ye(1,"app-leaderboard-item",25),R()),2&n){const e=oe(2).ngIf,i=oe();_(1),W("leaderboardItem",i.leaderboard.myItem)("leaderboardIndex",i.leaderboard.myPosition-1)("challengeStatus",e.challenge)("isCurrentUserItem",!0)}}const W2e=function(n){return{visible:n}};function Y2e(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",14,15),te(3,V2e,1,10,"app-leaderboard-item",16),R(),I(4,"div",17),ye(5,"div",18),I(6,"div",19)(7,"button",20),Be("click",function(){return Tt(e),oe(2).scrollToTop()}),Y(8),K(9,"transloco"),R()(),te(10,z2e,2,4,"div",21),I(11,"div",22),Y(12),K(13,"transloco"),K(14,"async"),R()(),yt()}if(2&n){const e=oe().ngIf,i=oe();_(3),W("ngForOf",i.leaderboard.items),_(3),W("ngClass",Ii(12,W2e,i.isScrollToTopVisible)),_(2),ie(" ",J(9,6,"challenges.action.Back to top")," "),_(2),W("ngIf",e.player!==i.playerStatus.None),_(2),Hn(" ",J(13,8,"challenges.Total Players")," - ",J(14,10,i.challenge.updateState$).joinCount," ")}}function $2e(n,t){if(1&n&&(I(0,"div",7),te(1,j2e,2,0,"div",8),K(2,"async"),te(3,G2e,7,6,"div",9),K(4,"async"),te(5,Y2e,15,14,"ng-container",10),K(6,"async"),R()),2&n){const e=oe();_(1),W("ngIf",!1===J(2,3,e.leaderboard.loaded$)),_(2),W("ngIf",J(4,5,e.leaderboard.loaded$)&&!e.leaderboard.items.length),_(2),W("ngIf",J(6,7,e.leaderboard.loaded$)&&!!e.leaderboard.items.length)}}let qp=class{constructor(t,e,i,r,o){this.activeModal=t,this.cd=e,this.challenge=i,this.status=r,this.leaderboard=o,this.maxListLength=this.challenge.config.leaderBoardSize,this.topValue=100,this.isScrollToTopVisible=!1,this.playerStatus=nr,this.LEADERBOARD_ITEM_HEIGHT=40}ngOnInit(){this.challenge.updateState$.pipe(cn(t=>!t.isChallengeAvailable),Gt(this)).subscribe(()=>this.close())}ngAfterViewInit(){this.onLeaderboardLoaded()}close(){this.activeModal.close()}scrollToTop(){this.leaderboardContainer&&this.leaderboardContainer.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaderboard.items.length||Li(this.leaderboardContainer.nativeElement,"scroll").pipe(Va(200),cn(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT),Gt(this)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};qp.\u0275fac=function(t){return new(t||qp)(Z(Ir),Z(Rn),Z(hs),Z(Mp),Z(q0))},qp.\u0275cmp=_t({type:qp,selectors:[["app-leaderboard"]],viewQuery:function(t,e){if(1&t&&fo(B2e,5),2&t){let i;ii(i=ri())&&(e.leaderboardContainer=i.first)}},decls:10,vars:7,consts:[[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",4,"ngIf"],[1,"top-description"],[1,"modal-body"],["class","loader",4,"ngIf"],["class","no-players",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"no-players"],[1,"no-players-text"],[1,"leaderboard-container"],["leaderboardContainer",""],["class","leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"after-list-container"],[1,"blur-block"],[1,"scroll-to-top",3,"ngClass"],[1,"btn",3,"click"],["class","active-user-container",4,"ngIf"],[1,"total-prizes","modal-footer"],[1,"leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1)(2,"span"),Y(3),K(4,"transloco"),R(),te(5,U2e,2,1,"span",2),I(6,"button",3),Be("click",function(){return e.close()}),ye(7,"span",4),R()(),te(8,$2e,7,9,"div",5),K(9,"async"),R()),2&t&&(_(3),dt(J(4,3,"challenges.Leaderboard")),_(2),W("ngIf",e.challenge.update.joinCount>=e.topValue),_(3),W("ngIf",J(9,5,e.status.update$)))},directives:[zt,Gc,Kn,KD,Xo],pipes:[Jt,pr],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]{width:100%;margin:auto 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:764px;overflow-y:auto;flex-grow:1}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.outsideList[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child   .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:not(.afterActiveUser), .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.singleListItem[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child.beforeActiveUser, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]{position:relative}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]{position:absolute;visibility:hidden;top:-46px;left:0;display:flex;justify-content:center;width:100%;z-index:100;transition:opacity .3s}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;top:-72px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{padding-top:16px;border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .total-prizes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:40px;background:inherit;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),qp=qe([si()],qp);var Xc=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(Xc||(Xc={})),Xc))();const X2e={[fi.PlayRounds]:Xc.PlayRounds,[fi.CatchMultipliers]:Xc.CatchX,[fi.WinRounds]:Xc.WinRounds,[fi.PlayRoundsMaxReachedMultiplier]:Xc.PlayRounds,[fi.WinMoneyInTotal]:Xc.WinMoney,[fi.BetInTotal]:Xc.MakeBets,[fi.CollectCashOutsMultiplierSum]:Xc.CollectCashouts,[fi.CatchHighestMultiplier]:Xc.CatchX};var rc=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(rc||(rc={})),rc))();const K2e={[fi.PlayRounds]:rc.OnlyNumbers,[fi.CatchMultipliers]:rc.OnlyNumbers,[fi.WinRounds]:rc.OnlyNumbers,[fi.PlayRoundsMaxReachedMultiplier]:rc.OnlyNumbers,[fi.WinMoneyInTotal]:rc.Currency,[fi.BetInTotal]:rc.Currency,[fi.CollectCashOutsMultiplierSum]:rc.Multiplier,[fi.CatchHighestMultiplier]:rc.OnlyNumbers};function q2e(n,t){if(1&n&&(vt(0),I(1,"span",7),Y(2),K(3,"number"),R(),Y(4),K(5,"number"),yt()),2&n){const e=oe();_(2),dt(nn(3,2,e.task.progress,"1.0-0")),_(2),ie(" of ",nn(5,5,e.task.goal,"1.0-0")," ")}}function J2e(n,t){if(1&n&&(vt(0),I(1,"span",7),Y(2),K(3,"currencyPrecision"),R(),Y(4),K(5,"currencyPrecision"),yt()),2&n){const e=oe();_(2),dt(J(3,3,e.task.progress)),_(2),Hn(" of ",J(5,5,e.task.goal)," ",e.currency," ")}}function Z2e(n,t){if(1&n&&(vt(0),I(1,"span",7),Y(2),R(),Y(3),yt()),2&n){const e=oe();_(2),dt(e.task.progress),_(1),ie("x of ",e.task.goal,"x ")}}let Q2e=(()=>{class n{constructor(){this.group=rc}get currentGroupName(){return K2e[this.task.type]}get currentProgress(){return new Wi(this.task.progress).div(this.task.goal).toNumber()}get percentageCurrentProgress(){return`${new Wi(this.currentProgress).times(100).toDecimalPlaces(2,Wi.ROUND_FLOOR).toFixed(2)}%`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnabled:"isEnabled",isError:"isError"},decls:10,vars:13,consts:[[1,"progress-box","w-100"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"progress-footer"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-percent"],[1,"progress-value"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),ye(2,"div",2),R(),I(3,"div",3)(4,"div",4),te(5,q2e,6,8,"ng-container",5),te(6,J2e,6,7,"ng-container",5),te(7,Z2e,4,2,"ng-container",5),R(),I(8,"span",6),Y(9),R()()()),2&e&&(Lt("live",i.isEnabled)("success",i.isEnabled&&1===i.currentProgress)("error",i.isError),_(2),Al("width",100*i.currentProgress+"%"),_(2),W("ngSwitch",i.currentGroupName),_(1),W("ngSwitchCase",i.group.OnlyNumbers),_(1),W("ngSwitchCase",i.group.Currency),_(1),W("ngSwitchCase",i.group.Multiplier),_(2),dt(i.percentageCurrentProgress))},directives:[Ko,Ts],pipes:[Ju,zn],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:4px;width:100%;background-color:#ffffff0d;border-radius:2px;overflow:hidden;margin-bottom:4px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#ffffff1a}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#7a7a7a;font-size:10px;font-weight:500;line-height:normal;letter-spacing:-.25px}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#525252}.progress-box.live[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.progress-box.live[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#ffde5c}.progress-box.success[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.progress-box.success[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#79e279}.progress-box.error[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}.progress-box.error[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#f35656}"],changeDetection:0}),n})();function eAe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),ie(". ",nn(2,1,"challenges.tasks.Min. bet",e.nameParams),"")}}let tAe=(()=>{class n{constructor(e,i,r){this.currencyPrecisionPipe=e,this.multiplierPrecisionPipe=i,this.challenge=r}get iconGroupName(){return X2e[this.task.type]}get nameParams(){return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(this.task.targetMinMultiplier),goal:$D.has(this.task.type)?this.currencyPrecisionPipe.transform(this.task.goal):this.task.goal}}}return n.\u0275fac=function(e){return new(e||n)(Z(zn),Z(Ws),Z(hs))},n.\u0275cmp=_t({type:n,selectors:[["app-task"]],inputs:{task:"task",currency:"currency",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:9,vars:10,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"],[3,"task","currency","isEnabled","isError"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"div",1),I(2,"div",2)(3,"div",3)(4,"span"),Y(5),K(6,"transloco"),R(),te(7,eAe,3,4,"span",4),R(),ye(8,"app-task-progress",5),R()()),2&e&&(_(1),W("ngClass",i.iconGroupName),_(4),dt(nn(6,7,"challenges.tasks."+i.task.type,i.nameParams)),_(2),W("ngIf",!!i.nameParams.minBet),_(1),W("task",i.task)("currency",i.currency)("isEnabled",i.isProgressEnabled)("isError",i.isError))},directives:[Xo,zt,Q2e],pipes:[Jt],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),n})();function nAe(n,t){if(1&n){const e=Ot();I(0,"button",7),Be("click",function(){return Tt(e),oe().showLeaderboard()}),I(1,"span",8),Y(2),K(3,"transloco"),R()()}2&n&&(_(2),dt(J(3,1,"challenges.Leaderboard")))}function iAe(n,t){if(1&n&&(I(0,"li",9),ye(1,"app-task",10),R()),2&n){const e=t.$implicit,i=t.index,r=oe();_(1),Zv("task-item-",i,""),W("task",e)("currency",r.currency)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}let rAe=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.PlayerStatus=nr,this.ChallengeStatus=Ar,this.ChallengeTypeUI=Ji}showLeaderboard(){this.modalService.open(qp)}}return n.\u0275fac=function(e){return new(e||n)(Z(Mh))},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-tasks"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType"},decls:9,vars:5,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button","class","btn-link link-how-it-works d-flex align-items-center",3,"click",4,"ngIf"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"button-text"],[1,"task"],[3,"task","currency","isProgressEnabled","isError"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"span",2),Y(3),K(4,"transloco"),R(),te(5,nAe,4,3,"button",3),R(),I(6,"div",4)(7,"ul",5),te(8,iAe,2,7,"li",6),R()()()),2&e&&(_(3),dt(J(4,3,"challenges.Tasks")),_(2),W("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),_(3),W("ngForOf",i.tasks))},directives:[zt,Kn,tAe],pipes:[Jt],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})();var Kc=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets",n.CatchHighestX="catch-highest-x"}(Kc||(Kc={})),Kc))();const oAe={[fi.PlayRounds]:Kc.PlayRounds,[fi.CatchMultipliers]:Kc.CatchX,[fi.WinRounds]:Kc.WinRounds,[fi.PlayRoundsMaxReachedMultiplier]:Kc.PlayRounds,[fi.WinMoneyInTotal]:Kc.WinMoney,[fi.BetInTotal]:Kc.MakeBets,[fi.CollectCashOutsMultiplierSum]:Kc.CollectCashouts,[fi.CatchHighestMultiplier]:Kc.CatchHighestX};var Ia=(()=>(function(n){n.Money="money",n.Multiplier="multiplier",n.Default="default"}(Ia||(Ia={})),Ia))();const HY={[fi.WinMoneyInTotal]:Ia.Money,[fi.BetInTotal]:Ia.Money,[fi.CatchMultipliers]:Ia.Multiplier,[fi.CollectCashOutsMultiplierSum]:Ia.Multiplier,[fi.CatchHighestMultiplier]:Ia.Multiplier,[fi.WinRounds]:Ia.Default,[fi.PlayRounds]:Ia.Default,[fi.PlayRoundsMaxReachedMultiplier]:Ia.Default};function sAe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe().$implicit,i=oe(2);_(1),ie(" ",nn(2,1,"challenges.challengeRules.xRace.tasks.The bet should be at least minBet currency.",i.nameParams(e))," ")}}function aAe(n,t){if(1&n&&(vt(0),I(1,"div",14),Y(2),K(3,"transloco"),R(),I(4,"div",15),Y(5),K(6,"transloco"),te(7,sAe,3,4,"span",16),R(),yt()),2&n){const e=t.$implicit,i=oe(2);_(2),ie(" ",nn(3,3,"challenges.tasks."+e.type,i.nameParams(e))," "),_(3),ie(" ",nn(6,6,"challenges.challengeRules.xRace.tasks."+e.type,i.nameParams(e))," "),_(2),W("ngIf",!!i.nameParams(e).minBet)}}function lAe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(6,"span",4),R()(),I(7,"div",5)(8,"div",6),Y(9),K(10,"transloco"),R(),I(11,"section",7)(12,"div",8),Y(13),K(14,"transloco"),R(),I(15,"ul",9)(16,"li"),Y(17),K(18,"transloco"),R(),I(19,"li"),Y(20),K(21,"transloco"),R(),I(22,"li"),Y(23),K(24,"transloco"),R(),I(25,"li"),Y(26),K(27,"transloco"),R(),I(28,"li"),Y(29),K(30,"transloco"),R(),I(31,"li"),Y(32),K(33,"transloco"),R(),I(34,"li"),Y(35),K(36,"transloco"),R(),I(37,"li"),Y(38),K(39,"transloco"),R(),I(40,"li"),Y(41),K(42,"transloco"),R(),I(43,"li"),Y(44),K(45,"transloco"),R(),I(46,"li"),Y(47),K(48,"transloco"),R()()(),I(49,"section",10)(50,"div",8),Y(51),K(52,"transloco"),R(),I(53,"div"),Y(54),K(55,"transloco"),R(),te(56,aAe,8,9,"ng-container",11),K(57,"async"),I(58,"div",12),Y(59),K(60,"transloco"),R()(),I(61,"section",13)(62,"div",8),Y(63),K(64,"transloco"),R(),I(65,"ul",9)(66,"li"),Y(67),K(68,"transloco"),R(),I(69,"li"),Y(70),K(71,"transloco"),R(),I(72,"li"),Y(73),K(74,"transloco"),R(),I(75,"li"),Y(76),K(77,"transloco"),R(),I(78,"li"),Y(79),K(80,"transloco"),R(),I(81,"li"),Y(82),K(83,"transloco"),R(),I(84,"li"),Y(85),K(86,"transloco"),R(),I(87,"li"),Y(88),K(89,"transloco"),R()()()(),yt()}if(2&n){const e=oe();let i;_(3),dt(J(4,27,"challenges.challengeRules.xRace.title")),_(6),ie(" ",J(10,29,"challenges.challengeRules.xRace.stepInto")," "),_(4),ie(" ",J(14,31,"challenges.challengeRules.xRace.rules.title")," "),_(4),ie(" ",J(18,33,"challenges.challengeRules.xRace.rules.point1")," "),_(3),ie(" ",J(21,35,"challenges.challengeRules.xRace.rules.point2")," "),_(3),ie(" ",J(24,37,"challenges.challengeRules.xRace.rules.point3")," "),_(3),ie(" ",J(27,39,"challenges.challengeRules.xRace.rules.point4")," "),_(3),ie(" ",J(30,41,"challenges.challengeRules.xRace.rules.point5")," "),_(3),ie(" ",J(33,43,"challenges.challengeRules.xRace.rules.point6")," "),_(3),ie(" ",J(36,45,"challenges.challengeRules.xRace.rules.point8")," "),_(3),ie(" ",J(39,47,"challenges.challengeRules.xRace.rules.point9")," "),_(3),ie(" ",J(42,49,"challenges.challengeRules.xRace.rules.point10")," "),_(3),ie(" ",J(45,51,"challenges.challengeRules.xRace.rules.point7")," "),_(3),ie(" ",J(48,53,"challenges.challengeRules.xRace.rules.point11")," "),_(4),ie(" ",J(52,55,"challenges.challengeRules.xRace.tasks.title")," "),_(3),ie(" ",J(55,57,"challenges.challengeRules.xRace.tasks.beforeYouBegin")," "),_(2),W("ngForOf",null==(i=J(57,59,e.task.update$))?null:i.tasks),_(3),ie(" ",J(60,61,"challenges.challengeRules.xRace.pleaseNote")," "),_(4),ie(" ",J(64,63,"challenges.challengeRules.xRace.prizes.title")," "),_(4),ie(" ",J(68,65,"challenges.challengeRules.xRace.prizes.point1")," "),_(3),ie(" ",J(71,67,"challenges.challengeRules.xRace.prizes.point2")," "),_(3),ie(" ",J(74,69,"challenges.challengeRules.xRace.prizes.point2-1")," "),_(3),ie(" ",J(77,71,"challenges.challengeRules.xRace.prizes.point3")," "),_(3),ie(" ",J(80,73,"challenges.challengeRules.xRace.prizes.point4")," "),_(3),ie(" ",J(83,75,"challenges.challengeRules.xRace.prizes.point4-1")," "),_(3),ie(" ",J(86,77,"challenges.challengeRules.xRace.prizes.point5")," "),_(3),ie(" ",J(89,79,"challenges.challengeRules.xRace.prizes.point6")," ")}}function cAe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe().$implicit,i=oe(2);_(1),ie(" ",nn(2,1,"challenges.challengeRules.xMission.tasks.The bet should be at least minBet currency.",i.nameParams(e))," ")}}function uAe(n,t){if(1&n&&(vt(0),I(1,"div",14),Y(2),K(3,"transloco"),R(),I(4,"div",15),Y(5),K(6,"transloco"),te(7,cAe,3,4,"span",16),R(),yt()),2&n){const e=t.$implicit,i=oe(2);_(2),ie(" ",nn(3,3,"challenges.tasks."+e.type,i.nameParams(e))," "),_(3),ie(" ",nn(6,6,"challenges.challengeRules.xMission.tasks."+e.type,i.nameParams(e))," "),_(2),W("ngIf",!!i.nameParams(e).minBet)}}function dAe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(6,"span",4),R()(),I(7,"div",5)(8,"div",6),Y(9),K(10,"transloco"),R(),I(11,"section",7)(12,"div",8),Y(13),K(14,"transloco"),R(),I(15,"ul",9)(16,"li"),Y(17),K(18,"transloco"),R(),I(19,"li"),Y(20),K(21,"transloco"),R(),I(22,"li"),Y(23),K(24,"transloco"),R(),I(25,"li"),Y(26),K(27,"transloco"),R(),I(28,"li"),Y(29),K(30,"transloco"),R(),I(31,"li"),Y(32),K(33,"transloco"),R(),I(34,"li"),Y(35),K(36,"transloco"),R(),I(37,"li"),Y(38),K(39,"transloco"),R(),I(40,"li"),Y(41),K(42,"transloco"),R(),I(43,"li"),Y(44),K(45,"transloco"),R(),I(46,"li"),Y(47),K(48,"transloco"),R()()(),I(49,"section",10)(50,"div",8),Y(51),K(52,"transloco"),R(),I(53,"div"),Y(54),K(55,"transloco"),R(),te(56,uAe,8,9,"ng-container",11),K(57,"async"),I(58,"div",12),Y(59),K(60,"transloco"),R()(),I(61,"section",13)(62,"div",8),Y(63),K(64,"transloco"),R(),I(65,"ul",9)(66,"li"),Y(67),K(68,"transloco"),R(),I(69,"li"),Y(70),K(71,"transloco"),R(),I(72,"li"),Y(73),K(74,"transloco"),R(),I(75,"li"),Y(76),K(77,"transloco"),R(),I(78,"li"),Y(79),K(80,"transloco"),R(),I(81,"li"),Y(82),K(83,"transloco"),R()()()(),yt()}if(2&n){const e=oe();let i;_(3),dt(J(4,25,"challenges.challengeRules.xMission.title")),_(6),ie(" ",J(10,27,"challenges.challengeRules.xMission.stepInto")," "),_(4),ie(" ",J(14,29,"challenges.challengeRules.xMission.rules.title")," "),_(4),ie(" ",J(18,31,"challenges.challengeRules.xMission.rules.point1")," "),_(3),ie(" ",J(21,33,"challenges.challengeRules.xMission.rules.point2")," "),_(3),ie(" ",J(24,35,"challenges.challengeRules.xMission.rules.point3")," "),_(3),ie(" ",J(27,37,"challenges.challengeRules.xMission.rules.point4")," "),_(3),ie(" ",J(30,39,"challenges.challengeRules.xMission.rules.point5")," "),_(3),ie(" ",J(33,41,"challenges.challengeRules.xMission.rules.point6")," "),_(3),ie(" ",J(36,43,"challenges.challengeRules.xMission.rules.point8")," "),_(3),ie(" ",J(39,45,"challenges.challengeRules.xMission.rules.point9")," "),_(3),ie(" ",J(42,47,"challenges.challengeRules.xMission.rules.point10")," "),_(3),ie(" ",J(45,49,"challenges.challengeRules.xMission.rules.point7")," "),_(3),ie(" ",J(48,51,"challenges.challengeRules.xMission.rules.point11")," "),_(4),ie(" ",J(52,53,"challenges.challengeRules.xMission.tasks.title")," "),_(3),ie(" ",J(55,55,"challenges.challengeRules.xMission.tasks.beforeYouBegin")," "),_(2),W("ngForOf",null==(i=J(57,57,e.task.update$))?null:i.tasks),_(3),ie(" ",J(60,59,"challenges.challengeRules.xMission.pleaseNote")," "),_(4),ie(" ",J(64,61,"challenges.challengeRules.xMission.prizes.title")," "),_(4),ie(" ",J(68,63,"challenges.challengeRules.xMission.prizes.point1")," "),_(3),ie(" ",J(71,65,"challenges.challengeRules.xMission.prizes.point2")," "),_(3),ie(" ",J(74,67,"challenges.challengeRules.xMission.prizes.point2-1")," "),_(3),ie(" ",J(77,69,"challenges.challengeRules.xMission.prizes.point3")," "),_(3),ie(" ",J(80,71,"challenges.challengeRules.xMission.prizes.point3-1")," "),_(3),ie(" ",J(83,73,"challenges.challengeRules.xMission.prizes.point4")," ")}}function hAe(n,t){if(1&n&&(vt(0),I(1,"div",14),Y(2),K(3,"transloco"),R(),I(4,"div",15),Y(5),K(6,"transloco"),R(),yt()),2&n){const e=t.$implicit,i=oe(2);_(2),ie(" ",nn(3,2,"challenges.tasks.xTournament."+e.type,i.nameParams(e))," "),_(3),ie(" ",nn(6,5,"challenges.challengeRules.xTournament.tasks."+e.type,i.nameParams(e))," ")}}function fAe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(6,"span",4),R()(),I(7,"div",5)(8,"div",6),Y(9),K(10,"transloco"),R(),I(11,"section",7)(12,"div",8),Y(13),K(14,"transloco"),R(),I(15,"ul",9)(16,"li"),Y(17),K(18,"transloco"),R(),I(19,"li"),Y(20),K(21,"transloco"),R(),I(22,"li"),Y(23),K(24,"transloco"),R(),I(25,"li"),Y(26),K(27,"transloco"),R(),I(28,"li"),Y(29),K(30,"transloco"),R(),I(31,"li"),Y(32),K(33,"transloco"),R(),I(34,"li"),Y(35),K(36,"transloco"),R(),I(37,"li"),Y(38),K(39,"transloco"),R()()(),I(40,"section",10)(41,"div",8),Y(42),K(43,"transloco"),R(),I(44,"div"),Y(45),K(46,"transloco"),R(),te(47,hAe,7,8,"ng-container",11),K(48,"async"),I(49,"div",12),Y(50),K(51,"transloco"),R()(),I(52,"section",13)(53,"div",8),Y(54),K(55,"transloco"),R(),I(56,"ul",9)(57,"li"),Y(58),K(59,"transloco"),R(),I(60,"li"),Y(61),K(62,"transloco"),R(),I(63,"li"),Y(64),K(65,"transloco"),R(),I(66,"li"),Y(67),K(68,"transloco"),R(),I(69,"li"),Y(70),K(71,"transloco"),R(),I(72,"li"),Y(73),K(74,"transloco"),R()()()(),yt()}if(2&n){const e=oe();let i;_(3),dt(J(4,22,"challenges.challengeRules.xTournament.title")),_(6),ie(" ",J(10,24,"challenges.challengeRules.xTournament.stepInto")," "),_(4),ie(" ",J(14,26,"challenges.challengeRules.xTournament.rules.title")," "),_(4),ie(" ",J(18,28,"challenges.challengeRules.xTournament.rules.point1")," "),_(3),ie(" ",J(21,30,"challenges.challengeRules.xTournament.rules.point2")," "),_(3),ie(" ",J(24,32,"challenges.challengeRules.xTournament.rules.point3")," "),_(3),ie(" ",J(27,34,"challenges.challengeRules.xTournament.rules.point4")," "),_(3),ie(" ",J(30,36,"challenges.challengeRules.xTournament.rules.point5")," "),_(3),ie(" ",J(33,38,"challenges.challengeRules.xTournament.rules.point6")," "),_(3),ie(" ",J(36,40,"challenges.challengeRules.xTournament.rules.point7")," "),_(3),ie(" ",J(39,42,"challenges.challengeRules.xTournament.rules.point8")," "),_(4),ie(" ",J(43,44,"challenges.challengeRules.xTournament.tasks.title")," "),_(3),ie(" ",J(46,46,"challenges.challengeRules.xTournament.tasks.beforeYouBegin")," "),_(2),W("ngForOf",null==(i=J(48,48,e.task.update$))?null:i.tasks),_(3),ie(" ",J(51,50,"challenges.challengeRules.xTournament.pleaseNote")," "),_(4),ie(" ",J(55,52,"challenges.challengeRules.xTournament.prizes.title")," "),_(4),ie(" ",J(59,54,"challenges.challengeRules.xTournament.prizes.point1")," "),_(3),ie(" ",J(62,56,"challenges.challengeRules.xTournament.prizes.point2")," "),_(3),ie(" ",J(65,58,"challenges.challengeRules.xTournament.prizes.point2-1")," "),_(3),ie(" ",J(68,60,"challenges.challengeRules.xTournament.prizes.point3")," "),_(3),ie(" ",J(71,62,"challenges.challengeRules.xTournament.prizes.point3-1")," "),_(3),ie(" ",J(74,64,"challenges.challengeRules.xTournament.prizes.point4")," ")}}let jh=class{constructor(t,e,i,r,o){this.activeModal=t,this.task=e,this.currencyPrecisionPipe=i,this.multiplierPrecisionPipe=r,this.challenge=o,this.ChallengeTypeUI=Ji}ngOnInit(){this.challenge.updateState$.pipe(cn(t=>!t.isChallengeAvailable),Gt(this)).subscribe(()=>this.close())}nameParams(t){var e;return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(t.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(t.targetMinMultiplier),goal:$D.has(t.type)?this.currencyPrecisionPipe.transform(t.goal):t.goal,pointsConversionFactor:this.formattedPointsConversionFactor(t.type,null!==(e=t.pointsConversionFactor)&&void 0!==e?e:1)}}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}formattedPointsConversionFactor(t,e){switch(HY[t]){case Ia.Money:return this.currencyPrecisionPipe.transform(e);case Ia.Multiplier:return this.multiplierPrecisionPipe.transform(e);default:return e}}};function pAe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(6,"span",4),R()(),I(7,"div",5)(8,"div",6),Y(9),K(10,"transloco"),R(),I(11,"div",7),Y(12),K(13,"transloco"),R(),I(14,"ol",8),ye(15,"img",9),I(16,"li"),Y(17),K(18,"transloco"),R(),I(19,"div",10),Y(20),K(21,"transloco"),R(),ye(22,"img",11),I(23,"li"),Y(24),K(25,"transloco"),R(),I(26,"div",10),Y(27),K(28,"transloco"),R(),ye(29,"img",12),I(30,"li"),Y(31),K(32,"transloco"),R(),I(33,"div",10),Y(34),K(35,"transloco"),R(),ye(36,"img",13),I(37,"li"),Y(38),K(39,"transloco"),R(),I(40,"div",10),Y(41),K(42,"transloco"),R()(),I(43,"div",14),Y(44),K(45,"transloco"),R(),I(46,"div",15),Be("click",function(){return Tt(e),oe().showMissionRules()}),Y(47),K(48,"transloco"),R()(),yt()}if(2&n){const e=oe();_(3),dt(J(4,21,"challenges.howToPlay.xRace.title")),_(6),ie(" ",J(10,23,"challenges.howToPlay.xRace.Welcome")," "),_(3),ie(" ",J(13,25,"challenges.howToPlay.xRace.Here\u2019s how it works:")," "),_(3),W("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),pn)("src",e.getFullImgPath("join.png"),pn),_(2),ie(" ",J(18,27,"challenges.howToPlay.xRace.joinTheChallenge.title")," "),_(3),ie(" ",J(21,29,"challenges.howToPlay.xRace.joinTheChallenge.text")," "),_(2),W("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),pn)("src",e.getFullImgPath("progress.png"),pn),_(2),ie(" ",J(25,31,"challenges.howToPlay.xRace.taskProgress.title")," "),_(3),ie(" ",J(28,33,"challenges.howToPlay.xRace.taskProgress.text")," "),_(2),W("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),pn)("src",e.getFullImgPath("big-prize.png"),pn),_(2),ie(" ",J(32,35,"challenges.howToPlay.xRace.fightForYourPrize.title")," "),_(3),ie(" ",J(35,37,"challenges.howToPlay.xRace.fightForYourPrize.text")," "),_(2),W("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),pn)("src",e.getFullImgPath("mission-completion.png"),pn),_(2),ie(" ",J(39,39,"challenges.howToPlay.xRace.challengeCompletion.title")," "),_(3),ie(" ",J(42,41,"challenges.howToPlay.xRace.challengeCompletion.text")," "),_(3),ie(" ",J(45,43,"challenges.howToPlay.xRace.Join the xRace, play your best, and aim to be one of the winners. Good luck on your xRace!")," "),_(3),ie(" ",J(48,45,"challenges.howToPlay.xRace.Detailed rules")," ")}}function gAe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(6,"span",4),R()(),I(7,"div",5)(8,"div",6),Y(9),K(10,"transloco"),R(),I(11,"div",7),Y(12),K(13,"transloco"),R(),I(14,"ol",8),ye(15,"img",9),I(16,"li"),Y(17),K(18,"transloco"),R(),I(19,"div",10),Y(20),K(21,"transloco"),R(),ye(22,"img",11),I(23,"li"),Y(24),K(25,"transloco"),R(),I(26,"div",10),Y(27),K(28,"transloco"),R(),ye(29,"img",12),I(30,"li"),Y(31),K(32,"transloco"),R(),I(33,"div",10),Y(34),K(35,"transloco"),R(),ye(36,"img",13),I(37,"li"),Y(38),K(39,"transloco"),R(),I(40,"div",10),Y(41),K(42,"transloco"),R()(),I(43,"div",14),Y(44),K(45,"transloco"),R(),I(46,"div",15),Be("click",function(){return Tt(e),oe().showMissionRules()}),Y(47),K(48,"transloco"),R()(),yt()}if(2&n){const e=oe();_(3),dt(J(4,21,"challenges.howToPlay.xMission.title")),_(6),ie(" ",J(10,23,"challenges.howToPlay.xMission.Welcome")," "),_(3),ie(" ",J(13,25,"challenges.howToPlay.xMission.Here\u2019s how it works:")," "),_(3),W("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),pn)("src",e.getFullImgPath("join.png"),pn),_(2),ie(" ",J(18,27,"challenges.howToPlay.xMission.joinTheChallenge.title")," "),_(3),ie(" ",J(21,29,"challenges.howToPlay.xMission.joinTheChallenge.text")," "),_(2),W("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),pn)("src",e.getFullImgPath("progress.png"),pn),_(2),ie(" ",J(25,31,"challenges.howToPlay.xMission.taskProgress.title")," "),_(3),ie(" ",J(28,33,"challenges.howToPlay.xMission.taskProgress.text")," "),_(2),W("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),pn)("src",e.getFullImgPath("big-prize.png"),pn),_(2),ie(" ",J(32,35,"challenges.howToPlay.xMission.fightForYourPrize.title")," "),_(3),ie(" ",J(35,37,"challenges.howToPlay.xMission.fightForYourPrize.text")," "),_(2),W("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),pn)("src",e.getFullImgPath("mission-completion.png"),pn),_(2),ie(" ",J(39,39,"challenges.howToPlay.xMission.challengeCompletion.title")," "),_(3),ie(" ",J(42,41,"challenges.howToPlay.xMission.challengeCompletion.text")," "),_(3),ie(" ",J(45,43,"challenges.howToPlay.xMission.Join the xMission, play your best, and aim to be one of the winners. Good luck on your xMission!")," "),_(3),ie(" ",J(48,45,"challenges.howToPlay.xMission.Detailed rules")," ")}}function _Ae(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",2)(2,"span"),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return Tt(e),oe().close()}),ye(6,"span",4),R()(),I(7,"div",5)(8,"div",6),Y(9),K(10,"transloco"),R(),I(11,"div",7),Y(12),K(13,"transloco"),R(),I(14,"ol",8),ye(15,"img",9),I(16,"li"),Y(17),K(18,"transloco"),R(),I(19,"div",10),Y(20),K(21,"transloco"),R(),ye(22,"img",11),I(23,"li"),Y(24),K(25,"transloco"),R(),I(26,"div",10),Y(27),K(28,"transloco"),R(),ye(29,"img",12),I(30,"li"),Y(31),K(32,"transloco"),R(),I(33,"div",10),Y(34),K(35,"transloco"),R(),ye(36,"img",13),I(37,"li"),Y(38),K(39,"transloco"),R(),I(40,"div",10),Y(41),K(42,"transloco"),R()(),I(43,"div",14),Y(44),K(45,"transloco"),R(),I(46,"div",15),Be("click",function(){return Tt(e),oe().showMissionRules()}),Y(47),K(48,"transloco"),R()(),yt()}if(2&n){const e=oe();_(3),dt(J(4,21,"challenges.howToPlay.xTournament.title")),_(6),ie(" ",J(10,23,"challenges.howToPlay.xTournament.Welcome")," "),_(3),ie(" ",J(13,25,"challenges.howToPlay.xTournament.Here\u2019s how it works:")," "),_(3),W("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),pn)("src",e.getFullImgPath("join.png"),pn),_(2),ie(" ",J(18,27,"challenges.howToPlay.xTournament.joinTheChallenge.title")," "),_(3),ie(" ",J(21,29,"challenges.howToPlay.xTournament.joinTheChallenge.text")," "),_(2),W("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),pn)("src",e.getFullImgPath("progress.png"),pn),_(2),ie(" ",J(25,31,"challenges.howToPlay.xTournament.taskProgress.title")," "),_(3),ie(" ",J(28,33,"challenges.howToPlay.xTournament.taskProgress.text")," "),_(2),W("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),pn)("src",e.getFullImgPath("big-prize.png"),pn),_(2),ie(" ",J(32,35,"challenges.howToPlay.xTournament.fightForYourPrize.title")," "),_(3),ie(" ",J(35,37,"challenges.howToPlay.xTournament.fightForYourPrize.text")," "),_(2),W("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),pn)("src",e.getFullImgPath("mission-completion.png"),pn),_(2),ie(" ",J(39,39,"challenges.howToPlay.xTournament.challengeCompletion.title")," "),_(3),ie(" ",J(42,41,"challenges.howToPlay.xTournament.challengeCompletion.text")," "),_(3),ie(" ",J(45,43,"challenges.howToPlay.xTournament.Join the xTournament, play your best, and aim to be one of the winners. Good luck on your xTournament!")," "),_(3),ie(" ",J(48,45,"challenges.howToPlay.xTournament.Detailed rules")," ")}}jh.\u0275fac=function(t){return new(t||jh)(Z(Ir),Z(wp),Z(zn),Z(Ws),Z(hs))},jh.\u0275cmp=_t({type:jh,selectors:[["app-mission-rules"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"rules"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"task-note"],[1,"prizes"],[1,"task-name"],[1,"task-description"],[4,"ngIf"]],template:function(t,e){1&t&&(vt(0,0),te(1,lAe,90,81,"ng-container",1),te(2,dAe,84,75,"ng-container",1),te(3,fAe,75,66,"ng-container",1),yt()),2&t&&(W("ngSwitch",e.challengeConfig.typeUi),_(1),W("ngSwitchCase",e.ChallengeTypeUI.RACE),_(1),W("ngSwitchCase",e.ChallengeTypeUI.MISSION),_(1),W("ngSwitchCase",e.ChallengeTypeUI.TOURNAMENT))},directives:[Ko,Ts,Kn,zt],pipes:[Jt,pr],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:24px 8px 0}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;padding-bottom:16px;font-size:20px;font-weight:500;line-height:24px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;padding-bottom:0}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ffde5c;font-weight:600;padding-top:16px;padding-bottom:8px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:400}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-note[_ngcontent-%COMP%]{font-weight:400;padding-top:16px}"],changeDetection:0}),jh=qe([si()],jh);let Jp=class{constructor(t,e,i){this.activeModal=t,this.modal=e,this.challenge=i,this.ChallengeTypeUI=Ji}ngOnInit(){this.challenge.updateState$.pipe(cn(t=>!t.isChallengeAvailable),Gt(this)).subscribe(()=>this.close())}getFullImgPath(t){return"assets/images/engagement-tools/"+t}getSrcSet(t,e,i){return`${this.getFullImgPath(t)}, ${this.getFullImgPath(e)} 2x, ${this.getFullImgPath(i)} 3x`}showMissionRules(){this.modal.open(jh)}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}};Jp.\u0275fac=function(t){return new(t||Jp)(Z(Ir),Z(Mh),Z(hs))},Jp.\u0275cmp=_t({type:Jp,selectors:[["app-how-it-works"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-start"],["draggable","false","alt","join",1,"img","img-join",3,"srcset","src"],[1,"step-description"],["draggable","false","alt","progress",1,"img","img-progress",3,"srcset","src"],["draggable","false","alt","big-prize",1,"img","img-prize",3,"srcset","src"],["draggable","false","alt","mission-completion",1,"img","img-mission-completion",3,"srcset","src"],[1,"outro"],[1,"btn-link","text-center",3,"click"]],template:function(t,e){1&t&&(vt(0,0),te(1,pAe,49,47,"ng-container",1),te(2,gAe,49,47,"ng-container",1),te(3,_Ae,49,47,"ng-container",1),yt()),2&t&&(W("ngSwitch",e.challengeConfig.typeUi),_(1),W("ngSwitchCase",e.ChallengeTypeUI.RACE),_(1),W("ngSwitchCase",e.ChallengeTypeUI.MISSION),_(1),W("ngSwitchCase",e.ChallengeTypeUI.TOURNAMENT))},directives:[Ko,Ts],pipes:[Jt],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-style:normal;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   .outro[_ngcontent-%COMP%]{padding:8px 8px 24px}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;padding:24px 8px 16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-weight:400;padding:0 8px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:28px;margin-bottom:8px;color:#ffde5c;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:normal;color:#ffde5c;cursor:pointer}"]}),Jp=qe([si()],Jp);let VY=(()=>{class n{constructor(e){this.modalService=e}openHowToPlayModal(){this.modalService.open(Jp)}}return n.\u0275fac=function(e){return new(e||n)(Z(Mh))},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-get-more-info"]],decls:8,vars:6,consts:[[1,"challenge-get-more-info"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.openHowToPlayModal()}),I(5,"span",2),Y(6),K(7,"transloco"),R()()()),2&e&&(_(2),ie(" ",J(3,2,"challenges.Get more information on participating:")," "),_(4),dt(J(7,4,"challenges.How to play")))},pipes:[Jt],styles:["[_nghost-%COMP%]{width:100%}.challenge-get-more-info[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function mAe(n,t){1&n&&ye(0,"img",14)}function vAe(n,t){1&n&&ye(0,"img",15)}function yAe(n,t){if(1&n&&(I(0,"span",16)(1,"span",17),Y(2),K(3,"number"),R(),Y(4),K(5,"transloco"),R()),2&n){const e=oe().$implicit,i=oe().ngIf;let r;_(2),ie(" ",nn(3,2,null!==(r=i.prizeUpdate.left)&&void 0!==r?r:e.left,"1.0-1")," "),_(2),ie(" ",J(5,5,"challenges.Left")," ")}}function bAe(n,t){if(1&n&&(vt(0),Y(1),yt()),2&n){const e=oe().$implicit;_(1),ie(" ",e.name," ")}}function SAe(n,t){1&n&&(vt(0),Y(1),K(2,"transloco"),yt()),2&n&&(_(1),ie(" ",J(2,1,"challenges.Freebet")," "))}function CAe(n,t){if(1&n&&(vt(0),Y(1),yt()),2&n){const e=oe().$implicit;_(1),ie(" ",e.description," ")}}function EAe(n,t){if(1&n&&(vt(0),Y(1),K(2,"currencyPrecision"),yt()),2&n){const e=oe().$implicit,i=oe(2);_(1),Hn(" ",J(2,2,e.cost)," ",i.currency," ")}}function TAe(n,t){if(1&n&&(I(0,"div",6),te(1,mAe,1,0,"img",7),te(2,vAe,1,0,"img",8),I(3,"div",9),te(4,yAe,6,7,"span",10),I(5,"span",11),te(6,bAe,2,1,"ng-container",12),te(7,SAe,3,3,"ng-container",12),R(),I(8,"span",13),te(9,CAe,2,1,"ng-container",12),te(10,EAe,3,4,"ng-container",12),R()()()),2&n){const e=t.$implicit,i=oe(2);_(1),W("ngIf",e.type===i.PrizeType.FreeBet),_(1),W("ngIf",e.type===i.PrizeType.Special),_(2),W("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),_(2),W("ngIf",e.type===i.PrizeType.Special),_(1),W("ngIf",e.type===i.PrizeType.FreeBet),_(2),W("ngIf",e.type===i.PrizeType.Special),_(1),W("ngIf",e.type===i.PrizeType.FreeBet)}}function wAe(n,t){if(1&n&&(I(0,"div",1)(1,"div",2)(2,"span",3),Y(3),K(4,"transloco"),R()(),I(5,"div",4),te(6,TAe,11,7,"div",5),R()()),2&n){const e=t.ngIf;_(3),dt(J(4,2,"challenges.Prizes")),_(3),W("ngForOf",e.prizeItemsUpdate)}}let MAe=(()=>{class n{constructor(e){this.prize=e,this.challengeType=Ji.RACE,this.isNetwork=!1,this.data$=xu({prizeUpdate:this.prize.update$,prizeItemsUpdate:this.prize.updateItems$}),this.PrizeType=Vc,this.ChallengeTypeUI=Ji}}return n.\u0275fac=function(e){return new(e||n)(Z(J0))},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-prizes"]],inputs:{currency:"currency",challengeType:"challengeType",isNetwork:"isNetwork"},decls:2,vars:3,consts:[["class","challenge-prizes",4,"ngIf"],[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["class","prize-card",4,"ngFor","ngForOf"],[1,"prize-card"],["draggable","false","class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["draggable","false","class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-left",4,"ngIf"],[1,"card-title"],[4,"ngIf"],[1,"card-description"],["draggable","false","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["draggable","false","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-left"],[1,"amount"]],template:function(e,i){1&e&&(te(0,wAe,7,4,"div",0),K(1,"async")),2&e&&W("ngIf",J(1,1,i.data$))},directives:[zt,Kn],pipes:[pr,Jt,Ju,zn],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px;height:160px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;height:32px;padding:4px 12px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:10px;font-weight:400;line-height:normal;padding:0 4px;width:100%;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),n})();const zY=function(n){return{challenge:n}};let WY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-info-other"]],inputs:{type:"type",startDate:"startDate",endDate:"endDate",minBet:"minBet",currency:"currency",currencyPrecision:"currencyPrecision"},decls:29,vars:38,consts:[[1,"challenge-info-other"],[1,"info-header"],[1,"title"],[1,"info-body"],[1,"info-row","row-start"],[1,"info-row-title"],[1,"info-row-value"],[1,"info-row","row-end"],[1,"info-row","row-min-bet"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"span",2),Y(3),K(4,"transloco"),R()(),I(5,"div",3)(6,"div",4)(7,"span",5),Y(8),K(9,"transloco"),R(),I(10,"span",6),Y(11),K(12,"date"),K(13,"date"),R()(),I(14,"div",7)(15,"span",5),Y(16),K(17,"transloco"),R(),I(18,"span",6),Y(19),K(20,"date"),K(21,"date"),R()(),I(22,"div",8)(23,"span",5),Y(24),K(25,"transloco"),R(),I(26,"span",6),Y(27),K(28,"currencyPrecision"),R()()()()),2&e&&(_(3),dt(J(4,10,"challenges.Other Information")),_(5),dt(nn(9,12,"challenges.challenge starts:",Ii(34,zY,i.type))),_(3),Hn("",nn(12,15,i.startDate,"HH:mm"),", ",nn(13,18,i.startDate,"dd.MM.yy"),""),_(5),dt(nn(17,21,"challenges.challenge ends:",Ii(36,zY,i.type))),_(3),Hn("",nn(20,24,i.endDate,"HH:mm"),", ",nn(21,27,i.endDate,"dd.MM.yy"),""),_(5),dt(J(25,30,"challenges.Min. Bet:")),_(3),Hn("",J(28,32,i.minBet)," ",i.currency,""))},pipes:[Jt,al,zn],styles:['[_nghost-%COMP%]{width:100%}.challenge-info-other[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;height:40px;padding:8px;border-bottom:1px solid #242424}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400;line-height:normal;padding-left:32px;padding-right:10px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{display:block;position:absolute;top:8px;left:8px;width:24px;height:24px;content:""}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:14px;font-weight:500;line-height:normal}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-start[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-calendar-yellow.7f1faa1091045c98.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-end[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-finish-yellow.732b6280285c8694.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-min-bet[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-coin-yellow.b00af567e5f6fc2c.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),YY=(()=>{class n{constructor(e){this.modalService=e}openRulesModal(){this.modalService.open(jh)}}return n.\u0275fac=function(e){return new(e||n)(Z(Mh))},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-disclaimer"]],decls:8,vars:6,consts:[[1,"challenge-disclaimer"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.openRulesModal()}),I(5,"span",2),Y(6),K(7,"transloco"),R()()()),2&e&&(_(2),ie(" ",J(3,2,"challenges.By joining the event, you are agreeing to the:")," "),_(4),dt(J(7,4,"challenges.Detailed rules")))},pipes:[Jt],styles:["[_nghost-%COMP%]{width:100%}.challenge-disclaimer[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function OAe(n,t){if(1&n&&(ye(0,"app-challenge-message",17),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].waitForStart))}}function PAe(n,t){if(1&n&&(ye(0,"app-challenge-message",17),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionPaused))}}function xAe(n,t){if(1&n&&(ye(0,"app-challenge-message",17),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].prizeClaimed))}}function IAe(n,t){if(1&n&&(ye(0,"app-challenge-message",17),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverSuccess))}}function AAe(n,t){if(1&n&&(ye(0,"app-challenge-message",17),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverFail))}}function DAe(n,t){if(1&n&&(ye(0,"app-challenge-message",18),K(1,"transloco")),2&n){const e=oe(2);W("message",nn(1,2,e.challengeMessages[e.challengeConfig.typeUi].minBetError,e.nameParams))("isError",!0)}}function RAe(n,t){if(1&n){const e=Ot();I(0,"button",19),Be("click",function(){return Tt(e),oe(2).joinToMission()}),I(1,"span"),Y(2),K(3,"transloco"),R()()}if(2&n){const e=oe(2);Lt("no-ticket-blocked",e.challengeConfig.isTicketBased&&!e.ticketsService.hasActiveTicket(e.challengeConfig.challengeId)),W("disabled",e.waitingForResponse.join),_(2),ie(" ",J(3,4,"challenges.action.Join"),"")}}function NAe(n,t){1&n&&(I(0,"div",20),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"challenges.Joining the Challenge requires Ticket")," "))}function kAe(n,t){if(1&n){const e=Ot();I(0,"button",21),Be("click",function(){return Tt(e),oe(2).takePrize()}),ye(1,"span",22),Y(2),K(3,"transloco"),R()}2&n&&(W("disabled",oe(2).waitingForResponse.takePrize),_(2),ie(" ",J(3,2,"challenges.action.Take my Prize")," "))}function LAe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",1),ye(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),I(4,"button",4),Be("click",function(){return Tt(e),oe().close()}),ye(5,"span",5),R()(),I(6,"div",6),ye(7,"app-challenge-info-main",7),te(8,OAe,2,3,"app-challenge-message",8),te(9,PAe,2,3,"app-challenge-message",8),te(10,xAe,2,3,"app-challenge-message",8),te(11,IAe,2,3,"app-challenge-message",8),te(12,AAe,2,3,"app-challenge-message",8),te(13,DAe,2,5,"app-challenge-message",9),I(14,"div",10),te(15,RAe,4,6,"button",11),te(16,NAe,3,3,"div",12),te(17,kAe,4,4,"button",13),R(),ye(18,"app-challenge-tasks",14)(19,"app-challenge-get-more-info")(20,"app-challenge-prizes",15)(21,"app-challenge-info-other",16)(22,"app-challenge-disclaimer"),R(),yt()}if(2&n){const e=t.ngIf,i=oe();_(2),W("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("userCount",e.challengeStateUpdate.joinCount)("isMinBetError",e.hasMinBetError),_(1),W("title",i.challengeConfig.name),_(4),W("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("progress",e.taskUpdate.totalProgress)("isChallengeStarted",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengePaused",e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",e.statusUpdate.challenge===i.ChallengeStatus.Finished)("isProgressEnabled",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Finished&&(e.statusUpdate.player===i.playerStatus.Won||e.statusUpdate.player===i.playerStatus.Rewarded))("isError",e.hasMinBetError)("backgroundImage",i.challengeConfig.backgroundImage),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Announced),_(1),W("ngIf",e.statusUpdate.challenge===i.ChallengeStatus.Paused&&e.statusUpdate.player!==i.playerStatus.Rewarded&&e.statusUpdate.player!==i.playerStatus.Won),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge!==i.ChallengeStatus.Finished),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),_(1),W("ngIf",e.hasMinBetError),_(2),W("ngIf",e.statusUpdate.player===i.playerStatus.None&&(e.statusUpdate.challenge===i.ChallengeStatus.Announced||e.statusUpdate.challenge===i.ChallengeStatus.Active)),_(1),W("ngIf",i.challengeConfig.isTicketBased&&e.statusUpdate.player===i.playerStatus.None),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Won&&e.statusUpdate.challenge!==i.ChallengeStatus.Paused),_(1),W("challengeType",i.challengeConfig.typeUi)("tasks",e.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",e.statusUpdate.player)("challengeStatus",e.statusUpdate.challenge)("isError",e.hasMinBetError),_(2),W("currency",i.challengeConfig.currency)("challengeType",i.challengeConfig.typeUi)("isNetwork",i.challengeConfig.isNetwork),_(1),W("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let Zp=class{constructor(t,e,i,r,o,s,a,l,c,u,d){this.stomp=t,this.activeModal=e,this.cd=i,this.status=r,this.task=o,this.prize=s,this.challenge=a,this.minBetError=l,this.leaderboard=c,this.currencyPrecisionPipe=u,this.ticketsService=d,this.data$=xu({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,hasMinBetError:this.minBetError.update$}),this.challengeMessages=FY,this.ChallengeStatus=Ar,this.playerStatus=nr,this.PrizeType=Vc,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===Vc.FreeBet)}get challengeConfig(){return this.challenge.config}ngOnInit(){this.nameParams={amount:this.currencyPrecisionPipe.transform(this.challenge.config.minBet),currency:this.challenge.config.currency},this.challenge.config.type===bd.RACE&&this.leaderboard.sendRequestLeaderboard(),this.challenge.updateState$.pipe(cn(t=>!t.isChallengeAvailable),Gt(this)).subscribe(()=>this.close()),this.stomp.response(hi.TakePrize).pipe(cn(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(hi.Join).pipe(cn(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){_s.registerPlugin(yr),_s.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),_s.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(ds.Join,{challengeId:this.challenge.config.challengeId})}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(ds.TakePrize,{challengeId:this.challenge.config.challengeId})}};function FAe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),ie(". ",nn(2,1,"challenges.tasks.xTournament.Min. bet",e.nameParams),"")}}Zp.\u0275fac=function(t){return new(t||Zp)(Z(Ta),Z(Ir),Z(Rn),Z(Mp),Z(wp),Z(J0),Z(hs),Z(Cb),Z(q0),Z(zn),Z(K0))},Zp.\u0275cmp=_t({type:Zp,selectors:[["app-mission-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","progress","isChallengeStarted","isChallengePaused","isChallengeFinished","isProgressEnabled","isError","backgroundImage"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"no-ticket-blocked","disabled","click",4,"ngIf"],["class","text",4,"ngIf"],["type","button","class","btn btn-get-prize",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isError"],[3,"currency","challengeType","isNetwork"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],[1,"text"],["type","button",1,"btn","btn-get-prize",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(te(0,LAe,23,40,"ng-container",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.data$))},directives:[zt,BY,UY,jY,GY,rAe,VY,MAe,WY,YY],pipes:[pr,Jt],styles:['[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;--modal-header-border-bottom: transparent;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:100%;z-index:1;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;max-width:100%;height:48px;border-radius:64px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:inline-block;margin-right:4px;width:12px;height:16px;background:url(lock.80791627cb026754.svg) no-repeat center;background-size:contain}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#a3a3a3;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;line-height:16px;padding-top:10px}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}'],changeDetection:0}),Zp=qe([si()],Zp);let BAe=(()=>{class n{constructor(e,i,r){this.currencyPrecisionPipe=e,this.multiplierPrecisionPipe=i,this.challenge=r}get iconGroupName(){return oAe[this.task.type]}get pointsConversionGroup(){return HY[this.task.type]}get nameParams(){var e;return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(this.task.targetMinMultiplier),pointsConversionFactor:this.formattedPointsConversionFactor(null!==(e=this.task.pointsConversionFactor)&&void 0!==e?e:1)}}formattedPointsConversionFactor(e){switch(this.pointsConversionGroup){case Ia.Money:return this.currencyPrecisionPipe.transform(e);case Ia.Multiplier:return this.multiplierPrecisionPipe.transform(e);default:return e}}}return n.\u0275fac=function(e){return new(e||n)(Z(zn),Z(Ws),Z(hs))},n.\u0275cmp=_t({type:n,selectors:[["app-task-tournament"]],inputs:{task:"task",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:8,vars:6,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"div",1),I(2,"div",2)(3,"div",3)(4,"span"),Y(5),K(6,"transloco"),R(),te(7,FAe,3,4,"span",4),R()()()),2&e&&(_(1),W("ngClass",i.iconGroupName),_(4),ie(" ",nn(6,3,"challenges.tasks.xTournament."+i.task.type,i.nameParams),""),_(2),W("ngIf",!!i.nameParams.minBet))},directives:[Xo,zt],pipes:[Jt],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .catch-highest-x[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}"],changeDetection:0}),n})();function UAe(n,t){if(1&n&&(I(0,"li",9),ye(1,"app-task-tournament",10),R()),2&n){const e=t.$implicit,i=t.index,r=oe();_(1),Zv("task-item-",i,""),W("task",e)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}function jAe(n,t){if(1&n&&ye(0,"app-tournament-statistics",11),2&n){const e=oe();W("position",e.position)("isLeaderboardLoaded",e.isLeaderboardLoaded)("playerStatus",e.playerStatus)("pointsScored",e.pointsScored)}}let GAe=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.isLeaderboardLoaded=!1,this.PlayerStatus=nr,this.ChallengeStatus=Ar,this.ChallengeTypeUI=Ji}get visiblePosition(){return this.challengeStatus===Ar.Announced?"-":this.position}showLeaderboard(){this.modalService.open(Nu,zc.Players)}}return n.\u0275fac=function(e){return new(e||n)(Z(Mh))},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-tasks-tournament"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType",isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",position:"position"},decls:13,vars:9,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"disabled","click"],[1,"button-text"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored",4,"ngIf"],[1,"task"],[3,"task","isProgressEnabled","isError"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"span",2),Y(3),K(4,"transloco"),R(),I(5,"button",3),Be("click",function(){return i.showLeaderboard()}),I(6,"span",4),Y(7),K(8,"transloco"),R()()(),I(9,"div",5)(10,"ul",6),te(11,UAe,2,6,"li",7),R(),te(12,jAe,1,4,"app-tournament-statistics",8),R()()),2&e&&(_(3),dt(J(4,5,"challenges.Tasks")),_(2),W("disabled",!i.isLeaderboardLoaded),_(2),dt(J(8,7,"challenges.Leaderboard")),_(4),W("ngForOf",i.tasks),_(1),W("ngIf",i.playerStatus===i.PlayerStatus.Joined||i.playerStatus===i.PlayerStatus.Won||i.playerStatus===i.PlayerStatus.Rewarded))},directives:[Kn,BAe,zt,Rz],pipes:[Jt],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})(),$Y=(()=>{class n{constructor(e){this.el=e,this.config={}}ngAfterViewInit(){Object.assign(this.el.nativeElement,this.config),this.el.nativeElement.initialize()}}return n.\u0275fac=function(e){return new(e||n)(Z(zi))},n.\u0275dir=$t({type:n,selectors:[["","appSwiper",""]],inputs:{config:"config"}}),n})();function HAe(n,t){1&n&&ye(0,"img",15)}function VAe(n,t){1&n&&ye(0,"img",16)}function zAe(n,t){if(1&n&&(I(0,"div",17),ye(1,"span"),I(2,"span"),Y(3),K(4,"transloco"),R()()),2&n){const e=oe().index;_(1),Zv("icon-place icon-place-",e+1,""),_(2),dt(J(4,4,"challenges.Place"))}}function WAe(n,t){if(1&n&&(vt(0),Y(1),yt()),2&n){const e=oe().$implicit;_(1),ie(" ",e.name," ")}}function YAe(n,t){1&n&&(vt(0),Y(1),K(2,"transloco"),yt()),2&n&&(_(1),ie(" ",J(2,1,"challenges.Freebet")," "))}function $Ae(n,t){if(1&n&&(vt(0),Y(1),yt()),2&n){const e=oe().$implicit;_(1),ie(" ",e.description," ")}}function XAe(n,t){if(1&n&&(vt(0),Y(1),K(2,"currencyPrecision"),yt()),2&n){const e=oe().$implicit,i=oe();_(1),Hn(" ",J(2,2,e.cost)," ",i.currency," ")}}function KAe(n,t){if(1&n&&(I(0,"swiper-slide")(1,"div",8),te(2,HAe,1,0,"img",9),te(3,VAe,1,0,"img",10),I(4,"div",11),te(5,zAe,5,6,"div",12),I(6,"span",13),te(7,WAe,2,1,"ng-container",7),te(8,YAe,3,3,"ng-container",7),R(),I(9,"span",14),te(10,$Ae,2,1,"ng-container",7),te(11,XAe,3,4,"ng-container",7),R()()()()),2&n){const e=t.$implicit,i=t.index,r=oe();_(2),W("ngIf",e.type===r.PrizeType.FreeBet),_(1),W("ngIf",e.type===r.PrizeType.Special),_(2),W("ngIf",i<3),_(2),W("ngIf",e.type===r.PrizeType.Special),_(1),W("ngIf",e.type===r.PrizeType.FreeBet),_(2),W("ngIf",e.type===r.PrizeType.Special),_(1),W("ngIf",e.type===r.PrizeType.FreeBet)}}function qAe(n,t){if(1&n){const e=Ot();I(0,"swiper-slide")(1,"div",18)(2,"span",2),Y(3),K(4,"transloco"),R(),I(5,"button",19),Be("click",function(){return Tt(e),oe().showAllPrizes()}),Y(6),K(7,"transloco"),R()()()}if(2&n){const e=oe();_(3),dt(J(4,3,"challenges.Prize pool")),_(2),W("disabled",!e.isLeaderboardLoaded),_(1),ie(" ",J(7,5,"challenges.Show all")," ")}}let JAe=(()=>{class n{constructor(e){this.modalService=e,this.isLeaderboardLoaded=!1,this.items=[],this.PrizeType=Vc}get swiperConfig(){return{slidesPerView:this.visiblePrizeItems.length>1?1.27:1,spaceBetween:8,injectStyles:["\n          :host {\n            --swiper-pagination-color: #FFDE5C;\n            --swiper-pagination-bullet-inactive-color: #242424;\n            --swiper-pagination-bullet-inactive-opacity: 1;\n            --swiper-pagination-bullet-horizontal-gap: 4px;\n          }\n\n          .swiper-pagination {\n            position: static;\n            height: 24px;\n          }\n        "],pagination:!0}}get visiblePrizeItems(){return this.items.slice(0,Math.min(this.items.length,3))}showAllPrizes(){this.modalService.open(Nu,zc.Prizes)}}return n.\u0275fac=function(e){return new(e||n)(Z(Mh))},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-prizes-tournament"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",items:"items",currency:"currency"},decls:10,vars:6,consts:[[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["appSwiper","","init","false",1,"swiper-prizes",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"prize-card"],["draggable","false","class","card-bg-image","srcSet","\n              assets/images/engagement-tools/prize-bg-freebet.png,\n              assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["draggable","false","class","card-bg-image","srcSet","\n              assets/images/engagement-tools/prize-bg-special.png,\n              assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-special@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-place",4,"ngIf"],[1,"card-title"],[1,"card-description"],["draggable","false","srcSet","\n              assets/images/engagement-tools/prize-bg-freebet.png,\n              assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["draggable","false","srcSet","\n              assets/images/engagement-tools/prize-bg-special.png,\n              assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-special@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-place"],[1,"prize-card-pool"],[1,"btn-link",3,"disabled","click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"span",2),Y(3),K(4,"transloco"),R()(),I(5,"div",3)(6,"swiper-container",4,5),te(8,KAe,12,7,"swiper-slide",6),te(9,qAe,8,7,"swiper-slide",7),R()()()),2&e&&(_(3),dt(J(4,4,"challenges.Prizes")),_(3),W("config",i.swiperConfig),_(2),W("ngForOf",i.visiblePrizeItems),_(1),W("ngIf",i.visiblePrizeItems.length<i.items.length))},directives:[$Y,Kn,zt],pipes:[Jt,zn],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;height:32px;padding:4px 12px 4px 4px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;min-width:24px;min-height:24px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-1[_ngcontent-%COMP%]{background-image:url(icon-place-1.223a4457cda4aa61.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-2[_ngcontent-%COMP%]{background-image:url(icon-place-2.c0e6c17ec93632e2.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-3[_ngcontent-%COMP%]{background-image:url(icon-place-3.e64054e966403194.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:10px;font-weight:400;line-height:normal;padding:0 4px;width:100%;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:160px;padding:12px;background:#1f1f1f;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),n})();function ZAe(n,t){if(1&n&&(ye(0,"app-challenge-message",16),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].waitForStart))}}function QAe(n,t){if(1&n&&(ye(0,"app-challenge-message",16),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionPaused))}}function eDe(n,t){if(1&n&&(ye(0,"app-challenge-message",16),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].prizeClaimed))}}function tDe(n,t){if(1&n&&(ye(0,"app-challenge-message",16),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverSuccess))}}function nDe(n,t){if(1&n&&(ye(0,"app-challenge-message",16),K(1,"transloco")),2&n){const e=oe(2);W("message",J(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverFail))}}function iDe(n,t){if(1&n&&(ye(0,"app-challenge-message",17),K(1,"transloco")),2&n){const e=oe(2);W("message",nn(1,2,e.challengeMessages[e.challengeConfig.typeUi].minBetError,e.nameParams))("isError",!0)}}function rDe(n,t){if(1&n){const e=Ot();I(0,"button",18),Be("click",function(){return Tt(e),oe(2).joinToMission()}),I(1,"span"),Y(2),K(3,"transloco"),R()()}if(2&n){const e=oe(2);Lt("no-ticket-blocked",e.challengeConfig.isTicketBased&&!e.ticketsService.hasActiveTicket(e.challengeConfig.challengeId)),W("disabled",e.waitingForResponse.join),_(2),ie(" ",J(3,4,"challenges.action.Join"),"")}}function oDe(n,t){1&n&&(I(0,"div",19),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"challenges.Joining the Challenge requires Ticket")," "))}function sDe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",1),ye(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),I(4,"button",4),Be("click",function(){return Tt(e),oe().close()}),ye(5,"span",5),R()(),I(6,"div",6),ye(7,"app-challenge-info-main",7),te(8,ZAe,2,3,"app-challenge-message",8),te(9,QAe,2,3,"app-challenge-message",8),te(10,eDe,2,3,"app-challenge-message",8),te(11,tDe,2,3,"app-challenge-message",8),te(12,nDe,2,3,"app-challenge-message",8),te(13,iDe,2,5,"app-challenge-message",9),I(14,"div",10),te(15,rDe,4,6,"button",11),te(16,oDe,3,3,"div",12),R(),ye(17,"app-challenge-tasks-tournament",13)(18,"app-challenge-get-more-info")(19,"app-challenge-prizes-tournament",14)(20,"app-challenge-info-other",15)(21,"app-challenge-disclaimer"),R(),yt()}if(2&n){const e=t.ngIf,i=oe();let r;_(2),W("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("userCount",e.challengeStateUpdate.joinCount)("isMinBetError",e.hasMinBetError),_(1),W("title",i.challengeConfig.name),_(4),W("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("isChallengeStarted",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",e.statusUpdate.challenge===i.ChallengeStatus.Finished)("isChallengePaused",e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isProgressEnabled",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Finished&&(e.statusUpdate.player===i.playerStatus.Won||e.statusUpdate.player===i.playerStatus.Rewarded))("isError",e.hasMinBetError)("backgroundImage",i.challengeConfig.backgroundImage),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Announced),_(1),W("ngIf",e.statusUpdate.challenge===i.ChallengeStatus.Paused&&e.statusUpdate.player!==i.playerStatus.Rewarded&&e.statusUpdate.player!==i.playerStatus.Won),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge!==i.ChallengeStatus.Finished),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),_(1),W("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),_(1),W("ngIf",e.hasMinBetError),_(2),W("ngIf",e.statusUpdate.player===i.playerStatus.None&&(e.statusUpdate.challenge===i.ChallengeStatus.Announced||e.statusUpdate.challenge===i.ChallengeStatus.Active)),_(1),W("ngIf",i.challengeConfig.isTicketBased&&e.statusUpdate.player===i.playerStatus.None),_(1),W("challengeType",i.challengeConfig.typeUi)("tasks",e.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",e.statusUpdate.player)("challengeStatus",e.statusUpdate.challenge)("isLeaderboardLoaded",e.isLeaderboardLoaded)("pointsScored",null!==(r=null==i.leaderboard.myItem?null:i.leaderboard.myItem.progress)&&void 0!==r?r:0)("position",i.leaderboard.myPosition)("isError",e.hasMinBetError),_(2),W("items",i.prizeItems)("currency",i.challengeConfig.currency)("isLeaderboardLoaded",e.isLeaderboardLoaded),_(1),W("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let Qp=class{constructor(t,e,i,r,o,s,a,l,c,u,d,f){this.app=t,this.stomp=e,this.activeModal=i,this.cd=r,this.status=o,this.task=s,this.prize=a,this.challenge=l,this.minBetError=c,this.leaderboard=u,this.currencyPrecisionPipe=d,this.ticketsService=f,this.data$=xu({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,prizeUpdate:this.prize.update$,hasMinBetError:this.minBetError.update$,isLeaderboardLoaded:this.leaderboard.loaded$}),this.challengeMessages=FY,this.ChallengeStatus=Ar,this.playerStatus=nr,this.PrizeType=Vc,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===Vc.FreeBet)}get challengeConfig(){return this.challenge.config}get prizeItems(){return this.prize.items}ngOnInit(){this.nameParams={amount:this.currencyPrecisionPipe.transform(this.challenge.config.minBet),currency:this.challenge.config.currency},this.leaderboard.sendRequestLeaderboard(),this.challenge.updateState$.pipe(cn(t=>!t.isChallengeAvailable),Gt(this)).subscribe(()=>this.close()),this.stomp.response(hi.TakePrize).pipe(cn(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(hi.Join).pipe(cn(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){_s.registerPlugin(yr),_s.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),_s.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(ds.Join,{challengeId:this.challenge.config.challengeId})}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(ds.TakePrize,{challengeId:this.challenge.config.challengeId})}};function aDe(n,t){if(1&n&&(vt(0),I(1,"span",2),Y(2),K(3,"number"),K(4,"number"),K(5,"number"),R(),yt()),2&n){const e=t.ngIf;_(2),d_(" ",nn(3,3,e.hours,"2.0"),":",nn(4,6,e.minutes,"2.0"),":",nn(5,9,e.seconds,"2.0")," ")}}Qp.\u0275fac=function(t){return new(t||Qp)(Z(Yi),Z(Ta),Z(Ir),Z(Rn),Z(Mp),Z(wp),Z(J0),Z(hs),Z(Cb),Z(q0),Z(zn),Z(K0))},Qp.\u0275cmp=_t({type:Qp,selectors:[["app-mission-details-tournament"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","isChallengeStarted","isChallengeFinished","isChallengePaused","isProgressEnabled","isError","backgroundImage"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"no-ticket-blocked","disabled","click",4,"ngIf"],["class","text",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isLeaderboardLoaded","pointsScored","position","isError"],[3,"items","currency","isLeaderboardLoaded"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],[1,"text"]],template:function(t,e){1&t&&(te(0,sDe,22,41,"ng-container",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.data$))},directives:[zt,BY,UY,jY,GY,GAe,VY,JAe,WY,YY],pipes:[pr,Jt],styles:['[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;--modal-header-border-bottom: transparent;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:100%;margin-bottom:24px;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;max-width:100%;height:48px;border-radius:64px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.no-ticket-blocked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";display:inline-block;margin-right:4px;width:12px;height:16px;background:url(lock.80791627cb026754.svg) no-repeat center;background-size:contain}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#a3a3a3;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;line-height:16px;padding-top:10px}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks-tournament[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes-tournament[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}'],changeDetection:0}),Qp=qe([si()],Qp);let Gh=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=qR(1e3).pipe(cp(0),Ae(()=>this.calcDateDiff()),Gt(this))}calcDateDiff(){const t=new Wi(this.startDate).minus(Date.now());if(t.lte(0))return{seconds:0,minutes:0,hours:0};const e=t.div(this.milSecInSec);return{hours:e.div(this.minInH*this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:e.div(this.secInMin).mod(this.minInH).floor().toNumber(),seconds:e.mod(this.secInMin).floor().toNumber()}}};function lDe(n,t){1&n&&os(0)}function cDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,lDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(7);_(1),W("status",e.ChallengeStatusUI.Upcoming),_(1),W("ngTemplateOutlet",i)}}function uDe(n,t){1&n&&os(0)}function dDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,uDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(7);_(1),W("status",e.ChallengeStatusUI.Live),_(1),W("ngTemplateOutlet",i)}}function hDe(n,t){1&n&&os(0)}function fDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,hDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Live),_(1),W("ngTemplateOutlet",i)}}function pDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5)(2,"app-upcoming-timer",7),yt()),2&n){const e=oe(2);_(1),W("status",e.ChallengeStatusUI.Waiting),_(1),W("startDate",e.startDate)}}function gDe(n,t){1&n&&os(0)}function _De(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,gDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(7);_(1),W("status",e.ChallengeStatusUI.Paused),_(1),W("ngTemplateOutlet",i)}}function mDe(n,t){1&n&&os(0)}function vDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,mDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Paused),_(1),W("ngTemplateOutlet",i)}}function yDe(n,t){1&n&&os(0)}function bDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,yDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done),_(1),W("ngTemplateOutlet",i)}}function SDe(n,t){1&n&&os(0)}function CDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,SDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished),_(1),W("ngTemplateOutlet",i)}}function EDe(n,t){1&n&&os(0)}function TDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,EDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Finished),_(1),W("ngTemplateOutlet",i)}}function wDe(n,t){1&n&&os(0)}function MDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,wDe,1,0,"ng-container",6),yt()),2&n){const e=oe(2),i=Ki(7);_(1),W("status",e.ChallengeStatusUI.Finished),_(1),W("ngTemplateOutlet",i)}}function ODe(n,t){if(1&n&&(vt(0),te(1,cDe,3,2,"ng-container",1),te(2,dDe,3,2,"ng-container",1),te(3,fDe,3,2,"ng-container",1),te(4,pDe,3,2,"ng-container",1),te(5,_De,3,2,"ng-container",1),te(6,vDe,3,2,"ng-container",1),te(7,bDe,3,2,"ng-container",1),te(8,CDe,3,2,"ng-container",1),te(9,TDe,3,2,"ng-container",1),te(10,MDe,3,2,"ng-container",1),yt()),2&n){const e=oe();_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.playerStatus===e.PlayerStatus.Won),_(1),W("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function PDe(n,t){1&n&&os(0)}function xDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",5),te(2,PDe,1,0,"ng-container",6),yt()),2&n){const e=oe(),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.MinBet),_(1),W("ngTemplateOutlet",i)}}function IDe(n,t){if(1&n&&(I(0,"div",8)(1,"span",9),Y(2),K(3,"currencyPrecision"),R(),I(4,"span",10),Y(5),K(6,"transloco"),R()()),2&n){const e=oe();_(2),dt(nn(3,2,e.totalProgress,2)),_(3),dt(J(6,5,"challenges.Scored"))}}function ADe(n,t){if(1&n&&(I(0,"div",8)(1,"span",9),Y(2),R(),I(3,"span",10),Y(4),R()()),2&n){const e=oe();_(2),ie("",e.ChallengeTypeUI.TOURNAMENT,":"),_(2),dt(e.challengeName)}}Gh.\u0275fac=function(t){return new(t||Gh)},Gh.\u0275cmp=_t({type:Gh,selectors:[["app-upcoming-timer"]],inputs:{startDate:"startDate"},decls:3,vars:3,consts:[[1,"timer-container"],[4,"ngIf"],[1,"timer-value"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,aDe,6,12,"ng-container",1),K(2,"async"),R()),2&t&&(_(1),W("ngIf",J(2,1,e.timeLeft$)))},directives:[zt],pipes:[pr,Ju],styles:[".timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{opacity:.8;text-align:center;font-size:14px;font-weight:500;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),Gh=qe([si()],Gh);let DDe=(()=>{class n{constructor(){this.challengeName="",this.challengeStatus=Ar.Announced,this.playerStatus=nr.None,this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=nr,this.ChallengeTypeUI=Ji,this.ChallengeStatusUI=Xp,this.ChallengeStatus=Ar}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-tournament-progress"]],inputs:{challengeName:"challengeName",challengeStatus:"challengeStatus",playerStatus:"playerStatus",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:8,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["tournamentProgress",""],["tournamentName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,ODe,11,10,"ng-container",1),te(2,xDe,3,2,"ng-container",1),ye(3,"div",2),te(4,IDe,7,7,"ng-template",null,3,Hs),te(6,ADe,5,2,"ng-template",null,4,Hs),R()),2&e&&(_(1),W("ngIf",!i.hasMinBetError),_(1),W("ngIf",i.hasMinBetError))},directives:[zt,KR,Kd,Gh],pipes:[zn,Jt],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500;overflow:hidden}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#fec223;min-width:32px;height:32px;border-radius:50%;box-shadow:4px 4px 25px #f6bc2080}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.2c74ba745c045ebf.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),RDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-progress-bar"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:2,vars:8,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"div",1),R()),2&e&&(_(1),Al("width",i.currentProgress+"%"),Lt("error",i.isError)("success",i.isSuccess)("live",i.isLive&&!i.isSuccess))},styles:["[_nghost-%COMP%]{width:100%}.bar-holder[_ngcontent-%COMP%]{background-color:#ffffff0d;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background:rgba(255,255,255,.1);transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.success[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.live[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.error[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}"],changeDetection:0}),n})(),NDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress"},decls:3,vars:1,consts:[[1,"progress-count","d-flex","align-items-center"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span"),Y(2),R()()),2&e&&(_(2),ie("",i.currentProgress.toFixed(2),"%"))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:normal;letter-spacing:-.35px;color:#e0e0e0;opacity:.8}"],changeDetection:0}),n})(),kDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-progress-indicator"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:3,vars:5,consts:[[1,"progress-indicator","d-flex","align-items-center","justify-content-between"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"currentProgress"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"app-progress-bar",1)(2,"app-progress-counter",2),R()),2&e&&(_(1),W("currentProgress",i.currentProgress)("isSuccess",i.isSuccess)("isError",i.isError)("isLive",i.isLive),_(1),W("currentProgress",i.currentProgress))},directives:[RDe,NDe],styles:["[_nghost-%COMP%]{flex-grow:1}.progress-indicator[_ngcontent-%COMP%]{padding:7px 21px 7px 16px;gap:13px;position:relative}"],changeDetection:0}),n})();function LDe(n,t){1&n&&os(0)}function FDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4),te(2,LDe,1,0,"ng-container",5),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Upcoming),_(1),W("ngTemplateOutlet",i)}}function BDe(n,t){1&n&&os(0)}function UDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4),te(2,BDe,1,0,"ng-container",5),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Live),_(1),W("ngTemplateOutlet",i)}}function jDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),yt()),2&n){const e=oe(2);_(1),W("status",e.ChallengeStatusUI.Live),_(1),W("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!0)}}function GDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-upcoming-timer",7),yt()),2&n){const e=oe(2);_(1),W("status",e.ChallengeStatusUI.Waiting),_(1),W("startDate",e.startDate)}}function HDe(n,t){1&n&&os(0)}function VDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4),te(2,HDe,1,0,"ng-container",5),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Paused),_(1),W("ngTemplateOutlet",i)}}function zDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),yt()),2&n){const e=oe(2);_(1),W("status",e.ChallengeStatusUI.Paused),_(1),W("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function WDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),yt()),2&n){const e=oe(2);_(1),W("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done),_(1),W("currentProgress",e.totalProgress)("isSuccess",e.challengeStatus!==e.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function YDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),yt()),2&n){const e=oe(2);_(1),W("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished),_(1),W("currentProgress",e.totalProgress)("isSuccess",e.challengeStatus!==e.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function $De(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),yt()),2&n){const e=oe(2);_(1),W("status",e.ChallengeStatusUI.Finished),_(1),W("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function XDe(n,t){1&n&&os(0)}function KDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4),te(2,XDe,1,0,"ng-container",5),yt()),2&n){const e=oe(2),i=Ki(5);_(1),W("status",e.ChallengeStatusUI.Finished),_(1),W("ngTemplateOutlet",i)}}function qDe(n,t){if(1&n&&(vt(0),te(1,FDe,3,2,"ng-container",1),te(2,UDe,3,2,"ng-container",1),te(3,jDe,3,5,"ng-container",1),te(4,GDe,3,2,"ng-container",1),te(5,VDe,3,2,"ng-container",1),te(6,zDe,3,5,"ng-container",1),te(7,WDe,3,5,"ng-container",1),te(8,YDe,3,5,"ng-container",1),te(9,$De,3,5,"ng-container",1),te(10,KDe,3,2,"ng-container",1),yt()),2&n){const e=oe();_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.playerStatus===e.PlayerStatus.Won),_(1),W("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),_(1),W("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function JDe(n,t){if(1&n&&(vt(0),ye(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),yt()),2&n){const e=oe();_(1),W("status",e.ChallengeStatusUI.MinBet),_(1),W("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!0)("isLive",!1)}}function ZDe(n,t){if(1&n&&(I(0,"div",8)(1,"span",9),Y(2),R(),I(3,"span",10),Y(4),R()()),2&n){const e=oe();_(2),ie("",e.challengeType,":"),_(2),dt(e.challengeName)}}let QDe=(()=>{class n{constructor(){this.challengeStatus=Ar.Announced,this.challengeType=Ji.RACE,this.playerStatus=nr.None,this.challengeName="",this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=nr,this.ChallengeTypeUI=Ji,this.ChallengeStatusUI=Xp,this.ChallengeStatus=Ar}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-challenge-progress"]],inputs:{challengeStatus:"challengeStatus",challengeType:"challengeType",playerStatus:"playerStatus",challengeName:"challengeName",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:6,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["missionName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(e,i){1&e&&(I(0,"div",0),te(1,qDe,11,10,"ng-container",1),te(2,JDe,3,5,"ng-container",1),ye(3,"div",2),te(4,ZDe,5,2,"ng-template",null,3,Hs),R()),2&e&&(_(1),W("ngIf",!i.hasMinBetError),_(1),W("ngIf",i.hasMinBetError))},directives:[zt,KR,Kd,kDe,Gh],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500;overflow:hidden}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#fec223;min-width:32px;height:32px;border-radius:50%;box-shadow:4px 4px 25px #f6bc2080}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.2c74ba745c045ebf.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function eRe(n,t){if(1&n&&ye(0,"app-tournament-progress",3),2&n){const e=oe().ngIf,i=oe();W("hasMinBetError",e.hasMinBetError)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("totalProgress",e.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function tRe(n,t){if(1&n&&ye(0,"app-challenge-progress",4),2&n){const e=oe().ngIf,i=oe();W("challengeType",i.challengeConfig.typeUi)("hasMinBetError",e.hasMinBetError)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("totalProgress",e.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function nRe(n,t){if(1&n&&(vt(0),te(1,eRe,1,6,"app-tournament-progress",1),te(2,tRe,1,7,"app-challenge-progress",2),yt()),2&n){const e=oe();_(1),W("ngIf",e.challengeConfig.typeUi===e.challengeTypeUI.TOURNAMENT),_(1),W("ngIf",e.challengeConfig.typeUi!==e.challengeTypeUI.TOURNAMENT)}}let iRe=(()=>{class n{constructor(e,i,r,o){this.task=e,this.minBetError=i,this.status=r,this.challenge=o,this.challengeTypeUI=Ji,this.data$=xu([this.task.update$,this.minBetError.update$,this.status.update$]).pipe(Ae(([s,a,l])=>({taskUpdate:s,hasMinBetError:a,statusUpdate:l})))}get challengeConfig(){return this.challenge.config}}return n.\u0275fac=function(e){return new(e||n)(Z(wp),Z(Cb),Z(Mp),Z(hs))},n.\u0275cmp=_t({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"]],template:function(e,i){1&e&&(te(0,nRe,3,2,"ng-container",0),K(1,"async")),2&e&&W("ngIf",J(1,1,i.data$))},directives:[zt,DDe,QDe],pipes:[pr],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();const rRe=["missionsContainerBorder"];let oRe=(()=>{class n{constructor(e,i,r){this.window=e,this.modalService=i,this.challenge=r,this.borderAnimation=_s.timeline({repeat:-1,repeatDelay:2})}ngOnInit(){this.window.manualEmitResizeEvent()}ngAfterViewInit(){this.startBorderAnimation()}showMissionDetails(){this.modalService.open(this.challenge.config.typeUi===Ji.TOURNAMENT?Qp:Zp)}startBorderAnimation(){_s.set(this.border.nativeElement,{x:"-50%",y:"-50%"}),this.borderAnimation.to(this.border.nativeElement,{opacity:1,duration:2}).to(this.border.nativeElement,{rotation:360,duration:4,ease:"power2.inOut"}).to(this.border.nativeElement,{opacity:0,duration:2})}ngOnDestroy(){this.borderAnimation.kill()}}return n.\u0275fac=function(e){return new(e||n)(Z(A0),Z(Mh),Z(hs))},n.\u0275cmp=_t({type:n,selectors:[["app-mission"]],viewQuery:function(e,i){if(1&e&&fo(rRe,5),2&e){let r;ii(r=ri())&&(i.border=r.first)}},decls:5,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"missions-container"],[1,"missions-container-border"],["missionsContainerBorder",""],[3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),ye(2,"div",2,3),I(4,"app-mission-progress",4),Be("click",function(){return i.showMissionDetails()}),R()()())},directives:[iRe],styles:["[_nghost-%COMP%]{display:block}.missions-container[_ngcontent-%COMP%]{position:relative;flex-grow:1;max-width:100%;border-radius:64px;padding:2px;overflow:hidden;isolation:isolate}.missions-container-border[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:105%;min-height:105%;padding-bottom:105%;transform-origin:center;background:linear-gradient(89.17deg,#da612d 2.96%,#de224e 25.65%,#8535b3 51.19%,#6847f0 76.53%,#34b4ff 97.53%);opacity:0}"],changeDetection:0}),n})();function sRe(n,t){1&n&&ye(0,"app-mission",1)}let eg=class{constructor(t,e,i,r,o,s,a,l,c,u,d){this.app=t,this.stomp=e,this.urlParams=i,this.cd=r,this.challengeService=o,this.chatFeatureService=s,this.userService=a,this.ifc=l,this.configService=c,this.gameConfig=u,this.ticketsService=d,this.connectorState=Hc,this.isChallengeInited=!1}ngOnInit(){this.stomp.response(hi.Init).pipe(Gt(this)).subscribe(e=>{var i;this.configService.init(e),this.isChallengeInited=!1,this.configService.isChallengesEnabled&&(this.ticketsService.init(),this.stomp.request(ds.ChallengeInit,null)),(null===(i=this.gameConfig.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)&&this.configService.isChatEnabled&&(this.chatFeatureService.enableChat(),this.stomp.request(ds.ChatInit,null)),!this.configService.isChallengesEnabled&&!this.configService.isChatEnabled&&this.stomp.stompClient.deactivate(),this.cd.detectChanges()}),this.stomp.response(hi.ChallengesInit).pipe(cn(e=>200===e.code),Gt(this)).subscribe(e=>{this.isChallengeInited=e.challenges.length>0,this.cd.detectChanges()}),this.stomp.response(hi.ChallengesAnnounce).pipe(Gt(this)).subscribe(e=>{this.isChallengeInited=!!e,this.cd.detectChanges()}),this.stomp.response(hi.BalanceUpdate).pipe(Gt(this)).subscribe(e=>{this.userService.balance=e.balance,this.ifc.send(vi.UpdateBalance,{amount:this.userService.balance})});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier,gameZone:this.app.clientConfig.ws.zone};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.engagementTools.host+"/api/v1/public/et-player-stomp",t,Object.values(hi))}};eg.\u0275fac=function(t){return new(t||eg)(Z(Yi),Z(Ta),Z(jl),Z(Rn),Z(hs),Z(pl),Z(Bc),Z(zs),Z(kz),Z(Yn),Z(K0))},eg.\u0275cmp=_t({type:eg,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[["class","my-1",4,"ngIf"],[1,"my-1"]],template:function(t,e){1&t&&(te(0,sRe,1,0,"app-mission",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.challengeService.updateState$).isChallengeAvailable&&e.isChallengeInited)},directives:[zt,oRe],pipes:[pr],encapsulation:2,changeDetection:0}),eg=qe([si()],eg);class JR{}const Ad="*";function ZR(n,t){return{type:7,name:n,definitions:t,options:{}}}function ov(n,t=null){return{type:4,styles:t,timings:n}}function XY(n,t=null){return{type:2,steps:n,options:t}}function qc(n){return{type:6,styles:n,offset:null}}function cRe(n,t,e){return{type:0,name:n,styles:t,options:e}}function Eb(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function KY(n){Promise.resolve(null).then(n)}class Tb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){KY(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qY{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?KY(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function hRe(n,t){if(1&n){const e=Ot();I(0,"div",5),Be("click",function(){const o=Tt(e).$implicit;return oe().mainService.checkFairness(o.roundId)}),Y(1),K(2,"multiplierPrecision"),R()}if(2&n){const e=t.$implicit;_(1),ie(" ",J(2,1,e.maxMultiplier),"x ")}}let fRe=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)(Z($r))},n.\u0275cmp=_t({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text"],[1,"payouts-block"],["class","payout","appColoredMultiplier","",3,"click",4,"ngFor","ngForOf"],["appColoredMultiplier","",1,"payout",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"div",2),Y(3),K(4,"transloco"),R()(),I(5,"div",3),te(6,hRe,3,3,"div",4),R()()),2&e&&(_(3),ie(" ",J(4,2,"shared.round_history")," "),_(3),W("ngForOf",i.history))},directives:[Kn,vd],pipes:[Jt,Ws],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;background:#1b1c1d;box-shadow:0 0 4px #141414e0,0 0 0 2px #2c2d3066;margin:0 4px;padding:4px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;font-size:14px;padding:4px 8px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#a3a3a3;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-style:normal;font-weight:500;line-height:normal;letter-spacing:-.18px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;font-size:12px;padding:2px 4px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:inline-block;height:100%;padding:2px 4px;margin-right:4px;margin-top:4px;cursor:pointer}"],changeDetection:0}),n})();const pRe=["payoutsBlock"];function gRe(n,t){if(1&n){const e=Ot();vt(0),I(1,"div",9),Be("click",function(){const o=Tt(e).$implicit;return oe().mainService.checkFairness(o.roundId)}),Y(2),K(3,"multiplierPrecision"),R(),yt()}if(2&n){const e=t.$implicit;_(2),ie(" ",J(3,1,e.maxMultiplier),"x ")}}let tg=class{constructor(t,e,i,r,o,s){this.statsService=t,this.mainService=e,this.connector=i,this.builder=r,this.cd=o,this.ifcGameService=s,this.history=[]}ngOnInit(){this.history=this.statsService.history,this.connector.response(xn.RoundChartInfo,200).pipe(Gt(this)).subscribe(t=>{this.history=[t,...this.history.slice(0,59)],this.animate()}),this.ifcGameService.receive$(Mr.AviaPortToggleGameMenu).pipe(Gt(this)).subscribe(()=>{this.dropdown.close()})}animate(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy(),this.cd.detectChanges();const i=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,r=this.builder.build([qc({transform:"scale(2)"}),ov("1s ease-in-out",qc({transform:"scale(1)"}))]),o=this.builder.build([qc({transform:`translateX(-${i}px)`}),ov("1s ease-in-out",qc({transform:"translate(0)"}))]);this.playerPayout=r.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=o.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}trackById(t,e){return e.roundId}ngOnDestroy(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy()}};function _Re(n,t){if(1&n&&(I(0,"div",14)(1,"div",6),Y(2),K(3,"transloco"),R(),I(4,"div",7)(5,"div",15),Y(6),R(),I(7,"div",16)(8,"div"),Y(9," ("),I(10,"span"),Y(11),K(12,"currencyPrecision"),R(),I(13,"span",17),Y(14),R(),Y(15,") "),R()()()()),2&n){const e=oe(2);_(2),ie(" ",J(3,4,"shared.ui-components.free-bet.Free bets available:")," "),_(4),ie(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),_(5),dt(J(12,6,e.freeBets.activeFreeBet.freeBetsBetAmount)),_(3),dt(e.gameConfig.currency)}}function mRe(n,t){if(1&n){const e=Ot();I(0,"div",18)(1,"div",19),Y(2),K(3,"transloco"),R(),I(4,"div",20),Be("click",function(){return Tt(e),oe(2).onFinishFreeBets()}),Y(5),K(6,"transloco"),R()()}if(2&n){const e=oe(2);_(2),ie(" ",J(3,4,"shared.ui-components.free-bet.All free bets spent!")," "),_(2),Lt("disabled",e.uiDisabled),_(1),ie(" ",J(6,6,"shared.claim")," ")}}function vRe(n,t){if(1&n&&(vt(0),I(1,"span",6),Y(2),K(3,"transloco"),R(),I(4,"span",21),Y(5),K(6,"multiplierPrecision"),R(),yt()),2&n){const e=oe(2);_(2),ie(" ",J(3,2,"shared.ui-components.free-bet.Minimum cashout multiplier:")," "),_(3),ie(" ",J(6,4,e.freeBets.activeFreeBet.freeBetsMinCashOut)," X ")}}function yRe(n,t){if(1&n){const e=Ot();I(0,"div",1)(1,"div",2),te(2,_Re,16,8,"div",3),te(3,mRe,7,8,"div",4),I(4,"div",5)(5,"div",6)(6,"span"),Y(7),K(8,"transloco"),R(),I(9,"span"),Y(10),R()(),I(11,"div",7)(12,"span"),Y(13),K(14,"currencyPrecision"),R()()()(),I(15,"div",8)(16,"div",9)(17,"div",10),te(18,vRe,7,6,"ng-container",11),R(),I(19,"div",12),Be("click",function(){return Tt(e),oe().onManagementClick()}),K(20,"async"),I(21,"span"),Y(22),K(23,"transloco"),R(),ye(24,"div",13),R()()()()}if(2&n){const e=oe();_(2),W("ngIf",!e.isSpent),_(1),W("ngIf",e.isSpent),_(4),dt(J(8,9,"shared.win")),_(3),ie(" ",e.gameConfig.currency,""),_(3),ie(" ",J(14,11,e.freeBets.activeFreeBet.freeBetsWinSum)," "),_(5),W("ngIf",e.isShowMinCashOut),_(1),Lt("disabled",J(20,13,e.betControl.betSetted$)||e.uiDisabled),_(3),dt(J(23,15,"shared.ui-components.free-bet.Manage"))}}tg.\u0275fac=function(t){return new(t||tg)(Z(yV),Z($r),Z(qi),Z(JR),Z(Rn),Z(zs))},tg.\u0275cmp=_t({type:tg,selectors:[["app-stats-widget"]],viewQuery:function(t,e){if(1&t&&(fo(pRe,7),fo(Th,5)),2&t){let i;ii(i=ri())&&(e.payoutsBlock=i.first),ii(i=ri())&&(e.dropdown=i.first)}},decls:9,vars:3,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"button-icon"],["ngbDropdownMenu","",3,"history"],["appColoredMultiplier","",1,"payout",3,"click"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2,3),te(4,gRe,4,3,"ng-container",4),R()(),I(5,"div",5)(6,"div",6),ye(7,"div",7),R()(),ye(8,"app-stats-dropdown",8),R()),2&t&&(_(4),W("ngForOf",e.history)("ngForTrackBy",e.trackById),_(4),W("history",e.history))},directives:[Th,Kn,vd,HD,fRe,dT],pipes:[Ws],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;height:32px;width:100%;padding:4px;border-radius:16px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;padding:0 4px;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;padding:2px 4px;position:relative;z-index:1;cursor:pointer;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:12px;font-weight:500;letter-spacing:-.18px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{margin:0 4px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;height:16px;padding:0 4px;border-radius:32px;background:#2c2d30;z-index:1;cursor:pointer;box-shadow:-4px 0 10px 10px #0e0e0e}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:16px;height:16px;background:url(show-more-icon.fdfdd113d7f9573e.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001;box-shadow:unset}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{background:url(close-icon.877b06e232871c85.svg) no-repeat center center/contain}.dropdown-menu.show[_ngcontent-%COMP%]{width:100%;background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-24px 0 0 4px;padding:0;overflow:visible}"],changeDetection:0}),tg=qe([si()],tg);let ng=class{constructor(t,e,i,r,o,s){this.gameConfig=t,this.mainService=e,this.freeBets=i,this.betControl=r,this.cd=o,this.sound=s,this.uiDisabled=!1,this.freeBets.onActivate$.pipe(Gt(this)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onUpdate$.pipe(Gt(this)).subscribe(()=>{this.cd.markForCheck()})}get isSpent(){var t,e;return void 0===(null===(t=this.freeBets.activeFreeBet)||void 0===t?void 0:t.canClaim)?0===(null===(e=this.freeBets.activeFreeBet)||void 0===e?void 0:e.freeBetsLeft):0===this.freeBets.activeFreeBet.freeBetsLeft&&this.freeBets.activeFreeBet.canClaim}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.sound.play(Is.FreeBet),this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){const t=this.freeBets.activeFreeBet;return!!t&&t.freeBetsMinCashOut>1.01}};ng.\u0275fac=function(t){return new(t||ng)(Z(Yn),Z($r),Z(Iu),Z(Au),Z(Rn),Z(mh))},ng.\u0275cmp=_t({type:ng,selectors:[["app-free-bet"]],decls:1,vars:1,consts:[["class","free-bet-wrapper",4,"ngIf"],[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],[1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&te(0,yRe,25,17,"div",0),2&t&&W("ngIf",e.freeBets.activeFreeBet)},directives:[zt],pipes:[Jt,zn,Ws,pr],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:350px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px;margin-left:4px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.99e164c2610ba4ce.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b3ac02b635f537c6.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"],changeDetection:0}),ng=qe([si()],ng);var Hh,JY,ow,oc,Mb,ZY,eN,lw,Ob,wb=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(wb||(wb={})),wb))(),QY=function(){return"undefined"!=typeof window},e$=function(){return Hh||QY()&&(Hh=window.gsap)&&Hh.registerPlugin&&Hh},t$=function(t){return"function"==typeof t},CRe=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],sc=.212671,ac=.71516,lc=.072169,sw=function(t,e){var s,a,i=[],r=0;for(s=0;s<4;s++){for(a=0;a<5;a++)i[r+a]=t[r]*e[a]+t[r+1]*e[a+5]+t[r+2]*e[a+10]+t[r+3]*e[a+15]+(4===a?t[r+4]:0);r+=5}return i},n$=function(t,e){var i=1-e,r=i*sc,o=i*ac,s=i*lc;return sw([r+e,o,s,0,0,r,o+e,s,0,0,r,o,s+e,0,0,0,0,0,1,0],t)},i$=function(t,e,i){var r=ow(e),o=r[0]/255,s=r[1]/255,a=r[2]/255,l=1-i;return sw([l+i*o*sc,i*o*ac,i*o*lc,0,0,i*s*sc,l+i*s*ac,i*s*lc,0,0,i*a*sc,i*a*ac,l+i*a*lc,0,0,0,0,0,1,0],t)},r$=function(t,e){e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return sw([sc+i*(1-sc)+r*-sc,ac+i*-ac+r*-ac,lc+i*-lc+r*(1-lc),0,0,sc+i*-sc+.143*r,ac+i*(1-ac)+.14*r,lc+i*-lc+-.283*r,0,0,sc+i*-sc+r*-(1-sc),ac+i*-ac+r*ac,lc+i*(1-lc)+r*lc,0,0,0,0,0,1,0,0,0,0,0,1],t)},o$=function(t,e){return sw([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},s$=function(t,e){var s,i=oc.filters[e],r=t.filters||[],o=r.length;for(i||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(r[o]instanceof i)return r[o];return s=new i,"BlurFilter"===e&&(s.blur=0),r.push(s),t.filters=r,s},vs=function(t,e,i,r){e.add(i,t,i[t],r[t]),e._props.push(t)},a$=function(t,e){var i=new oc.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},yl={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},TRe=function(t,e,i){var a,l,c,r=s$(t,"ColorMatrixFilter"),o=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,e={};for(i in t)e[i]=t[i];return e}(yl),s=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((c=r.matrix,e.resolution&&(r.resolution=e.resolution),e.matrix&&e.matrix.length===c.length?(l=e.matrix,1!==o.contrast&&vs("contrast",i,o,yl),o.hue&&vs("hue",i,o,yl),1!==o.brightness&&vs("brightness",i,o,yl),o.colorizeAmount&&(vs("colorize",i,o,yl),vs("colorizeAmount",i,o,yl)),1!==o.saturation&&vs("saturation",i,o,yl)):(l=CRe.slice(),null!=e.contrast?(l=o$(l,+e.contrast),vs("contrast",i,o,e)):1!==o.contrast&&(s?l=o$(l,o.contrast):vs("contrast",i,o,yl)),null!=e.hue?(l=r$(l,+e.hue),vs("hue",i,o,e)):o.hue&&(s?l=r$(l,o.hue):vs("hue",i,o,yl)),null!=e.brightness?(l=a$(+e.brightness,l),vs("brightness",i,o,e)):1!==o.brightness&&(s?l=a$(o.brightness,l):vs("brightness",i,o,yl)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=i$(l,e.colorize,e.colorizeAmount),vs("colorize",i,o,e),vs("colorizeAmount",i,o,e)):o.colorizeAmount&&(s?l=i$(l,o.colorize,o.colorizeAmount):(vs("colorize",i,o,yl),vs("colorizeAmount",i,o,yl))),null!=e.saturation?(l=n$(l,+e.saturation),vs("saturation",i,o,e)):1!==o.saturation&&(s?l=n$(l,o.saturation):vs("saturation",i,o,yl))),a=l.length);--a>-1;)l[a]!==c[a]&&i.add(c,a,c[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},wRe=function(t,e){var o=e.color;(0,e.set)(e.t,e.p,o[0]<<16|o[1]<<8|o[2])},MRe=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},ORe=function(t,e){e.t.visible=!!e.t.alpha},l$=function(t,e,i,r){var o=t[e],s=ow(t$(o)?t[e.indexOf("set")||!t$(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():o),a=ow(i);r._pt=new Mb(r._pt,t,e,0,0,wRe,{t,p:e,color:s,set:ZY(t,e)}),r.add(s,0,s[0],a[0]),r.add(s,1,s[1],a[1]),r.add(s,2,s[2],a[2])},PRe={tint:1,lineColor:1,fillColor:1},c$="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),tN={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},xRe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},aw=Math.PI/180,u$=function(t){return"string"==typeof t},IRe=function(t){return u$(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*aw:t*aw},ARe=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},DRe=function(t,e,i,r,o,s){var p,T,a=360*(s?aw:1),l=u$(o),c=l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0,u=parseFloat(c?o.substr(2):o)*(s?aw:1),d=c?u*c:u-r,f=r+d;return l&&("short"===(p=o.split("_")[1])&&(d%=a)!=d%(a/2)&&(d+=d<0?a:-a),"cw"===p&&d<0?d=(d+1e10*a)%a-~~(d/a)*a:"ccw"===p&&d>0&&(d=(d-1e10*a)%a-~~(d/a)*a)),t._pt=T=new Mb(t._pt,e,i,r,d,ARe),T.e=f,T},d$=function(){QY()&&(JY=window,Hh=e$(),eN=(oc=oc||JY.PIXI)&&oc.VERSION&&"4"===oc.VERSION.charAt(0),ow=function(e){return Hh.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(lw=0;lw<c$.length;lw++)tN[(Ob=c$[lw])+"X"]=Ob,tN[Ob+"Y"]=Ob;var nN={version:"3.9.1",name:"pixi",register:function(t,e,i){Hh=t,Mb=i,ZY=e.getSetter,d$()},registerPIXI:function(t){oc=t},init:function(t,e,i,r,o){if(oc||d$(),!(oc&&t instanceof oc.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var s,a,l,c,u,d,f,p,T;for(d in e){if(l=e[d],s=tN[d])a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[s],a,t[s][a],"skew"===s?IRe(l):l);else if("scale"===d||"anchor"===d||"pivot"===d||"tileScale"===d)this.add(t[d],"x",t[d].x,l),this.add(t[d],"y",t[d].y,l);else if("rotation"===d||"angle"===d)DRe(this,t,d,t[d],l,"rotation"===d);else if(xRe[d])c||(TRe(t,e.colorMatrixFilter||e,this),c=!0);else if("blur"===d||"blurX"===d||"blurY"===d||"blurPadding"===d){if(u=s$(t,"BlurFilter"),this.add(u,d,u[d],l),0!==e.blurPadding)for(f=e.blurPadding||2*Math.max(u[d],l),p=t.filters.length;--p>-1;)t.filters[p].padding=Math.max(t.filters[p].padding,f)}else if(PRe[d])if(("lineColor"===d||"fillColor"===d)&&t instanceof oc.Graphics)for(T=(t.geometry||t).graphicsData,this._pt=new Mb(this._pt,t,d,0,0,MRe,{g:t.geometry||t}),p=T.length;--p>-1;)l$(eN?T[p]:T[p][d.substr(0,4)+"Style"],eN?d:"color",l,this);else l$(t,d,l,this);else"autoAlpha"===d?(this._pt=new Mb(this._pt,t,"visible",0,0,ORe),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==d&&this.add(t,d,"get",l);this._props.push(d)}}};e$()&&Hh.registerPlugin(nN);var Jc=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(Jc||(Jc={})),Jc))();let ys=(()=>{class n{static init(){_s.registerPlugin(nN),nN.registerPIXI(Ke)}static isTweening(e){return _s.isTweening(e)}static killTweensOf(e){_s.killTweensOf(e)}}return n.gsap=_s,n})();class cw{constructor(t,e,i=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,i):this.createApp(e,i)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new Br,this.zone.runOutsideAngular(()=>{ys.gsap.ticker.fps(e),ys.gsap.ticker.add(this.__render)})}createApp(t,e){ys.init(),mj();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=un.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{cw._app=new o0(Object.assign(Object.assign({},i),{resizeTo:t})),this.app.ticker.stop(),ys.gsap.ticker.fps(e),ys.gsap.ticker.add(this.__render)})}get app(){return cw._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){ys.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class RRe extends Br{constructor(){super(),this.isAnimation=!0,this.circle=new xs(un.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=_s.to(this.circle,{duration:36,angle:360,repeat:-1,ease:Jc.None}),this.tween.pause()}resize(){this.y=Wn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(Wn.appWidth,Wn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){ys.killTweensOf(this.circle),super.destroy()}}class NRe extends Br{constructor(){super(),this.curve=new Wl,this.gradient=new Wl,this.MARGIN_LEFT=24,this.MARGIN_BOTTOM=16,this.CURVE_WIDTH=4,this.CURVE_COLOR=ma("#f00b3e"),this.GRADIENT_COLOR=ma("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=ys.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=ys.gsap.timeline();const t=[];for(let e=0;e<4;e++)t.push(un.from(`plane-${e}`));this.plane=new w7(t),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){ys.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:Wn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:Jc.None};_s.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=Wn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:Jc.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:Jc.Power1_easeInOut,duration:this.MOUNT_TIME},0),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:Jc.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.MARGIN_LEFT,this.startPoint.y=Wn.appHeight-this.MARGIN_BOTTOM,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(Wn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(Wn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,ys.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}function h$(n,t){const i=Object.assign(Object.assign({},{fontFamily:"Inter",fontSize:12,fill:16777215,align:"center"}),t);return new d0(n,i)}var Dd=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(Dd||(Dd={})),Dd))();class kRe extends Br{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=ma("#ffffff"),this.COEFFICIENT_END_COLOR=ma("#d0021b"),this.COEFFICIENT_SIZE={[yi.sm]:68,[yi.md]:78,[yi.lg]:100},this.FLEW_AWAY_SIZE={[yi.sm]:20,[yi.md]:26,[yi.lg]:36},this.coefficient=new g0("1.00x",{fontName:Dd.Multiplier,fontSize:this.COEFFICIENT_SIZE[Wn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=h$(this.translate.translate("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[Wn.breakpoint],fontFamily:fd.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=gS(t,"en_US","1.2-2");this.coefficient.text=e+"x",this.coefficient.x=Wn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[Wn.breakpoint],this.coefficient.x=Wn.appWidth/2-this.coefficient.width/2,this.coefficient.y=Wn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[Wn.breakpoint],this.flewAway.x=Wn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class Vh extends Br{constructor(){super(),this.interval=100,this.icon=new xs(un.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new g0("00:00:00",{fontName:Dd.General,tint:ma("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());Vh.startTime||(Vh.startTime=t,Vh.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-Vh.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-Vh.startTime),Vh.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),r=Math.floor(t/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class LRe extends Br{constructor(){super(),this.interval=1e3,this.icon=new xs(un.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new g0(this.getTime(new Date),{fontName:Dd.General,tint:ma("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),qR(this.interval).pipe(Gt(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),i=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class FRe extends Br{constructor(t){super(),this.multiplier=t,this.blur=new xs(un.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(yh.Low),ys.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){ys.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),ys.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&ys.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!ys.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){ys.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=Wn.appWidth/this.blur.getLocalBounds().width,this.scale.y=Wn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),ys.killTweensOf(this.blur)}}class BRe extends Br{constructor(t,e,i){super(),this.netSessionService=t,this.gameConfig=e,this.currencyPrecisionPipe=i,this.icon=new xs(un.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new g0("",{fontName:Dd.General,tint:ma("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(Gt(this,"destroy")).subscribe(r=>this.onChangeNet(r))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${this.currencyPrecisionPipe.transform(t)} ${this.gameConfig.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class URe extends Br{constructor(){super(),this.centerContainer=new Br,this.timerContainer=new Br,this.PARTNERS_LOGO_HEIGHT={[yi.sm]:59,[yi.md]:59,[yi.lg]:118},this.PARTNERS_LOGO_WIDTH={[yi.sm]:150,[yi.md]:150,[yi.lg]:300},this.OFFICIAL_HEIGHT=74,this.OFFICIAL_WIDTH=106,this.OFFICIAL_MARGIN_TOP={[yi.sm]:8,[yi.md]:8,[yi.lg]:16},this.timeoutRef=0,this.TIMER_HEIGHT=4,this.TIMER_WIDTH=200,this.TIMER_RADIUS=4,this.TIMER_COLOR=ma("#262830"),this.TIMER_BAR_COLOR=ma("#e50539"),this.TIMER_MARGIN_TOP={[yi.sm]:8,[yi.md]:8,[yi.lg]:16},this.visible=!1,this.addChild(this.centerContainer),this.partnersLogo=new xs(un.from("partners-logo")),this.partnersLogo.anchor.x=.5,this.centerContainer.addChild(this.partnersLogo),this.centerContainer.addChild(this.timerContainer),this.timer=new Wl,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.timerContainer.addChild(this.timer),this.timerBar=new Wl,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.timerContainer.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.timerBar.mask=this.timerBarMask,this.timerBarTween=_s.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH}`,ease:Jc.None}),this.timerContainer.addChild(this.timerBarMask),this.official=new xs(un.from("official")),this.official.anchor.x=.5,this.official.width=this.OFFICIAL_WIDTH,this.official.height=this.OFFICIAL_HEIGHT,this.centerContainer.addChild(this.official),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.timerBarTween.pause(0)}resize(){this.partnersLogo.width=this.PARTNERS_LOGO_WIDTH[Wn.breakpoint],this.partnersLogo.height=this.PARTNERS_LOGO_HEIGHT[Wn.breakpoint],this.timer.x=this.timerBar.x=this.timerBarMask.x=0,this.timer.y=this.timerBar.y=this.timerBarMask.y=this.partnersLogo.y+this.partnersLogo.height+this.TIMER_MARGIN_TOP[Wn.breakpoint],this.timerContainer.pivot.x=this.timerContainer.width/2,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play(),this.official.y=this.timer.y+this.timer.height+this.OFFICIAL_MARGIN_TOP[Wn.breakpoint],this.centerContainer.x=Wn.appWidth/2,this.centerContainer.y=Wn.appHeight/2-this.centerContainer.height/2}destroy(){clearTimeout(this.timeoutRef),this.timerBarTween.kill(),super.destroy()}}class jRe extends Br{constructor(t){super(),this.translate=t,this.PROP_SIZE={[yi.sm]:50,[yi.md]:90,[yi.lg]:120},this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE={[yi.sm]:20,[yi.md]:26,[yi.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT={[yi.sm]:4,[yi.md]:6,[yi.lg]:8},this.TIMER_WIDTH={[yi.sm]:100,[yi.md]:150,[yi.lg]:200},this.TIMER_RADIUS=4,this.TIMER_COLOR=ma("#262830"),this.TIMER_BAR_COLOR=ma("#e50539"),this.visible=!1,this.prop=new xs(un.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=_s.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:Jc.None}),this.propTween.pause(),this.textWaiting=h$(this.translate.translate("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[Wn.breakpoint],fontFamily:fd.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new Wl,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[Wn.breakpoint],this.TIMER_HEIGHT[Wn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new Wl,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[Wn.breakpoint],this.TIMER_HEIGHT[Wn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.addChild(this.timerBarMask),this.timerBar.mask=this.timerBarMask,this.timerBarTween=_s.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH[Wn.breakpoint]}`,ease:Jc.None}),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[Wn.breakpoint],this.timer.width=this.timerBar.width=this.timerBarMask.width=this.TIMER_WIDTH[Wn.breakpoint],this.timer.height=this.timerBar.height=this.timerBarMask.height=this.TIMER_HEIGHT[Wn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[Wn.breakpoint],this.prop.x=Wn.appWidth/2,this.prop.y=Wn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=Wn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP;const e=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP;this.timer.x=this.timerBar.x=this.timerBarMask.x=Wn.appWidth/2-this.timer.width/2,this.timer.y=this.timerBar.y=this.timerBarMask.y=e,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play()}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}class GRe extends cw{constructor(t,e,i,r,o,s,a){super(e,t),this.el=t,this.zone=e,this.gameConfig=i,this.multiplierService=r,this.translateService=o,this.netSessionService=s,this.currencyPrecisionPipe=a,Wn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new RRe,this.background.y=Wn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new FRe(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.graph=new NRe,this.stage.addChild(this.graph),this.betTimer=this.gameConfig.isBetTimerBranded?new URe:new jRe(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new kRe(this.translateService),this.stage.addChild(this.multiplier),this.gameConfig.isLoginTimer&&(this.loginTimer=new Vh,this.stage.addChild(this.loginTimer)),this.gameConfig.isClockVisible&&(this.clock=new LRe,this.stage.addChild(this.clock)),this.gameConfig.isNetSessionEnabled&&(this.netSession=new BRe(this.netSessionService,this.gameConfig,this.currencyPrecisionPipe),this.stage.addChild(this.netSession))}setupBitmapFonts(){ud.from(Dd.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:fd.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution});try{this.setupMultiplierFont(100)}catch(t){this.setupMultiplierFont(80)}}setupMultiplierFont(t){ud.from(Dd.Multiplier,{fontSize:t,fontWeight:"700",fill:16777215,fontFamily:fd.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.graph.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),Wn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=10),this.netSession&&(this.netSession.x=Wn.appWidth/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=Wn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}let f$=(()=>{class n{constructor(){this.amount=0,this.changedSubject=new Jn(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=new Wi(this.amount).plus(e).toNumber(),this.changedSubject.next(this.amount)}minus(e){this.amount=new Wi(this.amount).minus(e).toNumber(),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HRe(n,t){if(1&n&&(I(0,"div",2),ye(1,"app-top-player-avatars",3),I(2,"div",4),Y(3),K(4,"number"),R()()),2&n){const e=oe().ngIf;_(1),W("topPlayerProfileImages",e.topPlayerProfileImages),_(2),ie(" ",nn(4,2,e.activePlayersCount,"1.0-0")," ")}}function VRe(n,t){if(1&n&&(vt(0),te(1,HRe,5,5,"div",1),yt()),2&n){const e=t.ngIf;_(1),W("ngIf",e.activePlayersCount>0)}}let zRe=(()=>{class n{constructor(e,i){this.app=e,this.playersActivityService=i}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi),Z(Bz))},n.\u0275cmp=_t({type:n,selectors:[["app-active-players-widget"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","wrapper",4,"ngIf"],[1,"wrapper"],[3,"topPlayerProfileImages"],[1,"player-count"]],template:function(e,i){1&e&&(te(0,VRe,2,1,"ng-container",0),K(1,"async")),2&e&&W("ngIf",J(1,1,i.playersActivityService.activePlayersCounter$))},directives:[zt,Uz],pipes:[pr,Ju],styles:[".wrapper[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;right:8px;bottom:8px;height:32px;border-radius:16px;padding:4px;background:#29292980}.wrapper[_ngcontent-%COMP%]   .player-count[_ngcontent-%COMP%]{font-weight:500;font-size:12px;padding-left:8px;padding-right:4px}"],changeDetection:0}),n})();const WRe=["stageCanvas"];function YRe(n,t){1&n&&(I(0,"div",6),Y(1,"FUN MODE"),R())}function $Re(n,t){1&n&&ye(0,"app-active-players-widget")}let ig=class{constructor(t,e,i,r,o,s,a,l,c,u,d){this.zone=t,this.app=e,this.gameConfig=i,this.user=r,this.mainService=o,this.multiplier=s,this.translate=a,this.netSessionService=l,this.renderer=c,this.window=u,this.currencyPrecisionPipe=d,this.webglContextLost=new vn}ngAfterViewInit(){this.canvasId=Date.now(),function pSe(n){as({type:"canvas",level:"debug",data:{action:"canvas.init",canvasId:n}})}(this.canvasId),this.canvas=new GRe(this.stageCanvasRef.nativeElement,this.zone,this.gameConfig,this.multiplier,this.translate,this.netSessionService,this.currencyPrecisionPipe),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(Va(50),Gt(this)).subscribe(()=>this.onResize()),this.mainService.getState().pipe(Gt(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(Gt(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.multiplier.data$.pipe(Gt(this)).subscribe(t=>{this.canvas.updateMultiplier(t.currentMultiplier)}),this.subscribeToCanvasWebGlContextLost()}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.gameConfig.fullBetTime).then(()=>{this.mainService.emitEvent(wb.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){var t;(function _Se(n){as({type:"canvas",level:"debug",data:{action:"canvas.destroy",canvasId:n}})})(this.canvasId),null===(t=this.canvas)||void 0===t||t.destroy()}subscribeToCanvasWebGlContextLost(){Li(this.canvas.view,"webglcontextlost").pipe(Gt(this)).subscribe(()=>{this.webglContextLost.emit()})}onResize(){!function gSe(n){as({type:"canvas",level:"debug",data:{action:"canvas.resize",canvasId:n}})}(this.canvasId);try{this.canvas.resize()}catch(t){!function mSe(n,t){yy(new Error("Canvas resizing error"),{level:"error",extra:{originalError:n,data:{canvasId:t}}})}(t,this.canvasId)}}};ig.\u0275fac=function(t){return new(t||ig)(Z(Ti),Z(Yi),Z(Yn),Z(Bc),Z($r),Z($E),Z(ip),Z(f$),Z(ol),Z(A0),Z(zn))},ig.\u0275cmp=_t({type:ig,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&fo(WRe,5),2&t){let i;ii(i=ri())&&(e.stageCanvasRef=i.first)}},outputs:{webglContextLost:"webglContextLost"},decls:6,vars:2,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(I(0,"div",0),ye(1,"div",1,2),I(3,"div",3),te(4,YRe,2,0,"div",4),R()(),te(5,$Re,1,0,"app-active-players-widget",5)),2&t&&(_(4),W("ngIf",e.app.isFunMode),_(1),W("ngIf",e.gameConfig.isShowActivePlayersWidget))},directives:[zt,zRe],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),ig=qe([si()],ig);var zh=(()=>(function(n){n.bet="bet",n.auto="auto"}(zh||(zh={})),zh))();const XRe=["inputfield"],KRe=function(n){return{minus:!0,"ui-state-disabled":n}};function qRe(n,t){if(1&n){const e=Ot();I(0,"button",8),Be("mousedown",function(){return Tt(e),oe().startSpinTimer(-1)})("mouseleave",function(){return Tt(e),oe().clearSpinTimer()})("mouseup",function(){return Tt(e),oe().clearSpinTimer()}),R()}if(2&n){const e=oe();W("ngClass",Ii(3,KRe,e.disabled))("disabled",e.disabled),Ei("readonly",e.readonly)}}function JRe(n,t){1&n&&ye(0,"div",9),2&n&&Lt("disabled",oe().disabled)}const ZRe=function(n){return{plus:!0,"ui-state-disabled":n}};function QRe(n,t){if(1&n){const e=Ot();I(0,"button",10),Be("mousedown",function(){return Tt(e),oe().startSpinTimer(1)})("mouseleave",function(){return Tt(e),oe().clearSpinTimer()})("mouseup",function(){return Tt(e),oe().clearSpinTimer()}),R()}if(2&n){const e=oe();W("ngClass",Ii(3,ZRe,e.disabled))("disabled",e.disabled),Ei("readonly",e.readonly)}}const eNe=function(n){return{"full-width":n}};let uw=(()=>{class n{constructor(e){this.gameConfig=e,this.step=1,this.type="text",this.enableButtons=!0,this.showX=!1,this.size="big",this.decimalSeparator=".",this.thousandSeparator=",",this.value=0,this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.precision=2}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,i){let r=null!=i?i:500;this.clearTimer(),this.timer$=bu(r).subscribe(()=>this.repeat(e,40)),this.spin(e)}spin(e){var i,r;let s=this.value||0;this.value=new Wi(s+this.step*e).clamp(null!==(i=this.min)&&void 0!==i?i:0,null!==(r=this.max)&&void 0!==r?r:this.gameConfig.maxUserWin).toDecimalPlaces(this.precision).toNumber(),void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=s),this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}startSpinTimer(e){this.disabled||this.repeat(e)}clearSpinTimer(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(1),e.preventDefault()):40==e.which&&(this.spin(-1),e.preventDefault())}onInput(e){const i=e,r=i.target,o=r.selectionEnd?r.selectionEnd:r.value.length;let s=r.value;if("insertText"===i.inputType){if(("."===i.data||","===i.data)&&(this.valueAsString.includes(".")||","===s[o-2]||","===s[o]))return r.value=this.valueAsString,void r.setSelectionRange(o-1,o-1);const a=/[\d\.]/;if(i.data&&!a.test(i.data)){if(","!==i.data)return r.value=this.valueAsString,void r.setSelectionRange(o-1,o-1);s=s.split("").map((l,c)=>c===o-1?".":l).join("")}}else s=this.getValidStringInput(s);r.value=s,r.setSelectionRange(o,o),this.valueAsString=s,this.onModelChange(this.value)}getValidStringInput(e){return e=this.removeNonDecimalNumericCharacters(e),e=this.replaceMultipleDotsInARowWithOne(e),e=this.replaceMultipleCommasInARowWithOne(e),e=this.removeExtraDots(e),this.replaceSingleCommaWithDot(e)}removeNonDecimalNumericCharacters(e){const i=/[\d\.,]/;return e.split("").filter(r=>i.test(r)).join("")}replaceMultipleDotsInARowWithOne(e){return e.replace(/\.{2,}/g,".")}replaceMultipleCommasInARowWithOne(e){return e.replace(/,{2,}/g,",")}removeExtraDots(e){const i=e.split(".");return i.length>1&&(i[0]+="."),i.join("")}replaceCommasWithDot(e){return e.replace(/,/g,".")}replaceSingleCommaWithDot(e){const i=(e.match(/,/g)||[]).length,r=(e.match(/[.]/g)||[]).length;return 1===i&&0===r?this.replaceCommasWithDot(e):e}onInputBlur(){this.onModelTouched(),this.setFormattedValuesFrom(this.valueAsString),this.onModelChange(this.value)}parseNumericValue(e){if(!(e=e.split(this.thousandSeparator).join("").trim()))return 0;let i=this.precision?parseFloat(e.replace(",",".")):parseInt(e);return isNaN(i)?0:i}setFormattedValuesFrom(e){var i,r,o,s;if(null==e)return;let a=e;"string"==typeof e&&(a=null!==(r=null!==(i=this.parseNumericValue(e))&&void 0!==i?i:this.min)&&void 0!==r?r:0);try{this.value=new Wi(a).clamp(null!==(o=this.min)&&void 0!==o?o:0,null!==(s=this.max)&&void 0!==s?s:this.gameConfig.maxUserWin).toDP(this.precision).toNumber()}catch(u){yy(new Error("An error occurred in setFormattedValuesFrom while formatting the numeric value"),{level:"error",extra:{originalError:u.message,problematicValue:{max:this.max,min:this.min,maxUserWin:this.gameConfig.maxUserWin,value:a,precision:this.precision}}})}let l=new Wi(this.value).toFixed(this.precision).replace(".",this.decimalSeparator);const c=l.split(this.decimalSeparator);c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),l=c.join(this.decimalSeparator),this.valueAsString=l,this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-spinner"]],viewQuery:function(e,i){if(1&e&&fo(XRe,7),2&e){let r;ii(r=ri())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",type:"type",required:"required",enableButtons:"enableButtons",showX:"showX",formatPrecision:"formatPrecision",size:"size"},features:[ni([{provide:qs,useExisting:de(()=>n),multi:!0}])],decls:9,vars:17,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],["inputmode","decimal",3,"value","disabled","input","keydown","blur"],["inputfield",""],["class","text icon-x",3,"disabled",4,"ngIf"],["tabindex","-1","type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"],[1,"text","icon-x"],["tabindex","-1","type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),te(2,qRe,1,5,"button",2),R(),I(3,"div",3)(4,"input",4,5),Be("input",function(o){return i.onInput(o)})("keydown",function(o){return i.onInputKeydown(o)})("blur",function(){return i.onInputBlur()}),R()(),te(6,JRe,1,2,"div",6),I(7,"div",1),te(8,QRe,1,5,"button",7),R()()),2&e&&(W("ngClass",i.size),_(2),W("ngIf",i.enableButtons),_(1),W("ngClass",Ii(15,eNe,!i.enableButtons)),_(1),W("value",i.valueAsString)("disabled",i.disabled),Ei("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),_(2),W("ngIf",i.showX),_(2),W("ngIf",i.enableButtons))},directives:[Xo,zt],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:32px;background-color:#141516;font-weight:600;font-size:inherit;line-height:1;padding:4px}.spinner.small[_ngcontent-%COMP%]{padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#ccc;text-align:center;padding:0;font-weight:600;letter-spacing:inherit}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.icon-x[_ngcontent-%COMP%]{width:24px;height:24px;background:url(x.ac037e32dac19981.svg) no-repeat center right}.spinner[_ngcontent-%COMP%]   .text.icon-x.disabled[_ngcontent-%COMP%]{opacity:.5}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;min-width:24px;min-height:24px;color:#000000b3;text-align:center;line-height:16px;font-weight:600}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background:#2c2d30 url(plus-grey.5bf167adc606b769.svg) no-repeat center center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background:#2c2d30 url(minus-grey.337d79958d035ae8.svg) no-repeat center center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function tNe(n,t){if(1&n){const e=Ot();I(0,"div",19),Y(1),K(2,"transloco"),I(3,"button",20),Be("click",function(){return Tt(e),oe().hideErrorMessage()}),I(4,"span"),Y(5,"\xd7"),R()()()}if(2&n){const e=oe();_(1),ie(" ",J(2,1,"shared.ui-components.toastr.toastr-message."+e.errorMessage)," ")}}function nNe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",21),Be("click",function(){const o=Tt(e).$implicit;return oe().activeBetsAmount=o}),Y(2),R(),yt()}if(2&n){const e=t.$implicit,i=oe();_(1),Lt("active",i.activeBetsAmount===e),_(1),ie(" ",e," ")}}let iNe=(()=>{class n{constructor(e,i,r){this.gameConfig=e,this.activeModal=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0}closeModal(e=!1){var i;let r;if(this.hideErrorMessage(),e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if((null===(i=this.gameConfig.autoBetOptions)||void 0===i?void 0:i.decreaseOrExceedStopPointReq)&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");r={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(r)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}hideErrorMessage(){this.errorMessage=void 0}reset(){this.activeBetsAmount=void 0,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.hideErrorMessage()}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn),Z(Ir),Z(Rn))},n.\u0275cmp=_t({type:n,selectors:[["app-auto-play"]],decls:49,vars:65,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],[1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],[1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],[1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],[1,"btn","btn-lg","btn-success","start-btn",3,"click"],[1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"button",1),Be("click",function(){return i.closeModal()}),I(5,"span"),Y(6,"\xd7"),R()()(),I(7,"div",2),te(8,tNe,6,3,"div",3),I(9,"div",4)(10,"div",5)(11,"div",6)(12,"span"),Y(13),K(14,"transloco"),R(),I(15,"div",7),te(16,nNe,3,3,"ng-container",8),R()(),I(17,"div",9)(18,"app-ui-switcher",10),Be("ngModelChange",function(o){return i.decreaseStopPoint.active=o})("toggle",function(){return i.decreaseStopPoint.value=0}),R(),I(19,"span",11),Y(20),K(21,"transloco"),R(),I(22,"app-spinner",12),Be("ngModelChange",function(o){return i.decreaseStopPoint.value=o}),R(),I(23,"span",13),Y(24),R()(),I(25,"div",9)(26,"app-ui-switcher",10),Be("ngModelChange",function(o){return i.increaseStopPoint.active=o})("toggle",function(){return i.increaseStopPoint.value=0}),R(),I(27,"span",11),Y(28),K(29,"transloco"),R(),I(30,"app-spinner",12),Be("ngModelChange",function(o){return i.increaseStopPoint.value=o}),R(),I(31,"span",13),Y(32),R()(),I(33,"div",9)(34,"app-ui-switcher",10),Be("ngModelChange",function(o){return i.exceedStopPoint.active=o})("toggle",function(){return i.exceedStopPoint.value=0}),R(),I(35,"span",14),Y(36),K(37,"transloco"),R(),I(38,"app-spinner",12),Be("ngModelChange",function(o){return i.exceedStopPoint.value=o}),R(),I(39,"span",13),Y(40),R()()()()(),I(41,"div",15)(42,"div",16)(43,"button",17),Be("click",function(){return i.reset()}),Y(44),K(45,"transloco"),R(),I(46,"button",18),Be("click",function(){return i.closeModal(!0)}),Y(47),K(48,"transloco"),R()()()),2&e&&(_(2),dt(J(3,51,"game.bet-controls.auto-play.Auto play options")),_(6),W("ngIf",i.errorMessage),_(5),dt(J(14,53,"game.bet-controls.auto-play.Number of Rounds:")),_(3),W("ngForOf",null==i.gameConfig.autoBetOptions?null:i.gameConfig.autoBetOptions.numberOfRounds),_(2),W("ngModel",i.decreaseStopPoint.active),_(1),Lt("disabled",!i.decreaseStopPoint.active),_(1),ie(" ",J(21,55,"game.bet-controls.auto-play.Stop if cash decreases by")," "),_(2),Lt("long-precision",i.gameConfig.isLongPrecision),W("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.gameConfig.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.gameConfig.betPrecision),_(1),Lt("disabled",!i.decreaseStopPoint.active),_(1),ie(" ",i.gameConfig.currency," "),_(2),W("ngModel",i.increaseStopPoint.active),_(1),Lt("disabled",!i.increaseStopPoint.active),_(1),ie(" ",J(29,57,"game.bet-controls.auto-play.Stop if cash increases by")," "),_(2),Lt("long-precision",i.gameConfig.isLongPrecision),W("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.gameConfig.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.gameConfig.betPrecision),_(1),Lt("disabled",!i.increaseStopPoint.active),_(1),ie(" ",i.gameConfig.currency," "),_(2),W("ngModel",i.exceedStopPoint.active),_(1),Lt("disabled",!i.exceedStopPoint.active),_(1),ie(" ",J(37,59,"game.bet-controls.auto-play.Stop if single win exceeds")," "),_(2),Lt("long-precision",i.gameConfig.isLongPrecision),W("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.gameConfig.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.gameConfig.betPrecision),_(1),Lt("disabled",!i.exceedStopPoint.active),_(1),ie(" ",i.gameConfig.currency," "),_(4),ie(" ",J(45,61,"game.bet-controls.auto-play.Reset")," "),_(3),ie(" ",J(48,63,"game.bet-controls.auto-play.Start")," "))},directives:[zt,Kn,X0,ba,Zs,uw],pipes:[Jt],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:16px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-body[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})();const rNe=["winAmount"],oNe=["autoBetSwitcher"],sNe=["betSwitcher"],aNe=["betControlSource"];function lNe(n,t){if(1&n){const e=Ot();I(0,"div",24),Be("click",function(){return Tt(e),oe().secHandBtn.emit()}),R()}}function cNe(n,t){if(1&n){const e=Ot();I(0,"div",25),Be("click",function(){return Tt(e),oe().secHandBtn.emit()}),R()}2&n&&Lt("disabled",oe().isSecHandCloseBtnDisabled)}function uNe(n,t){if(1&n){const e=Ot();vt(0),I(1,"app-navigation-switcher",26,27),Be("ngModelChange",function(r){return Tt(e),oe().activeTab=r}),R(),yt()}if(2&n){const e=oe();_(1),W("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function dNe(n,t){if(1&n){const e=Ot();I(0,"button",28),Be("click",function(){const o=Tt(e).$implicit;return oe().onSetBetOpt(o)}),I(1,"span"),Y(2),K(3,"currencyPrecision"),R()()}if(2&n){const e=t.$implicit,i=oe();Lt("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.gameConfig.isLongPrecision),W("disabled",i.betSaved||i.freeBetAvailable),_(2),ie(" ",J(3,6,e)," ")}}const hNe=function(n){return{betId:n}};function fNe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",29),Be("click",function(){return Tt(e),oe().bet()}),I(2,"span",30)(3,"label",31),Y(4),K(5,"transloco"),K(6,"transloco"),R(),I(7,"label",32)(8,"span"),Y(9),K(10,"currencyPrecision"),R(),I(11,"span",33),Y(12),R()()()(),yt()}if(2&n){const e=oe();_(1),Lt("disabled",e.waitingForResponse),W("disabled",e.waitingForResponse),_(3),ie(" ",e.gameConfig.isShowBetControlNumber?nn(5,6,"action.Bet {{betId}}",Ii(13,hNe,e.betId)):J(6,9,"shared.bet")," "),_(5),dt(J(10,11,e.betValue)),_(3),ie(" ",e.gameConfig.currency,"")}}function pNe(n,t){1&n&&(I(0,"span",36),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.waiting_for_next_round")," "))}function gNe(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",34),Be("click",function(){return Tt(e),oe().cancel()}),I(2,"label",31),Y(3),K(4,"transloco"),R(),te(5,pNe,3,3,"span",35),R(),yt()}if(2&n){const e=oe();_(1),Lt("disabled",e.waitingForResponse),W("disabled",e.waitingForResponse),_(2),ie(" ",J(4,5,"shared.cancel")," "),_(2),W("ngIf",e.isPreBet)}}function _Ne(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",37),Be("click",function(){return Tt(e),oe().onCashOut()}),I(2,"span",30)(3,"label"),Y(4),K(5,"transloco"),R(),I(6,"label",32)(7,"span",null,38),Y(9,"0"),R(),I(10,"span",33),Y(11),R()()()(),yt()}if(2&n){const e=oe();_(1),Lt("disabled",e.waitingForResponse||e.cashOutDisabled),W("disabled",e.waitingForResponse||e.cashOutDisabled),_(3),ie(" ",J(5,5,"action.Cash Out")," "),_(7),ie(" ",e.gameConfig.currency,"")}}function mNe(n,t){if(1&n){const e=Ot();vt(0),I(1,"label"),Y(2),K(3,"transloco"),R(),I(4,"app-ui-switcher",39,40),Be("ngModelChange",function(r){return Tt(e),oe().endlessAutoBetEnabled=r})("toggle",function(){return Tt(e),oe().onAutoBetSwitch()}),R(),yt()}if(2&n){const e=oe();_(2),dt(J(3,5,"game.bet-controls.bet-control.Auto bet")),_(2),Lt("disabled",e.waitingForResponse||e.freeBetAvailable),W("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function vNe(n,t){if(1&n){const e=Ot();I(0,"button",43),Be("click",function(){return Tt(e),oe(2).onSetAutoPlayOptions(!0)}),Y(1),K(2,"transloco"),R()}if(2&n){const e=oe(2);Lt("disabled",e.waitingForResponse||e.freeBetAvailable),W("disabled",e.waitingForResponse||e.freeBetAvailable),_(1),ie(" ",J(2,4,"game.bet-controls.bet-control.Auto Play")," ")}}function yNe(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe(3);_(1),ie(" (",e.autoBetOpt.autoBetsAmount,") ")}}function bNe(n,t){if(1&n){const e=Ot();I(0,"button",44),Be("click",function(){return Tt(e),oe(2).onSetAutoPlayOptions(!1)}),Y(1),K(2,"transloco"),te(3,yNe,2,1,"span",6),R()}if(2&n){const e=oe(2);Lt("disabled",e.waitingForResponse||e.freeBetAvailable),W("disabled",e.waitingForResponse||e.freeBetAvailable),_(1),ie(" ",J(2,5,"shared.stop")," "),_(2),W("ngIf",e.autoBetOpt.autoBetsAmount)}}function SNe(n,t){if(1&n&&(vt(0),te(1,vNe,3,6,"button",41),te(2,bNe,4,7,"button",42),yt()),2&n){const e=oe();_(1),W("ngIf",void 0===e.autoBetOpt.autoBetsAmount),_(1),W("ngIf",void 0!==e.autoBetOpt.autoBetsAmount)}}let rg=class{constructor(t,e,i,r,o,s,a,l,c,u,d,f,p,T,x,k,B,$){this.app=t,this.gameConfig=e,this.mainService=i,this.connector=r,this.betService=o,this.sound=s,this.message=a,this.user=l,this.freeBets=c,this.frontEndProxyService=u,this.ifc=d,this.cd=f,this.ngbModal=p,this.netSession=T,this.multiplier=x,this.minBetError=k,this.currencyPrecisionPipe=B,this.rules=$,this.secHandBtn=new vn,this.activeTab=zh.bet,this.betControlNavigationList=Object.values(zh),this.betValue=0,this.autoCashOutValue=this.gameConfig.autoCashOut.defaultValue,this.autoCashOutEnabled=!1,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:void 0,increaseBalanceStopPoint:void 0,decreaseBalanceStopPoint:void 0,exceedStopPoint:void 0},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.send(vi.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}get maxMultiplier(){return this.gameConfig.maxUserMultiplier?this.gameConfig.maxUserMultiplier:this.gameConfig.autoCashOut.maxValue}ngOnInit(){this.mainService.getState(ar.Bet).pipe(Gt(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(ar.End).pipe(Gt(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(ar.Run).pipe(Gt(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(xn.CashOut).pipe(Gt(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(xn.CancelBet).pipe(cn(e=>this.isMyAction(e)),Gt(this)).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(xn.Bet).pipe(cn(e=>this.isMyAction(e)),Gt(this)).subscribe(e=>this.betResponse(e)),this.connector.response(xn.CancelFreeBet,200).pipe(Gt(this)).subscribe(e=>this.onCancelFreeBet(e)),this.multiplier.data$.pipe(Gt(this)).subscribe(e=>{this.setCurrentMultiplier(e.currentMultiplier)}),this.freeBets.onActivate$.pipe(Gt(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(Gt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.receive$(Mr.StopAutoplay).pipe(Gt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:void 0),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=zh.auto),this.cd.detectChanges()),this.ifc.receive$(Mr.LockUI).pipe(Ha(e=>this.isLockUI=e.value),cn(e=>e.value),Gt(this)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(Gt(this)).subscribe(()=>this.onCancelBets())}ngAfterViewInit(){this.createAndSendClonedBetControlNode()}createAndSendClonedBetControlNode(){var t;if((null===(t=this.betControlSource)||void 0===t?void 0:t.nativeElement)&&1===this.betId){const e=this.betControlSource.nativeElement.cloneNode(!0);this.rules.sendClonedBetControlNode(e)}}onCancelFreeBet(t){var e;const i=null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.data;if(!i)return;let r=null;"freeBetsId"in i&&(r=i.freeBetsId),"freeBetId"in i&&(r=i.freeBetId),r&&t.freeBets.includes(r)&&(this.betService.removeBet(this.betId),this.ifc.send(vi.CancelBetComplete,{id:this.betId,code:t.code}),this.cd.detectChanges())}onLockUI(){this.gameConfig.onLockUIActions===vm.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.gameConfig.minBet,this.limits.maxBet=this.gameConfig.maxBet;const e=this.gameConfig.defaultBetValue;this.betValue=e&&e>0?e:this.gameConfig.minBet,this.limits.minCashout=this.gameConfig.autoCashOut.minValue,this.autoCashOutValue=this.gameConfig.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){var t;this.cashOutDisabled=!1,!1===(null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.preBet)&&this.betService.removeBet(this.betId),(void 0!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!this.waitingForResponse){let e=new Wi(this.betValue).times(t);this.isBetIncluded||(e=e.minus(this.betValue)),this.winAmountRef.nativeElement.textContent=this.currencyPrecisionPipe.transform(e.toNumber())}this.cashOutDisabled&&t>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(Is.Bet),this.waitingForResponse=!0,this.connector.request(lr.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.send(vi.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),void 0!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),void 0!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(void 0!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:gh.Win,value:this.gameConfig.isShowBetControlNumber?Lc.BetBetIdHasBeenCashedOut:Lc.YouHaveCashedOut,lifeTimeInfinite:this.gameConfig.isShowWinAmountUntilNextRound,params:{betId:e.betId,winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.gameConfig.currency,isMaxWinAutoCashOut:e.isMaxWinAutoCashOut}}),this.ifc.send(vi.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(Is.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.send(vi.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){this.sound.play(Is.Bet);const t={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},e=this.freeBets.activeFreeBet;e&&(t.freeBet=!0,t.freeBetsId=e.freeBetsId),this.autoCashOutEnabled&&(t.autoCashOut=this.autoCashOutValue),this.isBalanceValid(t)?(this.betService.setBet({betId:this.betId,preBet:!0,data:t}),this.mainService.state===ar.Bet&&this.sendBet(t)):this.handleInvalidBalance()}isBalanceValid(t){var e;return!(this.gameConfig.isBalanceValidationEnabled&&!t.freeBet)||((null===(e=this.betService.getBets()[0])||void 0===e?void 0:e.preBet)?new Wi(this.user.balance).minus(this.betService.getBets()[0].data.bet).toNumber():this.user.balance)>=t.bet}handleInvalidBalance(){void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&this.autoBetSwitcher.onClick(),this.message.add({value:Lc.NotEnoughBalance,context:Ur.Danger})}sendBet(t){this.gameConfig.isShowWinAmountUntilNextRound&&this.message.removeAndDeactivateWinMessages(),this.isLockUI&&this.gameConfig.onLockUIActions===vm.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(lr.Bet,t),this.ifc.send(vi.MakeBet,{id:this.betId,amount:t.bet}))}betResponse(t){this.waitingForResponse=!1,t.code===ap.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),void 0!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.send(vi.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(lr.CancelBet,{betId:this.betId}),this.ifc.send(vi.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(Is.Bet)}cancelBetResponse(t){var e;if(this.waitingForResponse=!1,200===t.code){const i=null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.data;!this.freeBets.activeFreeBet&&i&&this.netSession.plus(i.bet),this.betService.removeBet(this.betId)}this.ifc.send(vi.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.minBetError.updateStake(t,this.betId),this.ifc.send(vi.UpdateStake,{id:this.betId,amount:t})}onSetAutoPlayOptions(t){t?this.ngbModal.open(iNe).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:void 0,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:void 0,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:void 0,this.ifc.send(vi.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=void 0,this.autoBetOpt.decreaseBalanceStopPoint=void 0,this.autoBetOpt.increaseBalanceStopPoint=void 0,this.autoBetOpt.exceedStopPoint=void 0,this.endlessAutoBetEnabled=!1,this.ifc.send(vi.Autoplay,{id:this.betId,value:!1}),this.gameConfig.autoBetOptions&&(this.autoCashOutEnabled=!1,this.cd.detectChanges(),this.betSwitcher.onClickTab(zh.bet))}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){var t;return!1===(null===(t=this.betService.getBet(2))||void 0===t?void 0:t.preBet)}get isAutoShown(){return this.activeTab===zh.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){var t;return this.mainService.state===ar.Run&&!1===(null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.preBet)}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||void 0!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){var t;return!!(null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.preBet)}get betOptions(){return this.gameConfig.betOptions.slice(0,this.gameConfig.isLongPrecision?3:6)}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.send(vi.UpdateStake,{id:this.betId,amount:0}),this.minBetError.updateStake(0,this.betId)}};rg.\u0275fac=function(t){return new(t||rg)(Z(Yi),Z(Yn),Z($r),Z(qi),Z(Au),Z(mh),Z(fl),Z(Bc),Z(Iu),Z(YE),Z(zs),Z(Rn),Z(G0),Z(f$),Z($E),Z(Cb),Z(zn),Z(Tz))},rg.\u0275cmp=_t({type:rg,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&(fo(rNe,5),fo(oNe,5,X0),fo(sNe,5,qD),fo(aNe,5)),2&t){let i;ii(i=ri())&&(e.winAmountRef=i.first),ii(i=ri())&&(e.autoBetSwitcher=i.first),ii(i=ri())&&(e.betSwitcher=i.first),ii(i=ri())&&(e.betControlSource=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},features:[ni([zn])],decls:32,vars:48,consts:[[1,"controls"],["betControlSource",""],[1,"controls-content-top"],["class","sec-hand-btn add",3,"click",4,"ngIf"],["class","sec-hand-btn remove",3,"disabled","click",4,"ngIf"],[1,"navigation-wrapper"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","formatPrecision","tabindex","placeholder","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"controls-content-bottom"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add",3,"click"],[1,"sec-hand-btn","remove",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],["betSwitcher",""],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],["tabindex","-1",1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label"],[1,"amount"],[1,"currency"],["tabindex","-1",1,"btn","btn-danger","bet",3,"disabled","click"],["class","btn-tooltip",4,"ngIf"],[1,"btn-tooltip"],["tabindex","-1",1,"btn","btn-warning","cashout",3,"disabled","click"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["autoBetSwitcher",""],["class","btn btn-sm btn-primary auto-play-btn",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn",3,"disabled","click"]],template:function(t,e){1&t&&(I(0,"div",0,1)(2,"div",2),te(3,lNe,1,0,"div",3),te(4,cNe,1,2,"div",4),I(5,"div",5),te(6,uNe,3,4,"ng-container",6),R(),I(7,"div",7)(8,"div",8)(9,"app-spinner",9),Be("ngModelChange",function(r){return e.onBetValueChange(r)}),R(),I(10,"div",10),te(11,dNe,4,8,"button",11),R()(),I(12,"div",12),te(13,fNe,13,15,"ng-container",6),te(14,gNe,6,7,"ng-container",6),te(15,_Ne,12,7,"ng-container",6),R()()(),ye(16,"div",13),I(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17),te(21,mNe,6,7,"ng-container",6),te(22,SNe,3,2,"ng-container",6),R()(),I(23,"div",18)(24,"div",19)(25,"label"),Y(26),K(27,"transloco"),R(),I(28,"app-ui-switcher",20),Be("ngModelChange",function(r){return e.autoCashOutEnabled=r}),R()(),I(29,"div",21)(30,"div",22)(31,"app-spinner",23),Be("ngModelChange",function(r){return e.autoCashOutValue=r}),R()()()()()()()),2&t&&(Lt("disabled",e.waitingForResponse),_(3),W("ngIf",!e.secondBet&&e.gameConfig.isMultipleBetsEnabled),_(1),W("ngIf",e.secondBet&&2===e.betId),_(2),W("ngIf",e.gameConfig.isAutoBetFeatureEnabled),_(1),Lt("bet-game",!e.isAutoShown)("auto-game-feature",e.gameConfig.isAutoBetFeatureEnabled),_(2),Lt("long-precision",e.gameConfig.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),W("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.gameConfig.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("formatPrecision",e.gameConfig.betPrecision)("tabindex",-1)("placeholder",null==e.limits.minBet?null:e.limits.minBet.toString()),_(2),W("ngForOf",e.betOptions),_(2),W("ngIf",e.displayBetBtn),_(1),W("ngIf",e.displayCancelBtn),_(1),W("ngIf",e.displayCashOutBtn),_(1),Lt("d-none",!e.isAutoShown),_(2),Lt("d-none",!e.isAutoShown),_(3),W("ngIf",!e.gameConfig.autoBetOptions),_(1),W("ngIf",e.gameConfig.autoBetOptions),_(3),Lt("disabled",e.betSaved),_(1),ie(" ",J(27,46,"game.bet-controls.bet-control.auto cashout")," "),_(2),W("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),_(2),Lt("disabled",!e.autoCashOutEnabled),_(1),W("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.maxMultiplier)("formatPrecision",e.gameConfig.multiplierPrecision)("showX",!0)("size","small"))},directives:[zt,qD,ba,Zs,uw,Kn,X0],pipes:[zn,Jt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;width:100%;justify-content:center;align-items:center;border-radius:20px;background-color:#1b1c1d;height:100%;margin:0 auto}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]{position:relative;display:flex;height:100%;width:100%;max-width:384px;flex-direction:column;justify-content:flex-start;align-items:center;padding:8px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;width:32px;height:32px;cursor:pointer;border-radius:50%;border:solid 4px #141516;background:#2c2d30 url(plus.9a1101bb17808f90.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .sec-hand-btn.remove[_ngcontent-%COMP%]{background:#2c2d30 url(remove.aeeca15ffd0d871e.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .navigation-wrapper[_ngcontent-%COMP%]{height:32px;width:208px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .navigation-wrapper[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{font-size:12px;margin-bottom:8px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:100%;max-width:390px;display:flex;justify-content:center;padding-top:8px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row.bet-game[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:auto}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:32px;font-size:16px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px;letter-spacing:-.1em}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:68px;height:24px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(even){margin-left:4px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 148px);margin-left:7px;display:flex;justify-content:center;align-items:center;flex-direction:column;border-radius:16px;border:solid 4px #141516}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fafafa;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:100%;min-height:80px;font-size:22px;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;margin:0;cursor:pointer;line-height:27px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{letter-spacing:-.33px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px;margin-left:4px}.controls[_ngcontent-%COMP%]   .controls-content-top[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{margin-top:2px;color:#fafafacc;text-align:center;font-size:14px;font-style:normal;font-weight:600;line-height:normal;letter-spacing:-.21px}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:1px;background:#141516}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]{display:flex;width:100%;max-width:384px;flex-direction:column;justify-content:center;align-items:center}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-between;align-items:center;height:39px;color:#ccc;padding:0 8px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:24px;width:auto;padding:0 8px;font-size:12px;font-weight:500}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .controls-content-bottom[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{width:80px;display:flex;font-size:12px;font-weight:500}"],changeDetection:0}),rg=qe([si()],rg);const CNe=["controls"];function ENe(n,t){if(1&n){const e=Ot();I(0,"app-bet-control",4),Be("secHandBtn",function(){return Tt(e),oe().setSecondBet()}),R()}if(2&n){const e=oe();Lt("locked",e.lockBets)("auto-game-feature-disabled",!e.gameConfig.isAutoBetFeatureEnabled)("bet-options-three-rows",e.hasThreeRowsBetOptions),W("secondBet",e.user.settings.secondBet)("betId",2)}}let og=class{constructor(t,e,i,r,o,s,a){this.gameConfig=t,this.mainService=e,this.cd=i,this.user=r,this.betService=o,this.ifc=s,this.window=a,this.lockBets=!1,this.controlsWrap=!1,this.hasThreeRowsBetOptions=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(ar.Run).pipe(Gt(this)).subscribe(()=>{this.onLockBets(!1),this.sendEventStartRound(this.betService.getBets())}),this.mainService.event(wb.onLockBets).pipe(Gt(this)).subscribe(e=>this.onLockBets(e.data));const t=this.gameConfig.betOptions.length;this.hasThreeRowsBetOptions=this.gameConfig.isLongPrecision?t>2:t>4}ngAfterViewInit(){this.window.onResize$.pipe(Gt(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.gameConfig.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}sendEventStartRound(t){const e=[];t&&Array.isArray(t)&&t.forEach(i=>{e.push({id:i.betId,amount:i.data.bet})}),this.ifc.send(vi.StartRound,{bets:e})}};og.\u0275fac=function(t){return new(t||og)(Z(Yn),Z($r),Z(Rn),Z(Bc),Z(Au),Z(zs),Z(A0))},og.\u0275cmp=_t({type:og,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&fo(CNe,7),2&t){let i;ii(i=ri())&&(e.controlsRef=i.first)}},decls:4,vars:13,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","auto-game-feature-disabled","bet-options-three-rows","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(I(0,"div",0,1)(2,"app-bet-control",2),Be("secHandBtn",function(){return e.setSecondBet()}),R(),te(3,ENe,1,8,"app-bet-control",3),R()),2&t&&(Lt("controls-wrap",e.controlsWrap),_(2),Lt("double-bet",e.user.settings.secondBet&&e.gameConfig.isMultipleBetsEnabled)("locked",e.lockBets)("auto-game-feature-disabled",!e.gameConfig.isAutoBetFeatureEnabled)("bet-options-three-rows",e.hasThreeRowsBetOptions),W("betId",1)("secondBet",e.user.settings.secondBet),_(1),W("ngIf",e.user.settings.secondBet&&e.gameConfig.isMultipleBetsEnabled))},directives:[rg,zt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:4px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:184px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .bet-control.auto-game-feature-disabled[_ngcontent-%COMP%]{height:164px}.controls[_ngcontent-%COMP%]   .bet-control.bet-options-three-rows[_ngcontent-%COMP%]{height:212px}.controls[_ngcontent-%COMP%]   .bet-control.auto-game-feature-disabled.bet-options-three-rows[_ngcontent-%COMP%]{height:184px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:4px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto!important;min-height:128px}}"],changeDetection:0}),og=qe([si()],og);let sv=(()=>{class n{constructor(e){this.stomp=e,this._isChatInitedSubject=new Jn(!1),this.isChatInited$=this._isChatInitedSubject.asObservable(),this._topGifs=[],this._tagUserSubject=new Xe,this._onlinePlayersSubject=new Jn(0),this.onlinePlayers$=this._onlinePlayersSubject.asObservable(),this.stomp.response(hi.ChatInit).pipe(cn(i=>200===i.code)).subscribe(i=>this.init(i)),this.stomp.response(hi.PlayersOnline).subscribe(i=>{this._onlinePlayersSubject.next(i.count)})}init(e){var i;this._isChatInitedSubject.next(!0),this._onlinePlayersSubject.next(e.onlinePlayers),this._topGifs=null!==(i=e.config.topGifs)&&void 0!==i?i:[]}tagUser(e){this._tagUserSubject.next(`@${e} `)}get onTagUser(){return this._tagUserSubject.asObservable()}get top10Gifs(){return this._topGifs}}return n.\u0275fac=function(e){return new(e||n)(lt(Ta))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function TNe(n,t){if(1&n&&(I(0,"div",7),ye(1,"div",8),I(2,"span"),Y(3),R()()),2&n){const e=oe().ngIf;_(3),dt(e.onlinePlayers)}}function wNe(n,t){if(1&n){const e=Ot();I(0,"button",9),Be("click",function(){return Tt(e),oe(3).openChatRulesModal()}),Y(1),ye(2,"div",10),R()}if(2&n){const e=oe(2).$implicit;_(1),ie(" ",e("game.chat-widget.Rules")," ")}}function MNe(n,t){if(1&n){const e=Ot();I(0,"div",2),te(1,TNe,4,1,"div",3),I(2,"div",4),te(3,wNe,3,1,"button",5),I(4,"button",6),Be("click",function(){return Tt(e),oe(2).chatFeatureService.isOpen=!1}),I(5,"span"),Y(6,"\xd7"),R()()()()}if(2&n){const e=t.ngIf,i=oe(2);_(1),W("ngIf",!i.isChatOnlineCounterHidden),_(2),W("ngIf",e.isChatInited)}}function ONe(n,t){if(1&n&&(vt(0),te(1,MNe,7,2,"div",1),K(2,"async"),yt()),2&n){const e=oe();_(1),W("ngIf",J(2,1,e.data$))}}let PNe=(()=>{class n{constructor(e,i,r,o){this.chatFeatureService=e,this.chatService=i,this.modal=r,this.chatConfigService=o,this.data$=xu({isChatInited:this.chatService.isChatInited$,onlinePlayers:this.chatService.onlinePlayers$})}get isChatOnlineCounterHidden(){return this.chatConfigService.hideChatOnlineCounter}openChatRulesModal(){this.modal.open(ei.chatRules)}}return n.\u0275fac=function(e){return new(e||n)(Z(pl),Z(sv),Z(va),Z(xm))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-header"]],decls:1,vars:0,consts:[[4,"transloco"],["class","header",4,"ngIf"],[1,"header"],["class","online-wrapper position-absolute d-flex align-items-center",4,"ngIf"],[1,"buttons"],["type","button","class","rules-btn disabled-on-game-focused","aria-label","Chat rules",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],["type","button","aria-label","Chat rules",1,"rules-btn","disabled-on-game-focused",3,"click"],[1,"question-i"]],template:function(e,i){1&e&&te(0,ONe,3,3,"ng-container",0)},directives:[rp,zt],pipes:[pr],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;padding:8px 13px 8px 8px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:auto}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .rules-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0;height:21px;border:none;background:none;color:#b1b7bd;font-size:14px;font-weight:400;line-height:21px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .rules-btn[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{margin-left:4px;width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"],changeDetection:0}),n})();var dw=(()=>(function(n){n.Reply="reply",n.Translate="translate"}(dw||(dw={})),dw))(),Pb=(()=>(function(n){n.Header="header"}(Pb||(Pb={})),Pb))();function xNe(n,t){if(1&n&&(I(0,"span",5),Y(1),K(2,"maskedUsername"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,e.banInfo.playerName)," ")}}function INe(n,t){1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function ANe(n,t){1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function DNe(n,t){1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function RNe(n,t){1&n&&(I(0,"span",6),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function NNe(n,t){1&n&&(I(0,"span",6),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function kNe(n,t){1&n&&(vt(0),I(1,"span"),Y(2),K(3,"transloco"),R(),yt()),2&n&&(_(2),dt(J(3,1,"game.chat-widget.chat-message.chat-message-ban.from chat")))}function LNe(n,t){if(1&n&&(vt(0),I(1,"span"),Y(2),K(3,"transloco"),R(),I(4,"span")(5,"span"),Y(6),K(7,"date"),R()(),yt()),2&n){const e=oe();_(2),ie(" ",J(3,2,"game.chat-widget.chat-message.chat-message-ban.from chat until")," "),_(4),dt(nn(7,4,e.banInfo.endDate,"dd.MM.yy, HH:mm"))}}function FNe(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban."+e.banInfo.reason)," ")}}function BNe(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe();_(1),dt(e.banInfo.reason)}}let UNe=(()=>{class n{constructor(){this.isReasonOther=!1}ngOnInit(){this.setBanReasonShown()}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:15,vars:13,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),te(2,xNe,3,3,"span",2),te(3,INe,3,3,"span",3),te(4,ANe,3,3,"span",3),te(5,DNe,3,3,"span",3),te(6,RNe,3,3,"span",4),te(7,NNe,3,3,"span",4),te(8,kNe,4,3,"ng-container",3),te(9,LNe,8,7,"ng-container",3),I(10,"span"),Y(11),K(12,"transloco"),R(),te(13,FNe,3,3,"span",3),te(14,BNe,2,1,"span",3),R()()),2&e&&(_(2),W("ngIf",!i.banInfo.isMe),_(1),W("ngIf",i.banInfo.isMe),_(1),W("ngIf",!i.banInfo.isMe),_(1),W("ngIf",i.banInfo.isMe),_(1),W("ngIf",!i.banInfo.isMe),_(1),W("ngIf",i.banInfo.isMe),_(1),W("ngIf",!i.banInfo.endDate),_(1),W("ngIf",i.banInfo.endDate),_(2),dt(J(12,11,"game.chat-widget.chat-message.chat-message-ban.reason")),_(2),W("ngIf",!i.isReasonOther),_(1),W("ngIf",i.isReasonOther))},directives:[zt],pipes:[pa,Jt,al],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})(),jNe=(()=>{class n{constructor(e,i,r){this.translate=e,this.datePipe=i,this.gameConfig=r,this.defaultBanReasons=["strong language","spam"]}get translatedMessage(){const e=`game.chat-widget.chat-message.chat-message-restriction.${this.restrictionMessage.text}`;if(this.translate.translate(e)){const r=Object.assign({},this.restrictionMessage.params);return r.date&&(r.date=this.formatDate(r.date)),r.reason&&(r.reason=this.translateReason(r.reason)),r.currency&&(r.currency=this.formatCurrency(r.currency)),this.translate.translate(e,r)}return this.restrictionMessage.text}formatDate(e){return this.datePipe.transform(e,"dd.MM.yy, HH:mm")||""}translateReason(e){return this.defaultBanReasons.includes(e)?this.translate.translate(`game.chat-widget.chat-message.chat-message-ban.${e}`):e}formatCurrency(e){return this.gameConfig.isCurrencyNameHidden?"":e}}return n.\u0275fac=function(e){return new(e||n)(Z(ip),Z(al),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-restriction"]],inputs:{restrictionMessage:"restrictionMessage"},features:[ni([al])],decls:4,vars:1,consts:[[1,"message-restriction"],[1,"text","canSelect"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"span"),Y(3),R()()()),2&e&&(_(3),ie(" ",i.translatedMessage," "))},styles:[".message-restriction[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-restriction[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}"],changeDetection:0}),n})();const GNe=["(\\[b\\]@\\w+\\[\\/b\\])"],HNe=["(\\[b\\])","(\\[\\/b\\])"],zNe={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function p$(n){return new RegExp(n.join("|"),"g")}function WNe(n,t){1&n&&(I(0,"span",4),Y(1," Mod "),R())}function YNe(n,t){1&n&&(I(0,"span",5),Y(1," Bot "),R())}let $Ne=(()=>{class n{constructor(e,i){this.chat=e,this.maskedUsernamePipe=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===Ep.Moderator}get isBotMessageType(){return this.senderType===Ep.Bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(Z(sv),Z(pa))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[ni([pa])],decls:6,vars:5,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(I(0,"span",0)(1,"span",1),Be("click",function(){return i.tagUser()}),Y(2),K(3,"maskedUsername"),R(),te(4,WNe,2,0,"span",2),te(5,YNe,2,0,"span",3),R()),2&e&&(_(2),dt(J(3,3,i.username)),_(2),W("ngIf",i.isModeratorMessageType),_(1),W("ngIf",i.isBotMessageType))},directives:[zt],pipes:[pa],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function XNe(n,t){if(1&n&&(I(0,"span",7),Y(1),R()),2&n){const e=oe().$implicit;Lt("reply-me",e.isReplyForMe),_(1),ie(" ",e.str," ")}}function KNe(n,t){1&n&&ye(0,"span",8),2&n&&W("translate","game.chat-widget.chat-message."+oe().$implicit.str)}function qNe(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe().$implicit;_(1),dt(e.str)}}function JNe(n,t){if(1&n&&(vt(0)(1,3),te(2,XNe,2,3,"span",4),te(3,KNe,1,1,"span",5),te(4,qNe,2,1,"span",6),yt()()),2&n){const e=t.$implicit,i=oe();_(1),W("ngSwitch",e.type),_(1),W("ngSwitchCase",i.messageChunkTypes.Reply),_(1),W("ngSwitchCase",i.messageChunkTypes.Translate)}}let ZNe=(()=>{class n{constructor(){this.messageChunkTypes=dw,this.messageSenderTypes=Ep,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(p$(GNe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),o={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(o)})}getChunkMessage(e,i){return i===this.messageChunkTypes.Reply?e.replace(p$(HNe),""):e}getChunkTypeMessage(e){return function VNe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.messageChunkTypes.Reply:this.isShouldBeTranslated&&zNe.hasOwnProperty(e)?this.messageChunkTypes.Translate:""}get isShouldBeTranslated(){return this.senderType===this.messageSenderTypes.Bot||this.messageType===$l.Rain||this.messageType===$l.ShareBet}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-text"]],inputs:{messageType:"messageType",senderType:"senderType",message:"message",playerName:"playerName"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(I(0,"span",0),ye(1,"app-chat-message-name",1),te(2,JNe,5,3,"ng-container",2),R()),2&e&&(_(1),W("senderType",i.senderType)("playerName",i.playerName),_(1),W("ngForOf",i.messageChunks))},directives:[$Ne,Kn,Ko,Ts,du],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function QNe(n,t){if(1&n&&(I(0,"div",3),Y(1),R()),2&n){const e=oe();_(1),ie(" ",e.usersLikesNumber," ")}}let sg=class{constructor(t,e){this.cd=t,this.stomp=e,this.loading=!1}ngOnInit(){this.stomp.response(hi.MessageLike).pipe(cn(t=>this.messageId===t.messageId),Ha(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber}),Gt(this)).subscribe(()=>this.cd.detectChanges()),this.stomp.response(hi.MessageUnlike).pipe(cn(t=>this.messageId===t.messageId),Ha(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber}),Gt(this)).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked?(this.usersLikesNumber-=1,this.stomp.request(ds.MessageUnlike,{messageId:this.messageId})):(this.usersLikesNumber+=1,this.stomp.request(ds.MessageLike,{messageId:this.messageId})),this.isMeLiked=!this.isMeLiked,this.cd.detectChanges())}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function eke(n,t){if(1&n&&(vt(0),I(1,"div",3)(2,"div",4),ye(3,"img",5),R(),I(4,"div",6)(5,"div",7),ye(6,"app-chat-message-text",8),R()(),I(7,"div",9),ye(8,"app-chat-message-likes",10),R()(),yt()),2&n){const e=oe();let i;_(3),W("src",e.getAvatar(e.message),pn)("alt",e.getAvatar(e.message)),_(3),W("messageType",e.message.type)("playerName",e.message.senderName)("senderType",e.message.senderType)("message",e.message.text),_(2),W("messageId",e.message.id)("isMeLiked",null!==(i=e.message.likesInfo.isMe)&&void 0!==i&&i)("usersLikesNumber",e.message.likesInfo.likesNumber)}}function tke(n,t){if(1&n&&(vt(0),I(1,"div",3)(2,"div",4),ye(3,"img",5),R(),I(4,"div",11)(5,"div",7),ye(6,"app-chat-message-text",8),R()(),I(7,"div",9),ye(8,"app-chat-message-likes",10),R()(),yt()),2&n){const e=oe();let i;_(3),W("src",e.getAvatar(e.message),pn)("alt",e.getAvatar(e.message)),_(3),W("messageType",e.message.type)("playerName",e.message.senderName)("senderType",e.message.senderType)("message",e.message.text),_(2),W("messageId",e.message.id)("isMeLiked",null!==(i=e.message.likesInfo.isMe)&&void 0!==i&&i)("usersLikesNumber",e.message.likesInfo.likesNumber)}}sg.\u0275fac=function(t){return new(t||sg)(Z(Rn),Z(Ta))},sg.\u0275cmp=_t({type:sg,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,QNe,2,1,"div",1),I(2,"div",2),Be("click",function(){return e.onLike()}),R()()),2&t&&(_(1),W("ngIf",e.hasLikes),_(1),Lt("active",e.isActiveMeLike))},directives:[zt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),sg=qe([si()],sg);let nke=(()=>{class n{constructor(){this.messageRegularTypes=Pb}getAvatar(e){return ga(ko_avatarPath+e.senderAvatar)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],["draggable","false",1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"messageType","playerName","senderType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(vt(0,0),te(1,eke,9,9,"ng-container",1),te(2,tke,9,9,"ng-container",2),yt()),2&e&&(W("ngSwitch",i.type),_(1),W("ngSwitchCase",i.messageRegularTypes.Header))},directives:[Ko,Ts,ZNe,sg,du],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),ike=(()=>{class n{constructor(e,i,r){this.app=e,this.gameConfig=i,this.main=r}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi),Z(Yn),Z($r))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-share-bet"]],inputs:{betInfo:"betInfo"},decls:36,vars:30,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],["draggable","false",1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){if(1&e&&(I(0,"div",0)(1,"div",1)(2,"div",2),Be("click",function(){return i.main.checkFairness(i.betInfo.roundId)}),R()(),I(3,"div",3),ye(4,"img",4),I(5,"div"),Y(6),K(7,"maskedUsername"),R()(),I(8,"div",5)(9,"div",6)(10,"div",7),Y(11),K(12,"transloco"),R(),I(13,"div",8),Y(14),K(15,"multiplierPrecision"),R()(),I(16,"div",6)(17,"div",7),Y(18),K(19,"transloco"),R(),I(20,"div",9),Y(21),K(22,"currencyPrecision"),R()()(),I(23,"div",5)(24,"div",6)(25,"div",7),Y(26),K(27,"transloco"),R(),I(28,"div",9),Y(29),K(30,"multiplierPrecision"),R()(),I(31,"div",6)(32,"div",7),Y(33),K(34,"transloco"),R(),ye(35,"app-bet-amount",10),R()()()),2&e){let r,o,s;_(4),W("src",i.app.getAvatarUrl(i.betInfo.playerAvatar),pn)("alt",i.betInfo.playerName),_(2),ie(" ",J(7,14,i.betInfo.playerName)," "),_(5),ie("",J(12,16,"shared.cashed_out"),":"),_(3),ie(" ",J(15,18,null!==(r=i.betInfo.cashOutMultiplier)&&void 0!==r?r:0),"x "),_(4),Hn(" ",J(19,20,"shared.win")," ",i.gameConfig.currency,": "),_(3),ie(" ",J(22,22,null!==(o=i.betInfo.winAmount)&&void 0!==o?o:0)," "),_(5),ie("",J(27,24,"shared.round"),":"),_(3),ie(" ",J(30,26,i.betInfo.roundMaxMultiplier),"x "),_(4),Hn(" ",J(34,28,"shared.bet")," ",i.gameConfig.currency,": "),_(2),W("isFreeBet",null!==(s=i.betInfo.isFreeBet)&&void 0!==s&&s)("amount",i.betInfo.betAmount)}},directives:[vd,$0],pipes:[pa,Jt,Ws,zn],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var xb=(()=>(function(n){n.Claimed="CLAIMED",n.Free="FREE",n.Canceled="CANCELED"}(xb||(xb={})),xb))();function rke(n,t){if(1&n&&(vt(0),I(1,"div",11),ye(2,"img",12),I(3,"div",13),Y(4),K(5,"maskedUsername"),R()(),yt()),2&n){const e=oe().$implicit,i=oe();_(2),W("src",i.app.getAvatarUrl(e.playerAvatar),pn),_(1),Lt("me",e.isMe),_(1),ie(" ",J(5,4,e.playerName)," ")}}function oke(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",14),Be("click",function(){Tt(e);const r=oe().$implicit,o=oe();return o.onClaimRain({place:r.place,rainId:o.rainInfo.id})}),Y(2),K(3,"transloco"),R(),yt()}if(2&n){const e=oe(2);_(1),W("disabled",!e.rainInfo.isCanClaim),_(1),ie(" ",J(3,2,"shared.claim")," ")}}function ske(n,t){1&n&&(vt(0),I(1,"button",15),Y(2),K(3,"transloco"),R(),yt()),2&n&&(_(1),W("disabled",!0),_(1),ie(" ",J(3,2,"shared.claim")," "))}function ake(n,t){if(1&n&&(I(0,"div",7)(1,"div",8)(2,"span"),Y(3),K(4,"currencyPrecision"),R()(),vt(5,9),te(6,rke,6,6,"ng-container",10),te(7,oke,4,4,"ng-container",10),te(8,ske,4,4,"ng-container",10),yt(),R()),2&n){const e=t.$implicit,i=oe();_(3),Hn(" ",J(4,6,i.rainInfo.amountPerPlayer)," ",i.gameConfig.currency," "),_(2),W("ngSwitch",e.status),_(1),W("ngSwitchCase",i.rainNodeStatus.Claimed),_(1),W("ngSwitchCase",i.rainNodeStatus.Free),_(1),W("ngSwitchCase",i.rainNodeStatus.Canceled)}}let ag=class{constructor(t,e,i,r,o){this.app=t,this.gameConfig=e,this.stomp=i,this.cd=r,this.soundService=o,this.rainNodeStatus=xb}get fullAmount(){return new Wi(this.rainInfo.amountPerPlayer).times(this.rainInfo.placesInfo.length).toNumber()}ngOnInit(){this.stomp.response(hi.RainClaim).pipe(cn(t=>{var e;return t.rainId===this.rainInfo.id||(null===(e=t.errorMessageParams)||void 0===e?void 0:e.rainId)===this.rainInfo.id}),Gt(this)).subscribe(t=>this.onRainClaimResponse(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.stomp.request(ds.RainClaim,t))}onRainClaimResponse(t){200!==t.code?this.rainInfo.isCanClaim=910!==t.code:(t.status!==xb.Canceled&&this.soundService.play(Is.FreeBet),this.rainInfo.placesInfo[t.place-1]=Object.assign(Object.assign({},this.rainInfo.placesInfo[t.place-1]),{playerName:t.playerName,playerAvatar:t.playerAvatar,isMe:t.isMe,status:t.status})),this.cd.detectChanges()}};function lke(n,t){if(1&n&&(vt(0),I(1,"div",3),ye(2,"app-chat-message-ban",4),R(),yt()),2&n){const e=oe();_(2),W("banInfo",e.message.banInfo)}}function cke(n,t){if(1&n&&(vt(0),I(1,"div",3),ye(2,"app-chat-message-restriction",5),R(),yt()),2&n){const e=oe();_(2),W("restrictionMessage",e.message)}}ag.\u0275fac=function(t){return new(t||ag)(Z(Yi),Z(Yn),Z(Ta),Z(Rn),Z(mh))},ag.\u0275cmp=_t({type:ag,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:13,vars:11,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],["draggable","false","alt","avatar",1,"avatar","mr-1",3,"src"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2),te(3,ake,9,8,"div",3),R()(),I(4,"div",4)(5,"div",5)(6,"span"),Y(7),K(8,"transloco"),K(9,"transloco"),R(),I(10,"span",6),Y(11),K(12,"currencyPrecision"),R()()()()),2&t&&(_(3),W("ngForOf",e.rainInfo.placesInfo),_(4),Hn(" ",J(8,5,"shared.rain")," \u{1f327} | ",J(9,7,"shared.total")," "),_(4),Hn(" ",J(12,9,e.fullAmount)," ",e.gameConfig.currency," "))},directives:[Kn,Ko,Ts],pipes:[zn,pa,Jt],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),ag=qe([si()],ag);const uke=function(n,t,e){return{low:n,medium:t,high:e}};function dke(n,t){if(1&n&&(vt(0),I(1,"div",6)(2,"div",7),ye(3,"app-chat-message-regular",8),R(),ye(4,"app-chat-share-bet",9),R(),yt()),2&n){const e=oe();_(1),W("ngClass",y_(4,uke,e.message.betInfo.cashOutMultiplier>=e.multiplierLevel.Low&&e.message.betInfo.cashOutMultiplier<e.multiplierLevel.Medium,e.message.betInfo.cashOutMultiplier>=e.multiplierLevel.Medium&&e.message.betInfo.cashOutMultiplier<e.multiplierLevel.High,e.message.betInfo.cashOutMultiplier>=e.multiplierLevel.High)),_(2),W("type",e.messageRegularTypes.Header)("message",e.message),_(1),W("betInfo",e.message.betInfo)}}function hke(n,t){if(1&n&&(vt(0),I(1,"div",10)(2,"div",7),ye(3,"app-chat-message-regular",8),R(),ye(4,"app-chat-rain",11),R(),yt()),2&n){const e=oe();_(3),W("type",e.messageRegularTypes.Header)("message",e.message),_(1),W("rainInfo",e.message.rainInfo)}}const fke=function(n,t){return{width:n,height:t}};function pke(n,t){if(1&n&&(vt(0),I(1,"div",12)(2,"div"),ye(3,"app-chat-message-regular",8),R(),I(4,"div",13)(5,"div",14),ye(6,"img",15),R()()(),yt()),2&n){const e=oe();_(3),W("type",e.messageRegularTypes.Header)("message",e.message),_(2),W("ngStyle",sl(4,fke,e.gifWidth+"px",e.gifHeight+"px")),_(1),W("src",e.gifInfo.url,pn)}}function gke(n,t){if(1&n&&(vt(0),I(1,"div",3),ye(2,"app-chat-message-regular",16),R(),yt()),2&n){const e=oe();_(2),W("message",e.message)}}let _ke=(()=>{class n{constructor(){this.gifWidth=0,this.gifHeight=0,this.gifMaxLength=180,this.messageType=$l,this.messageRegularTypes=Pb,this.multiplierLevel=yh}ngOnInit(){this.isGifShown&&(this.gifInfo=this.message.gifInfo,this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.type===this.messageType.Gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:7,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[3,"restrictionMessage"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"betInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["draggable","false","alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(vt(0,0),te(1,lke,3,1,"ng-container",1),te(2,cke,3,1,"ng-container",1),te(3,dke,5,8,"ng-container",1),te(4,hke,5,3,"ng-container",1),te(5,pke,7,7,"ng-container",1),te(6,gke,3,1,"ng-container",2),yt()),2&e&&(W("ngSwitch",i.message.type),_(1),W("ngSwitchCase",i.messageType.Ban),_(1),W("ngSwitchCase",i.messageType.Restricted),_(1),W("ngSwitchCase",i.messageType.ShareBet),_(1),W("ngSwitchCase",i.messageType.Rain),_(1),W("ngSwitchCase",i.messageType.Gif))},directives:[Ko,Ts,UNe,jNe,Xo,nke,ike,ag,mf,du],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#1b1c1d}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();const mke=["container"];function vke(n,t){1&n&&ye(0,"app-chat-message",3),2&n&&W("message",t.$implicit)}let yke=(()=>{class n{constructor(e,i){this.messageService=e,this.scrollService=i,this.trackByMessageId=(r,o)=>o.id}ngAfterViewInit(){this.scrollService.scrollNativeElement=this.containerRef.nativeElement,this.scrollService.scrollToBottom(300)}}return n.\u0275fac=function(e){return new(e||n)(Z(Im),Z(Y0))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-messages-list"]],viewQuery:function(e,i){if(1&e&&fo(mke,5),2&e){let r;ii(r=ri())&&(i.containerRef=r.first)}},decls:4,vars:4,consts:[[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],[3,"message"]],template:function(e,i){1&e&&(I(0,"div",0,1),te(2,vke,1,1,"app-chat-message",2),K(3,"async"),R()),2&e&&(_(2),W("ngForOf",J(3,2,i.messageService.messages$))("ngForTrackBy",i.trackByMessageId))},directives:[Kn,_ke],pipes:[pr],styles:[".messages-container[_ngcontent-%COMP%]{height:calc(100% - 67px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}"],changeDetection:0}),n})();var lg=(()=>(function(n){n.Emoji="Emoji",n.Gif="Gif",n.Rain="Rain"}(lg||(lg={})),lg))();const Ka=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var cg=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(cg||(cg={})),cg))();const bke=["*"];let iN=(()=>{class n{constructor(){this.chatInputToolWrapperTitles=cg,this.closeTool=new vn}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:bke,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(Kv(),I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Y(5),K(6,"transloco"),R(),I(7,"button",5),Be("click",function(){return i.onCloseTool()}),I(8,"span"),Y(9,"\xd7"),R()()(),I(10,"div",6),qv(11),R()()()()),2&e&&(_(1),Lt("rain",i.title===i.chatInputToolWrapperTitles.rain),_(4),ie(" ",J(6,3,"shared."+i.title)," "))},pipes:[Jt],styles:[".modal[_ngcontent-%COMP%]{position:absolute;display:block;margin-left:auto;margin-right:auto;inset:auto 0 67px;height:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{--headerHeight: 36px;height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:var(--headerHeight);max-height:var(--headerHeight)}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - var(--headerHeight))}"],changeDetection:0}),n})();function Ske(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Cke(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Eke(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Tke(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function wke(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Mke(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Oke(n,t){if(1&n&&(vt(0),I(1,"div"),Y(2),K(3,"transloco"),R(),I(4,"div",6),te(5,Ske,2,2,"span",7),R(),I(6,"div",8),Y(7),K(8,"transloco"),R(),I(9,"div",6),te(10,Cke,2,2,"span",7),R(),I(11,"div",8),Y(12),K(13,"transloco"),R(),I(14,"div",6),te(15,Eke,2,2,"span",7),R(),I(16,"div",8),Y(17),K(18,"transloco"),R(),I(19,"div",6),te(20,Tke,2,2,"span",7),R(),I(21,"div",8),Y(22),K(23,"transloco"),R(),I(24,"div",6),te(25,wke,2,2,"span",7),R(),I(26,"div",8),Y(27),K(28,"transloco"),R(),I(29,"div",6),te(30,Mke,2,2,"span",7),R(),yt()),2&n){const e=oe();_(2),ie(" ",J(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),_(3),W("ngForOf",e.emojiFriquentlyUsed),_(2),ie(" ",J(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),_(3),W("ngForOf",e.emojiPeople),_(2),ie(" ",J(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),_(3),W("ngForOf",e.emojiNature),_(2),ie(" ",J(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),_(3),W("ngForOf",e.emojiObjects),_(2),ie(" ",J(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),_(3),W("ngForOf",e.emojiPlaces),_(2),ie(" ",J(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),_(3),W("ngForOf",e.emojiSymbols)}}function Pke(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function xke(n,t){if(1&n&&(vt(0),I(1,"div",6),te(2,Pke,2,2,"span",7),R(),yt()),2&n){const e=oe();_(2),W("ngForOf",e.searchList)}}let Ike=(()=>{class n{constructor(){this.finish=new vn,this.chatInputToolWrapperTitles=cg,this.searchText="",this.searchList=[],this.emojiForSearch=[],this.emojiFriquentlyUsed=[],this.emojiPeople=[],this.emojiNature=[],this.emojiObjects=[],this.emojiPlaces=[],this.emojiSymbols=[]}ngOnInit(){this.emojiForSearch=Ka.slice(9),this.emojiFriquentlyUsed=Ka.slice(0,9),this.emojiPeople=Ka.slice(9,150),this.emojiNature=Ka.slice(150,226),this.emojiObjects=Ka.slice(226,309),this.emojiPlaces=Ka.slice(309,335),this.emojiSymbols=Ka.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const o of this.emojiForSearch)o.title.includes(e)&&i.push(o);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(I(0,"app-chat-input-tool-wrapper",0),Be("closeTool",function(){return i.finish.emit()}),I(1,"div",1)(2,"div",2)(3,"textarea",3),Be("ngModelChange",function(o){return i.searchText=o})("ngModelChange",function(o){return i.onModelChange(o)})("keydown.enter",function(o){return i.preventDefault(o)}),K(4,"transloco"),R()()(),I(5,"div",4),te(6,Oke,31,24,"ng-container",5),te(7,xke,3,1,"ng-container",5),R()()),2&e&&(W("title",i.chatInputToolWrapperTitles.emoji),_(3),Ku("placeholder",J(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),W("ngModel",i.searchText)("maxlength",20),_(3),W("ngIf",!i.isShownSearchList),_(1),W("ngIf",i.isShownSearchList))},directives:[iN,_d,Tm,ba,Zs,wm,zt,Kn],pipes:[Jt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),Ake=(()=>{class n{constructor(e,i){this.chatConfigService=e,this.gameConfig=i,this.chatInputToolWrapperTitles=cg,this.amountPerUser=.5,this.numberOfUsers=0,this.finish=new vn}ngOnInit(){var e,i;this.numberOfUsers=null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.defaultNumOfPlayers)&&void 0!==i?i:0,this.amountPerUser=this.gameConfig.minBet}get minNumberOfUsers(){var e,i;return null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.minNumOfPlayers)&&void 0!==i?i:0}get maxNumberOfUsers(){var e,i;return null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.maxNumOfPlayers)&&void 0!==i?i:0}get minAmountPerUser(){var e,i;return null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.rainMinBet)&&void 0!==i?i:0}get maxAmountPerUser(){var e,i,r;return null!==(r=null===(i=null===(e=this.chatConfigService)||void 0===e?void 0:e.rainConfig)||void 0===i?void 0:i.rainMaxBet)&&void 0!==r?r:0}get totalAmount(){return Wi.mul(this.amountPerUser,this.numberOfUsers).toDP(this.gameConfig.betPrecision,Wi.ROUND_DOWN).toNumber()}onRain(){const e=new Wi(this.amountPerUser).toDP(this.gameConfig.betPrecision,Wi.ROUND_DOWN).toNumber();this.finish.emit({type:$l.Rain,freeBetAmount:e,places:this.numberOfUsers,text:""})}}return n.\u0275fac=function(e){return new(e||n)(Z(xm),Z(Yn))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:39,vars:35,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(I(0,"app-chat-input-tool-wrapper",0),Be("closeTool",function(){return i.finish.emit()}),I(1,"div",1)(2,"div",2),Y(3),K(4,"transloco"),R(),I(5,"div",3)(6,"div",4)(7,"span"),Y(8),K(9,"transloco"),R(),I(10,"span",5),Y(11),R()(),I(12,"div",6)(13,"app-spinner",7),Be("ngModelChange",function(o){return i.amountPerUser=o}),R()(),I(14,"div",8),Y(15),K(16,"transloco"),R(),I(17,"div",6)(18,"app-spinner",9),Be("ngModelChange",function(o){return i.numberOfUsers=o}),R()()(),I(19,"div",10)(20,"div")(21,"span"),Y(22),K(23,"transloco"),R(),I(24,"span",5),Y(25),R()()(),I(26,"div",11),Y(27),K(28,"currencyPrecision"),R(),I(29,"div",12)(30,"button",13),Be("click",function(){return i.onRain()}),I(31,"span",14),Y(32),K(33,"transloco"),R(),I(34,"span"),Y(35),K(36,"currencyPrecision"),R(),I(37,"span"),Y(38),R()()()()()),2&e&&(W("title",i.chatInputToolWrapperTitles.rain),_(3),ie(" ",J(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),_(5),ie(" ",J(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),_(3),dt(i.gameConfig.currency),_(2),W("formatPrecision",i.gameConfig.betPrecision)("ngModel",i.amountPerUser)("step",i.gameConfig.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),_(2),ie(" ",J(16,25,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),_(3),W("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),_(4),ie("",J(23,27,"shared.total"),","),_(3),dt(i.gameConfig.currency),_(2),ie(" ",J(28,29,i.totalAmount)," "),_(5),dt(J(33,31,"shared.rain")),_(3),ie(" ",J(36,33,i.totalAmount),""),_(3),ie(" ",i.gameConfig.currency,""))},directives:[iN,uw,ba,Zs],pipes:[Jt,zn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();function rN(n,t=K_){return it((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(rt(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}const g$=function(n){return{background:n}};function Dke(n,t){if(1&n){const e=Ot();I(0,"div",8)(1,"div",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;_(1),W("ngStyle",Ii(1,g$,"url("+e.url+") center center/cover"))}}function Rke(n,t){if(1&n&&(vt(0),te(1,Dke,2,3,"div",7),yt()),2&n){const e=oe();_(1),W("ngForOf",e.chatService.top10Gifs)}}function Nke(n,t){if(1&n){const e=Ot();I(0,"div",8)(1,"div",9),Be("click",function(){const o=Tt(e).$implicit;return oe(3).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;_(1),W("ngStyle",Ii(1,g$,"url("+e.url+") center center/cover"))}}function kke(n,t){if(1&n&&(vt(0),te(1,Nke,2,3,"div",7),yt()),2&n){const e=oe(2);_(1),W("ngForOf",e.searchList)}}function Lke(n,t){1&n&&(I(0,"div",11),ye(1,"app-loader"),R())}function Fke(n,t){if(1&n&&(vt(0),te(1,kke,2,1,"ng-container",6),te(2,Lke,2,0,"div",10),yt()),2&n){const e=oe();_(1),W("ngIf",e.searchList&&e.searchList.length),_(1),W("ngIf",!(e.searchList&&e.searchList.length))}}let ug=class{constructor(t,e,i){this.stomp=t,this.cd=e,this.chatService=i,this.finish=new vn,this.searchInput=new Xe,this.chatInputToolWrapperTitles=cg,this.searchText="",this.searchList=[]}ngOnInit(){this.stomp.response(hi.GifsSearch).pipe(Gt(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=t.gifsInfo,this.cd.detectChanges()}),this.searchInput.pipe(rN(1e3),_h(),Gt(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.stomp.request(ds.GifsSearch,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.trim().length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({type:$l.Gif,gifId:t,text:""})}};ug.\u0275fac=function(t){return new(t||ug)(Z(Ta),Z(Rn),Z(sv))},ug.\u0275cmp=_t({type:ug,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(I(0,"app-chat-input-tool-wrapper",0),Be("closeTool",function(){return e.finish.emit()}),I(1,"div",1)(2,"div",2),ye(3,"div",3),I(4,"textarea",4),Be("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),K(5,"transloco"),R()()(),I(6,"div",5),te(7,Rke,2,1,"ng-container",6),te(8,Fke,3,2,"ng-container",6),R()()),2&t&&(W("title",e.chatInputToolWrapperTitles.gif),_(4),Ku("placeholder",J(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),W("ngModel",e.searchText)("maxlength",20),_(3),W("ngIf",!e.isShownSearchList),_(1),W("ngIf",e.isShownSearchList))},directives:[iN,_d,Tm,ba,Zs,wm,zt,Kn,mf,Gc],pipes:[Jt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),ug=qe([si()],ug);const Bke=["input"];function Uke(n,t){if(1&n){const e=Ot();I(0,"div",11),Be("click",function(){Tt(e);const r=oe();return r.showToolModal(r.chatInputTools.Emoji)}),R()}}function jke(n,t){if(1&n){const e=Ot();I(0,"div",12),Be("click",function(){Tt(e);const r=oe();return r.showToolModal(r.chatInputTools.Gif)}),R()}}function Gke(n,t){if(1&n){const e=Ot();I(0,"div",13),Be("click",function(){Tt(e);const r=oe();return r.showToolModal(r.chatInputTools.Rain)}),ye(1,"div",14),I(2,"div",15),Y(3),K(4,"transloco"),R()()}2&n&&(_(3),dt(J(4,1,"shared.rain")))}function Hke(n,t){if(1&n){const e=Ot();I(0,"app-chat-input-tool-emoji",16),Be("finish",function(r){return Tt(e),oe().onCloseToolModal(r)}),R()}}function Vke(n,t){if(1&n){const e=Ot();I(0,"app-chat-input-tool-rain",16),Be("finish",function(r){return Tt(e),oe().onCloseToolModal(r)}),R()}}function zke(n,t){if(1&n){const e=Ot();I(0,"app-chat-input-tool-gif",16),Be("finish",function(r){return Tt(e),oe().onCloseToolModal(r)}),R()}}function Wke(n,t){if(1&n){const e=Ot();I(0,"div",17)(1,"div",18)(2,"div",19),Be("animationend",function(){return Tt(e),oe().onWaitEnd()}),R()(),I(3,"p"),Y(4),K(5,"transloco"),R()()}if(2&n){const e=oe();_(2),Al("animation-duration",e.chatConfigService.sendMessageDelay,"ms"),_(2),dt(J(5,3,"game.chat-widget.chat-input.please wait"))}}let dg=class{constructor(t,e,i,r,o,s,a){this.app=t,this.chatConfigService=e,this.mainService=i,this.antiSpamService=r,this.chatService=o,this.cd=s,this.chatMessageService=a,this.message="",this.chatInputTools=lg,this.toolModal=null}ngOnInit(){this.value="",Li(this.inputRef.nativeElement,"input").pipe(Va(50),Gt(this)).subscribe(()=>{this.cd.detectChanges()}),Li(this.inputRef.nativeElement,"keydown").pipe(cn(t=>13===t.which),Gt(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(Gt(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()}),this.antiSpamService.isMessageSendingBlocked=!1}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.chatConfigService.maxMessageLength}sendMessage(){const t=function Yke(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.chatMessageService.sendMessage({type:$l.Text,text:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t){void 0!==t?!1===this.antiSpamService.isMessageSendingBlocked&&("object"==typeof t?(this.chatMessageService.sendMessage(t),this.showToolModal(null)):this.addToInput(t)):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.antiSpamService.isMessageSendingBlocked=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===lg.Emoji}get isRainShown(){return this.toolModal===lg.Rain}get isGifShown(){return this.toolModal===lg.Gif}get leftLength(){return this.chatConfigService.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};function $ke(n,t){if(1&n){const e=Ot();I(0,"div",1),Be("click",function(){return Tt(e),oe().scrollService.onScrollToBottom()}),Y(1),K(2,"transloco"),ye(3,"span",2),R()}2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.New messages")," "))}dg.\u0275fac=function(t){return new(t||dg)(Z(Yi),Z(xm),Z($r),Z(V0),Z(sv),Z(Rn),Z(Im))},dg.\u0275cmp=_t({type:dg,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&fo(Bke,7),2&t){let i;ii(i=ri())&&(e.inputRef=i.first)}},decls:16,vars:15,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,e){1&t&&(I(0,"div",0),ye(1,"textarea",1,2),K(3,"transloco"),I(4,"div",3),te(5,Uke,1,0,"div",4),te(6,jke,1,0,"div",5),te(7,Gke,5,3,"div",6),I(8,"div",7),Y(9),R()(),I(10,"button",8),Be("click",function(){return e.onClickSend()}),R(),te(11,Hke,1,0,"app-chat-input-tool-emoji",9),te(12,Vke,1,0,"app-chat-input-tool-rain",9),te(13,zke,1,0,"app-chat-input-tool-gif",9),te(14,Wke,6,5,"div",10),K(15,"async"),R()),2&t&&(_(1),Ku("placeholder",J(3,11,"shared.reply")),Ei("maxlength",e.chatConfigService.maxMessageLength),_(4),W("ngIf",e.app.isDesktop),_(1),W("ngIf",!!e.chatConfigService.topGifs),_(1),W("ngIf",e.chatConfigService.rainConfig&&e.chatConfigService.isFreeBetsEnabled),_(2),dt(e.leftLength),_(1),W("disabled",!e.isValid),_(1),W("ngIf",e.isEmojiShown),_(1),W("ngIf",e.isRainShown),_(1),W("ngIf",e.isGifShown),_(1),W("ngIf",J(15,13,e.antiSpamService.isMessageSendingBlocked$)))},directives:[zt,Ike,Ake,ug],pipes:[Jt,pr],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),dg=qe([si()],dg);let Xke=(()=>{class n{constructor(e){this.scrollService=e}}return n.\u0275fac=function(e){return new(e||n)(Z(Y0))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-body"]],decls:4,vars:3,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(e,i){1&e&&(ye(0,"app-chat-messages-list")(1,"app-chat-input"),te(2,$ke,4,3,"div",0),K(3,"async")),2&e&&(_(2),W("ngIf",J(3,1,i.scrollService.newMessagesAdded$)))},directives:[yke,dg,zt],pipes:[pr,Jt],styles:[".chat-input[_ngcontent-%COMP%]{height:67px}.notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}"],changeDetection:0}),n})();function Kke(n,t){1&n&&ye(0,"app-chat-body",4)}function qke(n,t){1&n&&(I(0,"div",5)(1,"span"),Y(2),K(3,"transloco"),R()()),2&n&&(_(2),ie(" ",J(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function Jke(n,t){1&n&&(I(0,"div",5)(1,"span"),Y(2),K(3,"transloco"),R()()),2&n&&(_(2),ie(" ",J(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function Zke(n,t){1&n&&(I(0,"div",5)(1,"span"),Y(2),K(3,"transloco"),R()()),2&n&&(_(2),ie(" ",J(3,1,"game.chat-widget.chat-connector-message.Chat has been disconnected.")," "))}function Qke(n,t){if(1&n&&(I(0,"div",1),ye(1,"app-chat-header"),te(2,Kke,1,0,"app-chat-body",2),te(3,qke,4,3,"div",3),te(4,Jke,4,3,"div",3),te(5,Zke,4,3,"div",3),R()),2&n){const e=t.ngIf,i=oe();_(2),W("ngIf",e.isChatInited&&e.stompState.state===i.connectorState.Connected),_(1),W("ngIf",!e.isChatInited&&e.stompState.state===(i.connectorState.None||i.connectorState.Connected)),_(1),W("ngIf",e.stompState.state===i.connectorState.Reconnecting),_(1),W("ngIf",e.stompState.state===i.connectorState.Disconnected)}}let hg=class{constructor(t,e,i,r,o){this.stomp=t,this.chat=e,this.scrollService=i,this.chatFeatureService=r,this.cd=o,this.data$=xu({stompState:this.stomp.state$,isChatInited:this.chat.isChatInited$}),this.connectorState=Hc}ngOnInit(){this.initChat(),this.chatFeatureService.isOpen$.pipe(cn(t=>t),Gt(this)).subscribe(()=>this.scrollService.scrollToBottom()),Li(document.fonts,"loadingdone").pipe(Gt(this)).subscribe(()=>this.scrollService.scrollToBottom())}initChat(){this.stomp.response(hi.ChatInit).pipe(Gt(this)).subscribe(()=>{this.cd.detectChanges()})}};hg.\u0275fac=function(t){return new(t||hg)(Z(Ta),Z(sv),Z(Y0),Z(pl),Z(Rn))},hg.\u0275cmp=_t({type:hg,selectors:[["app-new-chat"]],decls:2,vars:3,consts:[["class","chat-wrapper",4,"ngIf"],[1,"chat-wrapper"],["class","chat-body",4,"ngIf"],["class","state-message-wrapper",4,"ngIf"],[1,"chat-body"],[1,"state-message-wrapper"]],template:function(t,e){1&t&&(te(0,Qke,6,4,"div",0),K(1,"async")),2&t&&W("ngIf",J(1,1,e.data$))},directives:[zt,PNe,Xke],pipes:[pr,Jt],styles:['.chat-wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.chat-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.chat-wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.chat-wrapper[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{height:calc(100% - var(--headerHeight));width:100%;max-width:360px}.chat-wrapper[_ngcontent-%COMP%]   .state-message-wrapper[_ngcontent-%COMP%]{position:absolute;top:var(--headerHeight);left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#000000;z-index:120}'],changeDetection:0}),hg=qe([si()],hg);let e3e=(()=>{class n{constructor(e,i){this.chatService=e,this.mainService=i}}return n.\u0275fac=function(e){return new(e||n)(Z(pl),Z($r))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),ye(2,"div",2),I(3,"span"),Y(4),K(5,"async"),R()(),I(6,"div",3)(7,"button",4),Be("click",function(){return i.chatService.isOpen=!1}),I(8,"span"),Y(9,"\xd7"),R()()()()),2&e&&(_(4),dt(J(5,1,i.mainService.onlinePlayers$)))},pipes:[pr],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"],changeDetection:0}),n})();var hw=(()=>(function(n){n.reply="reply",n.translate="translate"}(hw||(hw={})),hw))(),Ib=(()=>(function(n){n.header="header"}(Ib||(Ib={})),Ib))(),av=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(av||(av={})),av))(),lv=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(lv||(lv={})),lv))();function t3e(n,t){if(1&n&&(I(0,"span",5),Y(1),K(2,"maskedUsername"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,e.banInfo.playerName)," ")}}function n3e(n,t){1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function i3e(n,t){1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function r3e(n,t){1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function o3e(n,t){1&n&&(I(0,"span",6),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function s3e(n,t){1&n&&(I(0,"span",6),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function a3e(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),Hn(" ",e.day,"",J(2,2,"game.chat-widget.chat-message.chat-message-ban.day"),"")}}function l3e(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),Hn(" ",e.hour,"",J(2,2,"game.chat-widget.chat-message.chat-message-ban.hour"),"")}}function c3e(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),Hn(" ",e.min,"",J(2,2,"game.chat-widget.chat-message.chat-message-ban.min"),"")}}function u3e(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),Hn(" ",e.sec,"",J(2,2,"game.chat-widget.chat-message.chat-message-ban.sec"),"")}}function d3e(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe();_(1),ie(" ",J(2,1,"game.chat-widget.chat-message.chat-message-ban."+e.banInfo.reason)," ")}}function h3e(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe();_(1),dt(e.banInfo.reason)}}let f3e=(()=>{class n{constructor(){this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=new Wi(0);this.banInfo.isMyResponse?(e=new Wi(this.banInfo.chatBanEndDate).minus(Date.now()).div(1e3),e=e.lte(0)?new Wi(1):e):e=new Wi(this.banInfo.duration),this.day=e.div(86400).floor().toNumber(),this.hour=e.mod(86400).div(3600).floor().toNumber(),this.min=e.mod(3600).div(60).floor().toNumber(),this.sec=e.mod(60).floor().toNumber(),this.isShownDay=!!this.day,this.isShownHour=!!this.hour,this.isShownMin=!!this.min,this.isShownSec=!!this.sec}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:20,vars:18,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),te(2,t3e,3,3,"span",2),te(3,n3e,3,3,"span",3),te(4,i3e,3,3,"span",3),te(5,r3e,3,3,"span",3),te(6,o3e,3,3,"span",4),te(7,s3e,3,3,"span",4),I(8,"span"),Y(9),K(10,"transloco"),R(),te(11,a3e,3,4,"span",3),te(12,l3e,3,4,"span",3),te(13,c3e,3,4,"span",3),te(14,u3e,3,4,"span",3),I(15,"span"),Y(16),K(17,"transloco"),R(),te(18,d3e,3,3,"span",3),te(19,h3e,2,1,"span",3),R()()),2&e&&(_(2),W("ngIf",i.banInfo.playerName),_(1),W("ngIf",i.banInfo.isMyResponse),_(1),W("ngIf",i.banInfo.playerName),_(1),W("ngIf",i.banInfo.isMyResponse),_(1),W("ngIf",i.banInfo.playerName),_(1),W("ngIf",i.banInfo.isMyResponse),_(2),ie(" ",J(10,14,"game.chat-widget.chat-message.chat-message-ban.from chat for")," "),_(2),W("ngIf",i.isShownDay),_(1),W("ngIf",i.isShownHour),_(1),W("ngIf",i.isShownMin),_(1),W("ngIf",i.isShownSec),_(2),dt(J(17,16,"game.chat-widget.chat-message.chat-message-ban.reason")),_(2),W("ngIf",!i.isReasonOther),_(1),W("ngIf",i.isReasonOther))},directives:[zt],pipes:[pa,Jt],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})();const p3e=["(\\[b\\]@\\w+\\[\\/b\\])"],g3e=["(\\[b\\])","(\\[\\/b\\])"],m3e={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function _$(n){return new RegExp(n.join("|"),"g")}function v3e(n,t){1&n&&(I(0,"span",4),Y(1," Mod "),R())}function y3e(n,t){1&n&&(I(0,"span",5),Y(1," Bot "),R())}let b3e=(()=>{class n{constructor(e,i,r){this.oldChat=e,this.app=i,this.maskedUsernamePipe=r}tagUser(){this.oldChat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===lv.moderator}get isBotMessageType(){return this.senderType===lv.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(Z(vh),Z(Yi),Z(pa))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[ni([pa])],decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(I(0,"span",0)(1,"span",1),Be("click",function(){return i.tagUser()}),Y(2),R(),te(3,v3e,2,0,"span",2),te(4,y3e,2,0,"span",3),R()),2&e&&(_(2),dt(i.username),_(1),W("ngIf",i.isModeratorMessageType),_(1),W("ngIf",i.isBotMessageType))},directives:[zt],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function S3e(n,t){if(1&n&&(I(0,"span",7),Y(1),R()),2&n){const e=oe().$implicit;Lt("reply-me",e.isReplyForMe),_(1),ie(" ",e.str," ")}}function C3e(n,t){if(1&n&&(I(0,"span"),Y(1),K(2,"transloco"),R()),2&n){const e=oe().$implicit;_(1),dt(J(2,1,"game.chat-widget.chat-message."+e.str))}}function E3e(n,t){if(1&n&&(I(0,"span"),Y(1),R()),2&n){const e=oe().$implicit;_(1),dt(e.str)}}function T3e(n,t){if(1&n&&(vt(0)(1,3),te(2,S3e,2,3,"span",4),te(3,C3e,3,3,"span",5),te(4,E3e,2,1,"span",6),yt()()),2&n){const e=t.$implicit,i=oe();_(1),W("ngSwitch",e.type),_(1),W("ngSwitchCase",i.chatMessageChunkTypes.reply),_(1),W("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let w3e=(()=>{class n{constructor(){this.chatMessageChunkTypes=hw,this.chatMessageSenderTypes=lv,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(_$(p3e)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),o={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(o)})}getChunkMessage(e,i){return i===this.chatMessageChunkTypes.reply?e.replace(_$(g3e),""):e}getChunkTypeMessage(e){return function _3e(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isShouldBeTranslated&&m3e.hasOwnProperty(e)?this.chatMessageChunkTypes.translate:""}get isShouldBeTranslated(){return this.senderType===this.chatMessageSenderTypes.bot||this.messageType===av.rain||this.messageType===av.winInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",playerName:"playerName",messageType:"messageType",senderType:"senderType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"]],template:function(e,i){1&e&&(I(0,"span",0),ye(1,"app-chat-message-name",1),te(2,T3e,5,3,"ng-container",2),R()),2&e&&(_(1),W("senderType",i.senderType)("playerName",i.playerName),_(1),W("ngForOf",i.messageChunks))},directives:[b3e,Kn,Ko,Ts,du],pipes:[Jt],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function M3e(n,t){if(1&n&&(I(0,"div",3),Y(1),R()),2&n){const e=oe();_(1),ie(" ",e.usersLikesNumber," ")}}let fg=class{constructor(t,e){this.cd=t,this.connector=e,this.usersLikesNumber=0,this.loading=!1}ngOnInit(){this.connector.response(xn.Like,200).pipe(cn(t=>this.messageId===t.messageId),Ha(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber}),Gt(this)).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(lr.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function O3e(n,t){if(1&n&&(vt(0),I(1,"div",3)(2,"div",4),ye(3,"img",5),R(),I(4,"div",6)(5,"div",7),ye(6,"app-chat-message-text",8),R()(),I(7,"div",9),ye(8,"app-chat-message-likes",10),R()(),yt()),2&n){const e=oe();_(3),W("src",e.getAvatar(e.message),pn)("alt",e.getAvatar(e.message)),_(3),W("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),_(2),W("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function P3e(n,t){if(1&n&&(vt(0),I(1,"div",3)(2,"div",4),ye(3,"img",5),R(),I(4,"div",11)(5,"div",7),ye(6,"app-chat-message-text",8),R()(),I(7,"div",9),ye(8,"app-chat-message-likes",10),R()(),yt()),2&n){const e=oe();_(3),W("src",e.getAvatar(e.message),pn)("alt",e.getAvatar(e.message)),_(3),W("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),_(2),W("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}fg.\u0275fac=function(t){return new(t||fg)(Z(Rn),Z(qi))},fg.\u0275cmp=_t({type:fg,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,M3e,2,1,"div",1),I(2,"div",2),Be("click",function(){return e.onLike()}),R()()),2&t&&(_(1),W("ngIf",e.hasLikes),_(1),Lt("active",e.isActiveMeLike))},directives:[zt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),fg=qe([si()],fg);let x3e=(()=>{class n{constructor(){this.chatMessageRegularTypes=Ib}getAvatar(e){return ga(ko_avatarPath+e.profileImage)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],["draggable","false",1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","messageType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(vt(0,0),te(1,O3e,9,9,"ng-container",1),te(2,P3e,9,9,"ng-container",2),yt()),2&e&&(W("ngSwitch",i.type),_(1),W("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[Ko,Ts,w3e,fg,du],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),m$=(()=>{class n{transform(e,i){return i?"":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=xo({name:"hideCurrency",type:n,pure:!0}),n})(),I3e=(()=>{class n{constructor(e,i,r){this.app=e,this.gameConfig=i,this.main=r}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi),Z(Yn),Z($r))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:38,vars:36,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],["draggable","false",1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"div",2),Be("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),R()(),I(3,"div",3),ye(4,"img",4),I(5,"div"),Y(6),K(7,"maskedUsername"),R()(),I(8,"div",5)(9,"div",6)(10,"div",7),Y(11),K(12,"transloco"),R(),I(13,"div",8),Y(14),K(15,"multiplierPrecision"),R()(),I(16,"div",6)(17,"div",7),Y(18),K(19,"transloco"),K(20,"hideCurrency"),R(),I(21,"div",9),Y(22),K(23,"currencyPrecision"),R()()(),I(24,"div",5)(25,"div",6)(26,"div",7),Y(27),K(28,"transloco"),R(),I(29,"div",9),Y(30),K(31,"multiplierPrecision"),R()(),I(32,"div",6)(33,"div",7),Y(34),K(35,"transloco"),K(36,"hideCurrency"),R(),ye(37,"app-bet-amount",10),R()()()),2&e&&(_(4),W("src",i.app.getAvatarUrl(i.winInfo.profileImage),pn)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),_(2),ie(" ",J(7,14,i.winInfo.playerName)," "),_(5),ie("",J(12,16,"shared.cashed_out"),":"),_(3),ie(" ",J(15,18,i.winInfo.multiplier),"x "),_(4),Hn(" ",J(19,20,"shared.win"),", ",nn(20,22,i.winInfo.currency,i.gameConfig.isCurrencyNameHidden),": "),_(4),ie(" ",J(23,25,i.winInfo.winAmount)," "),_(5),ie("",J(28,27,"shared.round"),":"),_(3),ie(" ",J(31,29,i.winInfo.roundMaxMultiplier),"x "),_(4),Hn(" ",J(35,31,"shared.bet"),", ",nn(36,33,i.winInfo.currency,i.gameConfig.isCurrencyNameHidden),": "),_(3),W("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[vd,$0],pipes:[pa,Jt,Ws,m$,zn],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var Ab=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(Ab||(Ab={})),Ab))();function A3e(n,t){if(1&n&&(vt(0),I(1,"div",11),ye(2,"img",12),I(3,"div",13),Y(4),K(5,"maskedUsername"),R()(),yt()),2&n){const e=oe().$implicit,i=oe();_(2),W("src",i.app.getAvatarUrl(e.profileImage),pn)("alt",i.app.getAvatarUrl(e.profileImage)),_(1),Lt("me",e.isMe),_(1),ie(" ",J(5,5,e.playerName)," ")}}function D3e(n,t){if(1&n){const e=Ot();vt(0),I(1,"button",14),Be("click",function(){Tt(e);const r=oe().$implicit,o=oe();return o.onClaimRain({rainWinnerId:r.rainWinnerId,rainId:o.rainInfo.rainId})}),Y(2),K(3,"transloco"),R(),yt()}if(2&n){const e=oe(2);_(1),W("disabled",!e.rainInfo.isCanClaim),_(1),ie(" ",J(3,2,"shared.claim")," ")}}function R3e(n,t){1&n&&(vt(0),I(1,"button",15),Y(2),K(3,"transloco"),R(),yt()),2&n&&(_(1),W("disabled",!0),_(1),ie(" ",J(3,2,"shared.claim")," "))}function N3e(n,t){if(1&n&&(I(0,"div",7)(1,"div",8)(2,"span"),Y(3),K(4,"currencyPrecision"),K(5,"hideCurrency"),R()(),vt(6,9),te(7,A3e,6,7,"ng-container",10),te(8,D3e,4,4,"ng-container",10),te(9,R3e,4,4,"ng-container",10),yt(),R()),2&n){const e=t.$implicit,i=oe();_(3),Hn(" ",J(4,6,i.rainInfo.rainAmountPerUser)," ",nn(5,8,i.rainInfo.currency,i.gameConfig.isCurrencyNameHidden)," "),_(3),W("ngSwitch",e.rainNodeStatus),_(1),W("ngSwitchCase",i.rainNodeStatus.Claimed),_(1),W("ngSwitchCase",i.rainNodeStatus.Free),_(1),W("ngSwitchCase",i.rainNodeStatus.Canceled)}}let pg=class{constructor(t,e,i,r,o,s,a){this.app=t,this.gameConfig=e,this.connector=i,this.soundService=r,this.captcha=o,this.cd=s,this.freeBets=a,this.rainNodeStatus=Ab}ngOnInit(){this.connector.response(xn.ClaimRainWin).pipe(cn(t=>t.rainId===this.rainInfo.rainId),Gt(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.gameConfig.reCaptchaSiteKey?this.captcha.execute(this.gameConfig.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(lr.ClaimRainWin,t)}):this.connector.request(lr.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(t.rainNodeStatus!==Ab.Canceled&&this.soundService.play(Is.FreeBet),this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}get rainWinnersInfo(){return Object.values(this.rainInfo.rainWinnerInfo)}};function k3e(n,t){if(1&n&&(vt(0),I(1,"div",3),ye(2,"app-chat-message-ban",4),R(),yt()),2&n){const e=oe();_(2),W("banInfo",e.message.banInfo)}}pg.\u0275fac=function(t){return new(t||pg)(Z(Yi),Z(Yn),Z(qi),Z(mh),Z(SV),Z(Rn),Z(Iu))},pg.\u0275cmp=_t({type:pg,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],["draggable","false",1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2),te(3,N3e,10,11,"div",3),R()(),I(4,"div",4)(5,"div",5)(6,"span"),Y(7),K(8,"transloco"),K(9,"transloco"),R(),I(10,"span",6),Y(11),K(12,"currencyPrecision"),K(13,"hideCurrency"),R()()()()),2&t&&(_(3),W("ngForOf",e.rainWinnersInfo),_(4),Hn(" ",J(8,5,"shared.rain")," \u{1f327} | ",J(9,7,"shared.total")," "),_(4),Hn(" ",J(12,9,e.rainInfo.rainFullAmount)," ",nn(13,11,e.rainInfo.currency,e.gameConfig.isCurrencyNameHidden)," "))},directives:[Kn,Ko,Ts],pipes:[zn,m$,pa,Jt],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),pg=qe([si()],pg);const L3e=function(n,t,e){return{low:n,medium:t,high:e}};function F3e(n,t){if(1&n&&(vt(0),I(1,"div",5)(2,"div",6),ye(3,"app-chat-message-regular",7),R(),ye(4,"app-chat-share-bet",8),R(),yt()),2&n){const e=oe();_(1),W("ngClass",y_(4,L3e,e.message.winInfo.multiplier>=e.multiplierLevel.Low&&e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),_(2),W("type",e.chatMessageRegularTypes.header)("message",e.message),_(1),W("winInfo",e.message.winInfo)}}function B3e(n,t){if(1&n&&(vt(0),I(1,"div",9)(2,"div",6),ye(3,"app-chat-message-regular",7),R(),ye(4,"app-chat-rain",10),R(),yt()),2&n){const e=oe();_(3),W("type",e.chatMessageRegularTypes.header)("message",e.message),_(1),W("rainInfo",e.message.rainInfo)}}const U3e=function(n,t){return{width:n,height:t}};function j3e(n,t){if(1&n&&(vt(0),I(1,"div",12)(2,"div"),ye(3,"app-chat-message-regular",7),R(),I(4,"div",13)(5,"div",14),ye(6,"img",15),R()()(),yt()),2&n){const e=oe(2);_(3),W("type",e.chatMessageRegularTypes.header)("message",e.message),_(2),W("ngStyle",sl(4,U3e,e.gifWidth+"px",e.gifHeight+"px")),_(1),W("src",e.gifInfo.url,pn)}}function G3e(n,t){if(1&n&&(vt(0),te(1,j3e,7,7,"ng-container",11),yt()),2&n){const e=oe();_(1),W("ngIf",e.gifInfo)}}function H3e(n,t){if(1&n&&(vt(0),I(1,"div",3),ye(2,"app-chat-message-regular",16),R(),yt()),2&n){const e=oe();_(2),W("message",e.message)}}let V3e=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=av,this.chatMessageRegularTypes=Ib,this.multiplierLevel=yh}ngOnInit(){this.isGifShown&&(this.gifInfo="object"==typeof this.message.gifInfo?this.message.gifInfo:JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[4,"ngIf"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["draggable","false","alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(vt(0,0),te(1,k3e,3,1,"ng-container",1),te(2,F3e,5,8,"ng-container",1),te(3,B3e,5,3,"ng-container",1),te(4,G3e,2,1,"ng-container",1),te(5,H3e,3,1,"ng-container",2),yt()),2&e&&(W("ngSwitch",i.message.messageType),_(1),W("ngSwitchCase",i.chatMessageTypes.ban),_(1),W("ngSwitchCase",i.chatMessageTypes.winInfo),_(1),W("ngSwitchCase",i.chatMessageTypes.rain),_(1),W("ngSwitchCase",i.chatMessageTypes.gif))},directives:[Ko,Ts,f3e,Xo,x3e,I3e,pg,zt,mf,du],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#1b1c1d}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var Wh=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(Wh||(Wh={})),Wh))(),cv=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(cv||(cv={})),cv))();const z3e=["*"];let oN=(()=>{class n{constructor(){this.chatInputTools=Wh,this.closeTool=new vn}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:z3e,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(Kv(),I(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Y(5),K(6,"transloco"),R(),I(7,"button",5),Be("click",function(){return i.onCloseTool()}),I(8,"span"),Y(9,"\xd7"),R()()(),I(10,"div",6),qv(11),R()()()()),2&e&&(_(1),Lt("rain",i.title===i.chatInputTools.rain),_(4),ie(" ",J(6,3,"shared."+i.title)," "))},pipes:[Jt],styles:[".modal[_ngcontent-%COMP%]{position:absolute;display:block;margin-left:auto;margin-right:auto;inset:auto 0 67px;height:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{--headerHeight: 36px;height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:var(--headerHeight);max-height:var(--headerHeight)}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - var(--headerHeight))}"],changeDetection:0}),n})();function W3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Y3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function $3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function X3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function K3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function q3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function J3e(n,t){if(1&n&&(vt(0),I(1,"div"),Y(2),K(3,"transloco"),R(),I(4,"div",6),te(5,W3e,2,2,"span",7),R(),I(6,"div",8),Y(7),K(8,"transloco"),R(),I(9,"div",6),te(10,Y3e,2,2,"span",7),R(),I(11,"div",8),Y(12),K(13,"transloco"),R(),I(14,"div",6),te(15,$3e,2,2,"span",7),R(),I(16,"div",8),Y(17),K(18,"transloco"),R(),I(19,"div",6),te(20,X3e,2,2,"span",7),R(),I(21,"div",8),Y(22),K(23,"transloco"),R(),I(24,"div",6),te(25,K3e,2,2,"span",7),R(),I(26,"div",8),Y(27),K(28,"transloco"),R(),I(29,"div",6),te(30,q3e,2,2,"span",7),R(),yt()),2&n){const e=oe();_(2),ie(" ",J(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),_(3),W("ngForOf",e.emojiFriquentlyUsed),_(2),ie(" ",J(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),_(3),W("ngForOf",e.emojiPeople),_(2),ie(" ",J(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),_(3),W("ngForOf",e.emojiNature),_(2),ie(" ",J(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),_(3),W("ngForOf",e.emojiObjects),_(2),ie(" ",J(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),_(3),W("ngForOf",e.emojiPlaces),_(2),ie(" ",J(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),_(3),W("ngForOf",e.emojiSymbols)}}function Z3e(n,t){if(1&n){const e=Ot();I(0,"span",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).onClickEmoji(o.pic)}),Y(1),R()}if(2&n){const e=t.$implicit;W("title",e.title),_(1),ie(" ",e.pic," ")}}function Q3e(n,t){if(1&n&&(vt(0),I(1,"div",6),te(2,Z3e,2,2,"span",7),R(),yt()),2&n){const e=oe();_(2),W("ngForOf",e.searchList)}}let eLe=(()=>{class n{constructor(){this.finish=new vn,this.chatInputToolWrapperTitles=cv,this.searchText="",this.searchList=[],this.emojiForSearch=[],this.emojiFriquentlyUsed=[],this.emojiPeople=[],this.emojiNature=[],this.emojiObjects=[],this.emojiPlaces=[],this.emojiSymbols=[]}ngOnInit(){this.emojiForSearch=Ka.slice(9),this.emojiFriquentlyUsed=Ka.slice(0,9),this.emojiPeople=Ka.slice(9,150),this.emojiNature=Ka.slice(150,226),this.emojiObjects=Ka.slice(226,309),this.emojiPlaces=Ka.slice(309,335),this.emojiSymbols=Ka.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const o of this.emojiForSearch)o.title.includes(e)&&i.push(o);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=_t({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(I(0,"app-chat-input-tool-wrapper",0),Be("closeTool",function(){return i.finish.emit()}),I(1,"div",1)(2,"div",2)(3,"textarea",3),Be("ngModelChange",function(o){return i.searchText=o})("ngModelChange",function(o){return i.onModelChange(o)})("keydown.enter",function(o){return i.preventDefault(o)}),K(4,"transloco"),R()()(),I(5,"div",4),te(6,J3e,31,24,"ng-container",5),te(7,Q3e,3,1,"ng-container",5),R()()),2&e&&(W("title",i.chatInputToolWrapperTitles.emoji),_(3),Ku("placeholder",J(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),W("ngModel",i.searchText)("maxlength",20),_(3),W("ngIf",!i.isShownSearchList),_(1),W("ngIf",i.isShownSearchList))},directives:[oN,_d,Tm,ba,Zs,wm,zt,Kn],pipes:[Jt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),tLe=(()=>{class n{constructor(e,i){this.gameConfig=e,this.currencyPrecisionPipe=i,this.chatInputToolWrapperTitles=cv,this.amountPerUser=.5,this.numberOfUsers=0,this.finish=new vn}ngOnInit(){this.numberOfUsers=this.gameConfig.chat.rain.defaultNumOfUsers,this.amountPerUser=this.gameConfig.minBet}get minNumberOfUsers(){return this.gameConfig.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.gameConfig.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.gameConfig.chat.rain.rainMinBet}get maxAmountPerUser(){return this.gameConfig.chat.rain.rainMaxBet}get totalAmount(){return Wi.mul(this.amountPerUser,this.numberOfUsers).toNumber()}onRain(){const e=`/rain:${this.currencyPrecisionPipe.transform(this.amountPerUser)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn),Z(zn))},n.\u0275cmp=_t({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:39,vars:35,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(I(0,"app-chat-input-tool-wrapper",0),Be("closeTool",function(){return i.finish.emit()}),I(1,"div",1)(2,"div",2),Y(3),K(4,"transloco"),R(),I(5,"div",3)(6,"div",4)(7,"span"),Y(8),K(9,"transloco"),R(),I(10,"span",5),Y(11),R()(),I(12,"div",6)(13,"app-spinner",7),Be("ngModelChange",function(o){return i.amountPerUser=o}),R()(),I(14,"div",8),Y(15),K(16,"transloco"),R(),I(17,"div",6)(18,"app-spinner",9),Be("ngModelChange",function(o){return i.numberOfUsers=o}),R()()(),I(19,"div",10)(20,"div")(21,"span"),Y(22),K(23,"transloco"),R(),I(24,"span",5),Y(25),R()()(),I(26,"div",11),Y(27),K(28,"currencyPrecision"),R(),I(29,"div",12)(30,"button",13),Be("click",function(){return i.onRain()}),I(31,"span",14),Y(32),K(33,"transloco"),R(),I(34,"span"),Y(35),K(36,"currencyPrecision"),R(),I(37,"span"),Y(38),R()()()()()),2&e&&(W("title",i.chatInputToolWrapperTitles.rain),_(3),ie(" ",J(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),_(5),ie(" ",J(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),_(3),dt(i.gameConfig.currency),_(2),W("formatPrecision",i.gameConfig.betPrecision)("ngModel",i.amountPerUser)("step",i.gameConfig.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),_(2),ie(" ",J(16,25,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),_(3),W("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),_(4),ie("",J(23,27,"shared.total"),","),_(3),ie(" ",i.gameConfig.currency,""),_(2),ie(" ",J(28,29,i.totalAmount)," "),_(5),dt(J(33,31,"shared.rain")),_(3),ie(" ",J(36,33,i.totalAmount),""),_(3),ie(" ",i.gameConfig.currency,""))},directives:[oN,uw,ba,Zs],pipes:[Jt,zn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();const v$=function(n){return{background:n}};function nLe(n,t){if(1&n){const e=Ot();I(0,"div",8)(1,"div",9),Be("click",function(){const o=Tt(e).$implicit;return oe(2).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;_(1),W("ngStyle",Ii(1,v$,"url("+e.url+") center center/cover"))}}function iLe(n,t){if(1&n&&(vt(0),te(1,nLe,2,3,"div",7),yt()),2&n){const e=oe();_(1),W("ngForOf",e.oldChat.top10Gifs)}}function rLe(n,t){if(1&n){const e=Ot();I(0,"div",8)(1,"div",9),Be("click",function(){const o=Tt(e).$implicit;return oe(3).shareGif(o.id)}),R()()}if(2&n){const e=t.$implicit;_(1),W("ngStyle",Ii(1,v$,"url("+e.url+") center center/cover"))}}function oLe(n,t){if(1&n&&(vt(0),te(1,rLe,2,3,"div",7),yt()),2&n){const e=oe(2);_(1),W("ngForOf",e.searchList)}}function sLe(n,t){1&n&&(I(0,"div",11),ye(1,"app-loader"),R())}function aLe(n,t){if(1&n&&(vt(0),te(1,oLe,2,1,"ng-container",6),te(2,sLe,2,0,"div",10),yt()),2&n){const e=oe();_(1),W("ngIf",e.searchList&&e.searchList.length),_(1),W("ngIf",!(e.searchList&&e.searchList.length))}}let gg=class{constructor(t,e,i){this.connector=t,this.cd=e,this.oldChat=i,this.finish=new vn,this.searchInput=new Xe,this.chatInputToolWrapperTitles=cv,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(xn.SearchGifs,200).pipe(Gt(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=Array.isArray(t.gifsInfo)?t.gifsInfo:jH(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(rN(1e3),_h(),Gt(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(lr.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.trim().length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};gg.\u0275fac=function(t){return new(t||gg)(Z(qi),Z(Rn),Z(vh))},gg.\u0275cmp=_t({type:gg,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(I(0,"app-chat-input-tool-wrapper",0),Be("closeTool",function(){return e.finish.emit()}),I(1,"div",1)(2,"div",2),ye(3,"div",3),I(4,"textarea",4),Be("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),K(5,"transloco"),R()()(),I(6,"div",5),te(7,iLe,2,1,"ng-container",6),te(8,aLe,3,2,"ng-container",6),R()()),2&t&&(W("title",e.chatInputToolWrapperTitles.gif),_(4),Ku("placeholder",J(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),W("ngModel",e.searchText)("maxlength",20),_(3),W("ngIf",!e.isShownSearchList),_(1),W("ngIf",e.isShownSearchList))},directives:[oN,_d,Tm,ba,Zs,wm,zt,Kn,mf,Gc],pipes:[Jt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),gg=qe([si()],gg);const lLe=["input"];function cLe(n,t){if(1&n){const e=Ot();I(0,"div",11),Be("click",function(){Tt(e);const r=oe();return r.showToolModal(r.chatInputTools.emoji)}),R()}}function uLe(n,t){if(1&n){const e=Ot();I(0,"div",12),Be("click",function(){Tt(e);const r=oe();return r.showToolModal(r.chatInputTools.gif)}),R()}}function dLe(n,t){if(1&n){const e=Ot();I(0,"div",13),Be("click",function(){Tt(e);const r=oe();return r.showToolModal(r.chatInputTools.rain)}),ye(1,"div",14),I(2,"div",15),Y(3),K(4,"transloco"),R()()}2&n&&(_(3),dt(J(4,1,"shared.rain")))}function hLe(n,t){if(1&n){const e=Ot();I(0,"app-chat-input-tool-emoji",16),Be("finish",function(r){return Tt(e),oe().onCloseToolModal(r,"emoji")}),R()}}function fLe(n,t){if(1&n){const e=Ot();I(0,"app-chat-input-tool-rain",16),Be("finish",function(r){return Tt(e),oe().onCloseToolModal(r,"rain")}),R()}}function pLe(n,t){if(1&n){const e=Ot();I(0,"app-chat-input-tool-gif",16),Be("finish",function(r){return Tt(e),oe().onCloseToolModal(r,"gif")}),R()}}function gLe(n,t){if(1&n){const e=Ot();I(0,"div",17)(1,"div",18)(2,"div",19),Be("animationend",function(){return Tt(e),oe().onWaitEnd()}),R()(),I(3,"p"),Y(4),K(5,"transloco"),R()()}if(2&n){const e=oe();_(2),Al("animation-duration",e.gameConfig.chat.sendMessageDelay,"ms"),_(2),dt(J(5,3,"game.chat-widget.chat-input.please wait"))}}let _g=class{constructor(t,e,i,r,o,s){this.app=t,this.gameConfig=e,this.mainService=i,this.oldChat=r,this.cd=o,this.connector=s,this.message="",this.wait=!1,this.chatInputTools=Wh,this.toolModal=null}ngOnInit(){this.value="",Li(this.inputRef.nativeElement,"input").pipe(Va(50),Gt(this)).subscribe(()=>{this.cd.detectChanges()}),Li(this.inputRef.nativeElement,"keydown").pipe(cn(t=>13===t.which),Gt(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.oldChat.onTagUser.pipe(Gt(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.gameConfig.chat.maxMessageLength}sendMessage(){const t=function _Le(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(this.oldChat.isChatApiV2OrLater?lr.AddChatMessageV2:lr.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===Wh.emoji}get isRainShown(){return this.toolModal===Wh.rain}get isGifShown(){return this.toolModal===Wh.gif}get leftLength(){return this.gameConfig.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};_g.\u0275fac=function(t){return new(t||_g)(Z(Yi),Z(Yn),Z($r),Z(vh),Z(Rn),Z(qi))},_g.\u0275cmp=_t({type:_g,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&fo(lLe,7),2&t){let i;ii(i=ri())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,e){1&t&&(I(0,"div",0),ye(1,"textarea",1,2),K(3,"transloco"),I(4,"div",3),te(5,cLe,1,0,"div",4),te(6,uLe,1,0,"div",5),te(7,dLe,5,3,"div",6),I(8,"div",7),Y(9),R()(),I(10,"button",8),Be("click",function(){return e.onClickSend()}),R(),te(11,hLe,1,0,"app-chat-input-tool-emoji",9),te(12,fLe,1,0,"app-chat-input-tool-rain",9),te(13,pLe,1,0,"app-chat-input-tool-gif",9),te(14,gLe,6,5,"div",10),R()),2&t&&(_(1),Ku("placeholder",J(3,11,"shared.reply")),Ei("maxlength",e.gameConfig.chat.maxMessageLength),_(4),W("ngIf",e.app.isDesktop),_(1),W("ngIf",e.gameConfig.chat.isGifsEnabled),_(1),W("ngIf",e.gameConfig.chat.rain.isEnabled),_(2),dt(e.leftLength),_(1),W("disabled",!e.isValid),_(1),W("ngIf",e.isEmojiShown),_(1),W("ngIf",e.isRainShown),_(1),W("ngIf",e.isGifShown),_(1),W("ngIf",e.wait))},directives:[zt,eLe,tLe,gg],pipes:[Jt],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),_g=qe([si()],_g);const mLe=["container"];function vLe(n,t){1&n&&ye(0,"app-chat-message",5),2&n&&W("message",t.$implicit)}function yLe(n,t){if(1&n){const e=Ot();I(0,"div",6),Be("click",function(){return Tt(e),oe().onScrollToBottom()}),Y(1),K(2,"transloco"),ye(3,"span",7),R()}2&n&&(_(1),ie(" ",J(2,1,"game.chat-widget.New messages")," "))}let mg=class{constructor(t,e,i,r,o,s,a){this.connector=t,this.gameConfig=e,this.zone=i,this.chatFeatureService=r,this.oldChat=o,this.messageService=s,this.cd=a,this.newMessagesAdded=!1,this.trackByMessageId=(l,c)=>c.messageId}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(xn.AddChatMessage,200).pipe(Gt(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(xn.AddChatMessages,200).pipe(Gt(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(xn.DeleteChatMessage,200).pipe(Gt(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chatFeatureService.isOpen$.pipe(cn(t=>!0===t),Gt(this)).subscribe(()=>this.scrollToBottom()),Li(document.fonts,"loadingdone").pipe(Gt(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100),Li(this.scrollNativeElement,"scroll").pipe(rN(300),cn(()=>this.isScrollAtBottom&&this.newMessagesAdded),Gt(this)).subscribe(()=>{this.newMessagesAdded=!1,this.cd.detectChanges()})}onReceiveMessage(t){this.oldChat.messages.push(t.message),this.oldChat.messages.length>this.gameConfig.chat.maxMessages&&this.oldChat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chatFeatureService.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",context:Ur.Success,callback:()=>{setTimeout(()=>{this.chatFeatureService.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(i=>"rain"===i.messageType);this.oldChat.messages.push(...t.messages),this.oldChat.messages=this.oldChat.messages.slice(-this.gameConfig.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chatFeatureService.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.oldChat.messages=this.oldChat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return Math.abs(this.scrollNativeElement.scrollHeight-this.scrollNativeElement.clientHeight-this.scrollNativeElement.scrollTop)<=1}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function bLe(n,t){if(1&n&&(I(0,"div",13),ye(1,"app-engagement-tool",14),R()),2&n){const e=oe();_(1),W("engagementTools",e.gameConfig.engagementTools)("gameIdentifier",e.gameIdentifier)}}function SLe(n,t){if(1&n){const e=Ot();I(0,"app-play-board",15),Be("webglContextLost",function(){return Tt(e),oe().handleWebglContextLost()}),R()}}function CLe(n,t){1&n&&ye(0,"app-new-chat")}function ELe(n,t){1&n&&ye(0,"app-chat-widget")}function TLe(n,t){if(1&n&&(I(0,"div",16),te(1,CLe,1,0,"app-new-chat",17),te(2,ELe,1,0,"ng-template",null,18,Hs),R()),2&n){const e=Ki(3),i=oe();_(1),W("ngIf",null==i.gameConfig.engagementTools?null:i.gameConfig.engagementTools.isExternalChatEnabled)("ngIfElse",e)}}mg.\u0275fac=function(t){return new(t||mg)(Z(qi),Z(Yn),Z(Ti),Z(pl),Z(vh),Z(fl),Z(Rn))},mg.\u0275cmp=_t({type:mg,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&fo(mLe,7),2&t){let i;ii(i=ri())&&(e.containerRef=i.first)}},decls:7,vars:3,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],["class","notification",3,"click",4,"ngIf"],[3,"message"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(I(0,"div",0),ye(1,"app-chat-header"),I(2,"div",1,2),te(4,vLe,1,1,"app-chat-message",3),R(),ye(5,"app-chat-input"),te(6,yLe,4,3,"div",4),R()),2&t&&(_(4),W("ngForOf",e.oldChat.messages)("ngForTrackBy",e.trackByMessageId),_(2),W("ngIf",e.newMessagesAdded))},directives:[e3e,Kn,V3e,_g,zt],pipes:[Jt],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),mg=qe([si()],mg);let vg=class{constructor(t,e,i,r,o,s,a,l,c,u,d,f,p,T){this.chatFeatureService=t,this.freeBets=e,this.app=i,this.gameConfig=r,this.window=o,this.renderer=s,this.ifc=a,this.connector=l,this.modal=c,this.betControls=u,this.main=d,this.cd=f,this.urlParams=p,this.multiServer=T,this.gameIdentifier="AVIATOR",this.isOpenChat=!1,this.shouldRenderPlayBoard=!0}ngOnInit(){this.chatFeatureService.isOpen$.pipe(Gt(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(Gt(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.receive$(Mr.UpdateBalance).pipe(Gt(this)).subscribe(()=>this.connector.request(lr.UpdateBalance,null)),this.ifc.receive$(Mr.ContinueInternalRealityCheck).pipe(Gt(this)).subscribe(()=>this.sendNotificationCallback(Sp.Continue)),this.ifc.receive$(Mr.StopInternalRealityCheck).pipe(Gt(this)).subscribe(()=>this.sendNotificationCallback(Sp.Stop)),this.connector.response(xn.InternalRealityCheck).pipe(Gt(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted$.pipe(cn(()=>!!this.gameConfig.isActiveGameFocused),Gt(this)).subscribe(t=>this.onBetSetted(t)),this.main.getState(ar.Bet).pipe(Gt(this)).subscribe(()=>this.ifc.send(vi.StartBetTimer)),this.main.getState(ar.End).pipe(Gt(this)).subscribe(()=>this.ifc.send(vi.EndRound)),this.showInitModals(),this.app.setGameInited()}ngAfterViewInit(){this.multiServer.showNotification()}sendNotificationCallback(t){this.connector.request(lr.NotificationCallback,{notificationType:H0.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<gd.lg||this.window.getSize().width>=gd.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.send(vi.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.gameConfig.ircDisplayType===P0.Modal&&this.modal.open(ei.notification,{type:pd.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){if(!this.app.isGameInited){if(this.gameConfig.isAlderneyModalShownOnInit||this.gameConfig.modalShownOnInit===ym.Alderney)return void this.modal.open(ei.notification,{type:pd.Alderney});if(this.gameConfig.modalShownOnInit===ym.GameRules)return void this.modal.open(ei.rules)}}handleWebglContextLost(){this.shouldRenderPlayBoard=!1,this.cd.detectChanges(),this.shouldRenderPlayBoard=!0,this.cd.detectChanges()}};function wLe(n,t){if(1&n&&(vt(0),I(1,"h4",5),Y(2),K(3,"transloco"),R(),I(4,"p"),Y(5),K(6,"transloco"),R(),yt()),2&n){const e=oe(2);_(2),dt(J(3,2,e.message.heading)),_(3),ie(" ",J(6,4,"shared.ui-components.toastr.toastr-message."+e.message.value)," ")}}function MLe(n,t){if(1&n&&(I(0,"p",8),Y(1),R()),2&n){const e=oe(3);_(1),ie(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," ")}}function OLe(n,t){if(1&n){const e=Ot();I(0,"p",9),Be("click",function(r){return Tt(e),oe(3).onMessageClick(r)}),Y(1),R()}if(2&n){const e=oe(3);_(1),ie(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," ")}}function PLe(n,t){if(1&n&&(vt(0),te(1,MLe,2,1,"p",6),te(2,OLe,2,1,"p",7),yt()),2&n){const e=oe(2);_(1),W("ngIf",!e.message.callback),_(1),W("ngIf",e.message.callback)}}function xLe(n,t){if(1&n){const e=Ot();I(0,"button",10),Be("click",function(r){return Tt(e),oe(2).onCloseIconClick(r)}),I(1,"span"),Y(2,"\xd7"),R()()}}function ILe(n,t){if(1&n&&(I(0,"div",2),te(1,wLe,7,6,"ng-container",3),te(2,PLe,3,2,"ng-container",3),te(3,xLe,3,0,"button",4),R()),2&n){const e=oe();Lt("alert-dismissible",e.isClosable),W("@messageState",void 0)("ngClass",e.context),_(1),W("ngIf",e.message.heading),_(1),W("ngIf",!e.message.heading),_(1),W("ngIf",e.isClosable)}}function ALe(n,t){if(1&n&&(vt(0),I(1,"div",17),Y(2),R(),I(3,"div",16),Y(4),K(5,"number"),R(),yt()),2&n){const e=oe(2);_(2),ie(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope,e.message.params)," "),_(2),ie(" ",nn(5,2,e.message.params.multiplier,"1.2-2"),"x ")}}function DLe(n,t){1&n&&(vt(0),I(1,"div",17),Y(2),K(3,"transloco"),R(),yt()),2&n&&(_(2),ie(" ",J(3,1,"shared.ui-components.toastr.toastr-message.You have reached the Maximum Win amount!")," "))}function RLe(n,t){if(1&n){const e=Ot();I(0,"div",11)(1,"div",12),te(2,ALe,6,5,"ng-container",3),te(3,DLe,4,3,"ng-container",3),R(),I(4,"div",13)(5,"div",14)(6,"span"),Y(7),K(8,"transloco"),R(),I(9,"span",15),Y(10),R()(),I(11,"div",16)(12,"span"),Y(13),K(14,"currencyPrecision"),R()()(),I(15,"button",10),Be("click",function(r){return Tt(e),oe().onCloseIconClick(r)}),I(16,"span"),Y(17,"\xd7"),R()()()}if(2&n){const e=oe();Lt("celebrated",e.isWinCelebrated),W("@messageState",void 0),_(2),W("ngIf",!e.message.params.isMaxWinAutoCashOut),_(1),W("ngIf",e.message.params.isMaxWinAutoCashOut),_(1),Lt("celebrated",e.isWinCelebrated),_(3),dt(J(8,10,"shared.win")),_(3),ie(" ",e.message.params.currency,""),_(3),dt(J(14,12,e.message.params.winAmount))}}function NLe(n,t){}function kLe(n,t){if(1&n){const e=Ot();I(0,"button",21),Be("click",function(r){return Tt(e),oe(2).onCloseIconClick(r)}),R()}}function LLe(n,t){if(1&n&&(I(0,"div",18)(1,"div",19),Y(2),R(),te(3,kLe,1,0,"button",20),R()),2&n){const e=oe();Lt("alert-dismissible",e.isClosable),W("@messageState",void 0)("ngClass",e.context),_(2),ie(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," "),_(1),W("ngIf",e.isClosable)}}vg.\u0275fac=function(t){return new(t||vg)(Z(pl),Z(Iu),Z(Yi),Z(Yn),Z(A0),Z(ol),Z(zs),Z(qi),Z(va),Z(Au),Z($r),Z(Rn),Z(jl),Z(mm))},vg.\u0275cmp=_t({type:vg,selectors:[["app-game"]],decls:19,vars:17,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"bets-widget-container"],[1,"game-play"],["class","missions-holder",4,"ngIf"],[1,"result-history","disabled-on-game-focused"],[1,"stage-board"],[3,"webglContextLost",4,"ngIf"],[1,"bet-controls"],["class","chat-bar",4,"ngIf"],[1,"missions-holder"],[3,"engagementTools","gameIdentifier"],[3,"webglContextLost"],[1,"chat-bar"],[4,"ngIf","ngIfElse"],["oldChat",""]],template:function(t,e){1&t&&(I(0,"div",0)(1,"div",1)(2,"div",2),ye(3,"app-header"),R(),I(4,"div",3)(5,"div",4)(6,"div",5),ye(7,"app-bets-widget"),R(),I(8,"div",6),te(9,bLe,2,2,"div",7),I(10,"div",8),ye(11,"app-stats-widget"),R(),I(12,"div",9),ye(13,"app-free-bet"),te(14,SLe,1,0,"app-play-board",10),R(),I(15,"div",11),ye(16,"app-bet-controls"),R()()()()(),te(17,TLe,4,2,"div",12),K(18,"async"),R()),2&t&&(Al("--headerHeight","40px"),Lt("hide-chat-bar",!e.isOpenChat),_(1),Al("--headerHeightDynamic",e.urlParams.aviaport?0:"var(--headerHeight)"),Lt("h-100",e.app.useInnerScroll),_(3),Lt("--scrollable",e.app.useInnerScroll),_(1),Lt("game-wrap",e.isGameWrap),_(4),W("ngIf",null==e.gameConfig.engagementTools?null:e.gameConfig.engagementTools.host),_(5),W("ngIf",e.shouldRenderPlayBoard),_(3),W("ngIf",J(18,15,e.chatFeatureService.isChatEnabled$)))},directives:[xp,eIe,zt,eg,tg,ng,ig,og,hg,mg],pipes:[pr],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);height:100%;padding-top:var(--headerHeightDynamic);background:#0e0e0e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:var(--headerHeightDynamic);position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;padding:4px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .bets-widget-container[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding-left:4px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{margin-bottom:4px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:4px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;height:auto!important;padding-top:4px}.bets-widget-container[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important}.game-play[_ngcontent-%COMP%]{padding:0 0 4px!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:4px!important}}@media (min-width: 992px){.bets-widget-container[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.bets-widget-container[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.bets-widget-container[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:4px!important;padding-right:4px!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .bets-widget-container[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;margin-top:4px;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}"],changeDetection:0}),vg=qe([si()],vg);let FLe=(()=>{class n{constructor(e,i,r,o){this.translate=e,this.betControls=i,this.bsMessageService=r,this.currencyPrecisionPipe=o,this.BsMessageTemplate=gh}getTranslation(e,i,r,o){return r===M0.Challenges?e:this.translate.translate(`shared.ui-components.toastr.toastr-message.${e}`,{amount:this.formattedCurrencyValue(null==i?void 0:i.amount),duration:null==i?void 0:i.duration,minBalance:this.formattedCurrencyValue(null==i?void 0:i.minBalance),currency:null==i?void 0:i.currency,betId:null==o?void 0:o.betId})||e}get template(){return this.message.template?this.message.template:gh.Alert}get context(){return this.message.context?this.message.context:Ur.Primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}onCloseIconClick(e){e.preventDefault(),this.bsMessageService.remove(this.message)}onMessageClick(e){var i,r;null===(r=(i=this.message).callback)||void 0===r||r.call(i),this.onCloseIconClick(e)}formattedCurrencyValue(e){return this.currencyPrecisionPipe.transform(e)}}return n.\u0275fac=function(e){return new(e||n)(Z(ip),Z(Au),Z(fl),Z(zn))},n.\u0275cmp=_t({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],[1,"alert-heading"],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win"],[1,"multiplier"],[1,"win"],[1,"label","no-wrap"],[1,"currency"],[1,"value"],[1,"label"],[1,"challenge-message",3,"ngClass"],[1,"content"],["type","button","class","close-btn",3,"click",4,"ngIf"],["type","button",1,"close-btn",3,"click"]],template:function(e,i){1&e&&(vt(0,0),te(1,ILe,4,7,"ng-template",1),te(2,RLe,18,14,"ng-template",1),te(3,NLe,0,0,"ng-template",1),te(4,LLe,4,6,"ng-template",1),yt()),2&e&&(W("ngSwitch",i.template),_(1),W("ngSwitchCase",i.BsMessageTemplate.Alert),_(1),W("ngSwitchCase",i.BsMessageTemplate.Win),_(1),W("ngSwitchCase",i.BsMessageTemplate.Toast),_(1),W("ngSwitchCase",i.BsMessageTemplate.Challenge))},directives:[Ko,Ts,Xo,zt],pipes:[Jt,Ju,zn],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11;width:100%;padding:0 26px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.2e1ac1503318fc63.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5f7c6a70530963.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.challenge-message[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;font-size:14px;color:#fff;min-height:51px;padding:2px;margin:10px 0;border-radius:100px}.challenge-message.alert-success[_ngcontent-%COMP%]{background-color:#6ab32b}.challenge-message.alert-success[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#3e9e0a}.challenge-message.alert-warning[_ngcontent-%COMP%]{background-color:#fec223;color:#000}.challenge-message.alert-warning[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#ff9f00}.challenge-message.alert-warning[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:url(message-close-black.5fac8589d88be916.svg) no-repeat center center}.challenge-message.alert-danger[_ngcontent-%COMP%]{background-color:#e50539}.challenge-message.alert-danger[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#b1072e}.challenge-message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:280px;min-height:47px;display:flex;align-items:center;justify-content:flex-start;text-align:start;line-height:17px;border-radius:100px;padding:10px 15px}.challenge-message[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:18px;height:18px;border:none;margin:0 8px;background:url(message-close-white.a2d3f382dc08166e.svg) no-repeat center center;cursor:pointer}'],data:{animation:[ZR("messageState",[cRe("visible",qc({transform:"translateY(0)",opacity:1})),Eb("void => *",[qc({transform:"translateY(100%)",opacity:0}),ov("300ms ease-out")]),Eb("* => void",[ov("250ms ease-in",qc({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function BLe(n,t){1&n&&ye(0,"app-bs-message-item",2),2&n&&W("message",t.$implicit)("@messageAnimation",void 0)}let yg=class{constructor(t,e){this.message=t,this.cd=e,this.messages=[],this.timerMessages=new Set}ngOnInit(){this.message.visibleMessages$.pipe(Gt(this)).subscribe(t=>{this.messages=t,this.cd.markForCheck(),t.forEach(e=>{!e.lifeTimeInfinite&&!this.timerMessages.has(e)&&(this.timerMessages.add(e),bu(e.lifeTime||2e3).pipe(Gt(this)).subscribe(()=>{this.message.remove(e),this.timerMessages.delete(e)}))})})}};function ULe(n,t){1&n&&(I(0,"div",3),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.components.connector.reconnect")," "))}function jLe(n,t){1&n&&(I(0,"div",3),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.components.connector.slow connection")," "))}function GLe(n,t){if(1&n&&(I(0,"div",1),te(1,ULe,3,3,"div",2),te(2,jLe,3,3,"div",2),R()),2&n){const e=oe();W("@messageState",void 0),_(1),W("ngIf",e.reconnect),_(1),W("ngIf",e.connectionSlow)}}yg.\u0275fac=function(t){return new(t||yg)(Z(fl),Z(Rn))},yg.\u0275cmp=_t({type:yg,selectors:[["app-bs-message"]],decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message",4,"ngFor","ngForOf"],[3,"message"]],template:function(t,e){1&t&&(I(0,"div",0),te(1,BLe,1,2,"app-bs-message-item",1),R()),2&t&&(_(1),W("ngForOf",e.messages))},directives:[Kn,FLe],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:320px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[ZR("messageAnimation",[Eb(":enter, :leave",[function dRe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function uRe(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),yg=qe([si()],yg);let bg=class{constructor(t,e){this.connector=t,this.cd=e,this.ConnectorState=or,this.state=or.None}ngOnInit(){this.connector.state$.pipe(Gt(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return this.state===or.Reconnecting}get connectionSlow(){return this.state===or.SlowConnection}};bg.\u0275fac=function(t){return new(t||bg)(Z(qi),Z(Rn))},bg.\u0275cmp=_t({type:bg,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(t,e){1&t&&te(0,GLe,3,3,"div",0),2&t&&W("ngIf",e.reconnect||e.connectionSlow)},directives:[zt],pipes:[Jt],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[ZR("messageState",[Eb("void => *",[qc({transform:"translate(-50%,-100%)",opacity:0}),ov("300ms ease-out")]),Eb("* => void",[ov("250ms ease-in",qc({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),bg=qe([si()],bg);const HLe=function(n){return{allowedCurrencies:n}};function VLe(n,t){if(1&n&&(I(0,"div",7),Y(1),K(2,"transloco"),K(3,"join"),R()),2&n){const e=oe();_(1),ie(" ",nn(2,1,"shared.components.disconnect-message.For your region, the game can only be played with {{allowedCurrencies}} currency(ies)",Ii(6,HLe,J(3,4,e.data.allowedCurrencies)))," ")}}function zLe(n,t){1&n&&(I(0,"div",7),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.thank_you_for_playing"),". "))}function WLe(n,t){1&n&&(I(0,"div",7),Y(1),K(2,"transloco"),R()),2&n&&(_(1),ie(" ",J(2,1,"shared.components.disconnect-message.text")," "))}function YLe(n,t){if(1&n){const e=Ot();I(0,"a",8),Be("click",function(){return Tt(e),oe().onBackToHome()}),Y(1),K(2,"transloco"),R()}2&n&&(_(1),ie(" ",J(2,1,"shared.home")," "))}let $Le=(()=>{class n{constructor(e,i,r,o){this.gameConfig=e,this.urlParams=i,this.sound=r,this.ifc=o,this.disconnectReason=Ba}ngOnInit(){this.sound.stopAll(),this.ifc.send(vi.Close,Object.assign({},this.data))}onBackToHome(){var e,i;this.gameConfig&&this.gameConfig.backToHomeActionType===sp.IfcEvent?this.ifc.send(vi.BackToHome,{returnUrl:null!==(e=this.urlParams.returnUrl)&&void 0!==e?e:""}):window.open(null!==(i=this.urlParams.returnUrl)&&void 0!==i?i:"","_top")}}return n.\u0275fac=function(e){return new(e||n)(Z(Yn),Z(jl),Z(mh),Z(zs))},n.\u0275cmp=_t({type:n,selectors:[["app-disconnect-message"]],inputs:{data:"data"},decls:8,vars:4,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[3,"ngSwitch"],["class","text",4,"ngSwitchCase"],["class","text",4,"ngSwitchDefault"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],[1,"text"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0),ye(1,"div",1),I(2,"div",2),vt(3,3),te(4,VLe,4,8,"div",4),te(5,zLe,3,3,"div",4),te(6,WLe,3,3,"div",5),yt(),te(7,YLe,3,3,"a",6),R()()),2&e&&(_(3),W("ngSwitch",i.data.reason),_(1),W("ngSwitchCase",i.disconnectReason.NotAllowedCurrency),_(1),W("ngSwitchCase",i.disconnectReason.RealityCheck),_(2),W("ngIf",i.urlParams.returnUrl&&i.data.reason!==i.disconnectReason.RealityCheck))},directives:[Ko,Ts,du,zt],pipes:[Jt,Y6],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.90b760a72b279788.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:20px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const XLe=["lockUI"];function KLe(n,t){1&n&&(vt(0),ye(1,"app-game")(2,"app-bs-message")(3,"app-connector"),yt())}function qLe(n,t){1&n&&(vt(0),I(1,"span",3),Y(2),K(3,"transloco"),R(),yt()),2&n&&(_(2),dt(J(3,1,"shared.Connection...")))}function JLe(n,t){if(1&n&&(vt(0),ye(1,"app-disconnect-message",4),yt()),2&n){const e=oe();_(1),W("data",e.disconnectData)}}let ZLe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d,f,p,T,x,k,B,$,q,ee){this.app=e,this.gameConfig=i,this.connector=r,this.mainService=o,this.user=s,this.cd=a,this.sound=l,this.freeBets=c,this.statsService=u,this.oldChat=d,this.frontEndProxyService=f,this.ifc=p,this.renderer=T,this.scriptService=x,this.betControls=k,this.multiplierService=B,this.modalManagerService=$,this.inactivityTimer=q,this.ngbModal=ee,this.isGameReadyToRender=!1,this.state=or.None,this.ConnectorState=or}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.receive$(Mr.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.state$.subscribe(({state:e,data:i})=>{this.state=e,this.disconnectData=i,(e===or.Disconnected||e===or.Reconnecting||e===or.SlowConnection)&&this.ngbModal.dismissAll(),this.cd.detectChanges()}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)}),IC()&&this.frontEndProxyService.setup()}onInit(e){this.isGameReadyToRender=!1,this.cd.detectChanges(),this.gameConfig.init(Object.assign({},e.config)),this.user.init(e.user),this.connector.startPingMonitor(e.config.pingIntervalMs),this.gameConfig.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.gameConfig.reCaptchaSiteKey,()=>{}),this.gameConfig.inactivityTimeForDisconnect&&this.inactivityTimer.init(),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.oldChat.initChat(e),this.mainService.init(e),this.multiplierService.init(e),this.isGameReadyToRender=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.sendInit({balance:e.user.balance,currency:e.config.currency,precision:e.config.betPrecision,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData}),this.connector.gameReady()}}return n.\u0275fac=function(e){return new(e||n)(Z(Yi),Z(Yn),Z(qi),Z($r),Z(Bc),Z(Rn),Z(mh),Z(Iu),Z(yV),Z(vh),Z(YE),Z(zs),Z(ol),Z(lD),Z(Au),Z($E),Z(rOe),Z(oOe),Z(G0))},n.\u0275cmp=_t({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&fo(XLe,7),2&e){let r;ii(r=ri())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data"]],template:function(e,i){1&e&&(te(0,KLe,4,0,"ng-container",0),te(1,qLe,4,3,"ng-container",0),te(2,JLe,2,1,"ng-container",0),ye(3,"div",1,2)),2&e&&(W("ngIf",i.isGameReadyToRender&&i.state!==i.ConnectorState.Disconnected),_(1),W("ngIf",!i.isGameReadyToRender&&i.state!==i.ConnectorState.Disconnected),_(1),W("ngIf",i.state===i.ConnectorState.Disconnected))},directives:[zt,vg,yg,bg,$Le],pipes:[Jt],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),y$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),QLe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),eFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),tFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),nFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,eFe,tFe]]}),n})(),iFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Wr,on,QLe,y$,nFe]]}),n})(),rFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,iFe]]}),n})(),oFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),sFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),aFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),S$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,aFe]]}),n})(),C$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,y$]]}),n})(),E$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),T$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,jc]]}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Wr]]}),n})(),lFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Wr]]}),n})(),cFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,lFe]]}),n})(),uFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,jc,cFe]]}),n})(),dFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Wr]]}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,jc]]}),n})(),hFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,jc,S$,b$,C$,E$,T$,w$,uFe,dFe,M$]]}),n})(),O$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Y_,Wr]]}),n})(),Aa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),fFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,O$,Aa]]}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Aa,Wr]]}),n})(),pFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),gFe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,jc,pFe,Aa,P$]]}),n})();function x$(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function sN(n,t){void 0===n&&(n={}),void 0===t&&(t={}),Object.keys(t).forEach(e=>{void 0===n[e]?n[e]=t[e]:x$(t[e])&&x$(n[e])&&Object.keys(t[e]).length>0&&sN(n[e],t[e])})}const I$={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Rs(){const n="undefined"!=typeof document?document:{};return sN(n,I$),n}const _Fe={document:I$,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>"undefined"==typeof setTimeout?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){"undefined"!=typeof setTimeout&&clearTimeout(n)}};function mo(){const n="undefined"!=typeof window?window:{};return sN(n,_Fe),n}function Yh(n){return void 0===n&&(n=""),n.trim().split(" ").filter(t=>!!t.trim())}function Sg(n,t){return void 0===t&&(t=0),setTimeout(n,t)}function cc(){return Date.now()}function aN(n,t){void 0===t&&(t="x");const e=mo();let i,r,o;const s=function vFe(n){const t=mo();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}(n);return e.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new e.WebKitCSSMatrix("none"===r?"":r)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===t&&(r=e.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=e.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Db(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function yFe(n){return"undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function bl(){const n=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const i=e<0||arguments.length<=e?void 0:arguments[e];if(null!=i&&!yFe(i)){const r=Object.keys(Object(i)).filter(o=>t.indexOf(o)<0);for(let o=0,s=r.length;o<s;o+=1){const a=r[o],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(Db(n[a])&&Db(i[a])?i[a].__swiper__?n[a]=i[a]:bl(n[a],i[a]):!Db(n[a])&&Db(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:bl(n[a],i[a])):n[a]=i[a])}}}return n}function Rb(n,t,e){n.style.setProperty(t,e)}function A$(n){let{swiper:t,targetPosition:e,side:i}=n;const r=mo(),o=-t.translate;let a,s=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>o?"next":"prev",u=(f,p)=>"next"===c&&f>=p||"prev"===c&&f<=p,d=()=>{a=(new Date).getTime(),null===s&&(s=a);const f=Math.max(Math.min((a-s)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let T=o+p*(e-o);if(u(T,e)&&(T=e),t.wrapperEl.scrollTo({[i]:T}),u(T,e))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:T})}),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Cg(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function Ns(n,t){return void 0===t&&(t=""),[...n.children].filter(e=>e.matches(t))}function fw(n){try{return void console.warn(n)}catch(t){}}function Sl(n,t){void 0===t&&(t=[]);const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:Yh(t)),e}function pw(n){const t=mo(),e=Rs(),i=n.getBoundingClientRect(),r=e.body;return{top:i.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||r.clientTop||0),left:i.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||r.clientLeft||0)}}function $h(n,t){return mo().getComputedStyle(n,null).getPropertyValue(t)}function Nb(n){let e,t=n;if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}}function Eg(n,t){const e=[];let i=n.parentElement;for(;i;)t?i.matches(t)&&e.push(i):e.push(i),i=i.parentElement;return e}function kb(n,t){t&&n.addEventListener("transitionend",function e(i){i.target===n&&(t.call(n,i),n.removeEventListener("transitionend",e))})}function lN(n,t,e){const i=mo();return e?n["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):n.offsetWidth}function pi(n){return(Array.isArray(n)?n:[n]).filter(t=>!!t)}let cN,uN,dN;function D$(){return cN||(cN=function CFe(){const n=mo(),t=Rs();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}()),cN}function R$(n){return void 0===n&&(n={}),uN||(uN=function EFe(n){let{userAgent:t}=void 0===n?{}:n;const e=D$(),i=mo(),r=i.navigator.platform,o=t||i.navigator.userAgent,s={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===r;let T="MacIntel"===r;return!u&&T&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),T=!1),c&&!p&&(s.os="android",s.android=!0),(u||f||d)&&(s.os="ios",s.ios=!0),s}(n)),uN}var PFe={on(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;const r=e?"unshift":"push";return n.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](t)}),i},once(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];t.apply(i,s)}return r.__emitterProxy=t,i.on(n,r,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||"function"!=typeof n)return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[i](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(i=>{void 0===t?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&e.eventsListeners[i].splice(o,1)})}),e},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let t,e,i;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],e=o.slice(1,o.length),i=n):(t=o[0].events,e=o[0].data,i=o[0].context||n),e.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...e])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,e)})}),n}};const N$=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)},hN=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)},gw=(n,t)=>{if(!n||n.destroyed||!n.params)return;const i=t.closest(n.isElement?"swiper-slide":`.${n.params.slideClass}`);if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},fN=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},pN=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const s=r,a=[s-t];return a.push(...Array.from({length:t}).map((l,c)=>s+i+c)),void n.slides.forEach((l,c)=>{a.includes(l.column)&&fN(n,c)})}const o=r+i-1;if(n.params.rewind||n.params.loop)for(let s=r-t;s<=o+t;s+=1){const a=(s%e+e)%e;(a<r||a>o)&&fN(n,a)}else for(let s=Math.max(r-t,0);s<=Math.min(o+t,e-1);s+=1)s!==r&&(s>o||s<r)&&fN(n,s)};var UFe={updateSize:function xFe(){const n=this;let t,e;const i=n.el;t=null!=n.params.width?n.params.width:i.clientWidth,e=null!=n.params.height?n.params.height:i.clientHeight,!(0===t&&n.isHorizontal()||0===e&&n.isVertical())&&(t=t-parseInt($h(i,"padding-left")||0,10)-parseInt($h(i,"padding-right")||0,10),e=e-parseInt($h(i,"padding-top")||0,10)-parseInt($h(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))},updateSlides:function IFe(){const n=this;function t(ve,Ve){return parseFloat(ve.getPropertyValue(n.getDirectionLabel(Ve))||0)}const e=n.params,{wrapperEl:i,slidesEl:r,size:o,rtlTranslate:s,wrongRTL:a}=n,l=n.virtual&&e.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=Ns(r,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let f=[];const p=[],T=[];let x=e.slidesOffsetBefore;"function"==typeof x&&(x=e.slidesOffsetBefore.call(n));let k=e.slidesOffsetAfter;"function"==typeof k&&(k=e.slidesOffsetAfter.call(n));const B=n.snapGrid.length,$=n.slidesGrid.length;let q=e.spaceBetween,ee=-x,se=0,ae=0;if(void 0===o)return;"string"==typeof q&&q.indexOf("%")>=0?q=parseFloat(q.replace("%",""))/100*o:"string"==typeof q&&(q=parseFloat(q)),n.virtualSize=-q,u.forEach(ve=>{s?ve.style.marginLeft="":ve.style.marginRight="",ve.style.marginBottom="",ve.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(Rb(i,"--swiper-centered-offset-before",""),Rb(i,"--swiper-centered-offset-after",""));const Ee=e.grid&&e.grid.rows>1&&n.grid;let Ce;Ee?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();const ge="auto"===e.slidesPerView&&e.breakpoints&&Object.keys(e.breakpoints).filter(ve=>void 0!==e.breakpoints[ve].slidesPerView).length>0;for(let ve=0;ve<d;ve+=1){let Ve;if(Ce=0,u[ve]&&(Ve=u[ve]),Ee&&n.grid.updateSlide(ve,Ve,u),!u[ve]||"none"!==$h(Ve,"display")){if("auto"===e.slidesPerView){ge&&(u[ve].style[n.getDirectionLabel("width")]="");const Pe=getComputedStyle(Ve),De=Ve.style.transform,Ye=Ve.style.webkitTransform;if(De&&(Ve.style.transform="none"),Ye&&(Ve.style.webkitTransform="none"),e.roundLengths)Ce=n.isHorizontal()?lN(Ve,"width",!0):lN(Ve,"height",!0);else{const Ge=t(Pe,"width"),Ne=t(Pe,"padding-left"),ke=t(Pe,"padding-right"),$e=t(Pe,"margin-left"),gt=t(Pe,"margin-right"),we=Pe.getPropertyValue("box-sizing");if(we&&"border-box"===we)Ce=Ge+$e+gt;else{const{clientWidth:st,offsetWidth:ft}=Ve;Ce=Ge+Ne+ke+$e+gt+(ft-st)}}De&&(Ve.style.transform=De),Ye&&(Ve.style.webkitTransform=Ye),e.roundLengths&&(Ce=Math.floor(Ce))}else Ce=(o-(e.slidesPerView-1)*q)/e.slidesPerView,e.roundLengths&&(Ce=Math.floor(Ce)),u[ve]&&(u[ve].style[n.getDirectionLabel("width")]=`${Ce}px`);u[ve]&&(u[ve].swiperSlideSize=Ce),T.push(Ce),e.centeredSlides?(ee=ee+Ce/2+se/2+q,0===se&&0!==ve&&(ee=ee-o/2-q),0===ve&&(ee=ee-o/2-q),Math.abs(ee)<.001&&(ee=0),e.roundLengths&&(ee=Math.floor(ee)),ae%e.slidesPerGroup==0&&f.push(ee),p.push(ee)):(e.roundLengths&&(ee=Math.floor(ee)),(ae-Math.min(n.params.slidesPerGroupSkip,ae))%n.params.slidesPerGroup==0&&f.push(ee),p.push(ee),ee=ee+Ce+q),n.virtualSize+=Ce+q,se=Ce,ae+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+k,s&&a&&("slide"===e.effect||"coverflow"===e.effect)&&(i.style.width=`${n.virtualSize+q}px`),e.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+q}px`),Ee&&n.grid.updateWrapperSize(Ce,f),!e.centeredSlides){const ve=[];for(let Ve=0;Ve<f.length;Ve+=1){let Pe=f[Ve];e.roundLengths&&(Pe=Math.floor(Pe)),f[Ve]<=n.virtualSize-o&&ve.push(Pe)}f=ve,Math.floor(n.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-o)}if(l&&e.loop){const ve=T[0]+q;if(e.slidesPerGroup>1){const Ve=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/e.slidesPerGroup),Pe=ve*e.slidesPerGroup;for(let De=0;De<Ve;De+=1)f.push(f[f.length-1]+Pe)}for(let Ve=0;Ve<n.virtual.slidesBefore+n.virtual.slidesAfter;Ve+=1)1===e.slidesPerGroup&&f.push(f[f.length-1]+ve),p.push(p[p.length-1]+ve),n.virtualSize+=ve}if(0===f.length&&(f=[0]),0!==q){const ve=n.isHorizontal()&&s?"marginLeft":n.getDirectionLabel("marginRight");u.filter((Ve,Pe)=>!(e.cssMode&&!e.loop)||Pe!==u.length-1).forEach(Ve=>{Ve.style[ve]=`${q}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let ve=0;T.forEach(Pe=>{ve+=Pe+(q||0)}),ve-=q;const Ve=ve-o;f=f.map(Pe=>Pe<=0?-x:Pe>Ve?Ve+k:Pe)}if(e.centerInsufficientSlides){let ve=0;T.forEach(Pe=>{ve+=Pe+(q||0)}),ve-=q;const Ve=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(ve+Ve<o){const Pe=(o-ve-Ve)/2;f.forEach((De,Ye)=>{f[Ye]=De-Pe}),p.forEach((De,Ye)=>{p[Ye]=De+Pe})}}if(Object.assign(n,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:T}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){Rb(i,"--swiper-centered-offset-before",-f[0]+"px"),Rb(i,"--swiper-centered-offset-after",n.size/2-T[T.length-1]/2+"px");const ve=-n.snapGrid[0],Ve=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Pe=>Pe+ve),n.slidesGrid=n.slidesGrid.map(Pe=>Pe+Ve)}if(d!==c&&n.emit("slidesLengthChange"),f.length!==B&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==$&&n.emit("slidesGridLengthChange"),e.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!(l||e.cssMode||"slide"!==e.effect&&"fade"!==e.effect)){const ve=`${e.containerModifierClass}backface-hidden`,Ve=n.el.classList.contains(ve);d<=e.maxBackfaceHiddenSlides?Ve||n.el.classList.add(ve):Ve&&n.el.classList.remove(ve)}},updateAutoHeight:function AFe(n){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let o,r=0;"number"==typeof n?t.setTransition(n):!0===n&&t.setTransition(t.params.speed);const s=a=>i?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{e.push(a)});else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const a=t.activeIndex+o;if(a>t.slides.length&&!i)break;e.push(s(a))}else e.push(s(t.activeIndex));for(o=0;o<e.length;o+=1)if(void 0!==e[o]){const a=e[o].offsetHeight;r=a>r?a:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function DFe(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(n.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-n.cssOverflowAdjustment()},updateSlidesProgress:function RFe(n){void 0===n&&(n=this&&this.translate||0);const t=this,e=t.params,{slides:i,rtlTranslate:r,snapGrid:o}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-n;r&&(s=n),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=e.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(s+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(s-o[0]+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),p=-(s-u),T=p+t.slidesSizesGrid[l],x=p>=0&&p<=t.size-t.slidesSizesGrid[l],k=p>=0&&p<t.size-1||T>1&&T<=t.size||p<=0&&T>=t.size;k&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l)),N$(c,k,e.slideVisibleClass),N$(c,x,e.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-f:f}},updateProgress:function NFe(n){const t=this;if(void 0===n){const u=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*u||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:o,isEnd:s,progressLoop:a}=t;const l=o,c=s;if(0===i)r=0,o=!0,s=!0;else{r=(n-t.minTranslate())/i;const u=Math.abs(n-t.minTranslate())<1,d=Math.abs(n-t.maxTranslate())<1;o=u||r<=0,s=d||r>=1,u&&(r=0),d&&(r=1)}if(e.loop){const u=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),f=t.slidesGrid[u],p=t.slidesGrid[d],T=t.slidesGrid[t.slidesGrid.length-1],x=Math.abs(n);a=x>=f?(x-f)/T:(x+T-p)/T,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:o,isEnd:s}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),o&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function kFe(){const n=this,{slides:t,params:e,slidesEl:i,activeIndex:r}=n,s=n.grid&&e.grid&&e.grid.rows>1,a=d=>Ns(i,`.${e.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(n.virtual&&e.virtual.enabled)if(e.loop){let d=r-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else s?(l=t.filter(d=>d.column===r)[0],u=t.filter(d=>d.column===r+1)[0],c=t.filter(d=>d.column===r-1)[0]):l=t[r];l&&(s||(u=function SFe(n,t){const e=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!u&&(u=t[0]),c=function bFe(n,t){const e=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(d=>{hN(d,d===l,e.slideActiveClass),hN(d,d===u,e.slideNextClass),hN(d,d===c,e.slidePrevClass)}),n.emitSlidesClasses()},updateActiveIndex:function FFe(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:s,snapIndex:a}=t;let c,l=n;const u=p=>{let T=p-t.virtual.slidesBefore;return T<0&&(T=t.virtual.slides.length+T),T>=t.virtual.slides.length&&(T-=t.virtual.slides.length),T};if(void 0===l&&(l=function LFe(n){const{slidesGrid:t,params:e}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let o=0;o<t.length;o+=1)void 0!==t[o+1]?i>=t[o]&&i<t[o+1]-(t[o+1]-t[o])/2?r=o:i>=t[o]&&i<t[o+1]&&(r=o+1):i>=t[o]&&(r=o);return e.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),i.indexOf(e)>=0)c=i.indexOf(e);else{const p=Math.min(r.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===o&&!t.params.loop)return void(c!==a&&(t.snapIndex=c,t.emit("snapIndexChange")));if(l===o&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(l));const d=t.grid&&r.grid&&r.grid.rows>1;let f;if(t.virtual&&r.virtual.enabled&&r.loop)f=u(l);else if(d){const p=t.slides.filter(x=>x.column===l)[0];let T=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(T)&&(T=Math.max(t.slides.indexOf(p),0)),f=Math.floor(T/r.grid.rows)}else if(t.slides[l]){const p=t.slides[l].getAttribute("data-swiper-slide-index");f=p?parseInt(p,10):l}else f=l;Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:s,realIndex:f,previousIndex:o,activeIndex:l}),t.initialized&&pN(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(s!==f&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function BFe(n,t){const e=this,i=e.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&e.isElement&&t&&t.length>1&&t.includes(n)&&[...t.slice(t.indexOf(n)+1,t.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let s,o=!1;if(r)for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===r){o=!0,s=a;break}if(!r||!o)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(r.getAttribute("data-swiper-slide-index"),10):s,i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},WFe={getTranslate:function jFe(n){void 0===n&&(n=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:i,translate:r,wrapperEl:o}=this;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let s=aN(o,n);return s+=this.cssOverflowAdjustment(),i&&(s=-s),s||0},setTranslate:function GFe(n,t){const e=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:s}=e;let u,a=0,l=0;e.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?a:l,r.cssMode?o[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-a:-l:r.virtualTranslate||(e.isHorizontal()?a-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),o.style.transform=`translate3d(${a}px, ${l}px, 0px)`);const d=e.maxTranslate()-e.minTranslate();u=0===d?0:(n-e.minTranslate())/d,u!==s&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)},minTranslate:function HFe(){return-this.snapGrid[0]},maxTranslate:function VFe(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function zFe(n,t,e,i,r){void 0===n&&(n=0),void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=!0);const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(u=i&&n>l?l:i&&n<c?c:n,o.updateProgress(u),s.cssMode){const d=o.isHorizontal();if(0===t)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return A$({swiper:o,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(u),e&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),e&&(o.emit("beforeTransitionStart",t,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(f){!o||o.destroyed||f.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,e&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}};function k$(n){let{swiper:t,runCallbacks:e,direction:i,step:r}=n;const{activeIndex:o,previousIndex:s}=t;let a=i;if(a||(a=o>s?"next":o<s?"prev":"reset"),t.emit(`transition${r}`),e&&o!==s){if("reset"===a)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),t.emit("next"===a?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}var KFe={setTransition:function YFe(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`,e.wrapperEl.style.transitionDelay=0===n?"0ms":""),e.emit("setTransition",n,t)},transitionStart:function $Fe(n,t){void 0===n&&(n=!0);const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),k$({swiper:e,runCallbacks:n,direction:t,step:"Start"}))},transitionEnd:function XFe(n,t){void 0===n&&(n=!0);const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),k$({swiper:e,runCallbacks:n,direction:t,step:"End"}))}},iBe={slideTo:function qFe(n,t,e,i,r){void 0===n&&(n=0),void 0===e&&(e=!0),"string"==typeof n&&(n=parseInt(n,10));const o=this;let s=n;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:T}=o;if(!T&&!i&&!r||o.destroyed||o.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=o.params.speed);const x=Math.min(o.params.slidesPerGroupSkip,s);let k=x+Math.floor((s-x)/o.params.slidesPerGroup);k>=l.length&&(k=l.length-1);const B=-l[k];if(a.normalizeSlideIndex)for(let q=0;q<c.length;q+=1){const ee=-Math.floor(100*B),se=Math.floor(100*c[q]),ae=Math.floor(100*c[q+1]);void 0!==c[q+1]?ee>=se&&ee<ae-(ae-se)/2?s=q:ee>=se&&ee<ae&&(s=q+1):ee>=se&&(s=q)}if(o.initialized&&s!==d&&(!o.allowSlideNext&&(f?B>o.translate&&B>o.minTranslate():B<o.translate&&B<o.minTranslate())||!o.allowSlidePrev&&B>o.translate&&B>o.maxTranslate()&&(d||0)!==s))return!1;let $;if(s!==(u||0)&&e&&o.emit("beforeSlideChangeStart"),o.updateProgress(B),$=s>d?"next":s<d?"prev":"reset",f&&-B===o.translate||!f&&B===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==a.effect&&o.setTranslate(B),"reset"!==$&&(o.transitionStart(e,$),o.transitionEnd(e,$)),!1;if(a.cssMode){const q=o.isHorizontal(),ee=f?B:-B;if(0===t){const se=o.virtual&&o.params.virtual.enabled;se&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),se&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[q?"scrollLeft":"scrollTop"]=ee})):p[q?"scrollLeft":"scrollTop"]=ee,se&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return A$({swiper:o,targetPosition:ee,side:q?"left":"top"}),!0;p.scrollTo({[q?"left":"top"]:ee,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(B),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(e,$),0===t?o.transitionEnd(e,$):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(ee){!o||o.destroyed||ee.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(e,$))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function JFe(n,t,e,i){void 0===n&&(n=0),void 0===e&&(e=!0),"string"==typeof n&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;void 0===t&&(t=r.params.speed);const o=r.grid&&r.params.grid&&r.params.grid.rows>1;let s=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)s+=r.virtual.slidesBefore;else{let a;if(o){const f=s*r.params.grid.rows;a=r.slides.filter(p=>1*p.getAttribute("data-swiper-slide-index")===f)[0].column}else a=r.getSlideIndexByData(s);const l=o?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;"auto"===u?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2==0&&(u+=1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&"auto"!==r.params.slidesPerView&&!o&&(d=!1),d){const f=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:f,slideTo:!0,activeSlideIndex:"next"===f?a+1:a-l+1,slideRealIndex:"next"===f?r.realIndex:void 0})}if(o){const f=s*r.params.grid.rows;s=r.slides.filter(p=>1*p.getAttribute("data-swiper-slide-index")===f)[0].column}else s=r.getSlideIndexByData(s)}return requestAnimationFrame(()=>{r.slideTo(s,t,e,i)}),r},slideNext:function ZFe(n,t,e){void 0===t&&(t=!0);const i=this,{enabled:r,params:o,animating:s}=i;if(!r||i.destroyed)return i;void 0===n&&(n=i.params.speed);let a=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&(!i.virtual||!o.virtual.enabled)&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,t,e)}),!0}return i.slideTo(o.rewind&&i.isEnd?0:i.activeIndex+l,n,t,e)},slidePrev:function QFe(n,t,e){void 0===t&&(t=!0);const i=this,{params:r,snapGrid:o,slidesGrid:s,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;if(void 0===n&&(n=i.params.speed),r.loop){if(c&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function f(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const p=f(a?i.translate:-i.translate),T=o.map(B=>f(B));let x=o[T.indexOf(p)-1];if(void 0===x&&r.cssMode){let B;o.forEach(($,q)=>{p>=$&&(B=q)}),void 0!==B&&(x=o[B>0?B-1:B])}let k=0;return void 0!==x&&(k=s.indexOf(x),k<0&&(k=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(k=k-i.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),r.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,n,t,e):r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame(()=>{i.slideTo(k,n,t,e)}),!0):i.slideTo(k,n,t,e)},slideReset:function eBe(n,t,e){void 0===t&&(t=!0);const i=this;if(!i.destroyed)return void 0===n&&(n=i.params.speed),i.slideTo(i.activeIndex,n,t,e)},slideToClosest:function tBe(n,t,e,i){void 0===t&&(t=!0),void 0===i&&(i=.5);const r=this;if(r.destroyed)return;void 0===n&&(n=r.params.speed);let o=r.activeIndex;const s=Math.min(r.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(o+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1];l-c<=(r.snapGrid[a]-c)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,n,t,e)},slideToClickedSlide:function nBe(){const n=this;if(n.destroyed)return;const{params:t,slidesEl:e}=n,i="auto"===t.slidesPerView?n.slidesPerViewDynamic():t.slidesPerView;let o,r=n.clickedIndex;const s=n.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Ns(e,`${s}[data-swiper-slide-index="${o}"]`)[0]),Sg(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Ns(e,`${s}[data-swiper-slide-index="${o}"]`)[0]),Sg(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},aBe={loopCreate:function rBe(n){const t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{Ns(i,`.${e.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},o=t.grid&&e.grid&&e.grid.rows>1,s=e.slidesPerGroup*(o?e.grid.rows:1),l=o&&t.slides.length%e.grid.rows!=0,c=u=>{for(let d=0;d<u;d+=1){const f=t.isElement?Sl("swiper-slide",[e.slideBlankClass]):Sl("div",[e.slideClass,e.slideBlankClass]);t.slidesEl.append(f)}};t.slides.length%s!=0?(e.loopAddBlankSlides?(c(s-t.slides.length%s),t.recalcSlides(),t.updateSlides()):fw("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):l?(e.loopAddBlankSlides?(c(e.grid.rows-t.slides.length%e.grid.rows),t.recalcSlides(),t.updateSlides()):fw("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):r(),t.loopFix({slideRealIndex:n,direction:e.centeredSlides?void 0:"next"})},loopFix:function oBe(n){let{slideRealIndex:t,slideTo:e=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:s,byMousewheel:a}=void 0===n?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:p}=l,{centeredSlides:T}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return e&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,void l.emit("loopFix");let x=p.slidesPerView;"auto"===x?x=l.slidesPerViewDynamic():(x=Math.ceil(parseFloat(p.slidesPerView,10)),T&&x%2==0&&(x+=1));const k=p.slidesPerGroupAuto?x:p.slidesPerGroup;let B=k;B%k!=0&&(B+=k-B%k),B+=p.loopAdditionalSlides,l.loopedSlides=B;const $=l.grid&&p.grid&&p.grid.rows>1;c.length<x+B?fw("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):$&&"row"===p.grid.fill&&fw("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const q=[],ee=[];let se=l.activeIndex;void 0===o?o=l.getSlideIndex(c.filter(De=>De.classList.contains(p.slideActiveClass))[0]):se=o;const ae="next"===i||!i,Ee="prev"===i||!i;let Ce=0,ge=0;const ve=$?Math.ceil(c.length/p.grid.rows):c.length,Pe=($?c[o].column:o)+(T&&void 0===r?-x/2+.5:0);if(Pe<B){Ce=Math.max(B-Pe,k);for(let De=0;De<B-Pe;De+=1){const Ye=De-Math.floor(De/ve)*ve;if($){const Ge=ve-Ye-1;for(let Ne=c.length-1;Ne>=0;Ne-=1)c[Ne].column===Ge&&q.push(Ne)}else q.push(ve-Ye-1)}}else if(Pe+x>ve-B){ge=Math.max(Pe-(ve-2*B),k);for(let De=0;De<ge;De+=1){const Ye=De-Math.floor(De/ve)*ve;$?c.forEach((Ge,Ne)=>{Ge.column===Ye&&ee.push(Ne)}):ee.push(Ye)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),Ee&&q.forEach(De=>{c[De].swiperLoopMoveDOM=!0,f.prepend(c[De]),c[De].swiperLoopMoveDOM=!1}),ae&&ee.forEach(De=>{c[De].swiperLoopMoveDOM=!0,f.append(c[De]),c[De].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():$&&(q.length>0&&Ee||ee.length>0&&ae)&&l.slides.forEach((De,Ye)=>{l.grid.updateSlide(Ye,De,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),e)if(q.length>0&&Ee)if(void 0===t){const Ge=l.slidesGrid[se+Ce]-l.slidesGrid[se];a?l.setTranslate(l.translate-Ge):(l.slideTo(se+Math.ceil(Ce),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Ge,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Ge))}else r&&(l.slideTo(l.activeIndex+($?q.length/p.grid.rows:q.length),0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(ee.length>0&&ae)if(void 0===t){const Ge=l.slidesGrid[se-ge]-l.slidesGrid[se];a?l.setTranslate(l.translate-Ge):(l.slideTo(se-ge,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Ge,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Ge))}else l.slideTo(l.activeIndex-($?ee.length/p.grid.rows:ee.length),0,!1,!0);if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!s){const De={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(Ye=>{!Ye.destroyed&&Ye.params.loop&&Ye.loopFix(Ln(Ze({},De),{slideTo:Ye.params.slidesPerView===p.slidesPerView&&e}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(Ln(Ze({},De),{slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&e}))}l.emit("loopFix")},loopDestroy:function sBe(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const o=void 0===r.swiperSlideIndex?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[o]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{e.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}},uBe={setGrabCursor:function lBe(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function cBe(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}};function L$(n,t,e){const i=mo(),{params:r}=n,o=r.edgeSwipeDetection,s=r.edgeSwipeThreshold;return!o||!(e<=s||e>=i.innerWidth-s)||"prevent"===o&&(t.preventDefault(),!0)}function hBe(n){const t=this,e=Rs();let i=n;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if("pointerdown"===i.type){if(null!==r.pointerId&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(r.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void L$(t,i,i.targetTouches[0].pageX);const{params:o,touches:s,enabled:a}=t;if(!a||!o.simulateTouch&&"mouse"===i.pointerType||t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=i.target;if("wrapper"===o.touchEventsTarget&&!t.wrapperEl.contains(l)||"which"in i&&3===i.which||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!o.noSwipingClass&&""!==o.noSwipingClass,u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`;if(o.noSwiping&&(i.target&&i.target.shadowRoot?function dBe(n,t){return void 0===t&&(t=this),function e(i){if(!i||i===Rs()||i===mo())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||e(i.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(o.swipeHandler&&!l.closest(o.swipeHandler))return;s.currentX=i.pageX,s.currentY=i.pageY;const p=s.currentX,T=s.currentY;if(!L$(t,i,p))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=T,r.touchStartTime=cc(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let x=!0;l.matches(r.focusableElements)&&(x=!1,"SELECT"===l.nodeName&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l&&e.activeElement.blur(),(o.touchStartForcePreventDefault||x&&t.allowTouchMove&&o.touchStartPreventDefault)&&!l.isContentEditable&&i.preventDefault(),o.freeMode&&o.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function fBe(n){const t=Rs(),e=this,i=e.touchEventsData,{params:r,touches:o,rtlTranslate:s,enabled:a}=e;if(!a||!r.simulateTouch&&"mouse"===n.pointerType)return;let c,l=n;if(l.originalEvent&&(l=l.originalEvent),"pointermove"===l.type&&(null!==i.touchId||l.pointerId!==i.pointerId))return;if("touchmove"===l.type){if(c=[...l.changedTouches].filter(ae=>ae.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",l));const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper)return o.startX=u,void(o.startY=d);if(!e.allowTouchMove)return l.target.matches(i.focusableElements)||(e.allowClick=!1),void(i.isTouched&&(Object.assign(o,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=cc()));if(r.touchReleaseOnEdges&&!r.loop)if(e.isVertical()){if(d<o.startY&&e.translate<=e.maxTranslate()||d>o.startY&&e.translate>=e.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<o.startX&&e.translate<=e.maxTranslate()||u>o.startX&&e.translate>=e.minTranslate())return;if(t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements))return i.isMoved=!0,void(e.allowClick=!1);i.allowTouchCallbacks&&e.emit("touchMove",l),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=u,o.currentY=d;const f=o.currentX-o.startX,p=o.currentY-o.startY;if(e.params.threshold&&Math.sqrt(ia(f,2)+ia(p,2))<e.params.threshold)return;if(void 0===i.isScrolling){let ae;e.isHorizontal()&&o.currentY===o.startY||e.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:f*f+p*p>=25&&(ae=180*Math.atan2(Math.abs(p),Math.abs(f))/Math.PI,i.isScrolling=e.isHorizontal()?ae>r.touchAngle:90-ae>r.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",l),void 0===i.startMoving&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||"touchmove"===l.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;e.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let T=e.isHorizontal()?f:p,x=e.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(T=Math.abs(T)*(s?1:-1),x=Math.abs(x)*(s?1:-1)),o.diff=T,T*=r.touchRatio,s&&(T=-T,x=-x);const k=e.touchesDirection;e.swipeDirection=T>0?"prev":"next",e.touchesDirection=x>0?"prev":"next";const B=e.params.loop&&!r.cssMode,$="next"===e.touchesDirection&&e.allowSlideNext||"prev"===e.touchesDirection&&e.allowSlidePrev;if(!i.isMoved){if(B&&$&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const ae=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(ae)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&k!==e.touchesDirection&&B&&$&&Math.abs(T)>=1)return Object.assign(o,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);e.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=T+i.startTranslate;let ee=!0,se=r.resistanceRatio;if(r.touchReleaseOnEdges&&(se=0),T>0?(B&&$&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(ee=!1,r.resistance&&(i.currentTranslate=e.minTranslate()-1+ia(-e.minTranslate()+i.startTranslate+T,se)))):T<0&&(B&&$&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]:e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-("auto"===r.slidesPerView?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(ee=!1,r.resistance&&(i.currentTranslate=e.maxTranslate()+1-ia(e.maxTranslate()-i.startTranslate-T,se)))),ee&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(T)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,void(o.diff=e.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function pBe(n){const t=this,e=t.touchEventsData;let r,i=n;if(i.originalEvent&&(i=i.originalEvent),"touchend"===i.type||"touchcancel"===i.type){if(r=[...i.changedTouches].filter(se=>se.identifier===e.touchId)[0],!r||r.identifier!==e.touchId)return}else{if(null!==e.touchId||i.pointerId!==e.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&(!["pointercancel","contextmenu"].includes(i.type)||!t.browser.isSafari&&!t.browser.isWebView))return;e.pointerId=null,e.touchId=null;const{params:s,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=t;if(!u||!s.simulateTouch&&"mouse"===i.pointerType)return;if(e.allowTouchCallbacks&&t.emit("touchEnd",i),e.allowTouchCallbacks=!1,!e.isTouched)return e.isMoved&&s.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,void(e.startMoving=!1);s.grabCursor&&e.isMoved&&e.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=cc(),f=d-e.touchStartTime;if(t.allowClick){const se=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(se&&se[0]||i.target,se),t.emit("tap click",i),f<300&&d-e.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(e.lastClickTime=cc(),Sg(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||0===a.diff&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset)return e.isTouched=!1,e.isMoved=!1,void(e.startMoving=!1);let p;if(e.isTouched=!1,e.isMoved=!1,e.startMoving=!1,p=s.followFinger?l?t.translate:-t.translate:-e.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});const T=p>=-t.maxTranslate()&&!t.params.loop;let x=0,k=t.slidesSizesGrid[0];for(let se=0;se<c.length;se+=se<s.slidesPerGroupSkip?1:s.slidesPerGroup){const ae=se<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==c[se+ae]?(T||p>=c[se]&&p<c[se+ae])&&(x=se,k=c[se+ae]-c[se]):(T||p>=c[se])&&(x=se,k=c[c.length-1]-c[c.length-2])}let B=null,$=null;s.rewind&&(t.isBeginning?$=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(B=0));const q=(p-c[x])/k,ee=x<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(f>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(q>=s.longSwipesRatio?s.rewind&&t.isEnd?B:x+ee:x),"prev"===t.swipeDirection&&(q>1-s.longSwipesRatio?t.slideTo(x+ee):null!==$&&q<0&&Math.abs(q)>s.longSwipesRatio?t.slideTo($):t.slideTo(x))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||i.target!==t.navigation.nextEl&&i.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==B?B:x+ee),"prev"===t.swipeDirection&&t.slideTo(null!==$?$:x)):t.slideTo(i.target===t.navigation.nextEl?x+ee:x)}}function F$(){const n=this,{params:t,el:e}=n;if(e&&0===e.offsetWidth)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=n,s=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),!("auto"===t.slidesPerView||t.slidesPerView>1)||!n.isEnd||n.isBeginning||n.params.centeredSlides||s&&t.loop?n.params.loop&&!s?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0):n.slideTo(n.slides.length-1,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function gBe(n){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function _Be(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-t.scrollLeft:-t.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const o=n.maxTranslate()-n.minTranslate();r=0===o?0:(n.translate-n.minTranslate())/o,r!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function mBe(n){const t=this;gw(t,n.target),!t.params.cssMode&&("auto"===t.params.slidesPerView||t.params.autoHeight)&&t.update()}function vBe(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const B$=(n,t)=>{const e=Rs(),{params:i,el:r,wrapperEl:o,device:s}=n,a=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;!r||"string"==typeof r||(e[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",n.onTouchStart,{passive:!1}),r[l]("pointerdown",n.onTouchStart,{passive:!1}),e[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),e[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),e[l]("touchend",n.onTouchEnd,{passive:!0}),e[l]("pointerup",n.onTouchEnd,{passive:!0}),e[l]("pointercancel",n.onTouchEnd,{passive:!0}),e[l]("touchcancel",n.onTouchEnd,{passive:!0}),e[l]("pointerout",n.onTouchEnd,{passive:!0}),e[l]("pointerleave",n.onTouchEnd,{passive:!0}),e[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&o[l]("scroll",n.onScroll),n[c](i.updateOnWindowResize?s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",F$,!0),r[l]("load",n.onLoad,{capture:!0}))};var SBe={attachEvents:function yBe(){const n=this,{params:t}=n;n.onTouchStart=hBe.bind(n),n.onTouchMove=fBe.bind(n),n.onTouchEnd=pBe.bind(n),n.onDocumentTouchStart=vBe.bind(n),t.cssMode&&(n.onScroll=_Be.bind(n)),n.onClick=gBe.bind(n),n.onLoad=mBe.bind(n),B$(n,"on")},detachEvents:function bBe(){B$(this,"off")}};const U$=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;var TBe={setBreakpoint:function CBe(){const n=this,{realIndex:t,initialized:e,params:i,el:r}=n,o=i.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const s=n.getBreakpoint(o,n.params.breakpointsBase,n.el);if(!s||n.currentBreakpoint===s)return;const l=(s in o?o[s]:void 0)||n.originalParams,c=U$(n,i),u=U$(n,l),d=n.params.grabCursor,f=l.grabCursor,p=i.enabled;c&&!u?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),d&&!f?n.unsetGrabCursor():!d&&f&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(q=>{if(void 0===l[q])return;const ee=i[q]&&i[q].enabled,se=l[q]&&l[q].enabled;ee&&!se&&n[q].disable(),!ee&&se&&n[q].enable()});const T=l.direction&&l.direction!==i.direction,x=i.loop&&(l.slidesPerView!==i.slidesPerView||T),k=i.loop;T&&e&&n.changeDirection(),bl(n.params,l);const B=n.params.enabled,$=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),p&&!B?n.disable():!p&&B&&n.enable(),n.currentBreakpoint=s,n.emit("_beforeBreakpoint",l),e&&(x?(n.loopDestroy(),n.loopCreate(t),n.updateSlides()):!k&&$?(n.loopCreate(t),n.updateSlides()):k&&!$&&n.loopDestroy()),n.emit("breakpoint",l)},getBreakpoint:function EBe(n,t,e){if(void 0===t&&(t="window"),!n||"container"===t&&!e)return;let i=!1;const r=mo(),o="window"===t?r.innerHeight:e.clientHeight,s=Object.keys(n).map(a=>{if("string"==typeof a&&0===a.indexOf("@")){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:c}=s[a];"window"===t?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=e.clientWidth&&(i=l)}return i||"max"}},PBe={addClasses:function MBe(){const n=this,{classNames:t,params:e,rtl:i,el:r,device:o}=n,s=function wBe(n,t){const e=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&e.push(t+r)}):"string"==typeof i&&e.push(t+i)}),e}(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&"column"===e.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...s),r.classList.add(...t),n.emitContainerClasses()},removeClasses:function OBe(){const{el:t,classNames:e}=this;!t||"string"==typeof t||(t.classList.remove(...e),this.emitContainerClasses())}},gN={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ABe(n,t){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],o=i[r];"object"==typeof o&&null!==o?(!0===n[r]&&(n[r]={enabled:!0}),"navigation"===r&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),r in n&&"enabled"in o?("object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),bl(t,i)):bl(t,i)):bl(t,i)}}const _N={eventsEmitter:PFe,update:UFe,translate:WFe,transition:KFe,slide:iBe,loop:aBe,grabCursor:uBe,events:SBe,breakpoints:TBe,checkOverflow:{checkOverflow:function xBe(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:i}=e;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===e.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===e.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:PBe},mN={};class Cl{constructor(){let t,e;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?e=r[0]:[t,e]=r,e||(e={}),e=bl({},e),t&&!e.el&&(e.el=t);const s=Rs();if(e.el&&"string"==typeof e.el&&s.querySelectorAll(e.el).length>1){const u=[];return s.querySelectorAll(e.el).forEach(d=>{const f=bl({},e,{el:d});u.push(new Cl(f))}),u}const a=this;a.__swiper__=!0,a.support=D$(),a.device=R$({userAgent:e.userAgent}),a.browser=function wFe(){return dN||(dN=function TFe(){const n=mo(),t=R$();let e=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=l<16||16===l&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=i();return{isSafari:e||o,needPerspectiveFix:e,need3dFix:o||r&&t.ios,isWebView:r}}()),dN}(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],e.modules&&Array.isArray(e.modules)&&a.modules.push(...e.modules);const l={};a.modules.forEach(u=>{u({params:e,swiper:a,extendParams:ABe(e,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=bl({},gN,l);return a.params=bl({},c,mN,e),a.originalParams=bl({},a.params),a.passedParams=bl({},e),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/ia(2,23))*ia(2,23)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:i}=this,o=Nb(Ns(e,`.${i.slideClass}, swiper-slide`)[0]);return Nb(t)-o}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>1*e.getAttribute("data-swiper-slide-index")===t)[0])}recalcSlides(){const{slidesEl:e,params:i}=this;this.slides=Ns(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),s=(i.maxTranslate()-r)*t+r;i.translateTo(s,void 0===e?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);e.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:r,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:c}=this;let u=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let f,d=o[c]?Math.ceil(o[c].swiperSlideSize):0;for(let p=c+1;p<o.length;p+=1)o[p]&&!f&&(d+=Math.ceil(o[p].swiperSlideSize),u+=1,d>l&&(f=!0));for(let p=c-1;p>=0;p-=1)o[p]&&!f&&(d+=o[p].swiperSlideSize,u+=1,d>l&&(f=!0))}else if("current"===t)for(let d=c+1;d<o.length;d+=1)(e?s[d]+a[d]-s[c]<l:s[d]-s[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)s[c]-s[d]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;function r(){const a=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let o;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&gw(t,s)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&t.updateAutoHeight()):(o=t.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides?(t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides).length-1:t.activeIndex,0,!1,!0),o||r()),i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const i=this,r=i.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(o=>{"vertical"===t?o.style.width="":o.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ns(i,r())[0];return!s&&e.params.createElements&&(s=Sl("div",e.params.wrapperClass),i.append(s),Ns(i,`.${e.params.slideClass}`).forEach(a=>{s.append(a)})),Object.assign(e,{el:i,wrapperEl:s,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:s,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===$h(i,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===$h(i,"direction")),wrongRTL:"-webkit-box"===$h(s,"display")}),!0}init(t){const e=this;if(e.initialized||!1===e.mount(t))return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.slideTo(e.params.loop&&e.virtual&&e.params.virtual.enabled?e.params.initialSlide+e.virtual.slidesBefore:e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents();const r=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&r.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?gw(e,o):o.addEventListener("load",s=>{gw(e,s.target)})}),pN(e),e.initialized=!0,pN(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const i=this,{params:r,el:o,wrapperEl:s,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),o&&"string"!=typeof o&&o.removeAttribute("style"),s&&s.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),!1!==t&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function mFe(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch(i){}try{delete t[e]}catch(i){}})}(i)),i.destroyed=!0),null}static extendDefaults(t){bl(mN,t)}static get extendedDefaults(){return mN}static get defaults(){return gN}static installModule(t){Cl.prototype.__modules__||(Cl.prototype.__modules__=[]);const e=Cl.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>Cl.installModule(e)),Cl):(Cl.installModule(t),Cl)}}function vN(n,t,e,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!e[r]&&!0===e.auto){let o=Ns(n.el,`.${i[r]}`)[0];o||(o=Sl("div",i[r]),o.className=i[r],n.el.append(o)),e[r]=o,t[r]=o}}),e}function Rd(n){return void 0===n&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function XBe(n){const t=this,{params:e,slidesEl:i}=t;e.loop&&t.loopDestroy();const r=o=>{if("string"==typeof o){const s=document.createElement("div");s.innerHTML=o,i.append(s.children[0]),s.innerHTML=""}else i.append(o)};if("object"==typeof n&&"length"in n)for(let o=0;o<n.length;o+=1)n[o]&&r(n[o]);else r(n);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update()}function KBe(n){const t=this,{params:e,activeIndex:i,slidesEl:r}=t;e.loop&&t.loopDestroy();let o=i+1;const s=a=>{if("string"==typeof a){const l=document.createElement("div");l.innerHTML=a,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(a)};if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&s(n[a]);o=i+n.length}else s(n);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(o,0,!1)}function qBe(n,t){const e=this,{params:i,activeIndex:r,slidesEl:o}=e;let s=r;i.loop&&(s-=e.loopedSlides,e.loopDestroy(),e.recalcSlides());const a=e.slides.length;if(n<=0)return void e.prependSlide(t);if(n>=a)return void e.appendSlide(t);let l=s>n?s+1:s;const c=[];for(let u=a-1;u>=n;u-=1){const d=e.slides[u];d.remove(),c.unshift(d)}if("object"==typeof t&&"length"in t){for(let u=0;u<t.length;u+=1)t[u]&&o.append(t[u]);l=s>n?s+t.length:s}else o.append(t);for(let u=0;u<c.length;u+=1)o.append(c[u]);e.recalcSlides(),i.loop&&e.loopCreate(),(!i.observer||e.isElement)&&e.update(),e.slideTo(i.loop?l+e.loopedSlides:l,0,!1)}function JBe(n){const t=this,{params:e,activeIndex:i}=t;let r=i;e.loop&&(r-=t.loopedSlides,t.loopDestroy());let s,o=r;if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)s=n[a],t.slides[s]&&t.slides[s].remove(),s<o&&(o-=1);o=Math.max(o,0)}else s=n,t.slides[s]&&t.slides[s].remove(),s<o&&(o-=1),o=Math.max(o,0);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(e.loop?o+t.loopedSlides:o,0,!1)}function ZBe(){const n=this,t=[];for(let e=0;e<n.slides.length;e+=1)t.push(e);n.removeSlide(t)}function uv(n){const{effect:t,swiper:e,on:i,setTranslate:r,setTransition:o,overwriteParams:s,perspective:a,recreateShadows:l,getEffectParams:c}=n;let u;i("beforeInit",()=>{if(e.params.effect!==t)return;e.classNames.push(`${e.params.containerModifierClass}${t}`),a&&a()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const d=s?s():{};Object.assign(e.params,d),Object.assign(e.originalParams,d)}),i("setTranslate",()=>{e.params.effect===t&&r()}),i("setTransition",(d,f)=>{e.params.effect===t&&o(f)}),i("transitionEnd",()=>{if(e.params.effect===t&&l){if(!c||!c().slideShadows)return;e.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}}),i("virtualUpdate",()=>{e.params.effect===t&&(e.slides.length||(u=!0),requestAnimationFrame(()=>{u&&e.slides&&e.slides.length&&(r(),u=!1)}))})}function Lb(n,t){const e=Cg(t);return e!==t&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function _w(n){let{swiper:t,duration:e,transformElements:i,allSlides:r}=n;const{activeIndex:o}=t;if(t.params.virtualTranslate&&0!==e){let l,a=!1;l=r?i:i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?(a=>a.parentElement?a.parentElement:t.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0])(c):c;return t.getSlideIndex(u)===o}),l.forEach(c=>{kb(c,()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(u)})})}}function dv(n,t,e){const i=`swiper-slide-shadow${e?`-${e}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=Cg(t);let o=r.querySelector(`.${i.split(" ").join(".")}`);return o||(o=Sl("div",i.split(" ")),r.append(o)),o}Object.keys(_N).forEach(n=>{Object.keys(_N[n]).forEach(t=>{Cl.prototype[t]=_N[n][t]})}),Cl.use([function MFe(n){let{swiper:t,on:e,emit:i}=n;const r=mo();let o=null,s=null;const a=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},u=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};e("init",()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?!t||t.destroyed||!t.initialized||(o=new ResizeObserver(d=>{s=r.requestAnimationFrame(()=>{const{width:f,height:p}=t;let T=f,x=p;d.forEach(k=>{let{contentBoxSize:B,contentRect:$,target:q}=k;q&&q!==t.el||(T=$?$.width:(B[0]||B).inlineSize,x=$?$.height:(B[0]||B).blockSize)}),(T!==f||x!==p)&&a()})}),o.observe(t.el)):(r.addEventListener("resize",a),r.addEventListener("orientationchange",u))}),e("destroy",()=>{s&&r.cancelAnimationFrame(s),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})},function OFe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const o=[],s=mo(),a=function(u,d){void 0===d&&(d={});const p=new(s.MutationObserver||s.WebkitMutationObserver)(T=>{if(t.__preventObserver__)return;if(1===T.length)return void r("observerUpdate",T[0]);const x=function(){r("observerUpdate",T[0])};s.requestAnimationFrame?s.requestAnimationFrame(x):s.setTimeout(x,0)});p.observe(u,{attributes:void 0===d.attributes||d.attributes,childList:void 0===d.childList||d.childList,characterData:void 0===d.characterData||d.characterData}),o.push(p)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(t.params.observer){if(t.params.observeParents){const u=Eg(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}}),i("destroy",()=>{o.forEach(u=>{u.disconnect()}),o.splice(0,o.length)})}]);const s4e=[function DBe(n){let o,{swiper:t,extendParams:e,on:i,emit:r}=n;e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const s=Rs();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=s.createElement("div");function l(T,x){const k=t.params.virtual;if(k.cache&&t.virtual.cache[x])return t.virtual.cache[x];let B;return k.renderSlide?(B=k.renderSlide.call(t,T,x),"string"==typeof B&&(a.innerHTML=B,B=a.children[0])):B=t.isElement?Sl("swiper-slide"):Sl("div",t.params.slideClass),B.setAttribute("data-swiper-slide-index",x),k.renderSlide||(B.innerHTML=T),k.cache&&(t.virtual.cache[x]=B),B}function c(T,x){const{slidesPerView:k,slidesPerGroup:B,centeredSlides:$,loop:q,initialSlide:ee}=t.params;if(x&&!q&&ee>0)return;const{addSlidesBefore:se,addSlidesAfter:ae}=t.params.virtual,{from:Ee,to:Ce,slides:ge,slidesGrid:ve,offset:Ve}=t.virtual;t.params.cssMode||t.updateActiveIndex();const Pe=t.activeIndex||0;let De,Ye,Ge;De=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",$?(Ye=Math.floor(k/2)+B+ae,Ge=Math.floor(k/2)+B+se):(Ye=k+(B-1)+ae,Ge=(q?k:B)+se);let Ne=Pe-Ge,ke=Pe+Ye;q||(Ne=Math.max(Ne,0),ke=Math.min(ke,ge.length-1));let $e=(t.slidesGrid[Ne]||0)-(t.slidesGrid[0]||0);function gt(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),r("virtualUpdate")}if(q&&Pe>=Ge?(Ne-=Ge,$||($e+=t.slidesGrid[0])):q&&Pe<Ge&&(Ne=-Ge,$&&($e+=t.slidesGrid[0])),Object.assign(t.virtual,{from:Ne,to:ke,offset:$e,slidesGrid:t.slidesGrid,slidesBefore:Ge,slidesAfter:Ye}),Ee===Ne&&Ce===ke&&!T)return t.slidesGrid!==ve&&$e!==Ve&&t.slides.forEach(At=>{At.style[De]=$e-Math.abs(t.cssOverflowAdjustment())+"px"}),t.updateProgress(),void r("virtualUpdate");if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:$e,from:Ne,to:ke,slides:function(){const Xt=[];for(let tn=Ne;tn<=ke;tn+=1)Xt.push(ge[tn]);return Xt}()}),void(t.params.virtual.renderExternalUpdate?gt():r("virtualUpdate"));const we=[],st=[],ft=At=>{let Xt=At;return At<0?Xt=ge.length+At:Xt>=ge.length&&(Xt-=ge.length),Xt};if(T)t.slides.filter(At=>At.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(At=>{At.remove()});else for(let At=Ee;At<=Ce;At+=1)if(At<Ne||At>ke){const Xt=ft(At);t.slides.filter(tn=>tn.matches(`.${t.params.slideClass}[data-swiper-slide-index="${Xt}"], swiper-slide[data-swiper-slide-index="${Xt}"]`)).forEach(tn=>{tn.remove()})}const Ft=q?2*ge.length:ge.length;for(let At=q?-ge.length:0;At<Ft;At+=1)if(At>=Ne&&At<=ke){const Xt=ft(At);void 0===Ce||T?st.push(Xt):(At>Ce&&st.push(Xt),At<Ee&&we.push(Xt))}if(st.forEach(At=>{t.slidesEl.append(l(ge[At],At))}),q)for(let At=we.length-1;At>=0;At-=1){const Xt=we[At];t.slidesEl.prepend(l(ge[Xt],Xt))}else we.sort((At,Xt)=>Xt-At),we.forEach(At=>{t.slidesEl.prepend(l(ge[At],At))});Ns(t.slidesEl,".swiper-slide, swiper-slide").forEach(At=>{At.style[De]=$e-Math.abs(t.cssOverflowAdjustment())+"px"}),gt()}i("beforeInit",()=>{if(!t.params.virtual.enabled)return;let T;if(void 0===t.passedParams.virtual.slides){const x=[...t.slidesEl.children].filter(k=>k.matches(`.${t.params.slideClass}, swiper-slide`));x&&x.length&&(t.virtual.slides=[...x],T=!0,x.forEach((k,B)=>{k.setAttribute("data-swiper-slide-index",B),t.virtual.cache[B]=k,k.remove()}))}T||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{!t.params.virtual.enabled||(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{!t.params.virtual.enabled||t.params.cssMode&&Rb(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:function u(T){if("object"==typeof T&&"length"in T)for(let x=0;x<T.length;x+=1)T[x]&&t.virtual.slides.push(T[x]);else t.virtual.slides.push(T);c(!0)},prependSlide:function d(T){const x=t.activeIndex;let k=x+1,B=1;if(Array.isArray(T)){for(let $=0;$<T.length;$+=1)T[$]&&t.virtual.slides.unshift(T[$]);k=x+T.length,B=T.length}else t.virtual.slides.unshift(T);if(t.params.virtual.cache){const $=t.virtual.cache,q={};Object.keys($).forEach(ee=>{const se=$[ee],ae=se.getAttribute("data-swiper-slide-index");ae&&se.setAttribute("data-swiper-slide-index",parseInt(ae,10)+B),q[parseInt(ee,10)+B]=se}),t.virtual.cache=q}c(!0),t.slideTo(k,0)},removeSlide:function f(T){if(null==T)return;let x=t.activeIndex;if(Array.isArray(T))for(let k=T.length-1;k>=0;k-=1)t.params.virtual.cache&&(delete t.virtual.cache[T[k]],Object.keys(t.virtual.cache).forEach(B=>{B>T&&(t.virtual.cache[B-1]=t.virtual.cache[B],t.virtual.cache[B-1].setAttribute("data-swiper-slide-index",B-1),delete t.virtual.cache[B])})),t.virtual.slides.splice(T[k],1),T[k]<x&&(x-=1),x=Math.max(x,0);else t.params.virtual.cache&&(delete t.virtual.cache[T],Object.keys(t.virtual.cache).forEach(k=>{k>T&&(t.virtual.cache[k-1]=t.virtual.cache[k],t.virtual.cache[k-1].setAttribute("data-swiper-slide-index",k-1),delete t.virtual.cache[k])})),t.virtual.slides.splice(T,1),T<x&&(x-=1),x=Math.max(x,0);c(!0),t.slideTo(x,0)},removeAllSlides:function p(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),c(!0),t.slideTo(0,0)},update:c})},function RBe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const o=Rs(),s=mo();function a(u){if(!t.enabled)return;const{rtlTranslate:d}=t;let f=u;f.originalEvent&&(f=f.originalEvent);const p=f.keyCode||f.charCode,T=t.params.keyboard.pageUpDown,x=T&&33===p,k=T&&34===p,B=37===p,$=39===p,q=38===p,ee=40===p;if(!t.allowSlideNext&&(t.isHorizontal()&&$||t.isVertical()&&ee||k)||!t.allowSlidePrev&&(t.isHorizontal()&&B||t.isVertical()&&q||x))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||o.activeElement&&o.activeElement.nodeName&&("input"===o.activeElement.nodeName.toLowerCase()||"textarea"===o.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(x||k||B||$||q||ee)){let se=!1;if(Eg(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===Eg(t.el,`.${t.params.slideActiveClass}`).length)return;const ae=t.el,Ee=ae.clientWidth,Ce=ae.clientHeight,ge=s.innerWidth,ve=s.innerHeight,Ve=pw(ae);d&&(Ve.left-=ae.scrollLeft);const Pe=[[Ve.left,Ve.top],[Ve.left+Ee,Ve.top],[Ve.left,Ve.top+Ce],[Ve.left+Ee,Ve.top+Ce]];for(let De=0;De<Pe.length;De+=1){const Ye=Pe[De];if(Ye[0]>=0&&Ye[0]<=ge&&Ye[1]>=0&&Ye[1]<=ve){if(0===Ye[0]&&0===Ye[1])continue;se=!0}}if(!se)return}t.isHorizontal()?((x||k||B||$)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((k||$)&&!d||(x||B)&&d)&&t.slideNext(),((x||B)&&!d||(k||$)&&d)&&t.slidePrev()):((x||k||q||ee)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(k||ee)&&t.slideNext(),(x||q)&&t.slidePrev()),r("keyPress",p)}}function l(){t.keyboard.enabled||(o.addEventListener("keydown",a),t.keyboard.enabled=!0)}function c(){!t.keyboard.enabled||(o.removeEventListener("keydown",a),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{t.params.keyboard.enabled&&l()}),i("destroy",()=>{t.keyboard.enabled&&c()}),Object.assign(t.keyboard,{enable:l,disable:c})},function NBe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const o=mo();e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let s,l,a=cc();const c=[];function d(){!t.enabled||(t.mouseEntered=!0)}function f(){!t.enabled||(t.mouseEntered=!1)}function p(q){return!(t.params.mousewheel.thresholdDelta&&q.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&cc()-a<t.params.mousewheel.thresholdTime)&&(q.delta>=6&&cc()-a<60||(q.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),r("scroll",q.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),r("scroll",q.raw)),a=(new o.Date).getTime(),!1))}function x(q){let ee=q,se=!0;if(!t.enabled||q.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const ae=t.params.mousewheel;t.params.cssMode&&ee.preventDefault();let Ee=t.el;"container"!==t.params.mousewheel.eventsTarget&&(Ee=document.querySelector(t.params.mousewheel.eventsTarget));const Ce=Ee&&Ee.contains(ee.target);if(!t.mouseEntered&&!Ce&&!ae.releaseOnEdges)return!0;ee.originalEvent&&(ee=ee.originalEvent);let ge=0;const ve=t.rtlTranslate?-1:1,Ve=function u(q){let Ee=0,Ce=0,ge=0,ve=0;return"detail"in q&&(Ce=q.detail),"wheelDelta"in q&&(Ce=-q.wheelDelta/120),"wheelDeltaY"in q&&(Ce=-q.wheelDeltaY/120),"wheelDeltaX"in q&&(Ee=-q.wheelDeltaX/120),"axis"in q&&q.axis===q.HORIZONTAL_AXIS&&(Ee=Ce,Ce=0),ge=10*Ee,ve=10*Ce,"deltaY"in q&&(ve=q.deltaY),"deltaX"in q&&(ge=q.deltaX),q.shiftKey&&!ge&&(ge=ve,ve=0),(ge||ve)&&q.deltaMode&&(1===q.deltaMode?(ge*=40,ve*=40):(ge*=800,ve*=800)),ge&&!Ee&&(Ee=ge<1?-1:1),ve&&!Ce&&(Ce=ve<1?-1:1),{spinX:Ee,spinY:Ce,pixelX:ge,pixelY:ve}}(ee);if(ae.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(Ve.pixelX)>Math.abs(Ve.pixelY)))return!0;ge=-Ve.pixelX*ve}else{if(!(Math.abs(Ve.pixelY)>Math.abs(Ve.pixelX)))return!0;ge=-Ve.pixelY}else ge=Math.abs(Ve.pixelX)>Math.abs(Ve.pixelY)?-Ve.pixelX*ve:-Ve.pixelY;if(0===ge)return!0;ae.invert&&(ge=-ge);let Pe=t.getTranslate()+ge*ae.sensitivity;if(Pe>=t.minTranslate()&&(Pe=t.minTranslate()),Pe<=t.maxTranslate()&&(Pe=t.maxTranslate()),se=!!t.params.loop||!(Pe===t.minTranslate()||Pe===t.maxTranslate()),se&&t.params.nested&&ee.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const De={time:cc(),delta:Math.abs(ge),direction:Math.sign(ge)},Ye=l&&De.time<l.time+500&&De.delta<=l.delta&&De.direction===l.direction;if(!Ye){l=void 0;let Ge=t.getTranslate()+ge*ae.sensitivity;const Ne=t.isBeginning,ke=t.isEnd;if(Ge>=t.minTranslate()&&(Ge=t.minTranslate()),Ge<=t.maxTranslate()&&(Ge=t.maxTranslate()),t.setTransition(0),t.setTranslate(Ge),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!Ne&&t.isBeginning||!ke&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:De.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(s),s=void 0,c.length>=15&&c.shift();const $e=c.length?c[c.length-1]:void 0,gt=c[0];if(c.push(De),$e&&(De.delta>$e.delta||De.direction!==$e.direction))c.splice(0);else if(c.length>=15&&De.time-gt.time<500&&gt.delta-De.delta>=1&&De.delta<=6){const we=ge>0?.8:.2;l=De,c.splice(0),s=Sg(()=>{t.slideToClosest(t.params.speed,!0,void 0,we)},0)}s||(s=Sg(()=>{l=De,c.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(Ye||r("scroll",ee),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),ae.releaseOnEdges&&(Ge===t.minTranslate()||Ge===t.maxTranslate()))return!0}}else{const De={time:cc(),delta:Math.abs(ge),direction:Math.sign(ge),raw:q};c.length>=2&&c.shift();const Ye=c.length?c[c.length-1]:void 0;if(c.push(De),Ye?(De.direction!==Ye.direction||De.delta>Ye.delta||De.time>Ye.time+150)&&p(De):p(De),function T(q){const ee=t.params.mousewheel;if(q.direction<0){if(t.isEnd&&!t.params.loop&&ee.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&ee.releaseOnEdges)return!0;return!1}(De))return!0}return ee.preventDefault?ee.preventDefault():ee.returnValue=!1,!1}function k(q){let ee=t.el;"container"!==t.params.mousewheel.eventsTarget&&(ee=document.querySelector(t.params.mousewheel.eventsTarget)),ee[q]("mouseenter",d),ee[q]("mouseleave",f),ee[q]("wheel",x)}function B(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",x),!0):!t.mousewheel.enabled&&(k("addEventListener"),t.mousewheel.enabled=!0,!0)}function $(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,x),!0):!!t.mousewheel.enabled&&(k("removeEventListener"),t.mousewheel.enabled=!1,!0)}i("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&$(),t.params.mousewheel.enabled&&B()}),i("destroy",()=>{t.params.cssMode&&B(),t.mousewheel.enabled&&$()}),Object.assign(t.mousewheel,{enable:B,disable:$})},function kBe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;function o(T){let x;return T&&"string"==typeof T&&t.isElement&&(x=t.el.querySelector(T),x)?x:(T&&("string"==typeof T&&(x=[...document.querySelectorAll(T)]),t.params.uniqueNavElements&&"string"==typeof T&&x&&x.length>1&&1===t.el.querySelectorAll(T).length?x=t.el.querySelector(T):x&&1===x.length&&(x=x[0])),T&&!x?T:x)}function s(T,x){const k=t.params.navigation;(T=pi(T)).forEach(B=>{B&&(B.classList[x?"add":"remove"](...k.disabledClass.split(" ")),"BUTTON"===B.tagName&&(B.disabled=x),t.params.watchOverflow&&t.enabled&&B.classList[t.isLocked?"add":"remove"](k.lockClass))})}function a(){const{nextEl:T,prevEl:x}=t.navigation;if(t.params.loop)return s(x,!1),void s(T,!1);s(x,t.isBeginning&&!t.params.rewind),s(T,t.isEnd&&!t.params.rewind)}function l(T){T.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(T){T.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const T=t.params.navigation;if(t.params.navigation=vN(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!T.nextEl&&!T.prevEl)return;let x=o(T.nextEl),k=o(T.prevEl);Object.assign(t.navigation,{nextEl:x,prevEl:k}),x=pi(x),k=pi(k);const B=($,q)=>{$&&$.addEventListener("click","next"===q?c:l),!t.enabled&&$&&$.classList.add(...T.lockClass.split(" "))};x.forEach($=>B($,"next")),k.forEach($=>B($,"prev"))}function d(){let{nextEl:T,prevEl:x}=t.navigation;T=pi(T),x=pi(x);const k=(B,$)=>{B.removeEventListener("click","next"===$?c:l),B.classList.remove(...t.params.navigation.disabledClass.split(" "))};T.forEach(B=>k(B,"next")),x.forEach(B=>k(B,"prev"))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",()=>{!1===t.params.navigation.enabled?p():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:T,prevEl:x}=t.navigation;T=pi(T),x=pi(x),t.enabled?a():[...T,...x].filter(k=>!!k).forEach(k=>k.classList.add(t.params.navigation.lockClass))}),i("click",(T,x)=>{let{nextEl:k,prevEl:B}=t.navigation;k=pi(k),B=pi(B);const $=x.target;let q=B.includes($)||k.includes($);if(t.isElement&&!q){const ee=x.path||x.composedPath&&x.composedPath();ee&&(q=ee.find(se=>k.includes(se)||B.includes(se)))}if(t.params.navigation.hideOnClick&&!q){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===$||t.pagination.el.contains($)))return;let ee;k.length?ee=k[0].classList.contains(t.params.navigation.hiddenClass):B.length&&(ee=B[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===ee?"navigationShow":"navigationHide"),[...k,...B].filter(se=>!!se).forEach(se=>se.classList.toggle(t.params.navigation.hiddenClass))}});const p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},disable:p,update:a,init:u,destroy:d})},function LBe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const o="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:B=>B,formatFractionTotal:B=>B,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),t.pagination={el:null,bullets:[]};let s,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(B,$){const{bulletActiveClass:q}=t.params.pagination;!B||(B=B[("prev"===$?"previous":"next")+"ElementSibling"])&&(B.classList.add(`${q}-${$}`),(B=B[("prev"===$?"previous":"next")+"ElementSibling"])&&B.classList.add(`${q}-${$}-${$}`))}function u(B){const $=B.target.closest(Rd(t.params.pagination.bulletClass));if(!$)return;B.preventDefault();const q=Nb($)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===q)return;t.slideToLoop(q)}else t.slideTo(q)}function d(){const B=t.rtl,$=t.params.pagination;if(l())return;let ee,se,q=t.pagination.el;q=pi(q);const Ee=t.params.loop?Math.ceil((t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(se=t.previousRealIndex||0,ee=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(ee=t.snapIndex,se=t.previousSnapIndex):(se=t.previousIndex||0,ee=t.activeIndex||0),"bullets"===$.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const Ce=t.pagination.bullets;let ge,ve,Ve;if($.dynamicBullets&&(s=lN(Ce[0],t.isHorizontal()?"width":"height",!0),q.forEach(Pe=>{Pe.style[t.isHorizontal()?"width":"height"]=s*($.dynamicMainBullets+4)+"px"}),$.dynamicMainBullets>1&&void 0!==se&&(a+=ee-(se||0),a>$.dynamicMainBullets-1?a=$.dynamicMainBullets-1:a<0&&(a=0)),ge=Math.max(ee-a,0),ve=ge+(Math.min(Ce.length,$.dynamicMainBullets)-1),Ve=(ve+ge)/2),Ce.forEach(Pe=>{const De=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Ye=>`${$.bulletActiveClass}${Ye}`)].map(Ye=>"string"==typeof Ye&&Ye.includes(" ")?Ye.split(" "):Ye).flat();Pe.classList.remove(...De)}),q.length>1)Ce.forEach(Pe=>{const De=Nb(Pe);De===ee?Pe.classList.add(...$.bulletActiveClass.split(" ")):t.isElement&&Pe.setAttribute("part","bullet"),$.dynamicBullets&&(De>=ge&&De<=ve&&Pe.classList.add(...`${$.bulletActiveClass}-main`.split(" ")),De===ge&&c(Pe,"prev"),De===ve&&c(Pe,"next"))});else{const Pe=Ce[ee];if(Pe&&Pe.classList.add(...$.bulletActiveClass.split(" ")),t.isElement&&Ce.forEach((De,Ye)=>{De.setAttribute("part",Ye===ee?"bullet-active":"bullet")}),$.dynamicBullets){const De=Ce[ge],Ye=Ce[ve];for(let Ge=ge;Ge<=ve;Ge+=1)Ce[Ge]&&Ce[Ge].classList.add(...`${$.bulletActiveClass}-main`.split(" "));c(De,"prev"),c(Ye,"next")}}if($.dynamicBullets){const Pe=Math.min(Ce.length,$.dynamicMainBullets+4),De=(s*Pe-s)/2-Ve*s,Ye=B?"right":"left";Ce.forEach(Ge=>{Ge.style[t.isHorizontal()?Ye:"top"]=`${De}px`})}}q.forEach((Ce,ge)=>{if("fraction"===$.type&&(Ce.querySelectorAll(Rd($.currentClass)).forEach(ve=>{ve.textContent=$.formatFractionCurrent(ee+1)}),Ce.querySelectorAll(Rd($.totalClass)).forEach(ve=>{ve.textContent=$.formatFractionTotal(Ee)})),"progressbar"===$.type){let ve;ve=$.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const Ve=(ee+1)/Ee;let Pe=1,De=1;"horizontal"===ve?Pe=Ve:De=Ve,Ce.querySelectorAll(Rd($.progressbarFillClass)).forEach(Ye=>{Ye.style.transform=`translate3d(0,0,0) scaleX(${Pe}) scaleY(${De})`,Ye.style.transitionDuration=`${t.params.speed}ms`})}"custom"===$.type&&$.renderCustom?(Ce.innerHTML=$.renderCustom(t,ee+1,Ee),0===ge&&r("paginationRender",Ce)):(0===ge&&r("paginationRender",Ce),r("paginationUpdate",Ce)),t.params.watchOverflow&&t.enabled&&Ce.classList[t.isLocked?"add":"remove"]($.lockClass)})}function f(){const B=t.params.pagination;if(l())return;const $=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let q=t.pagination.el;q=pi(q);let ee="";if("bullets"===B.type){let se=t.params.loop?Math.ceil($/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&se>$&&(se=$);for(let ae=0;ae<se;ae+=1)ee+=B.renderBullet?B.renderBullet.call(t,ae,B.bulletClass):`<${B.bulletElement} ${t.isElement?'part="bullet"':""} class="${B.bulletClass}"></${B.bulletElement}>`}"fraction"===B.type&&(ee=B.renderFraction?B.renderFraction.call(t,B.currentClass,B.totalClass):`<span class="${B.currentClass}"></span> / <span class="${B.totalClass}"></span>`),"progressbar"===B.type&&(ee=B.renderProgressbar?B.renderProgressbar.call(t,B.progressbarFillClass):`<span class="${B.progressbarFillClass}"></span>`),t.pagination.bullets=[],q.forEach(se=>{"custom"!==B.type&&(se.innerHTML=ee||""),"bullets"===B.type&&t.pagination.bullets.push(...se.querySelectorAll(Rd(B.bulletClass)))}),"custom"!==B.type&&r("paginationRender",q[0])}function p(){t.params.pagination=vN(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const B=t.params.pagination;if(!B.el)return;let $;"string"==typeof B.el&&t.isElement&&($=t.el.querySelector(B.el)),!$&&"string"==typeof B.el&&($=[...document.querySelectorAll(B.el)]),$||($=B.el),$&&0!==$.length&&(t.params.uniqueNavElements&&"string"==typeof B.el&&Array.isArray($)&&$.length>1&&($=[...t.el.querySelectorAll(B.el)],$.length>1&&($=$.filter(q=>Eg(q,".swiper")[0]===t.el)[0])),Array.isArray($)&&1===$.length&&($=$[0]),Object.assign(t.pagination,{el:$}),$=pi($),$.forEach(q=>{"bullets"===B.type&&B.clickable&&q.classList.add(...(B.clickableClass||"").split(" ")),q.classList.add(B.modifierClass+B.type),q.classList.add(t.isHorizontal()?B.horizontalClass:B.verticalClass),"bullets"===B.type&&B.dynamicBullets&&(q.classList.add(`${B.modifierClass}${B.type}-dynamic`),a=0,B.dynamicMainBullets<1&&(B.dynamicMainBullets=1)),"progressbar"===B.type&&B.progressbarOpposite&&q.classList.add(B.progressbarOppositeClass),B.clickable&&q.addEventListener("click",u),t.enabled||q.classList.add(B.lockClass)}))}function T(){const B=t.params.pagination;if(l())return;let $=t.pagination.el;$&&($=pi($),$.forEach(q=>{q.classList.remove(B.hiddenClass),q.classList.remove(B.modifierClass+B.type),q.classList.remove(t.isHorizontal()?B.horizontalClass:B.verticalClass),B.clickable&&(q.classList.remove(...(B.clickableClass||"").split(" ")),q.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(q=>q.classList.remove(...B.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const B=t.params.pagination;let{el:$}=t.pagination;$=pi($),$.forEach(q=>{q.classList.remove(B.horizontalClass,B.verticalClass),q.classList.add(t.isHorizontal()?B.horizontalClass:B.verticalClass)})}),i("init",()=>{!1===t.params.pagination.enabled?k():(p(),f(),d())}),i("activeIndexChange",()=>{void 0===t.snapIndex&&d()}),i("snapIndexChange",()=>{d()}),i("snapGridLengthChange",()=>{f(),d()}),i("destroy",()=>{T()}),i("enable disable",()=>{let{el:B}=t.pagination;B&&(B=pi(B),B.forEach($=>$.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{d()}),i("click",(B,$)=>{const q=$.target,ee=pi(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&ee&&ee.length>0&&!q.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&q===t.navigation.nextEl||t.navigation.prevEl&&q===t.navigation.prevEl))return;const se=ee[0].classList.contains(t.params.pagination.hiddenClass);r(!0===se?"paginationShow":"paginationHide"),ee.forEach(ae=>ae.classList.toggle(t.params.pagination.hiddenClass))}});const k=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:B}=t.pagination;B&&(B=pi(B),B.forEach($=>$.classList.add(t.params.pagination.paginationDisabledClass))),T()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:B}=t.pagination;B&&(B=pi(B),B.forEach($=>$.classList.remove(t.params.pagination.paginationDisabledClass))),p(),f(),d()},disable:k,render:f,update:d,init:p,destroy:T})},function FBe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const o=Rs();let c,u,d,f,s=!1,a=null,l=null;function p(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:Pe,rtlTranslate:De}=t,{dragEl:Ye,el:Ge}=Pe,Ne=t.params.scrollbar;let $e=u,gt=(d-u)*(t.params.loop?t.progressLoop:t.progress);De?(gt=-gt,gt>0?($e=u-gt,gt=0):-gt+u>d&&($e=d+gt)):gt<0?($e=u+gt,gt=0):gt+u>d&&($e=d-gt),t.isHorizontal()?(Ye.style.transform=`translate3d(${gt}px, 0, 0)`,Ye.style.width=`${$e}px`):(Ye.style.transform=`translate3d(0px, ${gt}px, 0)`,Ye.style.height=`${$e}px`),Ne.hide&&(clearTimeout(a),Ge.style.opacity=1,a=setTimeout(()=>{Ge.style.opacity=0,Ge.style.transitionDuration="400ms"},1e3))}function x(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:Pe}=t,{dragEl:De,el:Ye}=Pe;De.style.width="",De.style.height="",d=t.isHorizontal()?Ye.offsetWidth:Ye.offsetHeight,f=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),u="auto"===t.params.scrollbar.dragSize?d*f:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?De.style.width=`${u}px`:De.style.height=`${u}px`,Ye.style.display=f>=1?"none":"",t.params.scrollbar.hide&&(Ye.style.opacity=0),t.params.watchOverflow&&t.enabled&&Pe.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function k(Pe){return t.isHorizontal()?Pe.clientX:Pe.clientY}function B(Pe){const{scrollbar:De,rtlTranslate:Ye}=t,{el:Ge}=De;let Ne;Ne=(k(Pe)-pw(Ge)[t.isHorizontal()?"left":"top"]-(null!==c?c:u/2))/(d-u),Ne=Math.max(Math.min(Ne,1),0),Ye&&(Ne=1-Ne);const ke=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*Ne;t.updateProgress(ke),t.setTranslate(ke),t.updateActiveIndex(),t.updateSlidesClasses()}function $(Pe){const De=t.params.scrollbar,{scrollbar:Ye,wrapperEl:Ge}=t,{el:Ne,dragEl:ke}=Ye;s=!0,c=Pe.target===ke?k(Pe)-Pe.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,Pe.preventDefault(),Pe.stopPropagation(),Ge.style.transitionDuration="100ms",ke.style.transitionDuration="100ms",B(Pe),clearTimeout(l),Ne.style.transitionDuration="0ms",De.hide&&(Ne.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",Pe)}function q(Pe){const{scrollbar:De,wrapperEl:Ye}=t,{el:Ge,dragEl:Ne}=De;!s||(Pe.preventDefault&&Pe.cancelable?Pe.preventDefault():Pe.returnValue=!1,B(Pe),Ye.style.transitionDuration="0ms",Ge.style.transitionDuration="0ms",Ne.style.transitionDuration="0ms",r("scrollbarDragMove",Pe))}function ee(Pe){const De=t.params.scrollbar,{scrollbar:Ye,wrapperEl:Ge}=t,{el:Ne}=Ye;!s||(s=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",Ge.style.transitionDuration=""),De.hide&&(clearTimeout(l),l=Sg(()=>{Ne.style.opacity=0,Ne.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",Pe),De.snapOnRelease&&t.slideToClosest())}function se(Pe){const{scrollbar:De,params:Ye}=t,Ge=De.el;if(!Ge)return;const ke=!!Ye.passiveListeners&&{passive:!1,capture:!1},$e=!!Ye.passiveListeners&&{passive:!0,capture:!1};if(!Ge)return;const gt="on"===Pe?"addEventListener":"removeEventListener";Ge[gt]("pointerdown",$,ke),o[gt]("pointermove",q,ke),o[gt]("pointerup",ee,$e)}function Ce(){const{scrollbar:Pe,el:De}=t;t.params.scrollbar=vN(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const Ye=t.params.scrollbar;if(!Ye.el)return;let Ge,Ne;if("string"==typeof Ye.el&&t.isElement&&(Ge=t.el.querySelector(Ye.el)),Ge||"string"!=typeof Ye.el)Ge||(Ge=Ye.el);else if(Ge=o.querySelectorAll(Ye.el),!Ge.length)return;t.params.uniqueNavElements&&"string"==typeof Ye.el&&Ge.length>1&&1===De.querySelectorAll(Ye.el).length&&(Ge=De.querySelector(Ye.el)),Ge.length>0&&(Ge=Ge[0]),Ge.classList.add(t.isHorizontal()?Ye.horizontalClass:Ye.verticalClass),Ge&&(Ne=Ge.querySelector(Rd(t.params.scrollbar.dragClass)),Ne||(Ne=Sl("div",t.params.scrollbar.dragClass),Ge.append(Ne))),Object.assign(Pe,{el:Ge,dragEl:Ne}),Ye.draggable&&function ae(){!t.params.scrollbar.el||!t.scrollbar.el||se("on")}(),Ge&&Ge.classList[t.enabled?"remove":"add"](...Yh(t.params.scrollbar.lockClass))}function ge(){const Pe=t.params.scrollbar,De=t.scrollbar.el;De&&De.classList.remove(...Yh(t.isHorizontal()?Pe.horizontalClass:Pe.verticalClass)),function Ee(){!t.params.scrollbar.el||!t.scrollbar.el||se("off")}()}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},i("changeDirection",()=>{if(!t.scrollbar||!t.scrollbar.el)return;const Pe=t.params.scrollbar;let{el:De}=t.scrollbar;De=pi(De),De.forEach(Ye=>{Ye.classList.remove(Pe.horizontalClass,Pe.verticalClass),Ye.classList.add(t.isHorizontal()?Pe.horizontalClass:Pe.verticalClass)})}),i("init",()=>{!1===t.params.scrollbar.enabled?Ve():(Ce(),x(),p())}),i("update resize observerUpdate lock unlock changeDirection",()=>{x()}),i("setTranslate",()=>{p()}),i("setTransition",(Pe,De)=>{!function T(Pe){!t.params.scrollbar.el||!t.scrollbar.el||(t.scrollbar.dragEl.style.transitionDuration=`${Pe}ms`)}(De)}),i("enable disable",()=>{const{el:Pe}=t.scrollbar;Pe&&Pe.classList[t.enabled?"remove":"add"](...Yh(t.params.scrollbar.lockClass))}),i("destroy",()=>{ge()});const Ve=()=>{t.el.classList.add(...Yh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...Yh(t.params.scrollbar.scrollbarDisabledClass)),ge()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...Yh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...Yh(t.params.scrollbar.scrollbarDisabledClass)),Ce(),x(),p()},disable:Ve,updateSize:x,setTranslate:p,init:Ce,destroy:ge})},function BBe(n){let{swiper:t,extendParams:e,on:i}=n;e({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",o=(l,c)=>{const{rtl:u}=t,d=u?-1:1,f=l.getAttribute("data-swiper-parallax")||"0";let p=l.getAttribute("data-swiper-parallax-x"),T=l.getAttribute("data-swiper-parallax-y");const x=l.getAttribute("data-swiper-parallax-scale"),k=l.getAttribute("data-swiper-parallax-opacity"),B=l.getAttribute("data-swiper-parallax-rotate");if(p||T?(p=p||"0",T=T||"0"):t.isHorizontal()?(p=f,T="0"):(T=f,p="0"),p=p.indexOf("%")>=0?parseInt(p,10)*c*d+"%":p*c*d+"px",T=T.indexOf("%")>=0?parseInt(T,10)*c+"%":T*c+"px",null!=k){const q=k-(k-1)*(1-Math.abs(c));l.style.opacity=q}let $=`translate3d(${p}, ${T}, 0px)`;null!=x&&($+=` scale(${x-(x-1)*(1-Math.abs(c))})`),B&&null!=B&&($+=` rotate(${B*c*-1}deg)`),l.style.transform=$},s=()=>{const{el:l,slides:c,progress:u,snapGrid:d}=t,p=Ns(l,r);t.isElement&&p.push(...Ns(t.hostEl,r)),p.forEach(T=>{o(T,u)}),c.forEach((T,x)=>{let k=T.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(k+=Math.ceil(x/2)-u*(d.length-1)),k=Math.min(Math.max(k,-1),1),T.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(B=>{o(B,k)})})};i("beforeInit",()=>{!t.params.parallax.enabled||(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),i("init",()=>{!t.params.parallax.enabled||s()}),i("setTranslate",()=>{!t.params.parallax.enabled||s()}),i("setTransition",(l,c)=>{!t.params.parallax.enabled||function(l){void 0===l&&(l=t.params.speed);const{el:c,hostEl:u}=t,d=[...c.querySelectorAll(r)];t.isElement&&d.push(...u.querySelectorAll(r)),d.forEach(f=>{let p=parseInt(f.getAttribute("data-swiper-parallax-duration"),10)||l;0===l&&(p=0),f.style.transitionDuration=`${p}ms`})}(c)})},function UBe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const o=mo();e({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let l,c,s=1,a=!1;const u=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let Ce,T=1;function x(){if(u.length<2)return 1;const ft=u[0].pageY,Ft=u[1].pageY;return Math.sqrt(ia(u[1].pageX-u[0].pageX,2)+ia(Ft-ft,2))}function k(){const st=t.params.zoom,ft=d.imageWrapEl.getAttribute("data-swiper-zoom")||st.maxRatio;return st.limitToOriginalSize&&d.imageEl&&d.imageEl.naturalWidth?Math.min(d.imageEl.naturalWidth/d.imageEl.offsetWidth,ft):ft}function q(st){const ft=function $(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}();return!!(st.target.matches(ft)||t.slides.filter(St=>St.contains(st.target)).length>0)}function se(st){if("mouse"===st.pointerType&&u.splice(0,u.length),!q(st))return;const ft=t.params.zoom;if(l=!1,c=!1,u.push(st),!(u.length<2)){if(l=!0,d.scaleStart=x(),!d.slideEl){d.slideEl=st.target.closest(`.${t.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=t.slides[t.activeIndex]);let St=d.slideEl.querySelector(`.${ft.containerClass}`);if(St&&(St=St.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=St,d.imageWrapEl=St?Eg(d.imageEl,`.${ft.containerClass}`)[0]:void 0,!d.imageWrapEl)return void(d.imageEl=void 0);d.maxRatio=k()}if(d.imageEl){const[St,Ft]=function B(){if(u.length<2)return{x:null,y:null};const st=d.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-st.x-o.scrollX)/s,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-st.y-o.scrollY)/s]}();d.originX=St,d.originY=Ft,d.imageEl.style.transitionDuration="0ms"}a=!0}}function ae(st){if(!q(st))return;const ft=t.params.zoom,St=t.zoom,Ft=u.findIndex(At=>At.pointerId===st.pointerId);Ft>=0&&(u[Ft]=st),!(u.length<2)&&(c=!0,d.scaleMove=x(),d.imageEl&&(St.scale=d.scaleMove/d.scaleStart*s,St.scale>d.maxRatio&&(St.scale=d.maxRatio-1+ia(St.scale-d.maxRatio+1,.5)),St.scale<ft.minRatio&&(St.scale=ft.minRatio+1-ia(ft.minRatio-St.scale+1,.5)),d.imageEl.style.transform=`translate3d(0,0,0) scale(${St.scale})`))}function Ee(st){if(!q(st)||"mouse"===st.pointerType&&"pointerout"===st.type)return;const ft=t.params.zoom,St=t.zoom,Ft=u.findIndex(At=>At.pointerId===st.pointerId);Ft>=0&&u.splice(Ft,1),l&&c&&(l=!1,c=!1,d.imageEl&&(St.scale=Math.max(Math.min(St.scale,d.maxRatio),ft.minRatio),d.imageEl.style.transitionDuration=`${t.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${St.scale})`,s=St.scale,a=!1,St.scale>1&&d.slideEl?d.slideEl.classList.add(`${ft.zoomedSlideClass}`):St.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${ft.zoomedSlideClass}`),1===St.scale&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}function ge(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function Pe(st){if(!q(st)||!function ee(st){const ft=`.${t.params.zoom.containerClass}`;return!!(st.target.matches(ft)||[...t.hostEl.querySelectorAll(ft)].filter(St=>St.contains(st.target)).length>0)}(st))return;const ft=t.zoom;if(!d.imageEl||!f.isTouched||!d.slideEl)return;f.isMoved||(f.width=d.imageEl.offsetWidth||d.imageEl.clientWidth,f.height=d.imageEl.offsetHeight||d.imageEl.clientHeight,f.startX=aN(d.imageWrapEl,"x")||0,f.startY=aN(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const Ft=f.height*ft.scale;if(f.minX=Math.min(d.slideWidth/2-f.width*ft.scale/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-Ft/2,0),f.maxY=-f.minY,f.touchesCurrent.x=u.length>0?u[0].pageX:st.pageX,f.touchesCurrent.y=u.length>0?u[0].pageY:st.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(t.allowClick=!1),!f.isMoved&&!a){if(t.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x))return f.isTouched=!1,void ge();if(!t.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y))return f.isTouched=!1,void ge()}st.cancelable&&st.preventDefault(),st.stopPropagation(),function ve(){clearTimeout(Ce),t.touchEventsData.preventTouchMoveFromPointerMove=!0,Ce=setTimeout(()=>{ge()})}(),f.isMoved=!0;const Xt=(ft.scale-s)/(d.maxRatio-t.params.zoom.minRatio),{originX:tn,originY:kn}=d;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+Xt*(f.width-2*tn),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+Xt*(f.height-2*kn),f.currentX<f.minX&&(f.currentX=f.minX+1-ia(f.minX-f.currentX+1,.8)),f.currentX>f.maxX&&(f.currentX=f.maxX-1+ia(f.currentX-f.maxX+1,.8)),f.currentY<f.minY&&(f.currentY=f.minY+1-ia(f.minY-f.currentY+1,.8)),f.currentY>f.maxY&&(f.currentY=f.maxY-1+ia(f.currentY-f.maxY+1,.8)),p.prevPositionX||(p.prevPositionX=f.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=f.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(f.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(f.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(f.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(f.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=f.touchesCurrent.x,p.prevPositionY=f.touchesCurrent.y,p.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function Ye(){const st=t.zoom;d.slideEl&&t.activeIndex!==t.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),st.scale=1,s=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function Ge(st){const ft=t.zoom,St=t.params.zoom;if(!d.slideEl){st&&st.target&&(d.slideEl=st.target.closest(`.${t.params.slideClass}, swiper-slide`)),d.slideEl||(d.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?Ns(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex]);let kd=d.slideEl.querySelector(`.${St.containerClass}`);kd&&(kd=kd.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=kd,d.imageWrapEl=kd?Eg(d.imageEl,`.${St.containerClass}`)[0]:void 0}if(!d.imageEl||!d.imageWrapEl)return;let Ft,At,Xt,tn,kn,yn,hn,Kt,On,fn,cr,jn,In,To,br,wl,Zc,Gu;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${St.zoomedSlideClass}`),void 0===f.touchesStart.x&&st?(Ft=st.pageX,At=st.pageY):(Ft=f.touchesStart.x,At=f.touchesStart.y);const wo="number"==typeof st?st:null;1===s&&wo&&(Ft=void 0,At=void 0);const Nd=k();ft.scale=wo||Nd,s=wo||Nd,!st||1===s&&wo?(hn=0,Kt=0):(Zc=d.slideEl.offsetWidth,Gu=d.slideEl.offsetHeight,Xt=pw(d.slideEl).left+o.scrollX,tn=pw(d.slideEl).top+o.scrollY,kn=Xt+Zc/2-Ft,yn=tn+Gu/2-At,On=d.imageEl.offsetWidth||d.imageEl.clientWidth,fn=d.imageEl.offsetHeight||d.imageEl.clientHeight,cr=On*ft.scale,jn=fn*ft.scale,In=Math.min(Zc/2-cr/2,0),To=Math.min(Gu/2-jn/2,0),br=-In,wl=-To,hn=kn*ft.scale,Kt=yn*ft.scale,hn<In&&(hn=In),hn>br&&(hn=br),Kt<To&&(Kt=To),Kt>wl&&(Kt=wl)),wo&&1===ft.scale&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${hn}px, ${Kt}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${ft.scale})`}function Ne(){const st=t.zoom,ft=t.params.zoom;if(!d.slideEl){d.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?Ns(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex];let St=d.slideEl.querySelector(`.${ft.containerClass}`);St&&(St=St.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=St,d.imageWrapEl=St?Eg(d.imageEl,`.${ft.containerClass}`)[0]:void 0}!d.imageEl||!d.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),st.scale=1,s=1,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${ft.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0)}function ke(st){const ft=t.zoom;ft.scale&&1!==ft.scale?Ne():Ge(st)}function $e(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function gt(){const st=t.zoom;if(st.enabled)return;st.enabled=!0;const{passiveListener:ft,activeListenerWithCapture:St}=$e();t.wrapperEl.addEventListener("pointerdown",se,ft),t.wrapperEl.addEventListener("pointermove",ae,St),["pointerup","pointercancel","pointerout"].forEach(Ft=>{t.wrapperEl.addEventListener(Ft,Ee,ft)}),t.wrapperEl.addEventListener("pointermove",Pe,St)}function we(){const st=t.zoom;if(!st.enabled)return;st.enabled=!1;const{passiveListener:ft,activeListenerWithCapture:St}=$e();t.wrapperEl.removeEventListener("pointerdown",se,ft),t.wrapperEl.removeEventListener("pointermove",ae,St),["pointerup","pointercancel","pointerout"].forEach(Ft=>{t.wrapperEl.removeEventListener(Ft,Ee,ft)}),t.wrapperEl.removeEventListener("pointermove",Pe,St)}Object.defineProperty(t.zoom,"scale",{get:()=>T,set(st){T!==st&&r("zoomChange",st,d.imageEl,d.slideEl),T=st}}),i("init",()=>{t.params.zoom.enabled&&gt()}),i("destroy",()=>{we()}),i("touchStart",(st,ft)=>{!t.zoom.enabled||function Ve(st){if(!d.imageEl||f.isTouched)return;t.device.android&&st.cancelable&&st.preventDefault(),f.isTouched=!0;const St=u.length>0?u[0]:st;f.touchesStart.x=St.pageX,f.touchesStart.y=St.pageY}(ft)}),i("touchEnd",(st,ft)=>{!t.zoom.enabled||function De(){const st=t.zoom;if(!d.imageEl)return;if(!f.isTouched||!f.isMoved)return f.isTouched=!1,void(f.isMoved=!1);f.isTouched=!1,f.isMoved=!1;let ft=300,St=300;const At=f.currentX+p.x*ft,tn=f.currentY+p.y*St;0!==p.x&&(ft=Math.abs((At-f.currentX)/p.x)),0!==p.y&&(St=Math.abs((tn-f.currentY)/p.y));const kn=Math.max(ft,St);f.currentX=At,f.currentY=tn;const hn=f.height*st.scale;f.minX=Math.min(d.slideWidth/2-f.width*st.scale/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-hn/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),d.imageWrapEl.style.transitionDuration=`${kn}ms`,d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}()}),i("doubleTap",(st,ft)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&ke(ft)}),i("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&Ye()}),i("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&Ye()}),Object.assign(t.zoom,{enable:gt,disable:we,in:Ge,out:Ne,toggle:ke})},function jBe(n){let{swiper:t,extendParams:e,on:i}=n;function r(c,u){const d=function(){let x,k,B;return($,q)=>{for(k=-1,x=$.length;x-k>1;)B=x+k>>1,$[B]<=q?k=B:x=B;return x}}();let f,p;return this.x=c,this.y=u,this.lastIndex=c.length-1,this.interpolate=function(x){return x?(p=d(this.x,x),f=p-1,(x-this.x[f])*(this.y[p]-this.y[f])/(this.x[p]-this.x[f])+this.y[f]):0},this}function l(){!t.controller.control||t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},i("beforeInit",()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const c=document.querySelector(t.params.controller.control);if(c&&c.swiper)t.controller.control=c.swiper;else if(c){const u=d=>{t.controller.control=d.detail[0],t.update(),c.removeEventListener("init",u)};c.addEventListener("init",u)}}else t.controller.control=t.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTransition(u,d)}),Object.assign(t.controller,{setTranslate:function s(c,u){const d=t.controller.control;let f,p;const T=t.constructor;function x(k){if(k.destroyed)return;const B=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function o(c){t.controller.spline=t.params.loop?new r(t.slidesGrid,c.slidesGrid):new r(t.snapGrid,c.snapGrid)}(k),p=-t.controller.spline.interpolate(-B)),(!p||"container"===t.params.controller.by)&&(f=(k.maxTranslate()-k.minTranslate())/(t.maxTranslate()-t.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),p=(B-t.minTranslate())*f+k.minTranslate()),t.params.controller.inverse&&(p=k.maxTranslate()-p),k.updateProgress(p),k.setTranslate(p,t),k.updateActiveIndex(),k.updateSlidesClasses()}if(Array.isArray(d))for(let k=0;k<d.length;k+=1)d[k]!==u&&d[k]instanceof T&&x(d[k]);else d instanceof T&&u!==d&&x(d)},setTransition:function a(c,u){const d=t.constructor,f=t.controller.control;let p;function T(x){x.destroyed||(x.setTransition(c,t),0!==c&&(x.transitionStart(),x.params.autoHeight&&Sg(()=>{x.updateAutoHeight()}),kb(x.wrapperEl,()=>{!f||x.transitionEnd()})))}if(Array.isArray(f))for(p=0;p<f.length;p+=1)f[p]!==u&&f[p]instanceof d&&T(f[p]);else f instanceof d&&u!==f&&T(f)}})},function GBe(n){let{swiper:t,extendParams:e,on:i}=n;e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let o,s,r=null,a=(new Date).getTime();function l(ke){const $e=r;0!==$e.length&&($e.innerHTML="",$e.innerHTML=ke)}function u(ke){(ke=pi(ke)).forEach($e=>{$e.setAttribute("tabIndex","0")})}function d(ke){(ke=pi(ke)).forEach($e=>{$e.setAttribute("tabIndex","-1")})}function f(ke,$e){(ke=pi(ke)).forEach(gt=>{gt.setAttribute("role",$e)})}function p(ke,$e){(ke=pi(ke)).forEach(gt=>{gt.setAttribute("aria-roledescription",$e)})}function x(ke,$e){(ke=pi(ke)).forEach(gt=>{gt.setAttribute("aria-label",$e)})}function $(ke){(ke=pi(ke)).forEach($e=>{$e.setAttribute("aria-disabled",!0)})}function q(ke){(ke=pi(ke)).forEach($e=>{$e.setAttribute("aria-disabled",!1)})}function ee(ke){if(13!==ke.keyCode&&32!==ke.keyCode)return;const $e=t.params.a11y,gt=ke.target;if(!t.pagination||!t.pagination.el||gt!==t.pagination.el&&!t.pagination.el.contains(ke.target)||ke.target.matches(Rd(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const we=pi(t.navigation.prevEl);pi(t.navigation.nextEl).includes(gt)&&(t.isEnd&&!t.params.loop||t.slideNext(),l(t.isEnd?$e.lastSlideMessage:$e.nextSlideMessage)),we.includes(gt)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),l(t.isBeginning?$e.firstSlideMessage:$e.prevSlideMessage))}t.pagination&&gt.matches(Rd(t.params.pagination.bulletClass))&&gt.click()}}function ae(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function Ee(){return ae()&&t.params.pagination.clickable}const ge=(ke,$e,gt)=>{u(ke),"BUTTON"!==ke.tagName&&(f(ke,"button"),ke.addEventListener("keydown",ee)),x(ke,gt),function T(ke,$e){(ke=pi(ke)).forEach(gt=>{gt.setAttribute("aria-controls",$e)})}(ke,$e)},ve=ke=>{s&&s!==ke.target&&!s.contains(ke.target)&&(o=!0),t.a11y.clicked=!0},Ve=()=>{o=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},Pe=ke=>{a=(new Date).getTime()},De=ke=>{if(t.a11y.clicked||(new Date).getTime()-a<100)return;const $e=ke.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!$e||!t.slides.includes($e))return;s=$e;const gt=t.slides.indexOf($e)===t.activeIndex,we=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes($e);gt||we||ke.sourceCapabilities&&ke.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{o||(t.params.loop?t.slideToLoop(parseInt($e.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf($e),0),o=!1)}))},Ye=()=>{const ke=t.params.a11y;ke.itemRoleDescriptionMessage&&p(t.slides,ke.itemRoleDescriptionMessage),ke.slideRole&&f(t.slides,ke.slideRole);const $e=t.slides.length;ke.slideLabelMessage&&t.slides.forEach((gt,we)=>{const st=t.params.loop?parseInt(gt.getAttribute("data-swiper-slide-index"),10):we;x(gt,ke.slideLabelMessage.replace(/\{\{index\}\}/,st+1).replace(/\{\{slidesLength\}\}/,$e))})};i("beforeInit",()=>{r=Sl("span",t.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{!t.params.a11y.enabled||(()=>{const ke=t.params.a11y;t.el.append(r);const $e=t.el;ke.containerRoleDescriptionMessage&&p($e,ke.containerRoleDescriptionMessage),ke.containerMessage&&x($e,ke.containerMessage);const gt=t.wrapperEl,we=ke.id||gt.getAttribute("id")||`swiper-wrapper-${function c(ke){return void 0===ke&&(ke=16),"x".repeat(ke).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,st=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";(function k(ke,$e){(ke=pi(ke)).forEach(gt=>{gt.setAttribute("id",$e)})})(gt,we),function B(ke,$e){(ke=pi(ke)).forEach(gt=>{gt.setAttribute("aria-live",$e)})}(gt,st),Ye();let{nextEl:ft,prevEl:St}=t.navigation?t.navigation:{};ft=pi(ft),St=pi(St),ft&&ft.forEach(At=>ge(At,we,ke.nextSlideMessage)),St&&St.forEach(At=>ge(At,we,ke.prevSlideMessage)),Ee()&&pi(t.pagination.el).forEach(Xt=>{Xt.addEventListener("keydown",ee)}),Rs().addEventListener("visibilitychange",Pe),t.el.addEventListener("focus",De,!0),t.el.addEventListener("focus",De,!0),t.el.addEventListener("pointerdown",ve,!0),t.el.addEventListener("pointerup",Ve,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!t.params.a11y.enabled||Ye()}),i("fromEdge toEdge afterInit lock unlock",()=>{!t.params.a11y.enabled||function se(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:ke,prevEl:$e}=t.navigation;$e&&(t.isBeginning?($($e),d($e)):(q($e),u($e))),ke&&(t.isEnd?($(ke),d(ke)):(q(ke),u(ke)))}()}),i("paginationUpdate",()=>{!t.params.a11y.enabled||function Ce(){const ke=t.params.a11y;!ae()||t.pagination.bullets.forEach($e=>{t.params.pagination.clickable&&(u($e),t.params.pagination.renderBullet||(f($e,"button"),x($e,ke.paginationBulletMessage.replace(/\{\{index\}\}/,Nb($e)+1)))),$e.matches(Rd(t.params.pagination.bulletActiveClass))?$e.setAttribute("aria-current","true"):$e.removeAttribute("aria-current")})}()}),i("destroy",()=>{!t.params.a11y.enabled||function Ne(){r&&r.remove();let{nextEl:ke,prevEl:$e}=t.navigation?t.navigation:{};ke=pi(ke),$e=pi($e),ke&&ke.forEach(we=>we.removeEventListener("keydown",ee)),$e&&$e.forEach(we=>we.removeEventListener("keydown",ee)),Ee()&&pi(t.pagination.el).forEach(st=>{st.removeEventListener("keydown",ee)}),Rs().removeEventListener("visibilitychange",Pe),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",De,!0),t.el.removeEventListener("pointerdown",ve,!0),t.el.removeEventListener("pointerup",Ve,!0))}()})},function HBe(n){let{swiper:t,extendParams:e,on:i}=n;e({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,o={};const s=p=>p.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=p=>{const T=mo();let x;x=p?new URL(p):T.location;const k=x.pathname.slice(1).split("/").filter(ee=>""!==ee),B=k.length;return{key:k[B-2],value:k[B-1]}},l=(p,T)=>{const x=mo();if(!r||!t.params.history.enabled)return;let k;k=t.params.url?new URL(t.params.url):x.location;const B=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${T}"]`):t.slides[T];let $=s(B.getAttribute("data-history"));if(t.params.history.root.length>0){let ee=t.params.history.root;"/"===ee[ee.length-1]&&(ee=ee.slice(0,ee.length-1)),$=`${ee}/${p?`${p}/`:""}${$}`}else k.pathname.includes(p)||($=`${p?`${p}/`:""}${$}`);t.params.history.keepQuery&&($+=k.search);const q=x.history.state;q&&q.value===$||(t.params.history.replaceState?x.history.replaceState({value:$},null,$):x.history.pushState({value:$},null,$))},c=(p,T,x)=>{if(T)for(let k=0,B=t.slides.length;k<B;k+=1){const $=t.slides[k];if(s($.getAttribute("data-history"))===T){const ee=t.getSlideIndex($);t.slideTo(ee,p,x)}}else t.slideTo(0,p,x)},u=()=>{o=a(t.params.url),c(t.params.speed,o.value,!1)};i("init",()=>{t.params.history.enabled&&(()=>{const p=mo();if(t.params.history){if(!p.history||!p.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);if(r=!0,o=a(t.params.url),!o.key&&!o.value)return void(t.params.history.replaceState||p.addEventListener("popstate",u));c(0,o.value,t.params.runCallbacksOnInit),t.params.history.replaceState||p.addEventListener("popstate",u)}})()}),i("destroy",()=>{t.params.history.enabled&&(()=>{const p=mo();t.params.history.replaceState||p.removeEventListener("popstate",u)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(t.params.history.key,t.activeIndex)}),i("slideChange",()=>{r&&t.params.cssMode&&l(t.params.history.key,t.activeIndex)})},function VBe(n){let{swiper:t,extendParams:e,emit:i,on:r}=n,o=!1;const s=Rs(),a=mo();e({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,p){if(t.virtual&&t.params.virtual.enabled){const T=t.slides.filter(k=>k.getAttribute("data-hash")===p)[0];return T?parseInt(T.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(Ns(t.slidesEl,`.${t.params.slideClass}[data-hash="${p}"], swiper-slide[data-hash="${p}"]`)[0])}}});const l=()=>{i("hashChange");const f=s.location.hash.replace("#",""),p=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(f!==(p?p.getAttribute("data-hash"):"")){const x=t.params.hashNavigation.getSlideIndex(t,f);if(void 0===x||Number.isNaN(x))return;t.slideTo(x)}},c=()=>{if(!o||!t.params.hashNavigation.enabled)return;const f=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],p=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${p}`||""),i("hashSet")):(s.location.hash=p||"",i("hashSet"))};r("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;o=!0;const f=s.location.hash.replace("#","");if(f){const T=t.params.hashNavigation.getSlideIndex(t,f);t.slideTo(T||0,0,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)})()}),r("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{o&&c()}),r("slideChange",()=>{o&&t.params.cssMode&&c()})},function zBe(n){let{swiper:t,extendParams:e,on:i,emit:r,params:o}=n;t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,u,f,p,T,x,k,B,$,l=o&&o.autoplay?o.autoplay.delay:3e3,c=o&&o.autoplay?o.autoplay.delay:3e3,d=(new Date).getTime();function q($e){!t||t.destroyed||!t.wrapperEl||$e.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",q),!($||$e.detail&&$e.detail.bySwiperTouchMove)&&ve())}const ee=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const $e=t.autoplay.paused?u:d+c-(new Date).getTime();t.autoplay.timeLeft=$e,r("autoplayTimeLeft",$e,$e/l),a=requestAnimationFrame(()=>{ee()})},ae=$e=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),ee();let gt=void 0===$e?t.params.autoplay.delay:$e;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const we=(()=>{let $e;return $e=t.virtual&&t.params.virtual.enabled?t.slides.filter(we=>we.classList.contains("swiper-slide-active"))[0]:t.slides[t.activeIndex],$e?parseInt($e.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(we)&&we>0&&void 0===$e&&(gt=we,l=we,c=we),u=gt;const st=t.params.speed,ft=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(st,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,st,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(st,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,st,!0,!0),r("autoplay")),t.params.cssMode&&(d=(new Date).getTime(),requestAnimationFrame(()=>{ae()})))};return gt>0?(clearTimeout(s),s=setTimeout(()=>{ft()},gt)):requestAnimationFrame(()=>{ft()}),gt},Ee=()=>{d=(new Date).getTime(),t.autoplay.running=!0,ae(),r("autoplayStart")},Ce=()=>{t.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),r("autoplayStop")},ge=($e,gt)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(s),$e||(B=!0);const we=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",q):ve()};if(t.autoplay.paused=!0,gt)return k&&(u=t.params.autoplay.delay),k=!1,void we();u=(u||t.params.autoplay.delay)-((new Date).getTime()-d),(!(t.isEnd&&u<0)||t.params.loop)&&(u<0&&(u=0),we())},ve=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=(new Date).getTime(),B?(B=!1,ae(u)):ae(),t.autoplay.paused=!1,r("autoplayResume"))},Ve=()=>{if(t.destroyed||!t.autoplay.running)return;const $e=Rs();"hidden"===$e.visibilityState&&(B=!0,ge(!0)),"visible"===$e.visibilityState&&ve()},Pe=$e=>{"mouse"===$e.pointerType&&(B=!0,$=!0,!t.animating&&!t.autoplay.paused&&ge(!0))},De=$e=>{"mouse"===$e.pointerType&&($=!1,t.autoplay.paused&&ve())};i("init",()=>{t.params.autoplay.enabled&&(t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",Pe),t.el.addEventListener("pointerleave",De)),Rs().addEventListener("visibilitychange",Ve),Ee())}),i("destroy",()=>{t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("pointerenter",Pe),t.el.removeEventListener("pointerleave",De)),Rs().removeEventListener("visibilitychange",Ve),t.autoplay.running&&Ce()}),i("_freeModeStaticRelease",()=>{(T||B)&&ve()}),i("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?Ce():ge(!0,!0)}),i("beforeTransitionStart",($e,gt,we)=>{t.destroyed||!t.autoplay.running||(we||!t.params.autoplay.disableOnInteraction?ge(!0,!0):Ce())}),i("sliderFirstMove",()=>{if(!t.destroyed&&t.autoplay.running){if(t.params.autoplay.disableOnInteraction)return void Ce();p=!0,T=!1,B=!1,x=setTimeout(()=>{B=!0,T=!0,ge(!0)},200)}}),i("touchEnd",()=>{if(!t.destroyed&&t.autoplay.running&&p){if(clearTimeout(x),clearTimeout(s),t.params.autoplay.disableOnInteraction)return T=!1,void(p=!1);T&&t.params.cssMode&&ve(),T=!1,p=!1}}),i("slideChange",()=>{t.destroyed||!t.autoplay.running||(k=!0)}),Object.assign(t.autoplay,{start:Ee,stop:Ce,pause:ge,resume:ve})},function WBe(n){let{swiper:t,extendParams:e,on:i}=n;e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,o=!1;function s(){const c=t.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(t.params.thumbs.slideThumbActiveClass)||null==u)return;let f;f=c.params.loop?parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):u,t.params.loop?t.slideToLoop(f):t.slideTo(f)}function a(){const{thumbs:c}=t.params;if(r)return!1;r=!0;const u=t.constructor;if(c.swiper instanceof u)t.thumbs.swiper=c.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(Db(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new u(d),o=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",s),!0}function l(c){const u=t.thumbs.swiper;if(!u||u.destroyed)return;const d="auto"===u.params.slidesPerView?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const p=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(f=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(k=>k.classList.remove(p)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let k=0;k<f;k+=1)Ns(u.slidesEl,`[data-swiper-slide-index="${t.realIndex+k}"]`).forEach(B=>{B.classList.add(p)});else for(let k=0;k<f;k+=1)u.slides[t.realIndex+k]&&u.slides[t.realIndex+k].classList.add(p);const T=t.params.thumbs.autoScrollOffset,x=T&&!u.params.loop;if(t.realIndex!==u.realIndex||x){const k=u.activeIndex;let B,$;if(u.params.loop){const q=u.slides.filter(ee=>ee.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];B=u.slides.indexOf(q),$=t.activeIndex>t.previousIndex?"next":"prev"}else B=t.realIndex,$=B>t.previousIndex?"next":"prev";x&&(B+="next"===$?T:-1*T),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(B)<0&&(u.params.centeredSlides&&(B=B>k?B-Math.floor(d/2)+1:B+Math.floor(d/2)-1),u.slideTo(B,c?0:void 0))}}t.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:c}=t.params;if(c&&c.swiper)if("string"==typeof c.swiper||c.swiper instanceof HTMLElement){const u=Rs(),d=()=>{const p="string"==typeof c.swiper?u.querySelector(c.swiper):c.swiper;if(p&&p.swiper)c.swiper=p.swiper,a(),l(!0);else if(p){const T=x=>{c.swiper=x.detail[0],p.removeEventListener("init",T),a(),l(!0),c.swiper.update(),t.update()};p.addEventListener("init",T)}return p},f=()=>{t.destroyed||d()||requestAnimationFrame(f)};requestAnimationFrame(f)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=t.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=t.thumbs.swiper;!c||c.destroyed||o&&c.destroy()}),Object.assign(t.thumbs,{init:a,update:l})},function YBe(n){let{swiper:t,extendParams:e,emit:i,once:r}=n;e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function o(){if(t.params.cssMode)return;const l=t.getTranslate();t.setTranslate(l),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function s(){if(t.params.cssMode)return;const{touchEventsData:l,touches:c}=t;0===l.velocities.length&&l.velocities.push({position:c[t.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[t.isHorizontal()?"currentX":"currentY"],time:cc()})},onTouchEnd:function a(l){let{currentPos:c}=l;if(t.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:p,touchEventsData:T}=t,k=cc()-T.touchStartTime;if(c<-t.minTranslate())t.slideTo(t.activeIndex);else if(c>-t.maxTranslate())t.slideTo(t.slides.length<p.length?p.length-1:t.slides.length-1);else{if(u.freeMode.momentum){if(T.velocities.length>1){const Ce=T.velocities.pop(),ge=T.velocities.pop(),Ve=Ce.time-ge.time;t.velocity=(Ce.position-ge.position)/Ve,t.velocity/=2,Math.abs(t.velocity)<u.freeMode.minimumVelocity&&(t.velocity=0),(Ve>150||cc()-Ce.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=u.freeMode.momentumVelocityRatio,T.velocities.length=0;let B=1e3*u.freeMode.momentumRatio,q=t.translate+t.velocity*B;f&&(q=-q);let se,ee=!1;const ae=20*Math.abs(t.velocity)*u.freeMode.momentumBounceRatio;let Ee;if(q<t.maxTranslate())u.freeMode.momentumBounce?(q+t.maxTranslate()<-ae&&(q=t.maxTranslate()-ae),se=t.maxTranslate(),ee=!0,T.allowMomentumBounce=!0):q=t.maxTranslate(),u.loop&&u.centeredSlides&&(Ee=!0);else if(q>t.minTranslate())u.freeMode.momentumBounce?(q-t.minTranslate()>ae&&(q=t.minTranslate()+ae),se=t.minTranslate(),ee=!0,T.allowMomentumBounce=!0):q=t.minTranslate(),u.loop&&u.centeredSlides&&(Ee=!0);else if(u.freeMode.sticky){let Ce;for(let ge=0;ge<p.length;ge+=1)if(p[ge]>-q){Ce=ge;break}q=Math.abs(p[Ce]-q)<Math.abs(p[Ce-1]-q)||"next"===t.swipeDirection?p[Ce]:p[Ce-1],q=-q}if(Ee&&r("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(B=f?Math.abs((-q-t.translate)/t.velocity):Math.abs((q-t.translate)/t.velocity),u.freeMode.sticky){const Ce=Math.abs((f?-q:q)-t.translate),ge=t.slidesSizesGrid[t.activeIndex];B=Ce<ge?u.speed:Ce<2*ge?1.5*u.speed:2.5*u.speed}}else if(u.freeMode.sticky)return void t.slideToClosest();u.freeMode.momentumBounce&&ee?(t.updateProgress(se),t.setTransition(B),t.setTranslate(q),t.transitionStart(!0,t.swipeDirection),t.animating=!0,kb(d,()=>{!t||t.destroyed||!T.allowMomentumBounce||(i("momentumBounce"),t.setTransition(u.speed),setTimeout(()=>{t.setTranslate(se),kb(d,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(i("_freeModeNoMomentumRelease"),t.updateProgress(q),t.setTransition(B),t.setTranslate(q),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,kb(d,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(q),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(u.freeMode.sticky)return void t.slideToClosest();u.freeMode&&i("_freeModeNoMomentumRelease")}(!u.freeMode.momentum||k>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function $Be(n){let r,o,s,a,{swiper:t,extendParams:e,on:i}=n;e({grid:{rows:1,fill:"column"}});const l=()=>{let x=t.params.spaceBetween;return"string"==typeof x&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*t.size:"string"==typeof x&&(x=parseFloat(x)),x};i("init",()=>{a=t.params.grid&&t.params.grid.rows>1}),i("update",()=>{const{params:x,el:k}=t,B=x.grid&&x.grid.rows>1;a&&!B?(k.classList.remove(`${x.containerModifierClass}grid`,`${x.containerModifierClass}grid-column`),s=1,t.emitContainerClasses()):!a&&B&&(k.classList.add(`${x.containerModifierClass}grid`),"column"===x.grid.fill&&k.classList.add(`${x.containerModifierClass}grid-column`),t.emitContainerClasses()),a=B}),t.grid={initSlides:x=>{const{slidesPerView:k}=t.params,{rows:B,fill:$}=t.params.grid,q=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:x.length;s=Math.floor(q/B),r=Math.floor(q/B)===q/B?q:Math.ceil(q/B)*B,"auto"!==k&&"row"===$&&(r=Math.max(r,k*B)),o=r/B},unsetSlides:()=>{t.slides&&t.slides.forEach(x=>{x.swiperSlideGridSet&&(x.style.height="",x.style[t.getDirectionLabel("margin-top")]="")})},updateSlide:(x,k,B)=>{const{slidesPerGroup:$}=t.params,q=l(),{rows:ee,fill:se}=t.params.grid,ae=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:B.length;let Ee,Ce,ge;if("row"===se&&$>1){const ve=Math.floor(x/($*ee)),Ve=x-ee*$*ve,Pe=0===ve?$:Math.min(Math.ceil((ae-ve*ee*$)/ee),$);ge=Math.floor(Ve/Pe),Ce=Ve-ge*Pe+ve*$,Ee=Ce+ge*r/ee,k.style.order=Ee}else"column"===se?(Ce=Math.floor(x/ee),ge=x-Ce*ee,(Ce>s||Ce===s&&ge===ee-1)&&(ge+=1,ge>=ee&&(ge=0,Ce+=1))):(ge=Math.floor(x/o),Ce=x-ge*o);k.row=ge,k.column=Ce,k.style.height=`calc((100% - ${(ee-1)*q}px) / ${ee})`,k.style[t.getDirectionLabel("margin-top")]=0!==ge?q&&`${q}px`:"",k.swiperSlideGridSet=!0},updateWrapperSize:(x,k)=>{const{centeredSlides:B,roundLengths:$}=t.params,q=l(),{rows:ee}=t.params.grid;if(t.virtualSize=(x+q)*r,t.virtualSize=Math.ceil(t.virtualSize/ee)-q,t.params.cssMode||(t.wrapperEl.style[t.getDirectionLabel("width")]=`${t.virtualSize+q}px`),B){const se=[];for(let ae=0;ae<k.length;ae+=1){let Ee=k[ae];$&&(Ee=Math.floor(Ee)),k[ae]<t.virtualSize+k[0]&&se.push(Ee)}k.splice(0,k.length),k.push(...se)}}}},function QBe(n){let{swiper:t}=n;Object.assign(t,{appendSlide:XBe.bind(t),prependSlide:KBe.bind(t),addSlide:qBe.bind(t),removeSlide:JBe.bind(t),removeAllSlides:ZBe.bind(t)})},function e4e(n){let{swiper:t,extendParams:e,on:i}=n;e({fadeEffect:{crossFade:!1}}),uv({effect:"fade",swiper:t,on:i,setTranslate:()=>{const{slides:s}=t;for(let l=0;l<s.length;l+=1){const c=t.slides[l];let d=-c.swiperSlideOffset;t.params.virtualTranslate||(d-=t.translate);let f=0;t.isHorizontal()||(f=d,d=0);const p=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),T=Lb(0,c);T.style.opacity=p,T.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:s=>{const a=t.slides.map(l=>Cg(l));a.forEach(l=>{l.style.transitionDuration=`${s}ms`}),_w({swiper:t,duration:s,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function t4e(n){let{swiper:t,extendParams:e,on:i}=n;e({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,c,u)=>{let d=l.querySelector(u?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=l.querySelector(u?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");d||(d=Sl("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"left":"top")).split(" ")),l.append(d)),f||(f=Sl("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"right":"bottom")).split(" ")),l.append(f)),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};uv({effect:"cube",swiper:t,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:f,rtlTranslate:p,size:T,browser:x}=t,k=t.params.cubeEffect,B=t.isHorizontal(),$=t.virtual&&t.params.virtual.enabled;let ee,q=0;k.shadow&&(B?(ee=t.wrapperEl.querySelector(".swiper-cube-shadow"),ee||(ee=Sl("div","swiper-cube-shadow"),t.wrapperEl.append(ee)),ee.style.height=`${d}px`):(ee=l.querySelector(".swiper-cube-shadow"),ee||(ee=Sl("div","swiper-cube-shadow"),l.append(ee))));for(let ae=0;ae<u.length;ae+=1){const Ee=u[ae];let Ce=ae;$&&(Ce=parseInt(Ee.getAttribute("data-swiper-slide-index"),10));let ge=90*Ce,ve=Math.floor(ge/360);p&&(ge=-ge,ve=Math.floor(-ge/360));const Ve=Math.max(Math.min(Ee.progress,1),-1);let Pe=0,De=0,Ye=0;Ce%4==0?(Pe=4*-ve*T,Ye=0):(Ce-1)%4==0?(Pe=0,Ye=4*-ve*T):(Ce-2)%4==0?(Pe=T+4*ve*T,Ye=T):(Ce-3)%4==0&&(Pe=-T,Ye=3*T+4*T*ve),p&&(Pe=-Pe),B||(De=Pe,Pe=0);const Ge=`rotateX(${B?0:-ge}deg) rotateY(${B?ge:0}deg) translate3d(${Pe}px, ${De}px, ${Ye}px)`;Ve<=1&&Ve>-1&&(q=90*Ce+90*Ve,p&&(q=90*-Ce-90*Ve),t.browser&&t.browser.need3dFix&&Math.abs(q)/90%2==1&&(q+=.001)),Ee.style.transform=Ge,k.slideShadows&&r(Ee,Ve,B)}if(c.style.transformOrigin=`50% 50% -${T/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${T/2}px`,k.shadow)if(B)ee.style.transform=`translate3d(0px, ${d/2+k.shadowOffset}px, ${-d/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${k.shadowScale})`;else{const ae=Math.abs(q)-90*Math.floor(Math.abs(q)/90),Ee=1.5-(Math.sin(2*ae*Math.PI/360)/2+Math.cos(2*ae*Math.PI/360)/2),ge=k.shadowScale/Ee;ee.style.transform=`scale3d(${k.shadowScale}, 1, ${ge}) translate3d(0px, ${f/2+k.shadowOffset}px, ${-f/2/ge}px) rotateX(-89.99deg)`}const se=(x.isSafari||x.isWebView)&&x.needPerspectiveFix?-T/2:0;c.style.transform=`translate3d(0px,0,${se}px) rotateX(${t.isHorizontal()?0:q}deg) rotateY(${t.isHorizontal()?-q:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${se}px`)},setTransition:l=>{const{el:c,slides:u}=t;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),t.params.cubeEffect.shadow&&!t.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=t.isHorizontal();t.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);r(c,u,l)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function n4e(n){let{swiper:t,extendParams:e,on:i}=n;e({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(l,c)=>{let u=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=dv("flip",l,t.isHorizontal()?"left":"top")),d||(d=dv("flip",l,t.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};uv({effect:"flip",swiper:t,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=t,u=t.params.flipEffect;for(let d=0;d<l.length;d+=1){const f=l[d];let p=f.progress;t.params.flipEffect.limitRotation&&(p=Math.max(Math.min(f.progress,1),-1));const T=f.swiperSlideOffset;let k=-180*p,B=0,$=t.params.cssMode?-T-t.translate:-T,q=0;t.isHorizontal()?c&&(k=-k):(q=$,$=0,B=-k,k=0),t.browser&&t.browser.need3dFix&&(Math.abs(k)/90%2==1&&(k+=.001),Math.abs(B)/90%2==1&&(B+=.001)),f.style.zIndex=-Math.abs(Math.round(p))+l.length,u.slideShadows&&r(f,p);const ee=`translate3d(${$}px, ${q}px, 0px) rotateX(${B}deg) rotateY(${k}deg)`;Lb(0,f).style.transform=ee}},setTransition:l=>{const c=t.slides.map(u=>Cg(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),_w({swiper:t,duration:l,transformElements:c})},recreateShadows:()=>{t.slides.forEach(l=>{let c=l.progress;t.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function i4e(n){let{swiper:t,extendParams:e,on:i}=n;e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),uv({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{const{width:s,height:a,slides:l,slidesSizesGrid:c}=t,u=t.params.coverflowEffect,d=t.isHorizontal(),f=t.translate,p=d?s/2-f:a/2-f,T=d?u.rotate:-u.rotate,x=u.depth;for(let k=0,B=l.length;k<B;k+=1){const $=l[k],q=c[k],se=(p-$.swiperSlideOffset-q/2)/q,ae="function"==typeof u.modifier?u.modifier(se):se*u.modifier;let Ee=d?T*ae:0,Ce=d?0:T*ae,ge=-x*Math.abs(ae),ve=u.stretch;"string"==typeof ve&&-1!==ve.indexOf("%")&&(ve=parseFloat(u.stretch)/100*q);let Ve=d?0:ve*ae,Pe=d?ve*ae:0,De=1-(1-u.scale)*Math.abs(ae);Math.abs(Pe)<.001&&(Pe=0),Math.abs(Ve)<.001&&(Ve=0),Math.abs(ge)<.001&&(ge=0),Math.abs(Ee)<.001&&(Ee=0),Math.abs(Ce)<.001&&(Ce=0),Math.abs(De)<.001&&(De=0),t.browser&&t.browser.need3dFix&&(Math.abs(Ee)/90%2==1&&(Ee+=.001),Math.abs(Ce)/90%2==1&&(Ce+=.001));const Ye=`translate3d(${Pe}px,${Ve}px,${ge}px)  rotateX(${Ce}deg) rotateY(${Ee}deg) scale(${De})`;if(Lb(0,$).style.transform=Ye,$.style.zIndex=1-Math.abs(Math.round(ae)),u.slideShadows){let Ne=$.querySelector(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),ke=$.querySelector(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Ne||(Ne=dv("coverflow",$,d?"left":"top")),ke||(ke=dv("coverflow",$,d?"right":"bottom")),Ne&&(Ne.style.opacity=ae>0?ae:0),ke&&(ke.style.opacity=-ae>0?-ae:0)}}},setTransition:s=>{t.slides.map(l=>Cg(l)).forEach(l=>{l.style.transitionDuration=`${s}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${s}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function r4e(n){let{swiper:t,extendParams:e,on:i}=n;e({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>"string"==typeof a?a:`${a}px`;uv({effect:"creative",swiper:t,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=t,u=t.params.creativeEffect,{progressMultiplier:d}=u,f=t.params.centeredSlides;f&&(l.style.transform=`translateX(calc(50% - ${c[0]/2-t.params.slidesOffsetBefore||0}px))`);for(let p=0;p<a.length;p+=1){const T=a[p],x=T.progress,k=Math.min(Math.max(T.progress,-u.limitProgress),u.limitProgress);let B=k;f||(B=Math.min(Math.max(T.originalProgress,-u.limitProgress),u.limitProgress));const $=T.swiperSlideOffset,q=[t.params.cssMode?-$-t.translate:-$,0,0],ee=[0,0,0];let se=!1;t.isHorizontal()||(q[1]=q[0],q[0]=0);let ae={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};k<0?(ae=u.next,se=!0):k>0&&(ae=u.prev,se=!0),q.forEach((De,Ye)=>{q[Ye]=`calc(${De}px + (${r(ae.translate[Ye])} * ${Math.abs(k*d)}))`}),ee.forEach((De,Ye)=>{let Ge=ae.rotate[Ye]*Math.abs(k*d);t.browser&&t.browser.need3dFix&&Math.abs(Ge)/90%2==1&&(Ge+=.001),ee[Ye]=Ge}),T.style.zIndex=-Math.abs(Math.round(x))+a.length;const Ee=q.join(", "),ve=B<0?1+(1-ae.opacity)*B*d:1-(1-ae.opacity)*B*d,Ve=`translate3d(${Ee}) rotateX(${ee[0]}deg) rotateY(${ee[1]}deg) rotateZ(${ee[2]}deg) ${B<0?`scale(${1+(1-ae.scale)*B*d})`:`scale(${1-(1-ae.scale)*B*d})`}`;if(se&&ae.shadow||!se){let De=T.querySelector(".swiper-slide-shadow");!De&&ae.shadow&&(De=dv("creative",T)),De&&(De.style.opacity=Math.min(Math.max(Math.abs(u.shadowPerProgress?k*(1/u.limitProgress):k),0),1))}const Pe=Lb(0,T);Pe.style.transform=Ve,Pe.style.opacity=ve,ae.origin&&(Pe.style.transformOrigin=ae.origin)}},setTransition:a=>{const l=t.slides.map(c=>Cg(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),_w({swiper:t,duration:a,transformElements:l,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function o4e(n){let{swiper:t,extendParams:e,on:i}=n;e({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),uv({effect:"cards",swiper:t,on:i,setTranslate:()=>{const{slides:s,activeIndex:a,rtlTranslate:l}=t,c=t.params.cardsEffect,{startTranslate:u,isTouched:d}=t.touchEventsData,f=l?-t.translate:t.translate;for(let p=0;p<s.length;p+=1){const T=s[p],x=T.progress,k=Math.min(Math.max(x,-4),4);let B=T.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(B-=s[0].swiperSlideOffset);let $=t.params.cssMode?-B-t.translate:-B,q=0;const ee=-100*Math.abs(k);let se=1,ae=-c.perSlideRotate*k,Ee=c.perSlideOffset-.75*Math.abs(k);const Ce=t.virtual&&t.params.virtual.enabled?t.virtual.from+p:p,ve=(Ce===a||Ce===a+1)&&k<0&&k>-1&&(d||t.params.cssMode)&&f>u;if((Ce===a||Ce===a-1)&&k>0&&k<1&&(d||t.params.cssMode)&&f<u||ve){const Ye=ia(1-Math.abs((Math.abs(k)-.5)/.5),.5);ae+=-28*k*Ye,se+=-.5*Ye,Ee+=96*Ye,q=-25*Ye*Math.abs(k)+"%"}if($=k<0?`calc(${$}px ${l?"-":"+"} (${Ee*Math.abs(k)}%))`:k>0?`calc(${$}px ${l?"-":"+"} (-${Ee*Math.abs(k)}%))`:`${$}px`,!t.isHorizontal()){const Ye=q;q=$,$=Ye}const Pe=`\n        translate3d(${$}, ${q}, ${ee}px)\n        rotateZ(${c.rotate?l?-ae:ae:0}deg)\n        scale(${k<0?""+(1+(1-se)*k):""+(1-(1-se)*k)})\n      `;if(c.slideShadows){let Ye=T.querySelector(".swiper-slide-shadow");Ye||(Ye=dv("cards",T)),Ye&&(Ye.style.opacity=Math.min(Math.max((Math.abs(k)-.5)/.5,0),1))}T.style.zIndex=-Math.abs(Math.round(x))+s.length,Lb(0,T).style.transform=Pe}},setTransition:s=>{const a=t.slides.map(l=>Cg(l));a.forEach(l=>{l.style.transitionDuration=`${s}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${s}ms`})}),_w({swiper:t,duration:s,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];Cl.use(s4e);const mw=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function hv(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)&&!n.__swiper__}function yN(n,t){const e=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>e.indexOf(i)<0).forEach(i=>{void 0===n[i]?n[i]=t[i]:hv(t[i])&&hv(n[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?n[i]=t[i]:yN(n[i],t[i]):n[i]=t[i]})}function vw(n){return void 0===n&&(n=""),n.replace(/-[a-z]/g,t=>t.toUpperCase().replace("-",""))}const j$=n=>{if(parseFloat(n)===Number(n))return Number(n);if("true"===n||""===n)return!0;if("false"===n)return!1;if("null"===n)return null;if("undefined"!==n){if("string"==typeof n&&n.includes("{")&&n.includes("}")&&n.includes('"')){let t;try{t=JSON.parse(n)}catch(e){t=n}return t}return n}},G$=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function H$(n,t,e){const i={},r={};yN(i,gN);const o=[...mw,"on"],s=o.map(l=>l.replace(/_/,""));o.forEach(l=>{l=l.replace("_",""),void 0!==n[l]&&(r[l]=n[l])});const a=[...n.attributes];return"string"==typeof t&&void 0!==e&&a.push({name:t,value:hv(e)?Ze({},e):e}),a.forEach(l=>{const c=G$.filter(u=>0===l.name.indexOf(`${u}-`))[0];if(c){const u=vw(c),d=vw(l.name.split(`${c}-`)[1]);void 0===r[u]&&(r[u]={}),!0===r[u]&&(r[u]={enabled:!0}),r[u][d]=j$(l.value)}else{const u=vw(l.name);if(!s.includes(u))return;const d=j$(l.value);r[u]&&G$.includes(l.name)&&!hv(d)?(r[u].constructor!==Object&&(r[u]={}),r[u].enabled=!!d):r[u]=d}}),yN(i,r),i.navigation?i.navigation=Ze({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},!0!==i.navigation?i.navigation:{}):!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar=Ze({el:".swiper-scrollbar"},!0!==i.scrollbar?i.scrollbar:{}):!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination=Ze({el:".swiper-pagination"},!0!==i.pagination?i.pagination:{}):!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const d4e=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",V$="undefined"==typeof window||"undefined"==typeof HTMLElement?class f4e{}:HTMLElement,z$='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',W$=(n,t)=>{if("undefined"!=typeof CSSStyleSheet&&n.adoptedStyleSheets){const e=new CSSStyleSheet;e.replaceSync(t),n.adoptedStyleSheets=[e]}else{const e=document.createElement("style");e.rel="stylesheet",e.textContent=t,n.appendChild(e)}};class Y$ extends V${constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return z$}static get prevButtonSvg(){return z$.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[d4e,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const t=this.slideSlots||0,e=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=e.length?Math.max(...e)+1:0,this.rendered)if(this.slideSlots>t)for(let i=t;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const o=document.createElement("slot");o.setAttribute("name",`slide-${i+1}`),r.appendChild(o),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<t){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let t=this.cssStyles();this.slideSlots>0&&(t=t.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),t.length&&W$(this.shadowRoot,t),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const o=document.createElement("link");o.rel="stylesheet",o.href=i,this.shadowRoot.appendChild(o)});const e=document.createElement("div");e.classList.add("swiper"),e.part="container",e.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function a4e(n){return void 0===n&&(n={}),n.navigation&&void 0===n.navigation.nextEl&&void 0===n.navigation.prevEl}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function l4e(n){return void 0===n&&(n={}),n.pagination&&void 0===n.pagination.el}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function c4e(n){return void 0===n&&(n={}),n.scrollbar&&void 0===n.scrollbar.el}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(e),this.rendered=!0}initialize(){var t=this;if(this.initialized)return;this.initialized=!0;const{params:e,passedParams:i}=H$(this);this.swiperParams=e,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new Cl(this.shadowRoot.querySelector(".swiper"),Ln(Ze(Ze({},e.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0}),e),{touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&t.calcSlideSlots();const o=e.eventsPrefix?`${e.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=new CustomEvent(o,{detail:a,bubbles:"hashChange"!==r,cancelable:!0});t.dispatchEvent(c)}}))}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(t,e){const{params:i,passedParams:r}=H$(this,t,e);this.passedParams=r,this.swiperParams=i,(!this.swiper||this.swiper.params[t]!==e)&&function u4e(n){let{swiper:t,slides:e,passedParams:i,changedParams:r,nextEl:o,prevEl:s,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(ge=>"children"!==ge&&"direction"!==ge&&"wrapperClass"!==ge),{params:u,pagination:d,navigation:f,scrollbar:p,virtual:T,thumbs:x}=t;let k,B,$,q,ee,se,ae,Ee;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(k=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(B=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&($=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||!1===u.scrollbar)&&p&&!p.el&&(q=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||s)&&(i.navigation.nextEl||o)&&(u.navigation||!1===u.navigation)&&f&&!f.prevEl&&!f.nextEl&&(ee=!0);const Ce=ge=>{!t[ge]||(t[ge].destroy(),"navigation"===ge?(t.isElement&&(t[ge].prevEl.remove(),t[ge].nextEl.remove()),u[ge].prevEl=void 0,u[ge].nextEl=void 0,t[ge].prevEl=void 0,t[ge].nextEl=void 0):(t.isElement&&t[ge].el.remove(),u[ge].el=void 0,t[ge].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!i.loop?se=!0:!u.loop&&i.loop?ae=!0:Ee=!0),c.forEach(ge=>{if(hv(u[ge])&&hv(i[ge]))Object.assign(u[ge],i[ge]),("navigation"===ge||"pagination"===ge||"scrollbar"===ge)&&"enabled"in i[ge]&&!i[ge].enabled&&Ce(ge);else{const ve=i[ge];!0!==ve&&!1!==ve||"navigation"!==ge&&"pagination"!==ge&&"scrollbar"!==ge?u[ge]=i[ge]:!1===ve&&Ce(ge)}}),c.includes("controller")&&!B&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&T&&u.virtual.enabled?(T.slides=e,T.update(!0)):r.includes("virtual")&&T&&u.virtual.enabled&&(e&&(T.slides=e),T.update(!0)),r.includes("children")&&e&&u.loop&&(Ee=!0),k&&x.init()&&x.update(!0),B&&(t.controller.control=u.controller.control),$&&(t.isElement&&(!l||"string"==typeof l)&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),q&&(t.isElement&&(!a||"string"==typeof a)&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),ee&&(t.isElement&&((!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=t.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),t.el.appendChild(o)),(!s||"string"==typeof s)&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=t.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),t.el.appendChild(s))),o&&(u.navigation.nextEl=o),s&&(u.navigation.prevEl=s),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(se||Ee)&&t.loopDestroy(),(ae||Ee)&&t.loopCreate(),t.update()}(Ze(Ze(Ze({swiper:this.swiper,passedParams:this.passedParams,changedParams:[vw(t)]},"navigation"===t&&r[t]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),"pagination"===t&&r[t]?{paginationEl:".swiper-pagination"}:{}),"scrollbar"===t&&r[t]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(t,e,i){!this.initialized||("true"===e&&null===i&&(i=!1),this.updateSwiperOnPropChange(t,i))}static get observedAttributes(){return mw.filter(e=>e.includes("_")).map(e=>e.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}mw.forEach(n=>{"init"!==n&&(n=n.replace("_",""),Object.defineProperty(Y$.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(t){this.passedParams||(this.passedParams={}),this.passedParams[n]=t,this.initialized&&this.updateSwiperOnPropChange(n,t)}}))});"undefined"!=typeof window&&(window.SwiperElementRegisterParams=n=>{mw.push(...n)}),"undefined"!=typeof window&&(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Y$),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class p4e extends V${constructor(){super(),this.attachShadow({mode:"open"})}render(){const t=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(W$(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),t){const e=document.createElement("div");e.classList.add("swiper-lazy-preloader"),e.part.add("preloader"),this.shadowRoot.appendChild(e)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let _4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[$Y]}),n})(),m4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,_4e,Wr]]}),n})(),v4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,jc,S$,b$,C$,E$,T$,w$,m4e,M$,gFe]]}),n})(),y4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,O$,on,Aa,P$]]}),n})(),b4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[wp,J0,hs,Cb,_T,Mp,q0,zn,Ws,H1e("challenges")],imports:[[Nt,on,jc,rFe,oFe,sFe,hFe,v4e,fFe,y4e]]}),n})(),fv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),Xh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Wr]]}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,P9,on,Qs,fv,Aa,Xh,pv,Wr,Y_,xc]]}),n})(),yw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),S4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),C4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,pv,Wr,Y_,Xh,xc]]}),n})(),X$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,C4e,Aa,bxe]]}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),E4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Wr,K$]]}),n})(),T4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,X$,S4e,E4e]]}),n})(),w4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,xc,Xh]]}),n})(),M4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,X$,w4e]]}),n})(),O4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Xh,xc]]}),n})(),P4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,bw,on,xc,Xh]]}),n})(),x4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,P4e,on]]}),n})(),I4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,bw,pv,Wr,Y_,xc,Xh]]}),n})(),A4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,I4e]]}),n})(),D4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,yw,Qs,O4e,Aa,x4e,A4e]]}),n})(),R4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),N4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,yw,Qs,T4e,M4e,D4e,on,R4e]]}),n})(),k4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Aa,on,jc,Xh,xc]]}),n})(),L4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,K$]]}),n})(),F4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,L4e]]}),n})(),Fb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Qs]]}),n})();const bi=!1;function q$(n){return new Oe(3e3,bi)}function m5e(){return"undefined"!=typeof window&&void 0!==window.document}function bN(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Kh(n){switch(n.length){case 0:return new Tb;case 1:return n[0];default:return new qY(n)}}function J$(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,f=d==l,p=f&&c||{};Object.keys(u).forEach(T=>{let x=T,k=u[T];if("offset"!==T)switch(x=t.normalizePropertyName(x,s),k){case"!":k=r[T];break;case Ad:k=o[T];break;default:k=t.normalizeStyleValue(T,x,k,s)}p[x]=k}),f||a.push(p),c=p,l=d}),s.length)throw function s5e(n){return new Oe(3502,bi)}();return a}function SN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&CN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&CN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&CN(e,"destroy",n)))}}function CN(n,t,e){const i=e.totalTime,o=EN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function EN(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function El(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Z$(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let TN=(n,t)=>!1,Q$=(n,t,e)=>[],eX=null;function wN(n){const t=n.parentNode||n.host;return t===eX?null:t}(bN()||"undefined"!=typeof Element)&&(m5e()?(eX=(()=>document.documentElement)(),TN=(n,t)=>{for(;t;){if(t===n)return!0;t=wN(t)}return!1}):TN=(n,t)=>n.contains(t),Q$=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Tg=null,tX=!1;function nX(n){Tg||(Tg=function y5e(){return"undefined"!=typeof document?document.body:null}()||{},tX=!!Tg.style&&"WebkitAppearance"in Tg.style);let t=!0;return Tg.style&&!function v5e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Tg.style,!t&&tX&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Tg.style)),t}const iX=TN,rX=Q$;let oX=(()=>{class n{validateStyleProperty(e){return nX(e)}matchesElement(e,i){return!1}containsElement(e,i){return iX(e,i)}getParentElement(e){return wN(e)}query(e,i,r){return rX(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Tb(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),MN=(()=>{class n{}return n.NOOP=new oX,n})();const ON="ng-enter",Cw="ng-leave",Ew="ng-trigger",Tw=".ng-trigger",aX="ng-animating",PN=".ng-animating";function wg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xN(parseFloat(t[1]),t[2])}function xN(n,t){return"s"===t?1e3*n:n}function ww(n,t,e){return n.hasOwnProperty("duration")?n:function C5e(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(q$()),{duration:0,delay:0,easing:""};r=xN(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=xN(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function B4e(){return new Oe(3100,bi)}()),a=!0),o<0&&(t.push(function U4e(){return new Oe(3101,bi)}()),a=!0),a&&t.splice(l,0,q$())}return{duration:r,delay:o,easing:s}}(n,t,e)}function gv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qh(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else gv(n,e);return e}function cX(n,t,e){return e?t+":"+e+";":""}function uX(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=cX(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=cX(0,w5e(e),n.style[e]));n.setAttribute("style",t)}function ju(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=AN(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),bN()&&uX(n))}function Mg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=AN(e);n.style[i]=""}),bN()&&uX(n))}function Bb(n){return Array.isArray(n)?1==n.length?n[0]:XY(n):n}const IN=new RegExp("{{\\s*(.+?)\\s*}}","g");function dX(n){let t=[];if("string"==typeof n){let e;for(;e=IN.exec(n);)t.push(e[1]);IN.lastIndex=0}return t}function Mw(n,t,e){const i=n.toString(),r=i.replace(IN,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function G4e(n){return new Oe(3003,bi)}()),a=""),a.toString()});return r==i?n:r}function Ow(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const T5e=/-+([a-z0-9])/g;function AN(n){return n.replace(T5e,(...t)=>t[1].toUpperCase())}function w5e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function H4e(n){return new Oe(3004,bi)}()}}function hX(n,t){return window.getComputedStyle(n)[t]}function A5e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function D5e(n,t,e){if(":"==n[0]){const l=function R5e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function n5e(n){return new Oe(3016,bi)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function t5e(n){return new Oe(3015,bi)}()),t;const r=i[1],o=i[2],s=i[3];t.push(fX(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(fX(s,r))}(i,e,t)):e.push(n),e}const Aw=new Set(["true","1"]),Dw=new Set(["false","0"]);function fX(n,t){const e=Aw.has(n)||Dw.has(n),i=Aw.has(t)||Dw.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Aw.has(n):Dw.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Aw.has(t):Dw.has(t)),s&&a}}const N5e=new RegExp("s*:selfs*,?","g");function DN(n,t,e,i){return new k5e(n).build(t,e,i)}class k5e{constructor(t){this._driver=t}build(t,e,i){const r=new B5e(e);this._resetContextStyleTimingState(r);const o=Tl(this,Bb(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function z4e(){return new Oe(3006,bi)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function W4e(){return new Oe(3007,bi)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(Rw(a)){const l=a;Object.keys(l).forEach(c=>{dX(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(Ow(o.values()),e.errors.push(function Y4e(n,t){return new Oe(3008,bi)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Tl(this,Bb(t.animation),e);return{type:1,matchers:A5e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Og(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Tl(this,i,e)),options:Og(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Tl(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Og(t.options)}}visitAnimate(t,e){const i=function j5e(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RN(ww(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=RN(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=ww(e,t);return RN(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:qc({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=qc(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==Ad?i.push(s):e.errors.push(function $4e(n){return new Oe(3002,bi)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(Rw(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function X4e(n,t,e,i,r){return new Oe(3010,bi)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function E5e(n,t,e){const i=t.params||{},r=dX(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function j4e(n){return new Oe(3001,bi)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function K4e(){return new Oe(3011,bi)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(B=>{const $=this._makeStyleAst(B,e);let q=null!=$.offset?$.offset:function U5e(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Rw(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Rw(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}($.styles),ee=0;return null!=q&&(o++,ee=$.offset=q),l=l||ee<0||ee>1,a=a||ee<c,c=ee,s.push(ee),$});l&&e.errors.push(function q4e(){return new Oe(3012,bi)}()),a&&e.errors.push(function J4e(){return new Oe(3200,bi)}());const d=t.steps.length;let f=0;o>0&&o<d?e.errors.push(function Z4e(){return new Oe(3202,bi)}()):0==o&&(f=1/(d-1));const p=d-1,T=e.currentTime,x=e.currentAnimateTimings,k=x.duration;return u.forEach((B,$)=>{const q=f>0?$==p?1:f*$:s[$],ee=q*k;e.currentTime=T+x.delay+ee,x.duration=ee,this._validateStyleAst(B,e),B.offset=q,i.styles.push(B)}),i}visitReference(t,e){return{type:8,animation:Tl(this,Bb(t.animation),e),options:Og(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Og(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Og(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function L5e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(N5e,"")),n=n.replace(/@\*/g,Tw).replace(/@\w+/g,e=>Tw+"-"+e.substr(1)).replace(/:animating/g,PN),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,El(e.collectedStyles,e.currentQuerySelector,{});const a=Tl(this,Bb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Og(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Q4e(){return new Oe(3013,bi)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ww(t.timings,e.errors,!0);return{type:12,animation:Tl(this,Bb(t.animation),e),timings:i,options:null}}}class B5e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rw(n){return!Array.isArray(n)&&"object"==typeof n}function Og(n){return n?(n=gv(n)).params&&(n.params=function F5e(n){return n?gv(n):null}(n.params)):n={},n}function RN(n,t,e){return{duration:n,delay:t,easing:e}}function NN(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Nw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const V5e=new RegExp(":enter","g"),W5e=new RegExp(":leave","g");function kN(n,t,e,i,r,o={},s={},a,l,c=[]){return(new Y5e).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class Y5e{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Nw;const d=new LN(t,e,c,r,o,u,[]);d.options=l,d.currentTimeline.setStyles([s],null,d.errors,l),Tl(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(Object.keys(a).length){let p;for(let T=f.length-1;T>=0;T--){const x=f[T];if(x.element===e){p=x;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[NN(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?wg(i.duration):null,a=null!=i.delay?wg(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Tl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kw);const s=wg(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Tl(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?wg(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Tl(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ww(e.params?Mw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?wg(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kw);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Tl(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Tl(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const kw={};class LN{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Lw(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=wg(i.duration)),null!=i.delay&&(r.delay=wg(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Mw(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new LN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=kw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new $5e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(V5e,"."+this._enterClassName)).replace(W5e,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function e5e(n){return new Oe(3014,bi)}()),a}}class Lw{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Lw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ad,this._currentKeyframe[e]=Ad}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function X5e(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Ad})):qh(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Mw(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ad),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=qh(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?t.add(u):d==Ad&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Ow(t.values()):[],s=e.size?Ow(e.values()):[];if(i){const a=r[0],l=gv(a);a.offset=0,l.offset=1,r=[a,l]}return NN(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class $5e extends Lw{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=qh(t[0],!1);l.offset=0,o.push(l);const c=qh(t[0],!1);c.offset=_X(a),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let f=qh(t[d],!1);f.offset=_X((e+f.offset*i)/s),o.push(f)}i=s,e=0,r="",t=o}return NN(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function _X(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class FN{}class K5e extends FN{normalizePropertyName(t,e){return AN(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(q5e[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function V4e(n,t){return new Oe(3005,bi)}())}return s+o}}const q5e=(()=>function J5e(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function mX(n,t,e,i,r,o,s,a,l,c,u,d,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const BN={};class vX{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Z5e(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||BN,T=this.buildStyles(i,a&&a.params||BN,d),x=l&&l.params||BN,k=this.buildStyles(r,x,d),B=new Set,$=new Map,q=new Map,ee="void"===r,se={params:Object.assign(Object.assign({},f),x)},ae=u?[]:kN(t,e,this.ast.animation,o,s,T,k,se,c,d);let Ee=0;if(ae.forEach(ge=>{Ee=Math.max(ge.duration+ge.delay,Ee)}),d.length)return mX(e,this._triggerName,i,r,ee,T,k,[],[],$,q,Ee,d);ae.forEach(ge=>{const ve=ge.element,Ve=El($,ve,{});ge.preStyleProps.forEach(De=>Ve[De]=!0);const Pe=El(q,ve,{});ge.postStyleProps.forEach(De=>Pe[De]=!0),ve!==e&&B.add(ve)});const Ce=Ow(B.values());return mX(e,this._triggerName,i,r,ee,T,k,ae,Ce,$,q,Ee)}}class Q5e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=gv(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Mw(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class t8e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new Q5e(r.style,r.options&&r.options.params||{},i)}),yX(this.states,"true","1"),yX(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new vX(t,r,this.states))}),this.fallbackTransition=function n8e(n,t,e){return new vX(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function yX(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const i8e=new Nw;class r8e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=DN(this._driver,e,i,[]);if(i.length)throw function a5e(n){return new Oe(3503,bi)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=J$(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=kN(this._driver,e,o,ON,Cw,{},{},i,i8e,r),s.forEach(u=>{const d=El(a,u.element,{});u.postStyleProps.forEach(f=>d[f]=null)})):(r.push(function l5e(){return new Oe(3300,bi)}()),s=[]),r.length)throw function c5e(n){return new Oe(3504,bi)}();a.forEach((u,d)=>{Object.keys(u).forEach(f=>{u[f]=this._driver.computeStyle(d,f,Ad)})});const c=Kh(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function u5e(n){return new Oe(3301,bi)}();return e}listen(t,e,i,r){const o=EN(e,"","","");return SN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bX="ng-animate-queued",UN="ng-animate-disabled",c8e=[],SX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},u8e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uc="__ng_removed";class jN{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function p8e(n){return null!=n?n:null}(i?t.value:t),i){const o=gv(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ub="void",GN=new jN(Ub);class d8e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dc(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function d5e(n,t){return new Oe(3302,bi)}();if(null==i||0==i.length)throw function h5e(n){return new Oe(3303,bi)}();if(!function g8e(n){return"start"==n||"done"==n}(i))throw function f5e(n,t){return new Oe(3400,bi)}();const o=El(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=El(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(dc(t,Ew),dc(t,Ew+"-"+e),a[e]=GN),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function p5e(n){return new Oe(3401,bi)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new HN(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(dc(t,Ew),dc(t,Ew+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new jN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=GN),c.value!==Ub&&l.value===c.value){if(!function v8e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const x=[],k=o.matchStyles(l.value,l.params,x),B=o.matchStyles(c.value,c.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{Mg(t,k),ju(t,B)})}return}const f=El(this._engine.playersByElement,t,[]);f.forEach(x=>{x.namespaceId==this.id&&x.triggerName==e&&x.queued&&x.destroy()});let p=o.matchTransition(l.value,c.value,t,c.params),T=!1;if(!p){if(!r)return;p=o.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:T}),T||(dc(t,bX),s.onStart(()=>{_v(t,bX)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const k=this._engine.playersByElement.get(t);if(k){let B=k.indexOf(s);B>=0&&k.splice(B,1)}}),this.players.push(s),f.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Tw,!0);i.forEach(r=>{if(r[uc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,Ub,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Kh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||GN,u=new jN(Ub),d=new HN(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[uc];(!o||o===SX)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){dc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=EN(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,SN(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class h8e{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new d8e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Fw(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Fw(e))return;const o=e[uc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dc(t,UN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_v(t,UN))}removeNode(t,e,i,r){if(Fw(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[uc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Fw(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Tw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,PN,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kh(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[uc];if(i&&i.setForRemoval){if(t[uc]=SX,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(UN))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)dc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Kh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function g5e(n){return new Oe(3402,bi)}()}_flushAnimations(t,e){const i=new Nw,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ne=>{u.add(Ne);const ke=this.driver.query(Ne,".ng-animate-queued",!0);for(let $e=0;$e<ke.length;$e++)u.add(ke[$e])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=TX(f,this.collectedEnterElements),T=new Map;let x=0;p.forEach((Ne,ke)=>{const $e=ON+x++;T.set(ke,$e),Ne.forEach(gt=>dc(gt,$e))});const k=[],B=new Set,$=new Set;for(let Ne=0;Ne<this.collectedLeaveElements.length;Ne++){const ke=this.collectedLeaveElements[Ne],$e=ke[uc];$e&&$e.setForRemoval&&(k.push(ke),B.add(ke),$e.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(gt=>B.add(gt)):$.add(ke))}const q=new Map,ee=TX(f,Array.from(B));ee.forEach((Ne,ke)=>{const $e=Cw+x++;q.set(ke,$e),Ne.forEach(gt=>dc(gt,$e))}),t.push(()=>{p.forEach((Ne,ke)=>{const $e=T.get(ke);Ne.forEach(gt=>_v(gt,$e))}),ee.forEach((Ne,ke)=>{const $e=q.get(ke);Ne.forEach(gt=>_v(gt,$e))}),k.forEach(Ne=>{this.processLeaveNode(Ne)})});const se=[],ae=[];for(let Ne=this._namespaceList.length-1;Ne>=0;Ne--)this._namespaceList[Ne].drainQueuedTransitions(e).forEach($e=>{const gt=$e.player,we=$e.element;if(se.push(gt),this.collectedEnterElements.length){const tn=we[uc];if(tn&&tn.setForMove){if(tn.previousTriggersValues&&tn.previousTriggersValues.has($e.triggerName)){const kn=tn.previousTriggersValues.get($e.triggerName),yn=this.statesByElement.get($e.element);yn&&yn[$e.triggerName]&&(yn[$e.triggerName].value=kn)}return void gt.destroy()}}const st=!d||!this.driver.containsElement(d,we),ft=q.get(we),St=T.get(we),Ft=this._buildInstruction($e,i,St,ft,st);if(Ft.errors&&Ft.errors.length)return void ae.push(Ft);if(st)return gt.onStart(()=>Mg(we,Ft.fromStyles)),gt.onDestroy(()=>ju(we,Ft.toStyles)),void r.push(gt);if($e.isFallbackTransition)return gt.onStart(()=>Mg(we,Ft.fromStyles)),gt.onDestroy(()=>ju(we,Ft.toStyles)),void r.push(gt);const At=[];Ft.timelines.forEach(tn=>{tn.stretchStartingKeyframe=!0,this.disabledNodes.has(tn.element)||At.push(tn)}),Ft.timelines=At,i.append(we,Ft.timelines),s.push({instruction:Ft,player:gt,element:we}),Ft.queriedElements.forEach(tn=>El(a,tn,[]).push(gt)),Ft.preStyleProps.forEach((tn,kn)=>{const yn=Object.keys(tn);if(yn.length){let hn=l.get(kn);hn||l.set(kn,hn=new Set),yn.forEach(Kt=>hn.add(Kt))}}),Ft.postStyleProps.forEach((tn,kn)=>{const yn=Object.keys(tn);let hn=c.get(kn);hn||c.set(kn,hn=new Set),yn.forEach(Kt=>hn.add(Kt))})});if(ae.length){const Ne=[];ae.forEach(ke=>{Ne.push(function _5e(n,t){return new Oe(3505,bi)}())}),se.forEach(ke=>ke.destroy()),this.reportError(Ne)}const Ee=new Map,Ce=new Map;s.forEach(Ne=>{const ke=Ne.element;i.has(ke)&&(Ce.set(ke,ke),this._beforeAnimationBuild(Ne.player.namespaceId,Ne.instruction,Ee))}),r.forEach(Ne=>{const ke=Ne.element;this._getPreviousPlayers(ke,!1,Ne.namespaceId,Ne.triggerName,null).forEach(gt=>{El(Ee,ke,[]).push(gt),gt.destroy()})});const ge=k.filter(Ne=>MX(Ne,l,c)),ve=new Map;EX(ve,this.driver,$,c,Ad).forEach(Ne=>{MX(Ne,l,c)&&ge.push(Ne)});const Pe=new Map;p.forEach((Ne,ke)=>{EX(Pe,this.driver,new Set(Ne),l,"!")}),ge.forEach(Ne=>{const ke=ve.get(Ne),$e=Pe.get(Ne);ve.set(Ne,Object.assign(Object.assign({},ke),$e))});const De=[],Ye=[],Ge={};s.forEach(Ne=>{const{element:ke,player:$e,instruction:gt}=Ne;if(i.has(ke)){if(u.has(ke))return $e.onDestroy(()=>ju(ke,gt.toStyles)),$e.disabled=!0,$e.overrideTotalTime(gt.totalTime),void r.push($e);let we=Ge;if(Ce.size>1){let ft=ke;const St=[];for(;ft=ft.parentNode;){const Ft=Ce.get(ft);if(Ft){we=Ft;break}St.push(ft)}St.forEach(Ft=>Ce.set(Ft,we))}const st=this._buildAnimation($e.namespaceId,gt,Ee,o,Pe,ve);if($e.setRealPlayer(st),we===Ge)De.push($e);else{const ft=this.playersByElement.get(we);ft&&ft.length&&($e.parentPlayer=Kh(ft)),r.push($e)}}else Mg(ke,gt.fromStyles),$e.onDestroy(()=>ju(ke,gt.toStyles)),Ye.push($e),u.has(ke)&&r.push($e)}),Ye.forEach(Ne=>{const ke=o.get(Ne.element);if(ke&&ke.length){const $e=Kh(ke);Ne.setRealPlayer($e)}}),r.forEach(Ne=>{Ne.parentPlayer?Ne.syncPlayerEvents(Ne.parentPlayer):Ne.destroy()});for(let Ne=0;Ne<k.length;Ne++){const ke=k[Ne],$e=ke[uc];if(_v(ke,Cw),$e&&$e.hasAnimation)continue;let gt=[];if(a.size){let st=a.get(ke);st&&st.length&&gt.push(...st);let ft=this.driver.query(ke,PN,!0);for(let St=0;St<ft.length;St++){let Ft=a.get(ft[St]);Ft&&Ft.length&&gt.push(...Ft)}}const we=gt.filter(st=>!st.destroyed);we.length?_8e(this,ke,we):this.processLeaveNode(ke)}return k.length=0,De.forEach(Ne=>{this.players.push(Ne),Ne.onDone(()=>{Ne.destroy();const ke=this.players.indexOf(Ne);this.players.splice(ke,1)}),Ne.play()}),De}elementContainsData(t,e){let i=!1;const r=e[uc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Ub;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=El(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(p=>{const T=p.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),p.destroy(),d.push(p)})}Mg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,f=e.timelines.map(T=>{const x=T.element;u.add(x);const k=x[uc];if(k&&k.removedBeforeQueried)return new Tb(T.duration,T.delay);const B=x!==l,$=function m8e(n){const t=[];return wX(n,t),t}((i.get(x)||c8e).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===x),q=o.get(x),ee=s.get(x),se=J$(0,this._normalizer,0,T.keyframes,q,ee),ae=this._buildPlayer(T,se,$);if(T.subTimeline&&r&&d.add(x),B){const Ee=new HN(t,a,x);Ee.setRealPlayer(ae),c.push(Ee)}return ae});c.forEach(T=>{El(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function f8e(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,T.element,T))}),u.forEach(T=>dc(T,aX));const p=Kh(f);return p.onDestroy(()=>{u.forEach(T=>_v(T,aX)),ju(l,e.toStyles)}),d.forEach(T=>{El(r,T,[]).push(p)}),p}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Tb(t.duration,t.delay)}}class HN{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Tb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>SN(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){El(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Fw(n){return n&&1===n.nodeType}function CX(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function EX(n,t,e,i,r){const o=[];e.forEach(l=>o.push(CX(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const f=u[d]=t.computeStyle(c,d,r);(!f||0==f.length)&&(c[uc]=u8e,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>CX(l,o[a++])),s}function TX(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function dc(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function _v(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function _8e(n,t,e){Kh(e).onDone(()=>n.processLeaveNode(t))}function wX(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof qY?wX(i.players,t):t.push(i)}}function MX(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Bw{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new h8e(t,e,i),this._timelineEngine=new r8e(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=DN(this._driver,o,l,[]);if(l.length)throw function o5e(n,t){return new Oe(3404,bi)}();a=function e8e(n,t,e){return new t8e(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=Z$(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=Z$(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let b8e=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ju(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ju(this._element,this._initialStyles),this._endStyles&&(ju(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),ju(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VN(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];S8e(r)&&(t=t||{},t[r]=n[r])}return t}function S8e(n){return"display"===n||"position"===n}class OX{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:hX(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class C8e{validateStyleProperty(t){return nX(t)}matchesElement(t,e){return!1}containsElement(t,e){return iX(t,e)}getParentElement(t){return wN(t)}query(t,e,i){return rX(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(f=>f instanceof OX);(function M5e(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{let p=f.currentSnapshot;Object.keys(p).forEach(T=>c[T]=p[T])}),e=function O5e(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=hX(n,l)})}}return t}(t,e=e.map(f=>qh(f,!1)),c);const d=function y8e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=VN(t[0]),t.length>1&&(i=VN(t[t.length-1]))):t&&(e=VN(t)),e||i?new b8e(n,e,i):null}(t,e);return new OX(t,e,l,d)}}let E8e=(()=>{class n extends JR{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:gc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?XY(e):e;return PX(this._renderer,null,i,"register",[r]),new T8e(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(lt(__),lt(Qr))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class T8e extends class lRe{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new w8e(this._id,t,e||{},this._renderer)}}class w8e{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return PX(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function PX(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const xX="@.disabled";let M8e=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new IX("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new O8e(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(lt(__),lt(Bw),lt(Ti))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class IX{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==xX?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class O8e extends IX{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==xX?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function P8e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function x8e(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let I8e=(()=>{class n extends Bw{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(lt(Qr),lt(MN),lt(FN))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const AX=new gn("AnimationModuleType"),DX=[{provide:JR,useClass:E8e},{provide:FN,useFactory:function A8e(){return new K5e}},{provide:Bw,useClass:I8e},{provide:__,useFactory:function D8e(n,t,e){return new M8e(n,t,e)},deps:[CS,Bw,Ti]}],RX=[{provide:MN,useFactory:()=>new C8e},{provide:AX,useValue:"BrowserAnimations"},...DX],R8e=[{provide:MN,useClass:oX},{provide:AX,useValue:"NoopAnimations"},...DX];let zN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?R8e:RX}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:RX,imports:[e5]}),n})(),N8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,fv,Qs,Fb]]}),n})(),k8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[],imports:[[Nt,Qs,zN,on,Wr,fv,yw,Fb]]}),n})(),L8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[],imports:[[Nt,Fb,fv,Qs,zN,on,yw,N8e,Wr,k8e]]}),n})(),F8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),WN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),NX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,WN]]}),n})(),B8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,WN,NX]]}),n})(),U8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,WN,NX,Aa]]}),n})(),j8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,F8e,Qs,B8e,U8e]]}),n})(),G8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Fb,on,Qs,jc,j8e]]}),n})(),H8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Qs,on,G8e,jc,Wr]]}),n})(),V8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Qs,Aa,on,bw,Y_]]}),n})(),z8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Qs,Aa,on]]}),n})(),W8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),Y8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt]]}),n})(),$8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Wr,xc,Y8e]]}),n})(),X8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[],imports:[[Nt,on,Wr,xc]]}),n})(),K8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[YN,Nt,Aa,on,Wr]]}),n})(),q8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),J8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),Z8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Aa,on,pv,bw,Wr]]}),n})(),Q8e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Wr,xc]]}),n})(),eUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Fb,Qs]]}),n})(),tUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,pv,$$,on,Xh,Y_,xc,Wr]]}),n})(),nUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,tUe,on,fv,Qs,Aa,Wr]]}),n})(),iUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({providers:[xm,Im,Y0,sv],imports:[[Nt,P9,on,Qs,fv,Aa,pv,nUe]]}),n})(),rUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,Wr,on]]}),n})(),oUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),sUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,$$,N4e,k4e,L8e,F4e,H8e,V8e,z8e,W8e,$8e,on,X8e,q8e,K8e,YN,J8e,Z8e,Q8e,eUe,b4e,iUe,rUe,oUe]]}),n})(),aUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Nfe]]}),n})(),lUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on,Wr]]}),n})(),cUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n}),n.\u0275inj=Ct({imports:[[Nt,on]]}),n})(),uUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Et({type:n,bootstrap:[ZLe]}),n.\u0275inj=Ct({providers:[{provide:oP,useFactory:t=>()=>t.init(),deps:[Yi],multi:!0},{provide:Yg,useValue:Che()}],imports:[[e5,zN,sUe,aUe,fhe,cUe,Y1e,YN,jc,lUe,bSe]]}),n})();const dUe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function jw(n){return n&&n.Math==Math?n:void 0}const jb="object"==typeof globalThis&&jw(globalThis)||"object"==typeof window&&jw(window)||"object"==typeof self&&jw(self)||"object"==typeof global&&jw(global)||function(){return this}()||{},kX=["debug","info","warn","error","log","assert","trace"],LX={},gUe=function pUe(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return kX.forEach(dUe?e=>{t[e]=(...i)=>{n&&function fUe(n){if(!("console"in jb))return n();const t=jb.console,e={},i=Object.keys(LX);i.forEach(r=>{const o=LX[r];e[r]=t[r],t[r]=o});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{jb.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),_Ue="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,BX=()=>{let n;return{name:"Dedupe",setupOnce(){},processEvent(t){if(t.type)return t;try{if(function mUe(n,t){return!(!t||!function vUe(n,t){const e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!jX(n,t)||!UX(n,t))}(n,t)&&!function yUe(n,t){const e=GX(t),i=GX(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&jX(n,t)&&UX(n,t))}(n,t))}(t,n))return _Ue&&gUe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return n=t}}};function UX(n,t){let e=HX(n),i=HX(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||i.length!==e.length)return!1;for(let r=0;r<i.length;r++){const o=i[r],s=e[r];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function jX(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;try{return e.join("")===i.join("")}catch(r){return!1}}function GX(n){return n.exception&&n.exception.values&&n.exception.values[0]}function HX(n){const t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}ed("Dedupe",BX);const SUe=["Http failure response for","The new multiplier is less than the previous multiplier in the current round"],EUe=["script","snippet","<anonymous>"],wUe={dsn:"https://211b12c20385419e9d526a4edd2b9d7f@sentry.spribe.io/10",environment:"release-next",release:ko_version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate","Failed to start the audio device","Identifier 'isMainframe' has already been declared",'Permission denied to access property "dispatchEvent" on cross-origin object'],normalizeDepth:8,integrations:[function Ohe(n={}){return!1!==n.instrumentNavigation&&(P6=!0,Mhe=!0),Ude(Object.assign(Object.assign({},n),{instrumentNavigation:!1}))}(),BX()],maxBreadcrumbs:100,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function TUe(n,t){var e,i,r,o,s;const a=null===(i=null===(e=n.exception)||void 0===e?void 0:e.values)||void 0===i?void 0:i[0],l=null===(r=null==a?void 0:a.stacktrace)||void 0===r?void 0:r.frames,c=null==l?void 0:l[l.length-1];if((null==t?void 0:t.originalException)instanceof CC||"Timeout"===(null==t?void 0:t.originalException))return!0;const d="<anonymous>"===(null===(o=null==l?void 0:l[0])||void 0===o?void 0:o.filename);if("ReferenceError"===(null==a?void 0:a.type)&&d)return!0;if("eval"===(null==c?void 0:c.function)&&!(null==c?void 0:c.filename)||!1===(null==c?void 0:c.in_app))return!0;const T=(null!==(s=null==c?void 0:c.filename)&&void 0!==s?s:"").toLowerCase();return!!EUe.some(x=>T.includes(x))||!!SUe.find(x=>{var k;return null===(k=n.message)||void 0===k?void 0:k.includes(x)})&&Math.random()>.001}(n,t)?null:n};(function ghe(n){const t=Object.assign({defaultIntegrations:uU().filter(e=>"TryCatch"!==e.name)},n);T8(t,"angular"),function _he(){const t=J1&&J1.major?parseInt(J1.major,10):void 0;t&&(t<10&&phe&&qde.warn(`The Sentry SDK does not officially support Angular ${t}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function Ese(n,t){ss().setContext(n,t)}("angular",{version:t}))}(),Dce(t)})(wUe),ko_production&&function jne(){d4=!1}(),!1===ko_loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(t=>{console[t]=function(){}}),document.body.setAttribute("app-version",ko_version),uoe().bootstrapModule(uUe).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:ot=>{"use strict";var ut=Object.prototype.hasOwnProperty,_e="~";function xe(){}function Ke(y,m,v){this.fn=y,this.context=m,this.once=v||!1}function N(y,m,v,C,A){if("function"!=typeof v)throw new TypeError("The listener must be a function");var V=new Ke(v,C||y,A),g=_e?_e+m:m;return y._events[g]?y._events[g].fn?y._events[g]=[y._events[g],V]:y._events[g].push(V):(y._events[g]=V,y._eventsCount++),y}function U(y,m){0==--y._eventsCount?y._events=new xe:delete y._events[m]}function h(){this._events=new xe,this._eventsCount=0}Object.create&&(xe.prototype=Object.create(null),(new xe).__proto__||(_e=!1)),h.prototype.eventNames=function(){var v,C,m=[];if(0===this._eventsCount)return m;for(C in v=this._events)ut.call(v,C)&&m.push(_e?C.slice(1):C);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},h.prototype.listeners=function(m){var C=this._events[_e?_e+m:m];if(!C)return[];if(C.fn)return[C.fn];for(var A=0,V=C.length,g=new Array(V);A<V;A++)g[A]=C[A].fn;return g},h.prototype.listenerCount=function(m){var C=this._events[_e?_e+m:m];return C?C.fn?1:C.length:0},h.prototype.emit=function(m,v,C,A,V,g){var P=_e?_e+m:m;if(!this._events[P])return!1;var L,O,D=this._events[P],F=arguments.length;if(D.fn){switch(D.once&&this.removeListener(m,D.fn,void 0,!0),F){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,v),!0;case 3:return D.fn.call(D.context,v,C),!0;case 4:return D.fn.call(D.context,v,C,A),!0;case 5:return D.fn.call(D.context,v,C,A,V),!0;case 6:return D.fn.call(D.context,v,C,A,V,g),!0}for(O=1,L=new Array(F-1);O<F;O++)L[O-1]=arguments[O];D.fn.apply(D.context,L)}else{var b,E=D.length;for(O=0;O<E;O++)switch(D[O].once&&this.removeListener(m,D[O].fn,void 0,!0),F){case 1:D[O].fn.call(D[O].context);break;case 2:D[O].fn.call(D[O].context,v);break;case 3:D[O].fn.call(D[O].context,v,C);break;case 4:D[O].fn.call(D[O].context,v,C,A);break;default:if(!L)for(b=1,L=new Array(F-1);b<F;b++)L[b-1]=arguments[b];D[O].fn.apply(D[O].context,L)}}return!0},h.prototype.on=function(m,v,C){return N(this,m,v,C,!1)},h.prototype.once=function(m,v,C){return N(this,m,v,C,!0)},h.prototype.removeListener=function(m,v,C,A){var V=_e?_e+m:m;if(!this._events[V])return this;if(!v)return U(this,V),this;var g=this._events[V];if(g.fn)g.fn===v&&(!A||g.once)&&(!C||g.context===C)&&U(this,V);else{for(var P=0,D=[],F=g.length;P<F;P++)(g[P].fn!==v||A&&!g[P].once||C&&g[P].context!==C)&&D.push(g[P]);D.length?this._events[V]=1===D.length?D[0]:D:U(this,V)}return this},h.prototype.removeAllListeners=function(m){var v;return m?this._events[v=_e?_e+m:m]&&U(this,v):(this._events=new xe,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=_e,h.EventEmitter=h,ot.exports=h},5469:ot=>{"use strict";function ut(z,ne,le){le=le||2;var ze,at,Xe,Pt,bt,it,rt,re=ne&&ne.length,ue=re?ne[0]*le:z.length,he=_e(z,0,ue,le,!0),pe=[];if(!he||he.next===he.prev)return pe;if(re&&(he=function m(z,ne,le,re){var he,pe,Xe,ue=[];for(he=0,pe=ne.length;he<pe;he++)(Xe=_e(z,ne[he]*re,he<pe-1?ne[he+1]*re:z.length,re,!1))===Xe.next&&(Xe.steiner=!0),ue.push(F(Xe));for(ue.sort(v),he=0;he<ue.length;he++)le=xe(le=C(ue[he],le),le.next);return le}(z,ne,he,le)),z.length>80*le){ze=Xe=z[0],at=Pt=z[1];for(var Te=le;Te<ue;Te+=le)(bt=z[Te])<ze&&(ze=bt),(it=z[Te+1])<at&&(at=it),bt>Xe&&(Xe=bt),it>Pt&&(Pt=it);rt=0!==(rt=Math.max(Xe-ze,Pt-at))?1/rt:0}return Ke(he,pe,le,ze,at,rt),pe}function _e(z,ne,le,re,ue){var he,pe;if(ue===Q(z,ne,le,re)>0)for(he=ne;he<le;he+=re)pe=fe(he,z[he],z[he+1],pe);else for(he=le-re;he>=ne;he-=re)pe=fe(he,z[he],z[he+1],pe);return pe&&b(pe,pe.next)&&(Me(pe),pe=pe.next),pe}function xe(z,ne){if(!z)return z;ne||(ne=z);var re,le=z;do{if(re=!1,le.steiner||!b(le,le.next)&&0!==E(le.prev,le,le.next))le=le.next;else{if(Me(le),(le=ne=le.prev)===le.next)break;re=!0}}while(re||le!==ne);return ne}function Ke(z,ne,le,re,ue,he,pe){if(z){!pe&&he&&function g(z,ne,le,re){var ue=z;do{null===ue.z&&(ue.z=D(ue.x,ue.y,ne,le,re)),ue.prevZ=ue.prev,ue.nextZ=ue.next,ue=ue.next}while(ue!==z);ue.prevZ.nextZ=null,ue.prevZ=null,function P(z){var ne,le,re,ue,he,pe,ze,at,Xe=1;do{for(le=z,z=null,he=null,pe=0;le;){for(pe++,re=le,ze=0,ne=0;ne<Xe&&(ze++,re=re.nextZ);ne++);for(at=Xe;ze>0||at>0&&re;)0!==ze&&(0===at||!re||le.z<=re.z)?(ue=le,le=le.nextZ,ze--):(ue=re,re=re.nextZ,at--),he?he.nextZ=ue:z=ue,ue.prevZ=he,he=ue;le=re}he.nextZ=null,Xe*=2}while(pe>1)}(ue)}(z,re,ue,he);for(var at,Xe,ze=z;z.prev!==z.next;)if(at=z.prev,Xe=z.next,he?U(z,re,ue,he):N(z))ne.push(at.i/le),ne.push(z.i/le),ne.push(Xe.i/le),Me(z),z=Xe.next,ze=Xe.next;else if((z=Xe)===ze){pe?1===pe?Ke(z=h(xe(z),ne,le),ne,le,re,ue,he,2):2===pe&&y(z,ne,le,re,ue,he):Ke(xe(z),ne,le,re,ue,he,1);break}}}function N(z){var ne=z.prev,le=z,re=z.next;if(E(ne,le,re)>=0)return!1;for(var ue=z.next.next;ue!==z.prev;){if(L(ne.x,ne.y,le.x,le.y,re.x,re.y,ue.x,ue.y)&&E(ue.prev,ue,ue.next)>=0)return!1;ue=ue.next}return!0}function U(z,ne,le,re){var ue=z.prev,he=z,pe=z.next;if(E(ue,he,pe)>=0)return!1;for(var Xe=ue.x>he.x?ue.x>pe.x?ue.x:pe.x:he.x>pe.x?he.x:pe.x,Pt=ue.y>he.y?ue.y>pe.y?ue.y:pe.y:he.y>pe.y?he.y:pe.y,bt=D(ue.x<he.x?ue.x<pe.x?ue.x:pe.x:he.x<pe.x?he.x:pe.x,ue.y<he.y?ue.y<pe.y?ue.y:pe.y:he.y<pe.y?he.y:pe.y,ne,le,re),it=D(Xe,Pt,ne,le,re),rt=z.prevZ,Te=z.nextZ;rt&&rt.z>=bt&&Te&&Te.z<=it;){if(rt!==z.prev&&rt!==z.next&&L(ue.x,ue.y,he.x,he.y,pe.x,pe.y,rt.x,rt.y)&&E(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,Te!==z.prev&&Te!==z.next&&L(ue.x,ue.y,he.x,he.y,pe.x,pe.y,Te.x,Te.y)&&E(Te.prev,Te,Te.next)>=0))return!1;Te=Te.nextZ}for(;rt&&rt.z>=bt;){if(rt!==z.prev&&rt!==z.next&&L(ue.x,ue.y,he.x,he.y,pe.x,pe.y,rt.x,rt.y)&&E(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;Te&&Te.z<=it;){if(Te!==z.prev&&Te!==z.next&&L(ue.x,ue.y,he.x,he.y,pe.x,pe.y,Te.x,Te.y)&&E(Te.prev,Te,Te.next)>=0)return!1;Te=Te.nextZ}return!0}function h(z,ne,le){var re=z;do{var ue=re.prev,he=re.next.next;!b(ue,he)&&w(ue,re,re.next,he)&&j(ue,he)&&j(he,ue)&&(ne.push(ue.i/le),ne.push(re.i/le),ne.push(he.i/le),Me(re),Me(re.next),re=z=he),re=re.next}while(re!==z);return xe(re)}function y(z,ne,le,re,ue,he){var pe=z;do{for(var ze=pe.next.next;ze!==pe.prev;){if(pe.i!==ze.i&&O(pe,ze)){var at=X(pe,ze);return pe=xe(pe,pe.next),at=xe(at,at.next),Ke(pe,ne,le,re,ue,he),void Ke(at,ne,le,re,ue,he)}ze=ze.next}pe=pe.next}while(pe!==z)}function v(z,ne){return z.x-ne.x}function C(z,ne){var le=function A(z,ne){var pe,le=ne,re=z.x,ue=z.y,he=-1/0;do{if(ue<=le.y&&ue>=le.next.y&&le.next.y!==le.y){var ze=le.x+(ue-le.y)*(le.next.x-le.x)/(le.next.y-le.y);if(ze<=re&&ze>he){if(he=ze,ze===re){if(ue===le.y)return le;if(ue===le.next.y)return le.next}pe=le.x<le.next.x?le:le.next}}le=le.next}while(le!==ne);if(!pe)return null;if(re===he)return pe;var it,at=pe,Xe=pe.x,Pt=pe.y,bt=1/0;le=pe;do{re>=le.x&&le.x>=Xe&&re!==le.x&&L(ue<Pt?re:he,ue,Xe,Pt,ue<Pt?he:re,ue,le.x,le.y)&&(it=Math.abs(ue-le.y)/(re-le.x),j(le,z)&&(it<bt||it===bt&&(le.x>pe.x||le.x===pe.x&&V(pe,le)))&&(pe=le,bt=it)),le=le.next}while(le!==at);return pe}(z,ne);if(!le)return ne;var re=X(le,z),ue=xe(le,le.next);return xe(re,re.next),ne===le?ue:ne}function V(z,ne){return E(z.prev,z,ne.prev)<0&&E(ne.next,z,z.next)<0}function D(z,ne,le,re,ue){return(z=1431655765&((z=858993459&((z=252645135&((z=16711935&((z=32767*(z-le)*ue)|z<<8))|z<<4))|z<<2))|z<<1))|(ne=1431655765&((ne=858993459&((ne=252645135&((ne=16711935&((ne=32767*(ne-re)*ue)|ne<<8))|ne<<4))|ne<<2))|ne<<1))<<1}function F(z){var ne=z,le=z;do{(ne.x<le.x||ne.x===le.x&&ne.y<le.y)&&(le=ne),ne=ne.next}while(ne!==z);return le}function L(z,ne,le,re,ue,he,pe,ze){return(ue-pe)*(ne-ze)-(z-pe)*(he-ze)>=0&&(z-pe)*(re-ze)-(le-pe)*(ne-ze)>=0&&(le-pe)*(he-ze)-(ue-pe)*(re-ze)>=0}function O(z,ne){return z.next.i!==ne.i&&z.prev.i!==ne.i&&!function H(z,ne){var le=z;do{if(le.i!==z.i&&le.next.i!==z.i&&le.i!==ne.i&&le.next.i!==ne.i&&w(le,le.next,z,ne))return!0;le=le.next}while(le!==z);return!1}(z,ne)&&(j(z,ne)&&j(ne,z)&&function G(z,ne){var le=z,re=!1,ue=(z.x+ne.x)/2,he=(z.y+ne.y)/2;do{le.y>he!=le.next.y>he&&le.next.y!==le.y&&ue<(le.next.x-le.x)*(he-le.y)/(le.next.y-le.y)+le.x&&(re=!re),le=le.next}while(le!==z);return re}(z,ne)&&(E(z.prev,z,ne.prev)||E(z,ne.prev,ne))||b(z,ne)&&E(z.prev,z,z.next)>0&&E(ne.prev,ne,ne.next)>0)}function E(z,ne,le){return(ne.y-z.y)*(le.x-ne.x)-(ne.x-z.x)*(le.y-ne.y)}function b(z,ne){return z.x===ne.x&&z.y===ne.y}function w(z,ne,le,re){var ue=M(E(z,ne,le)),he=M(E(z,ne,re)),pe=M(E(le,re,z)),ze=M(E(le,re,ne));return!!(ue!==he&&pe!==ze||0===ue&&S(z,le,ne)||0===he&&S(z,re,ne)||0===pe&&S(le,z,re)||0===ze&&S(le,ne,re))}function S(z,ne,le){return ne.x<=Math.max(z.x,le.x)&&ne.x>=Math.min(z.x,le.x)&&ne.y<=Math.max(z.y,le.y)&&ne.y>=Math.min(z.y,le.y)}function M(z){return z>0?1:z<0?-1:0}function j(z,ne){return E(z.prev,z,z.next)<0?E(z,ne,z.next)>=0&&E(z,z.prev,ne)>=0:E(z,ne,z.prev)<0||E(z,z.next,ne)<0}function X(z,ne){var le=new me(z.i,z.x,z.y),re=new me(ne.i,ne.x,ne.y),ue=z.next,he=ne.prev;return z.next=ne,ne.prev=z,le.next=ue,ue.prev=le,re.next=le,le.prev=re,he.next=re,re.prev=he,re}function fe(z,ne,le,re){var ue=new me(z,ne,le);return re?(ue.next=re.next,ue.prev=re,re.next.prev=ue,re.next=ue):(ue.prev=ue,ue.next=ue),ue}function Me(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function me(z,ne,le){this.i=z,this.x=ne,this.y=le,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Q(z,ne,le,re){for(var ue=0,he=ne,pe=le-re;he<le;he+=re)ue+=(z[pe]-z[he])*(z[he+1]+z[pe+1]),pe=he;return ue}ot.exports=ut,ot.exports.default=ut,ut.deviation=function(z,ne,le,re){var ue=ne&&ne.length,pe=Math.abs(Q(z,0,ue?ne[0]*le:z.length,le));if(ue)for(var ze=0,at=ne.length;ze<at;ze++)pe-=Math.abs(Q(z,ne[ze]*le,ze<at-1?ne[ze+1]*le:z.length,le));var bt=0;for(ze=0;ze<re.length;ze+=3){var it=re[ze]*le,rt=re[ze+1]*le,Te=re[ze+2]*le;bt+=Math.abs((z[it]-z[Te])*(z[rt+1]-z[it+1])-(z[it]-z[rt])*(z[Te+1]-z[it+1]))}return 0===pe&&0===bt?0:Math.abs((bt-pe)/pe)},ut.flatten=function(z){for(var ne=z[0][0].length,le={vertices:[],holes:[],dimensions:ne},re=0,ue=0;ue<z.length;ue++){for(var he=0;he<z[ue].length;he++)for(var pe=0;pe<ne;pe++)le.vertices.push(z[ue][he][pe]);ue>0&&le.holes.push(re+=z[ue-1].length)}return le}},6100:ot=>{function ut(N){return N&&N.constructor&&"function"==typeof N.constructor.isBuffer&&N.constructor.isBuffer(N)}function _e(N){return N}function xe(N,U){const h=(U=U||{}).delimiter||".",y=U.maxDepth,m=U.transformKey||_e,v={};return function C(A,V,g){g=g||1,Object.keys(A).forEach(function(P){const D=A[P],F=U.safe&&Array.isArray(D),L=Object.prototype.toString.call(D),O=ut(D),E="[object Object]"===L||"[object Array]"===L,b=V?V+h+m(P):m(P);if(!F&&!O&&E&&Object.keys(D).length&&(!U.maxDepth||g<y))return C(D,b,g+1);v[b]=D})}(N),v}ot.exports=xe,xe.flatten=xe,xe.unflatten=function Ke(N,U){const h=(U=U||{}).delimiter||".",y=U.overwrite||!1,m=U.transformKey||_e,v={};if(ut(N)||"[object Object]"!==Object.prototype.toString.call(N))return N;function A(P){const D=Number(P);return isNaN(D)||-1!==P.indexOf(".")||U.object?P:D}return N=Object.keys(N).reduce(function(P,D){const F=Object.prototype.toString.call(N[D]);return"[object Object]"!==F&&"[object Array]"!==F||function g(P){const D=Object.prototype.toString.call(P);return!P||("[object Array]"===D?!P.length:"[object Object]"===D?!Object.keys(P).length:void 0)}(N[D])?(P[D]=N[D],P):function V(P,D,F){return Object.keys(F).reduce(function(L,O){return L[P+h+O]=F[O],L},D)}(D,P,xe(N[D],U))},{}),Object.keys(N).forEach(function(P){const D=P.split(h).map(m);let F=A(D.shift()),L=A(D[0]),O=v;for(;void 0!==L;){if("__proto__"===F)return;const E=Object.prototype.toString.call(O[F]),b="[object Object]"===E||"[object Array]"===E;if(!y&&!b&&void 0!==O[F])return;(y&&!b||!y&&null==O[F])&&(O[F]="number"!=typeof L||U.object?{}:[]),O=O[F],D.length>0&&(F=A(D.shift()),L=A(D[0]))}O[F]=Ke(N[P],U)}),v}},6461:(ot,ut)=>{var xe;!function(){"use strict";var Ke=function(){this.init()};Ke.prototype={init:function(){var g=this||N;return g._counter=1e3,g._html5AudioPool=[],g.html5PoolSize=10,g._codecs={},g._howls=[],g._muted=!1,g._volume=1,g._canPlayEvent="canplaythrough",g._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,g.masterGain=null,g.noAudio=!1,g.usingWebAudio=!0,g.autoSuspend=!0,g.ctx=null,g.autoUnlock=!0,g._setup(),g},volume:function(g){var P=this||N;if(g=parseFloat(g),P.ctx||V(),void 0!==g&&g>=0&&g<=1){if(P._volume=g,P._muted)return P;P.usingWebAudio&&P.masterGain.gain.setValueAtTime(g,N.ctx.currentTime);for(var D=0;D<P._howls.length;D++)if(!P._howls[D]._webAudio)for(var F=P._howls[D]._getSoundIds(),L=0;L<F.length;L++){var O=P._howls[D]._soundById(F[L]);O&&O._node&&(O._node.volume=O._volume*g)}return P}return P._volume},mute:function(g){var P=this||N;P.ctx||V(),P._muted=g,P.usingWebAudio&&P.masterGain.gain.setValueAtTime(g?0:P._volume,N.ctx.currentTime);for(var D=0;D<P._howls.length;D++)if(!P._howls[D]._webAudio)for(var F=P._howls[D]._getSoundIds(),L=0;L<F.length;L++){var O=P._howls[D]._soundById(F[L]);O&&O._node&&(O._node.muted=!!g||O._muted)}return P},stop:function(){for(var g=this||N,P=0;P<g._howls.length;P++)g._howls[P].stop();return g},unload:function(){for(var g=this||N,P=g._howls.length-1;P>=0;P--)g._howls[P].unload();return g.usingWebAudio&&g.ctx&&void 0!==g.ctx.close&&(g.ctx.close(),g.ctx=null,V()),g},codecs:function(g){return(this||N)._codecs[g.replace(/^x-/,"")]},_setup:function(){var g=this||N;if(g.state=g.ctx&&g.ctx.state||"suspended",g._autoSuspend(),!g.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(g._canPlayEvent="canplay")}catch(D){g.noAudio=!0}else g.noAudio=!0;try{(new Audio).muted&&(g.noAudio=!0)}catch(D){}return g.noAudio||g._setupCodecs(),g},_setupCodecs:function(){var g=this||N,P=null;try{P="undefined"!=typeof Audio?new Audio:null}catch(S){return g}if(!P||"function"!=typeof P.canPlayType)return g;var D=P.canPlayType("audio/mpeg;").replace(/^no$/,""),F=g._navigator?g._navigator.userAgent:"",L=F.match(/OPR\/([0-6].)/g),O=L&&parseInt(L[0].split("/")[1],10)<33,E=-1!==F.indexOf("Safari")&&-1===F.indexOf("Chrome"),b=F.match(/Version\/(.*?) /),w=E&&b&&parseInt(b[1],10)<15;return g._codecs={mp3:!(O||!D&&!P.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!D,opus:!!P.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!P.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!P.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(P.canPlayType('audio/wav; codecs="1"')||P.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!P.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!P.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(P.canPlayType("audio/x-m4a;")||P.canPlayType("audio/m4a;")||P.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(P.canPlayType("audio/x-m4b;")||P.canPlayType("audio/m4b;")||P.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(P.canPlayType("audio/x-mp4;")||P.canPlayType("audio/mp4;")||P.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(w||!P.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(w||!P.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!P.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(P.canPlayType("audio/x-flac;")||P.canPlayType("audio/flac;")).replace(/^no$/,"")},g},_unlockAudio:function(){var g=this||N;if(!g._audioUnlocked&&g.ctx){g._audioUnlocked=!1,g.autoUnlock=!1,!g._mobileUnloaded&&44100!==g.ctx.sampleRate&&(g._mobileUnloaded=!0,g.unload()),g._scratchBuffer=g.ctx.createBuffer(1,1,22050);var P=function(D){for(;g._html5AudioPool.length<g.html5PoolSize;)try{var F=new Audio;F._unlocked=!0,g._releaseHtml5Audio(F)}catch(S){g.noAudio=!0;break}for(var L=0;L<g._howls.length;L++)if(!g._howls[L]._webAudio)for(var O=g._howls[L]._getSoundIds(),E=0;E<O.length;E++){var b=g._howls[L]._soundById(O[E]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}g._autoResume();var w=g.ctx.createBufferSource();w.buffer=g._scratchBuffer,w.connect(g.ctx.destination),void 0===w.start?w.noteOn(0):w.start(0),"function"==typeof g.ctx.resume&&g.ctx.resume(),w.onended=function(){w.disconnect(0),g._audioUnlocked=!0,document.removeEventListener("touchstart",P,!0),document.removeEventListener("touchend",P,!0),document.removeEventListener("click",P,!0),document.removeEventListener("keydown",P,!0);for(var S=0;S<g._howls.length;S++)g._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",P,!0),document.addEventListener("touchend",P,!0),document.addEventListener("click",P,!0),document.addEventListener("keydown",P,!0),g}},_obtainHtml5Audio:function(){var g=this||N;if(g._html5AudioPool.length)return g._html5AudioPool.pop();var P=(new Audio).play();return P&&"undefined"!=typeof Promise&&(P instanceof Promise||"function"==typeof P.then)&&P.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(g){var P=this||N;return g._unlocked&&P._html5AudioPool.push(g),P},_autoSuspend:function(){var g=this;if(g.autoSuspend&&g.ctx&&void 0!==g.ctx.suspend&&N.usingWebAudio){for(var P=0;P<g._howls.length;P++)if(g._howls[P]._webAudio)for(var D=0;D<g._howls[P]._sounds.length;D++)if(!g._howls[P]._sounds[D]._paused)return g;return g._suspendTimer&&clearTimeout(g._suspendTimer),g._suspendTimer=setTimeout(function(){if(g.autoSuspend){g._suspendTimer=null,g.state="suspending";var F=function(){g.state="suspended",g._resumeAfterSuspend&&(delete g._resumeAfterSuspend,g._autoResume())};g.ctx.suspend().then(F,F)}},3e4),g}},_autoResume:function(){var g=this;if(g.ctx&&void 0!==g.ctx.resume&&N.usingWebAudio)return"running"===g.state&&"interrupted"!==g.ctx.state&&g._suspendTimer?(clearTimeout(g._suspendTimer),g._suspendTimer=null):"suspended"===g.state||"running"===g.state&&"interrupted"===g.ctx.state?(g.ctx.resume().then(function(){g.state="running";for(var P=0;P<g._howls.length;P++)g._howls[P]._emit("resume")}),g._suspendTimer&&(clearTimeout(g._suspendTimer),g._suspendTimer=null)):"suspending"===g.state&&(g._resumeAfterSuspend=!0),g}};var N=new Ke,U=function(g){g.src&&0!==g.src.length?this.init(g):console.error("An array of source files must be passed with any new Howl.")};U.prototype={init:function(g){var P=this;return N.ctx||V(),P._autoplay=g.autoplay||!1,P._format="string"!=typeof g.format?g.format:[g.format],P._html5=g.html5||!1,P._muted=g.mute||!1,P._loop=g.loop||!1,P._pool=g.pool||5,P._preload="boolean"!=typeof g.preload&&"metadata"!==g.preload||g.preload,P._rate=g.rate||1,P._sprite=g.sprite||{},P._src="string"!=typeof g.src?g.src:[g.src],P._volume=void 0!==g.volume?g.volume:1,P._xhr={method:g.xhr&&g.xhr.method?g.xhr.method:"GET",headers:g.xhr&&g.xhr.headers?g.xhr.headers:null,withCredentials:!(!g.xhr||!g.xhr.withCredentials)&&g.xhr.withCredentials},P._duration=0,P._state="unloaded",P._sounds=[],P._endTimers={},P._queue=[],P._playLock=!1,P._onend=g.onend?[{fn:g.onend}]:[],P._onfade=g.onfade?[{fn:g.onfade}]:[],P._onload=g.onload?[{fn:g.onload}]:[],P._onloaderror=g.onloaderror?[{fn:g.onloaderror}]:[],P._onplayerror=g.onplayerror?[{fn:g.onplayerror}]:[],P._onpause=g.onpause?[{fn:g.onpause}]:[],P._onplay=g.onplay?[{fn:g.onplay}]:[],P._onstop=g.onstop?[{fn:g.onstop}]:[],P._onmute=g.onmute?[{fn:g.onmute}]:[],P._onvolume=g.onvolume?[{fn:g.onvolume}]:[],P._onrate=g.onrate?[{fn:g.onrate}]:[],P._onseek=g.onseek?[{fn:g.onseek}]:[],P._onunlock=g.onunlock?[{fn:g.onunlock}]:[],P._onresume=[],P._webAudio=N.usingWebAudio&&!P._html5,void 0!==N.ctx&&N.ctx&&N.autoUnlock&&N._unlockAudio(),N._howls.push(P),P._autoplay&&P._queue.push({event:"play",action:function(){P.play()}}),P._preload&&"none"!==P._preload&&P.load(),P},load:function(){var g=this,P=null;if(N.noAudio)g._emit("loaderror",null,"No audio support.");else{"string"==typeof g._src&&(g._src=[g._src]);for(var D=0;D<g._src.length;D++){var F,L;if(g._format&&g._format[D])F=g._format[D];else{if("string"!=typeof(L=g._src[D])){g._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(F=/^data:audio\/([^;,]+);/i.exec(L))||(F=/\.([^.]+)$/.exec(L.split("?",1)[0])),F&&(F=F[1].toLowerCase())}if(F||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),F&&N.codecs(F)){P=g._src[D];break}}if(P)return g._src=P,g._state="loading","https:"===window.location.protocol&&"http:"===P.slice(0,5)&&(g._html5=!0,g._webAudio=!1),new h(g),g._webAudio&&m(g),g;g._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(g,P){var D=this,F=null;if("number"==typeof g)F=g,g=null;else{if("string"==typeof g&&"loaded"===D._state&&!D._sprite[g])return null;if(void 0===g&&(g="__default",!D._playLock)){for(var L=0,O=0;O<D._sounds.length;O++)D._sounds[O]._paused&&!D._sounds[O]._ended&&(L++,F=D._sounds[O]._id);1===L?g=null:F=null}}var E=F?D._soundById(F):D._inactiveSound();if(!E)return null;if(F&&!g&&(g=E._sprite||"__default"),"loaded"!==D._state){E._sprite=g,E._ended=!1;var b=E._id;return D._queue.push({event:"play",action:function(){D.play(b)}}),b}if(F&&!E._paused)return P||D._loadQueue("play"),E._id;D._webAudio&&N._autoResume();var w=Math.max(0,E._seek>0?E._seek:D._sprite[g][0]/1e3),S=Math.max(0,(D._sprite[g][0]+D._sprite[g][1])/1e3-w),M=1e3*S/Math.abs(E._rate),H=D._sprite[g][0]/1e3,j=(D._sprite[g][0]+D._sprite[g][1])/1e3;E._sprite=g,E._ended=!1;var G=function(){E._paused=!1,E._seek=w,E._start=H,E._stop=j,E._loop=!(!E._loop&&!D._sprite[g][2])};if(!(w>=j)){var X=E._node;if(D._webAudio){var fe=function(){D._playLock=!1,G(),D._refreshBuffer(E),X.gain.setValueAtTime(E._muted||D._muted?0:E._volume,N.ctx.currentTime),E._playStart=N.ctx.currentTime,void 0===X.bufferSource.start?X.bufferSource.noteGrainOn(0,w,E._loop?86400:S):X.bufferSource.start(0,w,E._loop?86400:S),M!==1/0&&(D._endTimers[E._id]=setTimeout(D._ended.bind(D,E),M)),P||setTimeout(function(){D._emit("play",E._id),D._loadQueue()},0)};"running"===N.state&&"interrupted"!==N.ctx.state?fe():(D._playLock=!0,D.once("resume",fe),D._clearTimer(E._id))}else{var Me=function(){X.currentTime=w,X.muted=E._muted||D._muted||N._muted||X.muted,X.volume=E._volume*N.volume(),X.playbackRate=E._rate;try{var z=X.play();if(z&&"undefined"!=typeof Promise&&(z instanceof Promise||"function"==typeof z.then)?(D._playLock=!0,G(),z.then(function(){D._playLock=!1,X._unlocked=!0,P?D._loadQueue():D._emit("play",E._id)}).catch(function(){D._playLock=!1,D._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):P||(D._playLock=!1,G(),D._emit("play",E._id)),X.playbackRate=E._rate,X.paused)return void D._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==g||E._loop?D._endTimers[E._id]=setTimeout(D._ended.bind(D,E),M):(D._endTimers[E._id]=function(){D._ended(E),X.removeEventListener("ended",D._endTimers[E._id],!1)},X.addEventListener("ended",D._endTimers[E._id],!1))}catch(ne){D._emit("playerror",E._id,ne)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===X.src&&(X.src=D._src,X.load());var me=window&&window.ejecta||!X.readyState&&N._navigator.isCocoonJS;if(X.readyState>=3||me)Me();else{D._playLock=!0,D._state="loading";var Q=function(){D._state="loaded",Me(),X.removeEventListener(N._canPlayEvent,Q,!1)};X.addEventListener(N._canPlayEvent,Q,!1),D._clearTimer(E._id)}}return E._id}D._ended(E)},pause:function(g){var P=this;if("loaded"!==P._state||P._playLock)return P._queue.push({event:"pause",action:function(){P.pause(g)}}),P;for(var D=P._getSoundIds(g),F=0;F<D.length;F++){P._clearTimer(D[F]);var L=P._soundById(D[F]);if(L&&!L._paused&&(L._seek=P.seek(D[F]),L._rateSeek=0,L._paused=!0,P._stopFade(D[F]),L._node))if(P._webAudio){if(!L._node.bufferSource)continue;void 0===L._node.bufferSource.stop?L._node.bufferSource.noteOff(0):L._node.bufferSource.stop(0),P._cleanBuffer(L._node)}else(!isNaN(L._node.duration)||L._node.duration===1/0)&&L._node.pause();arguments[1]||P._emit("pause",L?L._id:null)}return P},stop:function(g,P){var D=this;if("loaded"!==D._state||D._playLock)return D._queue.push({event:"stop",action:function(){D.stop(g)}}),D;for(var F=D._getSoundIds(g),L=0;L<F.length;L++){D._clearTimer(F[L]);var O=D._soundById(F[L]);O&&(O._seek=O._start||0,O._rateSeek=0,O._paused=!0,O._ended=!0,D._stopFade(F[L]),O._node&&(D._webAudio?O._node.bufferSource&&(void 0===O._node.bufferSource.stop?O._node.bufferSource.noteOff(0):O._node.bufferSource.stop(0),D._cleanBuffer(O._node)):(!isNaN(O._node.duration)||O._node.duration===1/0)&&(O._node.currentTime=O._start||0,O._node.pause(),O._node.duration===1/0&&D._clearSound(O._node))),P||D._emit("stop",O._id))}return D},mute:function(g,P){var D=this;if("loaded"!==D._state||D._playLock)return D._queue.push({event:"mute",action:function(){D.mute(g,P)}}),D;if(void 0===P){if("boolean"!=typeof g)return D._muted;D._muted=g}for(var F=D._getSoundIds(P),L=0;L<F.length;L++){var O=D._soundById(F[L]);O&&(O._muted=g,O._interval&&D._stopFade(O._id),D._webAudio&&O._node?O._node.gain.setValueAtTime(g?0:O._volume,N.ctx.currentTime):O._node&&(O._node.muted=!!N._muted||g),D._emit("mute",O._id))}return D},volume:function(){var D,F,E,g=this,P=arguments;if(0===P.length)return g._volume;if(1===P.length||2===P.length&&void 0===P[1]){var L=g._getSoundIds(),O=L.indexOf(P[0]);O>=0?F=parseInt(P[0],10):D=parseFloat(P[0])}else P.length>=2&&(D=parseFloat(P[0]),F=parseInt(P[1],10));if(!(void 0!==D&&D>=0&&D<=1))return(E=F?g._soundById(F):g._sounds[0])?E._volume:0;if("loaded"!==g._state||g._playLock)return g._queue.push({event:"volume",action:function(){g.volume.apply(g,P)}}),g;void 0===F&&(g._volume=D),F=g._getSoundIds(F);for(var b=0;b<F.length;b++)(E=g._soundById(F[b]))&&(E._volume=D,P[2]||g._stopFade(F[b]),g._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(D,N.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=D*N.volume()),g._emit("volume",E._id));return g},fade:function(g,P,D,F){var L=this;if("loaded"!==L._state||L._playLock)return L._queue.push({event:"fade",action:function(){L.fade(g,P,D,F)}}),L;g=Math.min(Math.max(0,parseFloat(g)),1),P=Math.min(Math.max(0,parseFloat(P)),1),D=parseFloat(D),L.volume(g,F);for(var O=L._getSoundIds(F),E=0;E<O.length;E++){var b=L._soundById(O[E]);if(b){if(F||L._stopFade(O[E]),L._webAudio&&!b._muted){var w=N.ctx.currentTime,S=w+D/1e3;b._volume=g,b._node.gain.setValueAtTime(g,w),b._node.gain.linearRampToValueAtTime(P,S)}L._startFadeInterval(b,g,P,D,O[E],void 0===F)}}return L},_startFadeInterval:function(g,P,D,F,L,O){var E=this,b=P,w=D-P,S=Math.abs(w/.01),M=Math.max(4,S>0?F/S:F),H=Date.now();g._fadeTo=D,g._interval=setInterval(function(){var j=(Date.now()-H)/F;H=Date.now(),b+=w*j,b=Math.round(100*b)/100,b=w<0?Math.max(D,b):Math.min(D,b),E._webAudio?g._volume=b:E.volume(b,g._id,!0),O&&(E._volume=b),(D<P&&b<=D||D>P&&b>=D)&&(clearInterval(g._interval),g._interval=null,g._fadeTo=null,E.volume(D,g._id),E._emit("fade",g._id))},M)},_stopFade:function(g){var P=this,D=P._soundById(g);return D&&D._interval&&(P._webAudio&&D._node.gain.cancelScheduledValues(N.ctx.currentTime),clearInterval(D._interval),D._interval=null,P.volume(D._fadeTo,g),D._fadeTo=null,P._emit("fade",g)),P},loop:function(){var D,F,L,g=this,P=arguments;if(0===P.length)return g._loop;if(1===P.length){if("boolean"!=typeof P[0])return!!(L=g._soundById(parseInt(P[0],10)))&&L._loop;g._loop=D=P[0]}else 2===P.length&&(D=P[0],F=parseInt(P[1],10));for(var O=g._getSoundIds(F),E=0;E<O.length;E++)(L=g._soundById(O[E]))&&(L._loop=D,g._webAudio&&L._node&&L._node.bufferSource&&(L._node.bufferSource.loop=D,D&&(L._node.bufferSource.loopStart=L._start||0,L._node.bufferSource.loopEnd=L._stop,g.playing(O[E])&&(g.pause(O[E],!0),g.play(O[E],!0)))));return g},rate:function(){var D,F,E,g=this,P=arguments;if(0===P.length)F=g._sounds[0]._id;else if(1===P.length){var L=g._getSoundIds(),O=L.indexOf(P[0]);O>=0?F=parseInt(P[0],10):D=parseFloat(P[0])}else 2===P.length&&(D=parseFloat(P[0]),F=parseInt(P[1],10));if("number"!=typeof D)return(E=g._soundById(F))?E._rate:g._rate;if("loaded"!==g._state||g._playLock)return g._queue.push({event:"rate",action:function(){g.rate.apply(g,P)}}),g;void 0===F&&(g._rate=D),F=g._getSoundIds(F);for(var b=0;b<F.length;b++)if(E=g._soundById(F[b])){g.playing(F[b])&&(E._rateSeek=g.seek(F[b]),E._playStart=g._webAudio?N.ctx.currentTime:E._playStart),E._rate=D,g._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(D,N.ctx.currentTime):E._node&&(E._node.playbackRate=D);var w=g.seek(F[b]),S=(g._sprite[E._sprite][0]+g._sprite[E._sprite][1])/1e3-w,M=1e3*S/Math.abs(E._rate);(g._endTimers[F[b]]||!E._paused)&&(g._clearTimer(F[b]),g._endTimers[F[b]]=setTimeout(g._ended.bind(g,E),M)),g._emit("rate",E._id)}return g},seek:function(){var D,F,g=this,P=arguments;if(0===P.length)g._sounds.length&&(F=g._sounds[0]._id);else if(1===P.length){var L=g._getSoundIds(),O=L.indexOf(P[0]);O>=0?F=parseInt(P[0],10):g._sounds.length&&(F=g._sounds[0]._id,D=parseFloat(P[0]))}else 2===P.length&&(D=parseFloat(P[0]),F=parseInt(P[1],10));if(void 0===F)return 0;if("number"==typeof D&&("loaded"!==g._state||g._playLock))return g._queue.push({event:"seek",action:function(){g.seek.apply(g,P)}}),g;var E=g._soundById(F);if(E){if(!("number"==typeof D&&D>=0)){if(g._webAudio){var M=g.playing(F)?N.ctx.currentTime-E._playStart:0,H=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(H+M*Math.abs(E._rate))}return E._node.currentTime}var b=g.playing(F);b&&g.pause(F,!0),E._seek=D,E._ended=!1,g._clearTimer(F),!g._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=D);var w=function(){b&&g.play(F,!0),g._emit("seek",F)};if(b&&!g._webAudio){var S=function(){g._playLock?setTimeout(S,0):w()};setTimeout(S,0)}else w()}return g},playing:function(g){var P=this;if("number"==typeof g){var D=P._soundById(g);return!!D&&!D._paused}for(var F=0;F<P._sounds.length;F++)if(!P._sounds[F]._paused)return!0;return!1},duration:function(g){var P=this,D=P._duration,F=P._soundById(g);return F&&(D=P._sprite[F._sprite][1]/1e3),D},state:function(){return this._state},unload:function(){for(var g=this,P=g._sounds,D=0;D<P.length;D++)P[D]._paused||g.stop(P[D]._id),g._webAudio||(g._clearSound(P[D]._node),P[D]._node.removeEventListener("error",P[D]._errorFn,!1),P[D]._node.removeEventListener(N._canPlayEvent,P[D]._loadFn,!1),P[D]._node.removeEventListener("ended",P[D]._endFn,!1),N._releaseHtml5Audio(P[D]._node)),delete P[D]._node,g._clearTimer(P[D]._id);var F=N._howls.indexOf(g);F>=0&&N._howls.splice(F,1);var L=!0;for(D=0;D<N._howls.length;D++)if(N._howls[D]._src===g._src||g._src.indexOf(N._howls[D]._src)>=0){L=!1;break}return y&&L&&delete y[g._src],N.noAudio=!1,g._state="unloaded",g._sounds=[],g=null,null},on:function(g,P,D,F){return"function"==typeof P&&this["_on"+g].push(F?{id:D,fn:P,once:F}:{id:D,fn:P}),this},off:function(g,P,D){var F=this,L=F["_on"+g],O=0;if("number"==typeof P&&(D=P,P=null),P||D)for(O=0;O<L.length;O++){var E=D===L[O].id;if(P===L[O].fn&&E||!P&&E){L.splice(O,1);break}}else if(g)F["_on"+g]=[];else{var b=Object.keys(F);for(O=0;O<b.length;O++)0===b[O].indexOf("_on")&&Array.isArray(F[b[O]])&&(F[b[O]]=[])}return F},once:function(g,P,D){return this.on(g,P,D,1),this},_emit:function(g,P,D){for(var F=this,L=F["_on"+g],O=L.length-1;O>=0;O--)(!L[O].id||L[O].id===P||"load"===g)&&(setTimeout(function(E){E.call(this,P,D)}.bind(F,L[O].fn),0),L[O].once&&F.off(g,L[O].fn,L[O].id));return F._loadQueue(g),F},_loadQueue:function(g){var P=this;if(P._queue.length>0){var D=P._queue[0];D.event===g&&(P._queue.shift(),P._loadQueue()),g||D.action()}return P},_ended:function(g){var P=this,D=g._sprite;if(!P._webAudio&&g._node&&!g._node.paused&&!g._node.ended&&g._node.currentTime<g._stop)return setTimeout(P._ended.bind(P,g),100),P;var F=!(!g._loop&&!P._sprite[D][2]);if(P._emit("end",g._id),!P._webAudio&&F&&P.stop(g._id,!0).play(g._id),P._webAudio&&F){P._emit("play",g._id),g._seek=g._start||0,g._rateSeek=0,g._playStart=N.ctx.currentTime;var L=1e3*(g._stop-g._start)/Math.abs(g._rate);P._endTimers[g._id]=setTimeout(P._ended.bind(P,g),L)}return P._webAudio&&!F&&(g._paused=!0,g._ended=!0,g._seek=g._start||0,g._rateSeek=0,P._clearTimer(g._id),P._cleanBuffer(g._node),N._autoSuspend()),!P._webAudio&&!F&&P.stop(g._id,!0),P},_clearTimer:function(g){var P=this;if(P._endTimers[g]){if("function"!=typeof P._endTimers[g])clearTimeout(P._endTimers[g]);else{var D=P._soundById(g);D&&D._node&&D._node.removeEventListener("ended",P._endTimers[g],!1)}delete P._endTimers[g]}return P},_soundById:function(g){for(var P=this,D=0;D<P._sounds.length;D++)if(g===P._sounds[D]._id)return P._sounds[D];return null},_inactiveSound:function(){var g=this;g._drain();for(var P=0;P<g._sounds.length;P++)if(g._sounds[P]._ended)return g._sounds[P].reset();return new h(g)},_drain:function(){var g=this,P=g._pool,D=0,F=0;if(!(g._sounds.length<P)){for(F=0;F<g._sounds.length;F++)g._sounds[F]._ended&&D++;for(F=g._sounds.length-1;F>=0;F--){if(D<=P)return;g._sounds[F]._ended&&(g._webAudio&&g._sounds[F]._node&&g._sounds[F]._node.disconnect(0),g._sounds.splice(F,1),D--)}}},_getSoundIds:function(g){if(void 0===g){for(var D=[],F=0;F<this._sounds.length;F++)D.push(this._sounds[F]._id);return D}return[g]},_refreshBuffer:function(g){return g._node.bufferSource=N.ctx.createBufferSource(),g._node.bufferSource.buffer=y[this._src],g._node.bufferSource.connect(g._panner?g._panner:g._node),g._node.bufferSource.loop=g._loop,g._loop&&(g._node.bufferSource.loopStart=g._start||0,g._node.bufferSource.loopEnd=g._stop||0),g._node.bufferSource.playbackRate.setValueAtTime(g._rate,N.ctx.currentTime),this},_cleanBuffer:function(g){var D=N._navigator&&N._navigator.vendor.indexOf("Apple")>=0;if(N._scratchBuffer&&g.bufferSource&&(g.bufferSource.onended=null,g.bufferSource.disconnect(0),D))try{g.bufferSource.buffer=N._scratchBuffer}catch(F){}return g.bufferSource=null,this},_clearSound:function(g){/MSIE |Trident\//.test(N._navigator&&N._navigator.userAgent)||(g.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var h=function(g){this._parent=g,this.init()};h.prototype={init:function(){var g=this,P=g._parent;return g._muted=P._muted,g._loop=P._loop,g._volume=P._volume,g._rate=P._rate,g._seek=0,g._paused=!0,g._ended=!0,g._sprite="__default",g._id=++N._counter,P._sounds.push(g),g.create(),g},create:function(){var g=this,P=g._parent,D=N._muted||g._muted||g._parent._muted?0:g._volume;return P._webAudio?(g._node=void 0===N.ctx.createGain?N.ctx.createGainNode():N.ctx.createGain(),g._node.gain.setValueAtTime(D,N.ctx.currentTime),g._node.paused=!0,g._node.connect(N.masterGain)):N.noAudio||(g._node=N._obtainHtml5Audio(),g._errorFn=g._errorListener.bind(g),g._node.addEventListener("error",g._errorFn,!1),g._loadFn=g._loadListener.bind(g),g._node.addEventListener(N._canPlayEvent,g._loadFn,!1),g._endFn=g._endListener.bind(g),g._node.addEventListener("ended",g._endFn,!1),g._node.src=P._src,g._node.preload=!0===P._preload?"auto":P._preload,g._node.volume=D*N.volume(),g._node.load()),g},reset:function(){var g=this,P=g._parent;return g._muted=P._muted,g._loop=P._loop,g._volume=P._volume,g._rate=P._rate,g._seek=0,g._rateSeek=0,g._paused=!0,g._ended=!0,g._sprite="__default",g._id=++N._counter,g},_errorListener:function(){var g=this;g._parent._emit("loaderror",g._id,g._node.error?g._node.error.code:0),g._node.removeEventListener("error",g._errorFn,!1)},_loadListener:function(){var g=this,P=g._parent;P._duration=Math.ceil(10*g._node.duration)/10,0===Object.keys(P._sprite).length&&(P._sprite={__default:[0,1e3*P._duration]}),"loaded"!==P._state&&(P._state="loaded",P._emit("load"),P._loadQueue()),g._node.removeEventListener(N._canPlayEvent,g._loadFn,!1)},_endListener:function(){var g=this,P=g._parent;P._duration===1/0&&(P._duration=Math.ceil(10*g._node.duration)/10,P._sprite.__default[1]===1/0&&(P._sprite.__default[1]=1e3*P._duration),P._ended(g)),g._node.removeEventListener("ended",g._endFn,!1)}};var y={},m=function(g){var P=g._src;if(y[P])return g._duration=y[P].duration,void A(g);if(/^data:[^;]+;base64,/.test(P)){for(var D=atob(P.split(",")[1]),F=new Uint8Array(D.length),L=0;L<D.length;++L)F[L]=D.charCodeAt(L);C(F.buffer,g)}else{var O=new XMLHttpRequest;O.open(g._xhr.method,P,!0),O.withCredentials=g._xhr.withCredentials,O.responseType="arraybuffer",g._xhr.headers&&Object.keys(g._xhr.headers).forEach(function(E){O.setRequestHeader(E,g._xhr.headers[E])}),O.onload=function(){var E=(O.status+"")[0];"0"===E||"2"===E||"3"===E?C(O.response,g):g._emit("loaderror",null,"Failed loading audio file with status: "+O.status+".")},O.onerror=function(){g._webAudio&&(g._html5=!0,g._webAudio=!1,g._sounds=[],delete y[P],g.load())},v(O)}},v=function(g){try{g.send()}catch(P){g.onerror()}},C=function(g,P){var D=function(){P._emit("loaderror",null,"Decoding audio data failed.")},F=function(L){L&&P._sounds.length>0?(y[P._src]=L,A(P,L)):D()};"undefined"!=typeof Promise&&1===N.ctx.decodeAudioData.length?N.ctx.decodeAudioData(g).then(F).catch(D):N.ctx.decodeAudioData(g,F,D)},A=function(g,P){P&&!g._duration&&(g._duration=P.duration),0===Object.keys(g._sprite).length&&(g._sprite={__default:[0,1e3*g._duration]}),"loaded"!==g._state&&(g._state="loaded",g._emit("load"),g._loadQueue())},V=function(){if(N.usingWebAudio){try{"undefined"!=typeof AudioContext?N.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?N.ctx=new webkitAudioContext:N.usingWebAudio=!1}catch(L){N.usingWebAudio=!1}N.ctx||(N.usingWebAudio=!1);var g=/iP(hone|od|ad)/.test(N._navigator&&N._navigator.platform),P=N._navigator&&N._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),D=P?parseInt(P[1],10):null;if(g&&D&&D<9){var F=/safari/.test(N._navigator&&N._navigator.userAgent.toLowerCase());N._navigator&&!F&&(N.usingWebAudio=!1)}N.usingWebAudio&&(N.masterGain=void 0===N.ctx.createGain?N.ctx.createGainNode():N.ctx.createGain(),N.masterGain.gain.setValueAtTime(N._muted?0:N._volume,N.ctx.currentTime),N.masterGain.connect(N.ctx.destination)),N._setup()}};void 0!==(xe=function(){return{Howler:N,Howl:U}}.apply(ut,[]))&&(ot.exports=xe),ut.Howler=N,ut.Howl=U,"undefined"!=typeof global?(global.HowlerGlobal=Ke,global.Howler=N,global.Howl=U,global.Sound=h):"undefined"!=typeof window&&(window.HowlerGlobal=Ke,window.Howler=N,window.Howl=U,window.Sound=h)}(),function(){"use strict";var N;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(N){var U=this;if(!U.ctx||!U.ctx.listener)return U;for(var h=U._howls.length-1;h>=0;h--)U._howls[h].stereo(N);return U},HowlerGlobal.prototype.pos=function(N,U,h){var y=this;return y.ctx&&y.ctx.listener?"number"!=typeof N?y._pos:(y._pos=[N,U="number"!=typeof U?y._pos[1]:U,h="number"!=typeof h?y._pos[2]:h],void 0!==y.ctx.listener.positionX?(y.ctx.listener.positionX.setTargetAtTime(y._pos[0],Howler.ctx.currentTime,.1),y.ctx.listener.positionY.setTargetAtTime(y._pos[1],Howler.ctx.currentTime,.1),y.ctx.listener.positionZ.setTargetAtTime(y._pos[2],Howler.ctx.currentTime,.1)):y.ctx.listener.setPosition(y._pos[0],y._pos[1],y._pos[2]),y):y},HowlerGlobal.prototype.orientation=function(N,U,h,y,m,v){var C=this;if(!C.ctx||!C.ctx.listener)return C;var A=C._orientation;return"number"!=typeof N?A:(C._orientation=[N,U="number"!=typeof U?A[1]:U,h="number"!=typeof h?A[2]:h,y="number"!=typeof y?A[3]:y,m="number"!=typeof m?A[4]:m,v="number"!=typeof v?A[5]:v],void 0!==C.ctx.listener.forwardX?(C.ctx.listener.forwardX.setTargetAtTime(N,Howler.ctx.currentTime,.1),C.ctx.listener.forwardY.setTargetAtTime(U,Howler.ctx.currentTime,.1),C.ctx.listener.forwardZ.setTargetAtTime(h,Howler.ctx.currentTime,.1),C.ctx.listener.upX.setTargetAtTime(y,Howler.ctx.currentTime,.1),C.ctx.listener.upY.setTargetAtTime(m,Howler.ctx.currentTime,.1),C.ctx.listener.upZ.setTargetAtTime(v,Howler.ctx.currentTime,.1)):C.ctx.listener.setOrientation(N,U,h,y,m,v),C)},Howl.prototype.init=(N=Howl.prototype.init,function(U){var h=this;return h._orientation=U.orientation||[1,0,0],h._stereo=U.stereo||null,h._pos=U.pos||null,h._pannerAttr={coneInnerAngle:void 0!==U.coneInnerAngle?U.coneInnerAngle:360,coneOuterAngle:void 0!==U.coneOuterAngle?U.coneOuterAngle:360,coneOuterGain:void 0!==U.coneOuterGain?U.coneOuterGain:0,distanceModel:void 0!==U.distanceModel?U.distanceModel:"inverse",maxDistance:void 0!==U.maxDistance?U.maxDistance:1e4,panningModel:void 0!==U.panningModel?U.panningModel:"HRTF",refDistance:void 0!==U.refDistance?U.refDistance:1,rolloffFactor:void 0!==U.rolloffFactor?U.rolloffFactor:1},h._onstereo=U.onstereo?[{fn:U.onstereo}]:[],h._onpos=U.onpos?[{fn:U.onpos}]:[],h._onorientation=U.onorientation?[{fn:U.onorientation}]:[],N.call(this,U)}),Howl.prototype.stereo=function(N,U){var h=this;if(!h._webAudio)return h;if("loaded"!==h._state)return h._queue.push({event:"stereo",action:function(){h.stereo(N,U)}}),h;var y=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===U){if("number"!=typeof N)return h._stereo;h._stereo=N,h._pos=[N,0,0]}for(var m=h._getSoundIds(U),v=0;v<m.length;v++){var C=h._soundById(m[v]);if(C){if("number"!=typeof N)return C._stereo;C._stereo=N,C._pos=[N,0,0],C._node&&(C._pannerAttr.panningModel="equalpower",(!C._panner||!C._panner.pan)&&Ke(C,y),"spatial"===y?void 0!==C._panner.positionX?(C._panner.positionX.setValueAtTime(N,Howler.ctx.currentTime),C._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),C._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):C._panner.setPosition(N,0,0):C._panner.pan.setValueAtTime(N,Howler.ctx.currentTime)),h._emit("stereo",C._id)}}return h},Howl.prototype.pos=function(N,U,h,y){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"pos",action:function(){m.pos(N,U,h,y)}}),m;if(U="number"!=typeof U?0:U,h="number"!=typeof h?-.5:h,void 0===y){if("number"!=typeof N)return m._pos;m._pos=[N,U,h]}for(var v=m._getSoundIds(y),C=0;C<v.length;C++){var A=m._soundById(v[C]);if(A){if("number"!=typeof N)return A._pos;A._pos=[N,U,h],A._node&&((!A._panner||A._panner.pan)&&Ke(A,"spatial"),void 0!==A._panner.positionX?(A._panner.positionX.setValueAtTime(N,Howler.ctx.currentTime),A._panner.positionY.setValueAtTime(U,Howler.ctx.currentTime),A._panner.positionZ.setValueAtTime(h,Howler.ctx.currentTime)):A._panner.setPosition(N,U,h)),m._emit("pos",A._id)}}return m},Howl.prototype.orientation=function(N,U,h,y){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"orientation",action:function(){m.orientation(N,U,h,y)}}),m;if(U="number"!=typeof U?m._orientation[1]:U,h="number"!=typeof h?m._orientation[2]:h,void 0===y){if("number"!=typeof N)return m._orientation;m._orientation=[N,U,h]}for(var v=m._getSoundIds(y),C=0;C<v.length;C++){var A=m._soundById(v[C]);if(A){if("number"!=typeof N)return A._orientation;A._orientation=[N,U,h],A._node&&(A._panner||(A._pos||(A._pos=m._pos||[0,0,-.5]),Ke(A,"spatial")),void 0!==A._panner.orientationX?(A._panner.orientationX.setValueAtTime(N,Howler.ctx.currentTime),A._panner.orientationY.setValueAtTime(U,Howler.ctx.currentTime),A._panner.orientationZ.setValueAtTime(h,Howler.ctx.currentTime)):A._panner.setOrientation(N,U,h)),m._emit("orientation",A._id)}}return m},Howl.prototype.pannerAttr=function(){var h,y,m,N=this,U=arguments;if(!N._webAudio)return N;if(0===U.length)return N._pannerAttr;if(1===U.length){if("object"!=typeof U[0])return(m=N._soundById(parseInt(U[0],10)))?m._pannerAttr:N._pannerAttr;h=U[0],void 0===y&&(h.pannerAttr||(h.pannerAttr={coneInnerAngle:h.coneInnerAngle,coneOuterAngle:h.coneOuterAngle,coneOuterGain:h.coneOuterGain,distanceModel:h.distanceModel,maxDistance:h.maxDistance,refDistance:h.refDistance,rolloffFactor:h.rolloffFactor,panningModel:h.panningModel}),N._pannerAttr={coneInnerAngle:void 0!==h.pannerAttr.coneInnerAngle?h.pannerAttr.coneInnerAngle:N._coneInnerAngle,coneOuterAngle:void 0!==h.pannerAttr.coneOuterAngle?h.pannerAttr.coneOuterAngle:N._coneOuterAngle,coneOuterGain:void 0!==h.pannerAttr.coneOuterGain?h.pannerAttr.coneOuterGain:N._coneOuterGain,distanceModel:void 0!==h.pannerAttr.distanceModel?h.pannerAttr.distanceModel:N._distanceModel,maxDistance:void 0!==h.pannerAttr.maxDistance?h.pannerAttr.maxDistance:N._maxDistance,refDistance:void 0!==h.pannerAttr.refDistance?h.pannerAttr.refDistance:N._refDistance,rolloffFactor:void 0!==h.pannerAttr.rolloffFactor?h.pannerAttr.rolloffFactor:N._rolloffFactor,panningModel:void 0!==h.pannerAttr.panningModel?h.pannerAttr.panningModel:N._panningModel})}else 2===U.length&&(h=U[0],y=parseInt(U[1],10));for(var v=N._getSoundIds(y),C=0;C<v.length;C++)if(m=N._soundById(v[C])){var A=m._pannerAttr;A={coneInnerAngle:void 0!==h.coneInnerAngle?h.coneInnerAngle:A.coneInnerAngle,coneOuterAngle:void 0!==h.coneOuterAngle?h.coneOuterAngle:A.coneOuterAngle,coneOuterGain:void 0!==h.coneOuterGain?h.coneOuterGain:A.coneOuterGain,distanceModel:void 0!==h.distanceModel?h.distanceModel:A.distanceModel,maxDistance:void 0!==h.maxDistance?h.maxDistance:A.maxDistance,refDistance:void 0!==h.refDistance?h.refDistance:A.refDistance,rolloffFactor:void 0!==h.rolloffFactor?h.rolloffFactor:A.rolloffFactor,panningModel:void 0!==h.panningModel?h.panningModel:A.panningModel};var V=m._panner;V?(V.coneInnerAngle=A.coneInnerAngle,V.coneOuterAngle=A.coneOuterAngle,V.coneOuterGain=A.coneOuterGain,V.distanceModel=A.distanceModel,V.maxDistance=A.maxDistance,V.refDistance=A.refDistance,V.rolloffFactor=A.rolloffFactor,V.panningModel=A.panningModel):(m._pos||(m._pos=N._pos||[0,0,-.5]),Ke(m,"spatial"))}return N},Sound.prototype.init=function(N){return function(){var U=this,h=U._parent;U._orientation=h._orientation,U._stereo=h._stereo,U._pos=h._pos,U._pannerAttr=h._pannerAttr,N.call(this),U._stereo?h.stereo(U._stereo):U._pos&&h.pos(U._pos[0],U._pos[1],U._pos[2],U._id)}}(Sound.prototype.init),Sound.prototype.reset=function(N){return function(){var U=this,h=U._parent;return U._orientation=h._orientation,U._stereo=h._stereo,U._pos=h._pos,U._pannerAttr=h._pannerAttr,U._stereo?h.stereo(U._stereo):U._pos?h.pos(U._pos[0],U._pos[1],U._pos[2],U._id):U._panner&&(U._panner.disconnect(0),U._panner=void 0,h._refreshBuffer(U)),N.call(this)}}(Sound.prototype.reset);var Ke=function(N,U){"spatial"===(U=U||"spatial")?(N._panner=Howler.ctx.createPanner(),N._panner.coneInnerAngle=N._pannerAttr.coneInnerAngle,N._panner.coneOuterAngle=N._pannerAttr.coneOuterAngle,N._panner.coneOuterGain=N._pannerAttr.coneOuterGain,N._panner.distanceModel=N._pannerAttr.distanceModel,N._panner.maxDistance=N._pannerAttr.maxDistance,N._panner.refDistance=N._pannerAttr.refDistance,N._panner.rolloffFactor=N._pannerAttr.rolloffFactor,N._panner.panningModel=N._pannerAttr.panningModel,void 0!==N._panner.positionX?(N._panner.positionX.setValueAtTime(N._pos[0],Howler.ctx.currentTime),N._panner.positionY.setValueAtTime(N._pos[1],Howler.ctx.currentTime),N._panner.positionZ.setValueAtTime(N._pos[2],Howler.ctx.currentTime)):N._panner.setPosition(N._pos[0],N._pos[1],N._pos[2]),void 0!==N._panner.orientationX?(N._panner.orientationX.setValueAtTime(N._orientation[0],Howler.ctx.currentTime),N._panner.orientationY.setValueAtTime(N._orientation[1],Howler.ctx.currentTime),N._panner.orientationZ.setValueAtTime(N._orientation[2],Howler.ctx.currentTime)):N._panner.setOrientation(N._orientation[0],N._orientation[1],N._orientation[2])):(N._panner=Howler.ctx.createStereoPanner(),N._panner.pan.setValueAtTime(N._stereo,Howler.ctx.currentTime)),N._panner.connect(N._node),N._paused||N._parent.pause(N._id,!0).play(N._id,!0)}}()},3894:ot=>{ot.exports="function"==typeof Object.create?function(_e,xe){xe&&(_e.super_=xe,_e.prototype=Object.create(xe.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}))}:function(_e,xe){if(xe){_e.super_=xe;var Ke=function(){};Ke.prototype=xe.prototype,_e.prototype=new Ke,_e.prototype.constructor=_e}}},5943:ot=>{"use strict";var ut=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;function Ke(U){if(null==U)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(U)}ot.exports=function N(){try{if(!Object.assign)return!1;var U=new String("abc");if(U[5]="de","5"===Object.getOwnPropertyNames(U)[0])return!1;for(var h={},y=0;y<10;y++)h["_"+String.fromCharCode(y)]=y;if("0123456789"!==Object.getOwnPropertyNames(h).map(function(C){return h[C]}).join(""))return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(C){v[C]=C}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},v)).join("")}catch(C){return!1}}()?Object.assign:function(U,h){for(var y,v,m=Ke(U),C=1;C<arguments.length;C++){for(var A in y=Object(arguments[C]))_e.call(y,A)&&(m[A]=y[A]);if(ut){v=ut(y);for(var V=0;V<v.length;V++)xe.call(y,v[V])&&(m[v[V]]=y[v[V]])}}return m}},516:ot=>{"use strict";function ut(_e,xe){return Object.prototype.hasOwnProperty.call(_e,xe)}ot.exports=function(_e,xe,Ke,N){Ke=Ke||"=";var U={};if("string"!=typeof _e||0===_e.length)return U;var h=/\+/g;_e=_e.split(xe=xe||"&");var y=1e3;N&&"number"==typeof N.maxKeys&&(y=N.maxKeys);var m=_e.length;y>0&&m>y&&(m=y);for(var v=0;v<m;++v){var V,g,P,D,C=_e[v].replace(h,"%20"),A=C.indexOf(Ke);A>=0?(V=C.substr(0,A),g=C.substr(A+1)):(V=C,g=""),P=decodeURIComponent(V),D=decodeURIComponent(g),ut(U,P)?Array.isArray(U[P])?U[P].push(D):U[P]=[U[P],D]:U[P]=D}return U}},5776:ot=>{"use strict";var ut=function(_e){switch(typeof _e){case"string":return _e;case"boolean":return _e?"true":"false";case"number":return isFinite(_e)?_e:"";default:return""}};ot.exports=function(_e,xe,Ke,N){return xe=xe||"&",Ke=Ke||"=",null===_e&&(_e=void 0),"object"==typeof _e?Object.keys(_e).map(function(U){var h=encodeURIComponent(ut(U))+Ke;return Array.isArray(_e[U])?_e[U].map(function(y){return h+encodeURIComponent(ut(y))}).join(xe):h+encodeURIComponent(ut(_e[U]))}).join(xe):N?encodeURIComponent(ut(N))+Ke+encodeURIComponent(ut(_e)):""}},7137:(ot,ut,_e)=>{"use strict";ut.decode=ut.parse=_e(516),ut.encode=ut.stringify=_e(5776)},2858:(ot,ut)=>{"use strict";var _e=Object.prototype.hasOwnProperty;function Ke(y){try{return decodeURIComponent(y.replace(/\+/g," "))}catch(m){return null}}function N(y){try{return encodeURIComponent(y)}catch(m){return null}}ut.stringify=function h(y,m){m=m||"";var C,A,v=[];for(A in"string"!=typeof m&&(m="?"),y)if(_e.call(y,A)){if(!(C=y[A])&&(null==C||isNaN(C))&&(C=""),A=N(A),C=N(C),null===A||null===C)continue;v.push(A+"="+C)}return v.length?m+v.join("&"):""},ut.parse=function U(y){for(var C,m=/([^=?#&]+)=?([^&]*)/g,v={};C=m.exec(y);){var A=Ke(C[1]),V=Ke(C[2]);null===A||null===V||A in v||(v[A]=V)}return v}},8237:ot=>{"use strict";ot.exports=function(_e,xe){if(xe=xe.split(":")[0],!(_e=+_e))return!1;switch(xe){case"http":case"ws":return 80!==_e;case"https":case"wss":return 443!==_e;case"ftp":return 21!==_e;case"gopher":return 70!==_e;case"file":return!1}return 0!==_e}},8135:function(ot){var _e;_e=()=>(()=>{var ut={1801:(N,U,h)=>{var y;N=h.nmd(N);var m=function(v,C,A){this._byteOffset=C||0,v instanceof ArrayBuffer?this.buffer=v:"object"==typeof v?(this.dataView=v,C&&(this._byteOffset+=C)):this.buffer=new ArrayBuffer(v||1),this.position=0,this.endianness=null==A?m.LITTLE_ENDIAN:A};m.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),m.prototype.save=function(v){var C=new Blob(this.buffer),A=window.webkitURL||window.URL;if(!A||!A.createObjectURL)throw"DataStream.save: Can't create object URL.";var V=A.createObjectURL(C),g=document.createElement("a");g.setAttribute("href",V),g.setAttribute("download",v),g.click(),A.revokeObjectURL(V)},m.BIG_ENDIAN=!1,m.LITTLE_ENDIAN=!0,m.prototype._dynamicSize=!0,Object.defineProperty(m.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(v){v||this._trimAlloc(),this._dynamicSize=v}}),m.prototype._byteLength=0,Object.defineProperty(m.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(m.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(v){this._buffer=v,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(m.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(v){this._byteOffset=v,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(m.prototype,"dataView",{get:function(){return this._dataView},set:function(v){this._byteOffset=v.byteOffset,this._buffer=v.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+v.byteLength}}),m.prototype._realloc=function(v){if(this._dynamicSize){var C=this._byteOffset+this.position+v,A=this._buffer.byteLength;if(C<=A)C>this._byteLength&&(this._byteLength=C);else{for(A<1&&(A=1);C>A;)A*=2;var V=new ArrayBuffer(A),g=new Uint8Array(this._buffer);new Uint8Array(V,0,g.length).set(g),this.buffer=V,this._byteLength=C}}},m.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var v=new ArrayBuffer(this._byteLength),C=new Uint8Array(v),A=new Uint8Array(this._buffer,0,C.length);C.set(A),this.buffer=v}},m.prototype.seek=function(v){var C=Math.max(0,Math.min(this.byteLength,v));this.position=isNaN(C)||!isFinite(C)?0:C},m.prototype.isEof=function(){return this.position>=this.byteLength},m.prototype.mapInt32Array=function(v,C){this._realloc(4*v);var A=new Int32Array(this._buffer,this.byteOffset+this.position,v);return m.arrayToNative(A,null==C?this.endianness:C),this.position+=4*v,A},m.prototype.mapInt16Array=function(v,C){this._realloc(2*v);var A=new Int16Array(this._buffer,this.byteOffset+this.position,v);return m.arrayToNative(A,null==C?this.endianness:C),this.position+=2*v,A},m.prototype.mapInt8Array=function(v){this._realloc(1*v);var C=new Int8Array(this._buffer,this.byteOffset+this.position,v);return this.position+=1*v,C},m.prototype.mapUint32Array=function(v,C){this._realloc(4*v);var A=new Uint32Array(this._buffer,this.byteOffset+this.position,v);return m.arrayToNative(A,null==C?this.endianness:C),this.position+=4*v,A},m.prototype.mapUint16Array=function(v,C){this._realloc(2*v);var A=new Uint16Array(this._buffer,this.byteOffset+this.position,v);return m.arrayToNative(A,null==C?this.endianness:C),this.position+=2*v,A},m.prototype.mapUint8Array=function(v){this._realloc(1*v);var C=new Uint8Array(this._buffer,this.byteOffset+this.position,v);return this.position+=1*v,C},m.prototype.mapFloat64Array=function(v,C){this._realloc(8*v);var A=new Float64Array(this._buffer,this.byteOffset+this.position,v);return m.arrayToNative(A,null==C?this.endianness:C),this.position+=8*v,A},m.prototype.mapFloat32Array=function(v,C){this._realloc(4*v);var A=new Float32Array(this._buffer,this.byteOffset+this.position,v);return m.arrayToNative(A,null==C?this.endianness:C),this.position+=4*v,A},m.prototype.readInt32Array=function(v,C){v=null==v?this.byteLength-this.position/4:v;var A=new Int32Array(v);return m.memcpy(A.buffer,0,this.buffer,this.byteOffset+this.position,v*A.BYTES_PER_ELEMENT),m.arrayToNative(A,null==C?this.endianness:C),this.position+=A.byteLength,A},m.prototype.readInt16Array=function(v,C){v=null==v?this.byteLength-this.position/2:v;var A=new Int16Array(v);return m.memcpy(A.buffer,0,this.buffer,this.byteOffset+this.position,v*A.BYTES_PER_ELEMENT),m.arrayToNative(A,null==C?this.endianness:C),this.position+=A.byteLength,A},m.prototype.readInt8Array=function(v){v=null==v?this.byteLength-this.position:v;var C=new Int8Array(v);return m.memcpy(C.buffer,0,this.buffer,this.byteOffset+this.position,v*C.BYTES_PER_ELEMENT),this.position+=C.byteLength,C},m.prototype.readUint32Array=function(v,C){v=null==v?this.byteLength-this.position/4:v;var A=new Uint32Array(v);return m.memcpy(A.buffer,0,this.buffer,this.byteOffset+this.position,v*A.BYTES_PER_ELEMENT),m.arrayToNative(A,null==C?this.endianness:C),this.position+=A.byteLength,A},m.prototype.readUint16Array=function(v,C){v=null==v?this.byteLength-this.position/2:v;var A=new Uint16Array(v);return m.memcpy(A.buffer,0,this.buffer,this.byteOffset+this.position,v*A.BYTES_PER_ELEMENT),m.arrayToNative(A,null==C?this.endianness:C),this.position+=A.byteLength,A},m.prototype.readUint8Array=function(v){v=null==v?this.byteLength-this.position:v;var C=new Uint8Array(v);return m.memcpy(C.buffer,0,this.buffer,this.byteOffset+this.position,v*C.BYTES_PER_ELEMENT),this.position+=C.byteLength,C},m.prototype.readFloat64Array=function(v,C){v=null==v?this.byteLength-this.position/8:v;var A=new Float64Array(v);return m.memcpy(A.buffer,0,this.buffer,this.byteOffset+this.position,v*A.BYTES_PER_ELEMENT),m.arrayToNative(A,null==C?this.endianness:C),this.position+=A.byteLength,A},m.prototype.readFloat32Array=function(v,C){v=null==v?this.byteLength-this.position/4:v;var A=new Float32Array(v);return m.memcpy(A.buffer,0,this.buffer,this.byteOffset+this.position,v*A.BYTES_PER_ELEMENT),m.arrayToNative(A,null==C?this.endianness:C),this.position+=A.byteLength,A},m.prototype.writeInt32Array=function(v,C){if(this._realloc(4*v.length),v instanceof Int32Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapInt32Array(v.length,C);else for(var A=0;A<v.length;A++)this.writeInt32(v[A],C)},m.prototype.writeInt16Array=function(v,C){if(this._realloc(2*v.length),v instanceof Int16Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapInt16Array(v.length,C);else for(var A=0;A<v.length;A++)this.writeInt16(v[A],C)},m.prototype.writeInt8Array=function(v){if(this._realloc(1*v.length),v instanceof Int8Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapInt8Array(v.length);else for(var C=0;C<v.length;C++)this.writeInt8(v[C])},m.prototype.writeUint32Array=function(v,C){if(this._realloc(4*v.length),v instanceof Uint32Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapUint32Array(v.length,C);else for(var A=0;A<v.length;A++)this.writeUint32(v[A],C)},m.prototype.writeUint16Array=function(v,C){if(this._realloc(2*v.length),v instanceof Uint16Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapUint16Array(v.length,C);else for(var A=0;A<v.length;A++)this.writeUint16(v[A],C)},m.prototype.writeUint8Array=function(v){if(this._realloc(1*v.length),v instanceof Uint8Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapUint8Array(v.length);else for(var C=0;C<v.length;C++)this.writeUint8(v[C])},m.prototype.writeFloat64Array=function(v,C){if(this._realloc(8*v.length),v instanceof Float64Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapFloat64Array(v.length,C);else for(var A=0;A<v.length;A++)this.writeFloat64(v[A],C)},m.prototype.writeFloat32Array=function(v,C){if(this._realloc(4*v.length),v instanceof Float32Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)m.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapFloat32Array(v.length,C);else for(var A=0;A<v.length;A++)this.writeFloat32(v[A],C)},m.prototype.readInt32=function(v){var C=this._dataView.getInt32(this.position,null==v?this.endianness:v);return this.position+=4,C},m.prototype.readInt16=function(v){var C=this._dataView.getInt16(this.position,null==v?this.endianness:v);return this.position+=2,C},m.prototype.readInt8=function(){var v=this._dataView.getInt8(this.position);return this.position+=1,v},m.prototype.readUint32=function(v){var C=this._dataView.getUint32(this.position,null==v?this.endianness:v);return this.position+=4,C},m.prototype.readUint16=function(v){var C=this._dataView.getUint16(this.position,null==v?this.endianness:v);return this.position+=2,C},m.prototype.readUint8=function(){var v=this._dataView.getUint8(this.position);return this.position+=1,v},m.prototype.readFloat32=function(v){var C=this._dataView.getFloat32(this.position,null==v?this.endianness:v);return this.position+=4,C},m.prototype.readFloat64=function(v){var C=this._dataView.getFloat64(this.position,null==v?this.endianness:v);return this.position+=8,C},m.prototype.writeInt32=function(v,C){this._realloc(4),this._dataView.setInt32(this.position,v,null==C?this.endianness:C),this.position+=4},m.prototype.writeInt16=function(v,C){this._realloc(2),this._dataView.setInt16(this.position,v,null==C?this.endianness:C),this.position+=2},m.prototype.writeInt8=function(v){this._realloc(1),this._dataView.setInt8(this.position,v),this.position+=1},m.prototype.writeUint32=function(v,C){this._realloc(4),this._dataView.setUint32(this.position,v,null==C?this.endianness:C),this.position+=4},m.prototype.writeUint16=function(v,C){this._realloc(2),this._dataView.setUint16(this.position,v,null==C?this.endianness:C),this.position+=2},m.prototype.writeUint8=function(v){this._realloc(1),this._dataView.setUint8(this.position,v),this.position+=1},m.prototype.writeFloat32=function(v,C){this._realloc(4),this._dataView.setFloat32(this.position,v,null==C?this.endianness:C),this.position+=4},m.prototype.writeFloat64=function(v,C){this._realloc(8),this._dataView.setFloat64(this.position,v,null==C?this.endianness:C),this.position+=8},m.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,m.memcpy=function(v,C,A,V,g){var P=new Uint8Array(v,C,g),D=new Uint8Array(A,V,g);P.set(D)},m.arrayToNative=function(v,C){return C==this.endianness?v:this.flipArrayEndianness(v)},m.nativeToEndian=function(v,C){return this.endianness==C?v:this.flipArrayEndianness(v)},m.flipArrayEndianness=function(v){for(var C=new Uint8Array(v.buffer,v.byteOffset,v.byteLength),A=0;A<v.byteLength;A+=v.BYTES_PER_ELEMENT)for(var V=A+v.BYTES_PER_ELEMENT-1,g=A;V>g;V--,g++){var P=C[g];C[g]=C[V],C[V]=P}return v},m.createStringFromArray=function(v){for(var C=[],A=0;A<v.length;A+=32768)C.push(String.fromCharCode.apply(null,v.subarray(A,A+32768)));return C.join("")},m.prototype.failurePosition=0,m.prototype.readStruct=function(v){for(var A,V={},g=this.position,P=0;P<v.length;P+=2){if(null==(A=this.readType(v[P+1],V)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=g,null;V[v[P]]=A}return V},m.prototype.readUCS2String=function(v,C){return m.createStringFromArray(this.readUint16Array(v,C))},m.prototype.writeUCS2String=function(v,C,A){null==A&&(A=v.length);for(var V=0;V<v.length&&V<A;V++)this.writeUint16(v.charCodeAt(V),C);for(;V<A;V++)this.writeUint16(0)},m.prototype.readString=function(v,C){return null==C||"ASCII"==C?m.createStringFromArray(this.mapUint8Array(null==v?this.byteLength-this.position:v)):new TextDecoder(C).decode(this.mapUint8Array(v))},m.prototype.writeString=function(v,C,A){if(null==C||"ASCII"==C)if(null!=A){var V=0,g=Math.min(v.length,A);for(V=0;V<g;V++)this.writeUint8(v.charCodeAt(V));for(;V<A;V++)this.writeUint8(0)}else for(V=0;V<v.length;V++)this.writeUint8(v.charCodeAt(V));else this.writeUint8Array(new TextEncoder(C).encode(v.substring(0,A)))},m.prototype.readCString=function(v){var C=this.byteLength-this.position,A=new Uint8Array(this._buffer,this._byteOffset+this.position),V=C;null!=v&&(V=Math.min(v,C));for(var g=0;g<V&&0!=A[g];g++);var P=m.createStringFromArray(this.mapUint8Array(g));return null!=v?this.position+=V-g:g!=C&&(this.position+=1),P},m.prototype.writeCString=function(v,C){if(null!=C){var A=0,V=Math.min(v.length,C);for(A=0;A<V;A++)this.writeUint8(v.charCodeAt(A));for(;A<C;A++)this.writeUint8(0)}else{for(A=0;A<v.length;A++)this.writeUint8(v.charCodeAt(A));this.writeUint8(0)}},m.prototype.readType=function(v,C){if("function"==typeof v)return v(this,C);if(!("object"!=typeof v||v instanceof Array))return v.get(this,C);if(v instanceof Array&&3!=v.length)return this.readStruct(v,C);var A=null,V=null,g="ASCII",P=this.position;if("string"==typeof v&&/:/.test(v)){var D=v.split(":");v=D[0],V=null!=C[F=D[1]]?parseInt(C[F]):parseInt(D[1])}switch("string"==typeof v&&/,/.test(v)&&(D=v.split(","),v=D[0],g=parseInt(D[1])),v){case"uint8":A=this.readUint8();break;case"int8":A=this.readInt8();break;case"uint16":A=this.readUint16(this.endianness);break;case"int16":A=this.readInt16(this.endianness);break;case"uint32":A=this.readUint32(this.endianness);break;case"int32":A=this.readInt32(this.endianness);break;case"float32":A=this.readFloat32(this.endianness);break;case"float64":A=this.readFloat64(this.endianness);break;case"uint16be":A=this.readUint16(m.BIG_ENDIAN);break;case"int16be":A=this.readInt16(m.BIG_ENDIAN);break;case"uint32be":A=this.readUint32(m.BIG_ENDIAN);break;case"int32be":A=this.readInt32(m.BIG_ENDIAN);break;case"float32be":A=this.readFloat32(m.BIG_ENDIAN);break;case"float64be":A=this.readFloat64(m.BIG_ENDIAN);break;case"uint16le":A=this.readUint16(m.LITTLE_ENDIAN);break;case"int16le":A=this.readInt16(m.LITTLE_ENDIAN);break;case"uint32le":A=this.readUint32(m.LITTLE_ENDIAN);break;case"int32le":A=this.readInt32(m.LITTLE_ENDIAN);break;case"float32le":A=this.readFloat32(m.LITTLE_ENDIAN);break;case"float64le":A=this.readFloat64(m.LITTLE_ENDIAN);break;case"cstring":A=this.readCString(V);break;case"string":A=this.readString(V,g);break;case"u16string":A=this.readUCS2String(V,this.endianness);break;case"u16stringle":A=this.readUCS2String(V,m.LITTLE_ENDIAN);break;case"u16stringbe":A=this.readUCS2String(V,m.BIG_ENDIAN);break;default:if(3==v.length){var F,L=v[1],O=0;if(O="function"==typeof(F=v[2])?F(C,this,v):"string"==typeof F&&null!=C[F]?parseInt(C[F]):parseInt(F),"string"==typeof L){var E=L.replace(/(le|be)$/,""),b=null;switch(/le$/.test(L)?b=m.LITTLE_ENDIAN:/be$/.test(L)&&(b=m.BIG_ENDIAN),"*"==F&&(O=null),E){case"uint8":A=this.readUint8Array(O);break;case"uint16":A=this.readUint16Array(O,b);break;case"uint32":A=this.readUint32Array(O,b);break;case"int8":A=this.readInt8Array(O);break;case"int16":A=this.readInt16Array(O,b);break;case"int32":A=this.readInt32Array(O,b);break;case"float32":A=this.readFloat32Array(O,b);break;case"float64":A=this.readFloat64Array(O,b);break;case"cstring":case"utf16string":case"string":if(null==O)for(A=[];!this.isEof()&&null!=(H=this.readType(L,C));)A.push(H);else{A=new Array(O);for(var w=0;w<O;w++)A[w]=this.readType(L,C)}}}else if("*"==F)for(A=[];;){var S=this.position;try{var M=this.readType(L,C);if(null==M){this.position=S;break}A.push(M)}catch(j){this.position=S;break}}else for(A=new Array(O),w=0;w<O;w++){var H;if(null==(H=this.readType(L,C)))return null;A[w]=H}break}}return null!=V&&(this.position=P+V),A},m.prototype.writeStruct=function(v,C){for(var A=0;A<v.length;A+=2)this.writeType(v[A+1],C[v[A]],C)},m.prototype.writeType=function(v,C,A){if("function"==typeof v)return v(this,C);if("object"==typeof v&&!(v instanceof Array))return v.set(this,C,A);var V=null,g="ASCII",P=this.position;if("string"==typeof v&&/:/.test(v)){var D=v.split(":");v=D[0],V=parseInt(D[1])}switch("string"==typeof v&&/,/.test(v)&&(D=v.split(","),v=D[0],g=parseInt(D[1])),v){case"uint8":this.writeUint8(C);break;case"int8":this.writeInt8(C);break;case"uint16":this.writeUint16(C,this.endianness);break;case"int16":this.writeInt16(C,this.endianness);break;case"uint32":this.writeUint32(C,this.endianness);break;case"int32":this.writeInt32(C,this.endianness);break;case"float32":this.writeFloat32(C,this.endianness);break;case"float64":this.writeFloat64(C,this.endianness);break;case"uint16be":this.writeUint16(C,m.BIG_ENDIAN);break;case"int16be":this.writeInt16(C,m.BIG_ENDIAN);break;case"uint32be":this.writeUint32(C,m.BIG_ENDIAN);break;case"int32be":this.writeInt32(C,m.BIG_ENDIAN);break;case"float32be":this.writeFloat32(C,m.BIG_ENDIAN);break;case"float64be":this.writeFloat64(C,m.BIG_ENDIAN);break;case"uint16le":this.writeUint16(C,m.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(C,m.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(C,m.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(C,m.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(C,m.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(C,m.LITTLE_ENDIAN);break;case"cstring":this.writeCString(C,V);break;case"string":this.writeString(C,g,V);break;case"u16string":this.writeUCS2String(C,this.endianness,V);break;case"u16stringle":this.writeUCS2String(C,m.LITTLE_ENDIAN,V);break;case"u16stringbe":this.writeUCS2String(C,m.BIG_ENDIAN,V);break;default:if(3==v.length){for(var F=v[1],L=0;L<C.length;L++)this.writeType(F,C[L]);break}this.writeStruct(v,C)}null!=V&&(this.position=P,this._realloc(V),this.position=P+V)},void 0===(y=function(){return m}.apply(U,[]))||(N.exports=y),N&&N.exports&&(N.exports=m)},6500:function(){!function(N){"use strict";function U(Te,Ae,Ue){return Ae<=Te&&Te<=Ue}function h(Te,Ae){return Math.floor(Te/Ae)}var y=-1,m=-1;function v(Te){var Ae=0;this.get=function(){return Ae>=Te.length?y:Number(Te[Ae])},this.offset=function(Ue){if((Ae+=Ue)<0)throw new Error("Seeking past start of the buffer");if(Ae>Te.length)throw new Error("Seeking past EOF")},this.match=function(Ue){if(Ue.length>Ae+Te.length)return!1;var je;for(je=0;je<Ue.length;je+=1)if(Number(Te[Ae+je])!==Ue[je])return!1;return!0}}function C(Te){var Ae=0;this.emit=function(Ue){var je,We=y;for(je=0;je<arguments.length;++je)We=Number(arguments[je]),Te[Ae++]=We;return We}}function A(Te){var Ae=0,Ue=function(){for(var je=[],We=0,Je=Te.length;We<Te.length;){var qe=Te.charCodeAt(We);if(U(qe,55296,57343))if(U(qe,56320,57343))je.push(65533);else if(We===Je-1)je.push(65533);else{var pt=Te.charCodeAt(We+1);U(pt,56320,57343)?(We+=1,je.push(65536+((1023&qe)<<10)+(1023&pt))):je.push(65533)}else je.push(qe);We+=1}return je}();this.offset=function(je){if((Ae+=je)<0)throw new Error("Seeking past start of the buffer");if(Ae>Ue.length)throw new Error("Seeking past EOF")},this.get=function(){return Ae>=Ue.length?m:Ue[Ae]}}function V(){var Te="";this.string=function(){return Te},this.emit=function(Ae){Ae<=65535?Te+=String.fromCharCode(Ae):(Ae-=65536,Te+=String.fromCharCode(55296+(Ae>>10&1023)),Te+=String.fromCharCode(56320+(1023&Ae)))}}function g(Te,Ae){if(Te)throw new Error("EncodingError");return Ae||65533}function P(Te){throw new Error("EncodingError")}function D(Te){if(Te=String(Te).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(L,Te))return L[Te];throw new Error("EncodingError: Unknown encoding: "+Te)}var F={},L={};function O(Te,Ae){return(Ae||[])[Te]||null}function E(Te,Ae){var Ue=Ae.indexOf(Te);return-1===Ue?null:Ue}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(Te){Te.encodings.forEach(function(Ae){F[Ae.name]=Ae,Ae.labels.forEach(function(Ue){L[Ue]=Ae})})});var b=N["encoding-indexes"]||{};function w(Te){var Ae=Te.fatal,Ue=0,je=0,We=0,Je=0;this.decode=function(qe){var pt=qe.get();if(pt===y)return 0!==je?g(Ae):m;if(qe.offset(1),0===je){if(U(pt,0,127))return pt;if(U(pt,194,223))je=1,Je=128,Ue=pt-192;else if(U(pt,224,239))je=2,Je=2048,Ue=pt-224;else{if(!U(pt,240,244))return g(Ae);je=3,Je=65536,Ue=pt-240}return Ue*=Math.pow(64,je),null}if(!U(pt,128,191))return Ue=0,je=0,We=0,Je=0,qe.offset(-1),g(Ae);if(We+=1,Ue+=(pt-128)*Math.pow(64,je-We),We!==je)return null;var Bt=Ue,Fn=Je;return Ue=0,je=0,We=0,Je=0,U(Bt,Fn,1114111)&&!U(Bt,55296,57343)?Bt:g(Ae)}}function S(Te){this.encode=function(Ae,Ue){var je,We,Je=Ue.get();if(Je===m)return y;if(Ue.offset(1),U(Je,55296,57343))return P();if(U(Je,0,127))return Ae.emit(Je);U(Je,128,2047)?(je=1,We=192):U(Je,2048,65535)?(je=2,We=224):U(Je,65536,1114111)&&(je=3,We=240);for(var qe=Ae.emit(h(Je,Math.pow(64,je))+We);je>0;){var pt=h(Je,Math.pow(64,je-1));qe=Ae.emit(128+pt%64),je-=1}return qe}}function M(Te,Ae){var Ue=Ae.fatal;this.decode=function(je){var We=je.get();if(We===y)return m;if(je.offset(1),U(We,0,127))return We;var Je=Te[We-128];return null===Je?g(Ue):Je}}function H(Te,Ae){this.encode=function(Ue,je){var We=je.get();if(We===m)return y;if(je.offset(1),U(We,0,127))return Ue.emit(We);var Je=E(We,Te);return null===Je&&P(),Ue.emit(Je+128)}}function j(Te,Ae){var Ue=Ae.fatal,je=0,We=0,Je=0;this.decode=function(qe){var pt,Bt=qe.get();if(Bt===y&&0===je&&0===We&&0===Je)return m;if(Bt!==y||0===je&&0===We&&0===Je||(je=0,We=0,Je=0,g(Ue)),qe.offset(1),0!==Je)return pt=null,U(Bt,48,57)&&(pt=function(ci){if(ci>39419&&ci<189e3||ci>1237575)return null;var ji,Mt=0,Zt=0,Qe=b.gb18030;for(ji=0;ji<Qe.length;++ji){var He=Qe[ji];if(!(He[0]<=ci))break;Mt=He[0],Zt=He[1]}return Zt+ci-Mt}(10*(126*(10*(je-129)+(We-48))+(Je-129))+Bt-48)),je=0,We=0,Je=0,null===pt?(qe.offset(-3),g(Ue)):pt;if(0!==We)return U(Bt,129,254)?(Je=Bt,null):(qe.offset(-2),je=0,We=0,g(Ue));if(0!==je){if(U(Bt,48,57)&&Te)return We=Bt,null;var Fn=je,gi=null;je=0;var Oi=Bt<127?64:65;return(U(Bt,64,126)||U(Bt,128,254))&&(gi=190*(Fn-129)+(Bt-Oi)),pt=null===gi?null:O(gi,b.gbk),null===gi&&qe.offset(-1),null===pt?g(Ue):pt}return U(Bt,0,127)?Bt:128===Bt?8364:U(Bt,129,254)?(je=Bt,null):g(Ue)}}function G(Te,Ae){this.encode=function(Ue,je){var We=je.get();if(We===m)return y;if(je.offset(1),U(We,0,127))return Ue.emit(We);var Je=E(We,b.gbk);if(null!==Je){var qe=h(Je,190)+129,pt=Je%190;return Ue.emit(qe,pt+(pt<63?64:65))}if(null===Je&&!Te)return P();var Fn=h(h(h(Je=function(ji){var Mt,Zt=0,Qe=0,He=b.gb18030;for(Mt=0;Mt<He.length;++Mt){var nt=He[Mt];if(!(nt[1]<=ji))break;Zt=nt[1],Qe=nt[0]}return Qe+ji-Zt}(We),10),126),10),gi=h(h(Je-=10*Fn*126*10,10),126),Oi=h(Je-=10*gi*126,10);return Ue.emit(Fn+129,gi+48,Oi+129,Je-10*Oi+48)}}function X(Te){var Ae=Te.fatal,Ue=!1,je=0;this.decode=function(We){var Je=We.get();if(Je===y&&0===je)return m;if(Je===y&&0!==je)return je=0,g(Ae);if(We.offset(1),126===je)return je=0,123===Je?(Ue=!0,null):125===Je?(Ue=!1,null):126===Je?126:10===Je?null:(We.offset(-1),g(Ae));if(0!==je){var qe=je;je=0;var pt=null;return U(Je,33,126)&&(pt=O(190*(qe-1)+(Je+63),b.gbk)),10===Je&&(Ue=!1),null===pt?g(Ae):pt}return 126===Je?(je=126,null):Ue?U(Je,32,127)?(je=Je,null):(10===Je&&(Ue=!1),g(Ae)):U(Je,0,127)?Je:g(Ae)}}function fe(Te){var Ae=!1;this.encode=function(Ue,je){var We=je.get();if(We===m)return y;if(je.offset(1),U(We,0,127)&&Ae)return je.offset(-1),Ae=!1,Ue.emit(126,125);if(126===We)return Ue.emit(126,126);if(U(We,0,127))return Ue.emit(We);if(!Ae)return je.offset(-1),Ae=!0,Ue.emit(126,123);var Je=E(We,b.gbk);if(null===Je)return P();var qe=h(Je,190)+1,pt=Je%190-63;return U(qe,33,126)&&U(pt,33,126)?Ue.emit(qe,pt):P()}}function Me(Te){var Ae=Te.fatal,Ue=0,je=null;this.decode=function(We){if(null!==je){var Je=je;return je=null,Je}var qe=We.get();if(qe===y&&0===Ue)return m;if(qe===y&&0!==Ue)return Ue=0,g(Ae);if(We.offset(1),0!==Ue){var pt=Ue,Bt=null;Ue=0;var Fn=qe<127?64:98;if((U(qe,64,126)||U(qe,161,254))&&(Bt=157*(pt-129)+(qe-Fn)),1133===Bt)return je=772,202;if(1135===Bt)return je=780,202;if(1164===Bt)return je=772,234;if(1166===Bt)return je=780,234;var gi=null===Bt?null:O(Bt,b.big5);return null===Bt&&We.offset(-1),null===gi?g(Ae):gi}return U(qe,0,127)?qe:U(qe,129,254)?(Ue=qe,null):g(Ae)}}function me(Te){this.encode=function(Ae,Ue){var je=Ue.get();if(je===m)return y;if(Ue.offset(1),U(je,0,127))return Ae.emit(je);var We=E(je,b.big5);if(null===We)return P();var Je=h(We,157)+129,qe=We%157;return Ae.emit(Je,qe+(qe<63?64:98))}}function Q(Te){var Ae=Te.fatal,Ue=0,je=0;this.decode=function(We){var Je,qe,pt=We.get();return pt===y?0===Ue&&0===je?m:(Ue=0,je=0,g(Ae)):(We.offset(1),0!==je?(Je=je,je=0,qe=null,U(Je,161,254)&&U(pt,161,254)&&(qe=O(94*(Je-161)+pt-161,b.jis0212)),U(pt,161,254)||We.offset(-1),null===qe?g(Ae):qe):142===Ue&&U(pt,161,223)?(Ue=0,65377+pt-161):143===Ue&&U(pt,161,254)?(Ue=0,je=pt,null):0!==Ue?(Je=Ue,Ue=0,qe=null,U(Je,161,254)&&U(pt,161,254)&&(qe=O(94*(Je-161)+pt-161,b.jis0208)),U(pt,161,254)||We.offset(-1),null===qe?g(Ae):qe):U(pt,0,127)?pt:142===pt||143===pt||U(pt,161,254)?(Ue=pt,null):g(Ae))}}function z(Te){this.encode=function(Ae,Ue){var je=Ue.get();if(je===m)return y;if(Ue.offset(1),U(je,0,127))return Ae.emit(je);if(165===je)return Ae.emit(92);if(8254===je)return Ae.emit(126);if(U(je,65377,65439))return Ae.emit(142,je-65377+161);var We=E(je,b.jis0208);if(null===We)return P();var Je=h(We,94)+161;return Ae.emit(Je,We%94+161)}}function ne(Te){var Ae=Te.fatal,Ue=0,je=!1,We=0;this.decode=function(Je){var qe=Je.get();switch(qe!==y&&Je.offset(1),Ue){default:case 0:return 27===qe?(Ue=1,null):U(qe,0,127)?qe:qe===y?m:g(Ae);case 1:return 36===qe||40===qe?(We=qe,Ue=2,null):(qe!==y&&Je.offset(-1),Ue=0,g(Ae));case 2:var pt=We;return We=0,36!==pt||64!==qe&&66!==qe?36===pt&&40===qe?(Ue=3,null):40!==pt||66!==qe&&74!==qe?40===pt&&73===qe?(Ue=6,null):(Je.offset(qe===y?-1:-2),Ue=0,g(Ae)):(Ue=0,null):(je=!1,Ue=4,null);case 3:return 68===qe?(je=!0,Ue=4,null):(Je.offset(qe===y?-2:-3),Ue=0,g(Ae));case 4:return 10===qe?(Ue=0,g(Ae,10)):27===qe?(Ue=1,null):qe===y?m:(We=qe,Ue=5,null);case 5:if(Ue=4,qe===y)return g(Ae);var Bt=null,Fn=94*(We-33)+qe-33;return U(We,33,126)&&U(qe,33,126)&&(Bt=O(Fn,!1===je?b.jis0208:b.jis0212)),null===Bt?g(Ae):Bt;case 6:return 27===qe?(Ue=1,null):U(qe,33,95)?65377+qe-33:qe===y?m:g(Ae)}}}function le(Te){var Ae=0;this.encode=function(Ue,je){var We=je.get();if(We===m)return y;if(je.offset(1),(U(We,0,127)||165===We||8254===We)&&0!==Ae)return je.offset(-1),Ae=0,Ue.emit(27,40,66);if(U(We,0,127))return Ue.emit(We);if(165===We)return Ue.emit(92);if(8254===We)return Ue.emit(126);if(U(We,65377,65439)&&2!==Ae)return je.offset(-1),Ae=2,Ue.emit(27,40,73);if(U(We,65377,65439))return Ue.emit(We-65377-33);if(1!==Ae)return je.offset(-1),Ae=1,Ue.emit(27,36,66);var Je=E(We,b.jis0208);if(null===Je)return P();var qe=h(Je,94)+33;return Ue.emit(qe,Je%94+33)}}function re(Te){var Ae=Te.fatal,Ue=0;this.decode=function(je){var We=je.get();if(We===y&&0===Ue)return m;if(We===y&&0!==Ue)return Ue=0,g(Ae);if(je.offset(1),0!==Ue){var Je=Ue;if(Ue=0,U(We,64,126)||U(We,128,252)){var qe=O(188*(Je-(Je<160?129:193))+We-(We<127?64:65),b.jis0208);return null===qe?g(Ae):qe}return je.offset(-1),g(Ae)}return U(We,0,128)?We:U(We,161,223)?65377+We-161:U(We,129,159)||U(We,224,252)?(Ue=We,null):g(Ae)}}function ue(Te){this.encode=function(Ae,Ue){var je=Ue.get();if(je===m)return y;if(Ue.offset(1),U(je,0,128))return Ae.emit(je);if(165===je)return Ae.emit(92);if(8254===je)return Ae.emit(126);if(U(je,65377,65439))return Ae.emit(je-65377+161);var We=E(je,b.jis0208);if(null===We)return P();var Je=h(We,188),pt=We%188;return Ae.emit(Je+(Je<31?129:193),pt+(pt<63?64:65))}}function he(Te){var Ae=Te.fatal,Ue=0;this.decode=function(je){var We=je.get();if(We===y&&0===Ue)return m;if(We===y&&0!==Ue)return Ue=0,g(Ae);if(je.offset(1),0!==Ue){var Je=Ue,qe=null;if(Ue=0,U(Je,129,198)){var pt=178*(Je-129);U(We,65,90)?qe=pt+We-65:U(We,97,122)?qe=pt+26+We-97:U(We,129,254)&&(qe=pt+26+26+We-129)}U(Je,199,253)&&U(We,161,254)&&(qe=12460+94*(Je-199)+(We-161));var Bt=null===qe?null:O(qe,b["euc-kr"]);return null===qe&&je.offset(-1),null===Bt?g(Ae):Bt}return U(We,0,127)?We:U(We,129,253)?(Ue=We,null):g(Ae)}}function pe(Te){this.encode=function(Ae,Ue){var je=Ue.get();if(je===m)return y;if(Ue.offset(1),U(je,0,127))return Ae.emit(je);var We,Je,qe=E(je,b["euc-kr"]);if(null===qe)return P();if(qe<12460){We=h(qe,178)+129;var pt=(Je=qe%178)<26?65:Je<52?71:77;return Ae.emit(We,Je+pt)}return We=h(qe-=12460,94)+199,Ae.emit(We,Je=qe%94+161)}}function ze(Te){var Ae=Te.fatal,Ue=0,je=0;this.decode=function(We){var Je=We.get();switch(Je!==y&&We.offset(1),Ue){default:case 0:return 14===Je?(Ue=4,null):15===Je?null:27===Je?(Ue=1,null):U(Je,0,127)?Je:Je===y?m:g(Ae);case 1:return 36===Je?(Ue=2,null):(Je!==y&&We.offset(-1),Ue=0,g(Ae));case 2:return 41===Je?(Ue=3,null):(We.offset(Je===y?-1:-2),Ue=0,g(Ae));case 3:return 67===Je?(Ue=0,null):(We.offset(Je===y?-2:-3),Ue=0,g(Ae));case 4:return 10===Je?(Ue=0,g(Ae,10)):14===Je?null:15===Je?(Ue=0,null):Je===y?m:(je=Je,Ue=5,null);case 5:if(Ue=4,Je===y)return g(Ae);var qe=null;return U(je,33,70)&&U(Je,33,126)?qe=O(178*(je-1)+26+26+Je-1,b["euc-kr"]):U(je,71,126)&&U(Je,33,126)&&(qe=O(12460+94*(je-71)+(Je-33),b["euc-kr"])),null!==qe?qe:g(Ae)}}}function at(Te){var Ae=!1,Ue=0;this.encode=function(je,We){var Je=We.get();if(Je===m)return y;if(Ae||(Ae=!0,je.emit(27,36,41,67)),We.offset(1),U(Je,0,127)&&0!==Ue)return We.offset(-1),Ue=0,je.emit(15);if(U(Je,0,127))return je.emit(Je);if(1!==Ue)return We.offset(-1),Ue=1,je.emit(14);var qe,pt,Bt=E(Je,b["euc-kr"]);return null===Bt?P():Bt<12460?(pt=Bt%178-26-26+1,U(qe=h(Bt,178)+1,33,70)&&U(pt,33,126)?je.emit(qe,pt):P()):(pt=(Bt-=12460)%94+33,U(qe=h(Bt,94)+71,71,126)&&U(pt,33,126)?je.emit(qe,pt):P())}}function Xe(Te,Ae){var Ue=Ae.fatal,je=null,We=null;this.decode=function(Je){var qe,pt=Je.get();if(pt===y&&null===je&&null===We)return m;if(pt===y&&(null!==je||null!==We))return g(Ue);if(Je.offset(1),null===je)return je=pt,null;if(qe=Te?(je<<8)+pt:(pt<<8)+je,je=null,null!==We){var Bt=We;return We=null,U(qe,56320,57343)?65536+1024*(Bt-55296)+(qe-56320):(Je.offset(-2),g(Ue))}return U(qe,55296,56319)?(We=qe,null):U(qe,56320,57343)?g(Ue):qe}}function Pt(Te,Ae){this.encode=function(Ue,je){function We(pt){var Bt=pt>>8,Fn=255&pt;return Te?Ue.emit(Bt,Fn):Ue.emit(Fn,Bt)}var Je=je.get();if(Je===m)return y;if(je.offset(1),U(Je,55296,57343)&&P(),Je<=65535)return We(Je);var qe=(Je-65536)%1024+56320;return We(h(Je-65536,1024)+55296),We(qe)}}function it(Te,Ae){return this&&this!==N?(Te=Te?String(Te):"utf-8",Ae=Object(Ae),this._encoding=D(Te),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(Ae.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new it(Te,Ae)}function rt(Te,Ae){return this&&this!==N?(Te=Te?String(Te):"utf-8",Ae=Object(Ae),this._encoding=D(Te),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(Ae.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new rt(Te,Ae)}F["utf-8"].getEncoder=function(Te){return new S(Te)},F["utf-8"].getDecoder=function(Te){return new w(Te)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(Te){var Ae=F[Te],Ue=b[Te];Ae.getDecoder=function(je){return new M(Ue,je)},Ae.getEncoder=function(je){return new H(Ue,je)}}),F.gbk.getEncoder=function(Te){return new G(!1,Te)},F.gbk.getDecoder=function(Te){return new j(!1,Te)},F.gb18030.getEncoder=function(Te){return new G(!0,Te)},F.gb18030.getDecoder=function(Te){return new j(!0,Te)},F["hz-gb-2312"].getEncoder=function(Te){return new fe(Te)},F["hz-gb-2312"].getDecoder=function(Te){return new X(Te)},F.big5.getEncoder=function(Te){return new me(Te)},F.big5.getDecoder=function(Te){return new Me(Te)},F["euc-jp"].getEncoder=function(Te){return new z(Te)},F["euc-jp"].getDecoder=function(Te){return new Q(Te)},F["iso-2022-jp"].getEncoder=function(Te){return new le(Te)},F["iso-2022-jp"].getDecoder=function(Te){return new ne(Te)},F.shift_jis.getEncoder=function(Te){return new ue(Te)},F.shift_jis.getDecoder=function(Te){return new re(Te)},F["euc-kr"].getEncoder=function(Te){return new pe(Te)},F["euc-kr"].getDecoder=function(Te){return new he(Te)},F["iso-2022-kr"].getEncoder=function(Te){return new at(Te)},F["iso-2022-kr"].getDecoder=function(Te){return new ze(Te)},F["utf-16"].getEncoder=function(Te){return new Pt(!1,Te)},F["utf-16"].getDecoder=function(Te){return new Xe(!1,Te)},F["utf-16be"].getEncoder=function(Te){return new Pt(!0,Te)},F["utf-16be"].getDecoder=function(Te){return new Xe(!0,Te)},it.prototype={encode:function(Te,Ae){Te=Te?String(Te):"",Ae=Object(Ae),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(Ae.stream);for(var Ue=[],je=new C(Ue),We=new A(Te);We.get()!==m;)this._encoder.encode(je,We);if(!this._streaming){var Je;do{Je=this._encoder.encode(je,We)}while(Je!==y);this._encoder=null}return new Uint8Array(Ue)}},rt.prototype={decode:function(Te,Ae){if(Te&&!("buffer"in Te&&"byteOffset"in Te&&"byteLength"in Te))throw new TypeError("Expected ArrayBufferView");Te||(Te=new Uint8Array(0)),Ae=Object(Ae),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(Ae.stream);var qe,pt,Ue=new v(new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength));if(D((qe=this._encoding.name,(pt=Ue).match([255,254])?(pt.offset(2),"utf-16"):pt.match([254,255])?(pt.offset(2),"utf-16be"):pt.match([239,187,191])?(pt.offset(3),"utf-8"):qe))!==this._encoding)throw new Error("BOM mismatch");for(var We,Je=new V;Ue.get()!==y;)null!==(We=this._decoder.decode(Ue))&&We!==m&&Je.emit(We);if(!this._streaming){do{null!==(We=this._decoder.decode(Ue))&&We!==m&&Je.emit(We)}while(We!==m);this._decoder=null}return Je.string()}},N.TextEncoder=N.TextEncoder||it,N.TextDecoder=N.TextDecoder||rt}(this)},1878:(N,U,h)=>{"use strict";h.d(U,{B:()=>y});var y=function(){this.hexcase=0,this.b64pad=""};y.prototype={},y.prototype.hex_md5=function(m){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(m)))},y.prototype.b64_md5=function(m){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(m)))},y.prototype.any_md5=function(m,v){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(m)),v)},y.prototype.hex_hmac_md5=function(m,v){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(m),this.str2rstr_utf8(v)))},y.prototype.b64_hmac_md5=function(m,v){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(m),this.str2rstr_utf8(v)))},y.prototype.any_hmac_md5=function(m,v,C){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(m),this.str2rstr_utf8(v)),C)},y.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},y.prototype.rstr_md5=function(m){return this.binl2rstr(this.binl_md5(this.rstr2binl(m),8*m.length))},y.prototype.rstr_hmac_md5=function(m,v){var C=this.rstr2binl(m);C.length>16&&(C=this.binl_md5(C,8*m.length));for(var A=Array(16),V=Array(16),g=0;g<16;g++)A[g]=909522486^C[g],V[g]=1549556828^C[g];var P=this.binl_md5(A.concat(this.rstr2binl(v)),512+8*v.length);return this.binl2rstr(this.binl_md5(V.concat(P),640))},y.prototype.rstr2hex=function(m){for(var v,C=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",A="",V=0;V<m.length;V++)v=m.charCodeAt(V),A+=C.charAt(v>>>4&15)+C.charAt(15&v);return A},y.prototype.rstr2b64=function(m){for(var v="",C=m.length,A=0;A<C;A+=3)for(var V=m.charCodeAt(A)<<16|(A+1<C?m.charCodeAt(A+1)<<8:0)|(A+2<C?m.charCodeAt(A+2):0),g=0;g<4;g++)v+=8*A+6*g>8*m.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(V>>>6*(3-g)&63);return v},y.prototype.rstr2any=function(m,v){var C,A,V,g,P,D=v.length,F=Array(Math.ceil(m.length/2));for(C=0;C<F.length;C++)F[C]=m.charCodeAt(2*C)<<8|m.charCodeAt(2*C+1);var L=Math.ceil(8*m.length/(Math.log(v.length)/Math.log(2))),O=Array(L);for(A=0;A<L;A++){for(P=Array(),g=0,C=0;C<F.length;C++)g=(g<<16)+F[C],g-=(V=Math.floor(g/D))*D,(P.length>0||V>0)&&(P[P.length]=V);O[A]=g,F=P}var E="";for(C=O.length-1;C>=0;C--)E+=v.charAt(O[C]);return E},y.prototype.str2rstr_utf8=function(m){for(var v,C,A="",V=-1;++V<m.length;)v=m.charCodeAt(V),C=V+1<m.length?m.charCodeAt(V+1):0,55296<=v&&v<=56319&&56320<=C&&C<=57343&&(v=65536+((1023&v)<<10)+(1023&C),V++),v<=127?A+=String.fromCharCode(v):v<=2047?A+=String.fromCharCode(192|v>>>6&31,128|63&v):v<=65535?A+=String.fromCharCode(224|v>>>12&15,128|v>>>6&63,128|63&v):v<=2097151&&(A+=String.fromCharCode(240|v>>>18&7,128|v>>>12&63,128|v>>>6&63,128|63&v));return A},y.prototype.str2rstr_utf16le=function(m){for(var v="",C=0;C<m.length;C++)v+=String.fromCharCode(255&m.charCodeAt(C),m.charCodeAt(C)>>>8&255);return v},y.prototype.str2rstr_utf16be=function(m){for(var v="",C=0;C<m.length;C++)v+=String.fromCharCode(m.charCodeAt(C)>>>8&255,255&m.charCodeAt(C));return v},y.prototype.rstr2binl=function(m){for(var v=Array(m.length>>2),C=0;C<v.length;C++)v[C]=0;for(C=0;C<8*m.length;C+=8)v[C>>5]|=(255&m.charCodeAt(C/8))<<C%32;return v},y.prototype.binl2rstr=function(m){for(var v="",C=0;C<32*m.length;C+=8)v+=String.fromCharCode(m[C>>5]>>>C%32&255);return v},y.prototype.binl_md5=function(m,v){m[v>>5]|=128<<v%32,m[14+(v+64>>>9<<4)]=v;for(var C=1732584193,A=-271733879,V=-1732584194,g=271733878,P=0;P<m.length;P+=16){var D=C,F=A,L=V,O=g;C=this.md5_ff(C,A,V,g,m[P+0],7,-680876936),g=this.md5_ff(g,C,A,V,m[P+1],12,-389564586),V=this.md5_ff(V,g,C,A,m[P+2],17,606105819),A=this.md5_ff(A,V,g,C,m[P+3],22,-1044525330),C=this.md5_ff(C,A,V,g,m[P+4],7,-176418897),g=this.md5_ff(g,C,A,V,m[P+5],12,1200080426),V=this.md5_ff(V,g,C,A,m[P+6],17,-1473231341),A=this.md5_ff(A,V,g,C,m[P+7],22,-45705983),C=this.md5_ff(C,A,V,g,m[P+8],7,1770035416),g=this.md5_ff(g,C,A,V,m[P+9],12,-1958414417),V=this.md5_ff(V,g,C,A,m[P+10],17,-42063),A=this.md5_ff(A,V,g,C,m[P+11],22,-1990404162),C=this.md5_ff(C,A,V,g,m[P+12],7,1804603682),g=this.md5_ff(g,C,A,V,m[P+13],12,-40341101),V=this.md5_ff(V,g,C,A,m[P+14],17,-1502002290),A=this.md5_ff(A,V,g,C,m[P+15],22,1236535329),C=this.md5_gg(C,A,V,g,m[P+1],5,-165796510),g=this.md5_gg(g,C,A,V,m[P+6],9,-1069501632),V=this.md5_gg(V,g,C,A,m[P+11],14,643717713),A=this.md5_gg(A,V,g,C,m[P+0],20,-373897302),C=this.md5_gg(C,A,V,g,m[P+5],5,-701558691),g=this.md5_gg(g,C,A,V,m[P+10],9,38016083),V=this.md5_gg(V,g,C,A,m[P+15],14,-660478335),A=this.md5_gg(A,V,g,C,m[P+4],20,-405537848),C=this.md5_gg(C,A,V,g,m[P+9],5,568446438),g=this.md5_gg(g,C,A,V,m[P+14],9,-1019803690),V=this.md5_gg(V,g,C,A,m[P+3],14,-187363961),A=this.md5_gg(A,V,g,C,m[P+8],20,1163531501),C=this.md5_gg(C,A,V,g,m[P+13],5,-1444681467),g=this.md5_gg(g,C,A,V,m[P+2],9,-51403784),V=this.md5_gg(V,g,C,A,m[P+7],14,1735328473),A=this.md5_gg(A,V,g,C,m[P+12],20,-1926607734),C=this.md5_hh(C,A,V,g,m[P+5],4,-378558),g=this.md5_hh(g,C,A,V,m[P+8],11,-2022574463),V=this.md5_hh(V,g,C,A,m[P+11],16,1839030562),A=this.md5_hh(A,V,g,C,m[P+14],23,-35309556),C=this.md5_hh(C,A,V,g,m[P+1],4,-1530992060),g=this.md5_hh(g,C,A,V,m[P+4],11,1272893353),V=this.md5_hh(V,g,C,A,m[P+7],16,-155497632),A=this.md5_hh(A,V,g,C,m[P+10],23,-1094730640),C=this.md5_hh(C,A,V,g,m[P+13],4,681279174),g=this.md5_hh(g,C,A,V,m[P+0],11,-358537222),V=this.md5_hh(V,g,C,A,m[P+3],16,-722521979),A=this.md5_hh(A,V,g,C,m[P+6],23,76029189),C=this.md5_hh(C,A,V,g,m[P+9],4,-640364487),g=this.md5_hh(g,C,A,V,m[P+12],11,-421815835),V=this.md5_hh(V,g,C,A,m[P+15],16,530742520),A=this.md5_hh(A,V,g,C,m[P+2],23,-995338651),C=this.md5_ii(C,A,V,g,m[P+0],6,-198630844),g=this.md5_ii(g,C,A,V,m[P+7],10,1126891415),V=this.md5_ii(V,g,C,A,m[P+14],15,-1416354905),A=this.md5_ii(A,V,g,C,m[P+5],21,-57434055),C=this.md5_ii(C,A,V,g,m[P+12],6,1700485571),g=this.md5_ii(g,C,A,V,m[P+3],10,-1894986606),V=this.md5_ii(V,g,C,A,m[P+10],15,-1051523),A=this.md5_ii(A,V,g,C,m[P+1],21,-2054922799),C=this.md5_ii(C,A,V,g,m[P+8],6,1873313359),g=this.md5_ii(g,C,A,V,m[P+15],10,-30611744),V=this.md5_ii(V,g,C,A,m[P+6],15,-1560198380),A=this.md5_ii(A,V,g,C,m[P+13],21,1309151649),C=this.md5_ii(C,A,V,g,m[P+4],6,-145523070),g=this.md5_ii(g,C,A,V,m[P+11],10,-1120210379),V=this.md5_ii(V,g,C,A,m[P+2],15,718787259),A=this.md5_ii(A,V,g,C,m[P+9],21,-343485551),C=this.safe_add(C,D),A=this.safe_add(A,F),V=this.safe_add(V,L),g=this.safe_add(g,O)}return Array(C,A,V,g)},y.prototype.md5_cmn=function(m,v,C,A,V,g){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(v,m),this.safe_add(A,g)),V),C)},y.prototype.md5_ff=function(m,v,C,A,V,g,P){return this.md5_cmn(v&C|~v&A,m,v,V,g,P)},y.prototype.md5_gg=function(m,v,C,A,V,g,P){return this.md5_cmn(v&A|C&~A,m,v,V,g,P)},y.prototype.md5_hh=function(m,v,C,A,V,g,P){return this.md5_cmn(v^C^A,m,v,V,g,P)},y.prototype.md5_ii=function(m,v,C,A,V,g,P){return this.md5_cmn(C^(v|~A),m,v,V,g,P)},y.prototype.safe_add=function(m,v){var C=(65535&m)+(65535&v);return(m>>16)+(v>>16)+(C>>16)<<16|65535&C},y.prototype.bit_rol=function(m,v){return m<<v|m>>>32-v}},6314:function(){(function(){"use strict";function N(Qe){throw Qe}var U=void 0,h=!0,y=this;function m(Qe,He){var nt,Le=Qe.split("."),Re=y;for((!(Le[0]in Re)&&Re.execScript&&Re.execScript("var "+Le[0]));Le.length&&(nt=Le.shift());)Le.length||He===U?Re=Re[nt]?Re[nt]:Re[nt]={}:Re[nt]=He}var v="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function C(Qe,He){this.index="number"==typeof He?He:0,this.i=0,this.buffer=Qe instanceof(v?Uint8Array:Array)?Qe:new(v?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&N(Error("invalid index")),this.buffer.length<=this.index&&this.f()}C.prototype.f=function(){var Qe,He=this.buffer,nt=He.length,Le=new(v?Uint8Array:Array)(nt<<1);if(v)Le.set(He);else for(Qe=0;Qe<nt;++Qe)Le[Qe]=He[Qe];return this.buffer=Le},C.prototype.d=function(Qe,He,nt){var Le,Re=this.buffer,et=this.index,wt=this.i,xt=Re[et];if(nt&&1<He&&(Qe=8<He?(F[255&Qe]<<24|F[Qe>>>8&255]<<16|F[Qe>>>16&255]<<8|F[Qe>>>24&255])>>32-He:F[Qe]>>8-He),8>He+wt)xt=xt<<He|Qe,wt+=He;else for(Le=0;Le<He;++Le)xt=xt<<1|Qe>>He-Le-1&1,8==++wt&&(wt=0,Re[et++]=F[xt],xt=0,et===Re.length&&(Re=this.f()));Re[et]=xt,this.buffer=Re,this.i=wt,this.index=et},C.prototype.finish=function(){var Qe,He=this.buffer,nt=this.index;return 0<this.i&&(He[nt]<<=8-this.i,He[nt]=F[He[nt]],nt++),v?Qe=He.subarray(0,nt):(He.length=nt,Qe=He),Qe};var A,V=new(v?Uint8Array:Array)(256);for(A=0;256>A;++A){for(var g=D=A,P=7,D=D>>>1;D;D>>>=1)g<<=1,g|=1&D,--P;V[A]=(g<<P&255)>>>0}var F=V;function L(Qe){this.buffer=new(v?Uint16Array:Array)(2*Qe),this.length=0}function O(Qe){var He,nt,Le,Re,et,wt,xt,kt,bn,_i,Gi=Qe.length,ln=0,$n=Number.POSITIVE_INFINITY;for(kt=0;kt<Gi;++kt)Qe[kt]>ln&&(ln=Qe[kt]),Qe[kt]<$n&&($n=Qe[kt]);for(He=1<<ln,nt=new(v?Uint32Array:Array)(He),Le=1,Re=0,et=2;Le<=ln;){for(kt=0;kt<Gi;++kt)if(Qe[kt]===Le){for(wt=0,xt=Re,bn=0;bn<Le;++bn)wt=wt<<1|1&xt,xt>>=1;for(_i=Le<<16|kt,bn=wt;bn<He;bn+=et)nt[bn]=_i;++Re}++Le,Re<<=1,et<<=1}return[nt,ln,$n]}function E(Qe,He){this.h=w,this.w=0,this.input=v&&Qe instanceof Array?new Uint8Array(Qe):Qe,this.b=0,He&&(He.lazy&&(this.w=He.lazy),"number"==typeof He.compressionType&&(this.h=He.compressionType),He.outputBuffer&&(this.a=v&&He.outputBuffer instanceof Array?new Uint8Array(He.outputBuffer):He.outputBuffer),"number"==typeof He.outputIndex&&(this.b=He.outputIndex)),this.a||(this.a=new(v?Uint8Array:Array)(32768))}L.prototype.getParent=function(Qe){return 2*((Qe-2)/4|0)},L.prototype.push=function(Qe,He){var nt,Le,Re,et=this.buffer;for(nt=this.length,et[this.length++]=He,et[this.length++]=Qe;0<nt&&(Le=this.getParent(nt),et[nt]>et[Le]);)Re=et[nt],et[nt]=et[Le],et[Le]=Re,Re=et[nt+1],et[nt+1]=et[Le+1],et[Le+1]=Re,nt=Le;return this.length},L.prototype.pop=function(){var Qe,He,nt,Le,Re,et=this.buffer;for(He=et[0],Qe=et[1],this.length-=2,et[0]=et[this.length],et[1]=et[this.length+1],Re=0;!((Le=2*Re+2)>=this.length)&&(Le+2<this.length&&et[Le+2]>et[Le]&&(Le+=2),et[Le]>et[Re]);)nt=et[Re],et[Re]=et[Le],et[Le]=nt,nt=et[Re+1],et[Re+1]=et[Le+1],et[Le+1]=nt,Re=Le;return{index:Qe,value:He,length:this.length}};var b,w=2,S={NONE:0,r:1,k:w,O:3},M=[];for(b=0;288>b;b++)switch(h){case 143>=b:M.push([b+48,8]);break;case 255>=b:M.push([b-144+400,9]);break;case 279>=b:M.push([b-256+0,7]);break;case 287>=b:M.push([b-280+192,8]);break;default:N("invalid literal: "+b)}function H(Qe,He){this.length=Qe,this.H=He}E.prototype.j=function(){var Qe,He,nt,Le,Re=this.input;switch(this.h){case 0:for(nt=0,Le=Re.length;nt<Le;){var wt,xt,kt=He=v?Re.subarray(nt,nt+65535):Re.slice(nt,nt+65535),bn=(nt+=He.length)===Le,_i=U,Gi=U,ln=this.a,$n=this.b;if(v){for(ln=new Uint8Array(this.a.buffer);ln.length<=$n+kt.length+5;)ln=new Uint8Array(ln.length<<1);ln.set(this.a)}if(ln[$n++]=0|(bn?1:0),xt=65536+~(wt=kt.length)&65535,ln[$n++]=255&wt,ln[$n++]=wt>>>8&255,ln[$n++]=255&xt,ln[$n++]=xt>>>8&255,v)ln.set(kt,$n),ln=ln.subarray(0,$n+=kt.length);else{for(_i=0,Gi=kt.length;_i<Gi;++_i)ln[$n++]=kt[_i];ln.length=$n}this.b=$n,this.a=ln}break;case 1:var Dn=new C(v?new Uint8Array(this.a.buffer):this.a,this.b);Dn.d(1,1,h),Dn.d(1,2,h);var sn,An,vo,lo=X(this,Re);for(sn=0,An=lo.length;sn<An;sn++)if(C.prototype.d.apply(Dn,M[vo=lo[sn]]),256<vo)Dn.d(lo[++sn],lo[++sn],h),Dn.d(lo[++sn],5),Dn.d(lo[++sn],lo[++sn],h);else if(256===vo)break;this.a=Dn.finish(),this.b=this.a.length;break;case w:var Di,Zi,Hi,rn,Dr,Oo,qt,Sn,Sr,Ra,eu,jr,Ss,dr,Hu,Rr=new C(v?new Uint8Array(this.a.buffer):this.a,this.b),Bd=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ja=Array(19);for(Di=w,Rr.d(1,1,h),Rr.d(Di,2,h),Zi=X(this,Re),qt=me(Oo=Me(this.M,15)),Sr=me(Sn=Me(this.L,7)),Hi=286;257<Hi&&0===Oo[Hi-1];Hi--);for(rn=30;1<rn&&0===Sn[rn-1];rn--);var Ri,qr,Pi,Ls,Ho,hr,Ht=Hi,Yt=rn,dn=new(v?Uint32Array:Array)(Ht+Yt),mi=new(v?Uint32Array:Array)(316),Cn=new(v?Uint8Array:Array)(19);for(Ri=qr=0;Ri<Ht;Ri++)dn[qr++]=Oo[Ri];for(Ri=0;Ri<Yt;Ri++)dn[qr++]=Sn[Ri];if(!v)for(Ri=0,Ls=Cn.length;Ri<Ls;++Ri)Cn[Ri]=0;for(Ri=Ho=0,Ls=dn.length;Ri<Ls;Ri+=qr){for(qr=1;Ri+qr<Ls&&dn[Ri+qr]===dn[Ri];++qr);if(Pi=qr,0===dn[Ri])if(3>Pi)for(;0<Pi--;)mi[Ho++]=0,Cn[0]++;else for(;0<Pi;)(hr=138>Pi?Pi:138)>Pi-3&&hr<Pi&&(hr=Pi-3),10>=hr?(mi[Ho++]=17,mi[Ho++]=hr-3,Cn[17]++):(mi[Ho++]=18,mi[Ho++]=hr-11,Cn[18]++),Pi-=hr;else if(mi[Ho++]=dn[Ri],Cn[dn[Ri]]++,3>--Pi)for(;0<Pi--;)mi[Ho++]=dn[Ri],Cn[dn[Ri]]++;else for(;0<Pi;)(hr=6>Pi?Pi:6)>Pi-3&&hr<Pi&&(hr=Pi-3),mi[Ho++]=16,mi[Ho++]=hr-3,Cn[16]++,Pi-=hr}for(Qe=v?mi.subarray(0,Ho):mi.slice(0,Ho),Ra=Me(Cn,7),dr=0;19>dr;dr++)Ja[dr]=Ra[Bd[dr]];for(Dr=19;4<Dr&&0===Ja[Dr-1];Dr--);for(eu=me(Ra),Rr.d(Hi-257,5,h),Rr.d(rn-1,5,h),Rr.d(Dr-4,4,h),dr=0;dr<Dr;dr++)Rr.d(Ja[dr],3,h);for(dr=0,Hu=Qe.length;dr<Hu;dr++)if(Rr.d(eu[jr=Qe[dr]],Ra[jr],h),16<=jr){switch(dr++,jr){case 16:Ss=2;break;case 17:Ss=3;break;case 18:Ss=7;break;default:N("invalid code: "+jr)}Rr.d(Qe[dr],Ss,h)}var Jr,fc,En,Ni,Na,Nr,ka,Cr,ui=[qt,Oo],ra=[Sr,Sn];for(Na=ui[0],Nr=ui[1],ka=ra[0],Cr=ra[1],Jr=0,fc=Zi.length;Jr<fc;++Jr)if(Rr.d(Na[En=Zi[Jr]],Nr[En],h),256<En)Rr.d(Zi[++Jr],Zi[++Jr],h),Ni=Zi[++Jr],Rr.d(ka[Ni],Cr[Ni],h),Rr.d(Zi[++Jr],Zi[++Jr],h);else if(256===En)break;this.a=Rr.finish(),this.b=this.a.length;break;default:N("invalid compression type")}return this.a};var j=function(){function Qe(Re){switch(h){case 3===Re:return[257,Re-3,0];case 4===Re:return[258,Re-4,0];case 5===Re:return[259,Re-5,0];case 6===Re:return[260,Re-6,0];case 7===Re:return[261,Re-7,0];case 8===Re:return[262,Re-8,0];case 9===Re:return[263,Re-9,0];case 10===Re:return[264,Re-10,0];case 12>=Re:return[265,Re-11,1];case 14>=Re:return[266,Re-13,1];case 16>=Re:return[267,Re-15,1];case 18>=Re:return[268,Re-17,1];case 22>=Re:return[269,Re-19,2];case 26>=Re:return[270,Re-23,2];case 30>=Re:return[271,Re-27,2];case 34>=Re:return[272,Re-31,2];case 42>=Re:return[273,Re-35,3];case 50>=Re:return[274,Re-43,3];case 58>=Re:return[275,Re-51,3];case 66>=Re:return[276,Re-59,3];case 82>=Re:return[277,Re-67,4];case 98>=Re:return[278,Re-83,4];case 114>=Re:return[279,Re-99,4];case 130>=Re:return[280,Re-115,4];case 162>=Re:return[281,Re-131,5];case 194>=Re:return[282,Re-163,5];case 226>=Re:return[283,Re-195,5];case 257>=Re:return[284,Re-227,5];case 258===Re:return[285,Re-258,0];default:N("invalid length: "+Re)}}var He,nt,Le=[];for(He=3;258>=He;He++)nt=Qe(He),Le[He]=nt[2]<<24|nt[1]<<16|nt[0];return Le}(),G=v?new Uint32Array(j):j;function X(Qe,He){function nt(Di,Zi){var Hi,rn,Dr,Oo,qt=Di.H,Sn=[],Sr=0;switch(Sn[Sr++]=65535&(Hi=G[Di.length]),Sn[Sr++]=Hi>>16&255,Sn[Sr++]=Hi>>24,h){case 1===qt:rn=[0,qt-1,0];break;case 2===qt:rn=[1,qt-2,0];break;case 3===qt:rn=[2,qt-3,0];break;case 4===qt:rn=[3,qt-4,0];break;case 6>=qt:rn=[4,qt-5,1];break;case 8>=qt:rn=[5,qt-7,1];break;case 12>=qt:rn=[6,qt-9,2];break;case 16>=qt:rn=[7,qt-13,2];break;case 24>=qt:rn=[8,qt-17,3];break;case 32>=qt:rn=[9,qt-25,3];break;case 48>=qt:rn=[10,qt-33,4];break;case 64>=qt:rn=[11,qt-49,4];break;case 96>=qt:rn=[12,qt-65,5];break;case 128>=qt:rn=[13,qt-97,5];break;case 192>=qt:rn=[14,qt-129,6];break;case 256>=qt:rn=[15,qt-193,6];break;case 384>=qt:rn=[16,qt-257,7];break;case 512>=qt:rn=[17,qt-385,7];break;case 768>=qt:rn=[18,qt-513,8];break;case 1024>=qt:rn=[19,qt-769,8];break;case 1536>=qt:rn=[20,qt-1025,9];break;case 2048>=qt:rn=[21,qt-1537,9];break;case 3072>=qt:rn=[22,qt-2049,10];break;case 4096>=qt:rn=[23,qt-3073,10];break;case 6144>=qt:rn=[24,qt-4097,11];break;case 8192>=qt:rn=[25,qt-6145,11];break;case 12288>=qt:rn=[26,qt-8193,12];break;case 16384>=qt:rn=[27,qt-12289,12];break;case 24576>=qt:rn=[28,qt-16385,13];break;case 32768>=qt:rn=[29,qt-24577,13];break;default:N("invalid distance")}for(Sn[Sr++]=(Hi=rn)[0],Sn[Sr++]=Hi[1],Sn[Sr++]=Hi[2],Dr=0,Oo=Sn.length;Dr<Oo;++Dr)$n[Dn++]=Sn[Dr];An[Sn[0]]++,vo[Sn[3]]++,sn=Di.length+Zi-1,_i=null}var Le,Re,et,wt,xt,kt,bn,_i,Gi,ln={},$n=v?new Uint16Array(2*He.length):[],Dn=0,sn=0,An=new(v?Uint32Array:Array)(286),vo=new(v?Uint32Array:Array)(30),lo=Qe.w;if(!v){for(et=0;285>=et;)An[et++]=0;for(et=0;29>=et;)vo[et++]=0}for(An[256]=1,Le=0,Re=He.length;Le<Re;++Le){for(et=xt=0,wt=3;et<wt&&Le+et!==Re;++et)xt=xt<<8|He[Le+et];if(ln[xt]===U&&(ln[xt]=[]),kt=ln[xt],!(0<sn--)){for(;0<kt.length&&32768<Le-kt[0];)kt.shift();if(Le+3>=Re){for(_i&&nt(_i,-1),et=0,wt=Re-Le;et<wt;++et)$n[Dn++]=Gi=He[Le+et],++An[Gi];break}0<kt.length?(bn=fe(He,Le,kt),_i?_i.length<bn.length?($n[Dn++]=Gi=He[Le-1],++An[Gi],nt(bn,0)):nt(_i,-1):bn.length<lo?_i=bn:nt(bn,0)):_i?nt(_i,-1):($n[Dn++]=Gi=He[Le],++An[Gi])}kt.push(Le)}return $n[Dn++]=256,An[256]++,Qe.M=An,Qe.L=vo,v?$n.subarray(0,Dn):$n}function fe(Qe,He,nt){var Le,Re,et,wt,xt,kt,bn=0,_i=Qe.length;wt=0,kt=nt.length;e:for(;wt<kt;wt++){if(Le=nt[kt-wt-1],et=3,3<bn){for(xt=bn;3<xt;xt--)if(Qe[Le+xt-1]!==Qe[He+xt-1])continue e;et=bn}for(;258>et&&He+et<_i&&Qe[Le+et]===Qe[He+et];)++et;if(et>bn&&(Re=Le,bn=et),258===et)break}return new H(bn,He-Re)}function Me(Qe,He){var nt,Le,Re,et,wt,xt=Qe.length,kt=new L(572),bn=new(v?Uint8Array:Array)(xt);if(!v)for(et=0;et<xt;et++)bn[et]=0;for(et=0;et<xt;++et)0<Qe[et]&&kt.push(et,Qe[et]);if(nt=Array(kt.length/2),Le=new(v?Uint32Array:Array)(kt.length/2),1===nt.length)return bn[kt.pop().index]=1,bn;for(et=0,wt=kt.length/2;et<wt;++et)nt[et]=kt.pop(),Le[et]=nt[et].value;for(Re=function(_i,Gi,ln){function $n(Sr){var Ra=Dr[Sr][Oo[Sr]];Ra===Gi?($n(Sr+1),$n(Sr+1)):--Hi[Ra],++Oo[Sr]}var Dn,sn,An,vo,lo,Di=new(v?Uint16Array:Array)(ln),Zi=new(v?Uint8Array:Array)(ln),Hi=new(v?Uint8Array:Array)(Gi),rn=Array(ln),Dr=Array(ln),Oo=Array(ln),qt=(1<<ln)-Gi,Sn=1<<ln-1;for(Di[ln-1]=Gi,sn=0;sn<ln;++sn)qt<Sn?Zi[sn]=0:(Zi[sn]=1,qt-=Sn),qt<<=1,Di[ln-2-sn]=(Di[ln-1-sn]/2|0)+Gi;for(Di[0]=Zi[0],rn[0]=Array(Di[0]),Dr[0]=Array(Di[0]),sn=1;sn<ln;++sn)Di[sn]>2*Di[sn-1]+Zi[sn]&&(Di[sn]=2*Di[sn-1]+Zi[sn]),rn[sn]=Array(Di[sn]),Dr[sn]=Array(Di[sn]);for(Dn=0;Dn<Gi;++Dn)Hi[Dn]=ln;for(An=0;An<Di[ln-1];++An)rn[ln-1][An]=_i[An],Dr[ln-1][An]=An;for(Dn=0;Dn<ln;++Dn)Oo[Dn]=0;for(1===Zi[ln-1]&&(--Hi[0],++Oo[ln-1]),sn=ln-2;0<=sn;--sn){for(vo=Dn=0,lo=Oo[sn+1],An=0;An<Di[sn];An++)(vo=rn[sn+1][lo]+rn[sn+1][lo+1])>_i[Dn]?(rn[sn][An]=vo,Dr[sn][An]=Gi,lo+=2):(rn[sn][An]=_i[Dn],Dr[sn][An]=Dn,++Dn);Oo[sn]=0,1===Zi[sn]&&$n(sn)}return Hi}(Le,Le.length,He),et=0,wt=nt.length;et<wt;++et)bn[nt[et].index]=Re[et];return bn}function me(Qe){var He,nt,Le,Re,et=new(v?Uint16Array:Array)(Qe.length),wt=[],xt=[],kt=0;for(He=0,nt=Qe.length;He<nt;He++)wt[Qe[He]]=1+(0|wt[Qe[He]]);for(He=1,nt=16;He<=nt;He++)xt[He]=kt,kt+=0|wt[He],kt<<=1;for(He=0,nt=Qe.length;He<nt;He++)for(kt=xt[Qe[He]],xt[Qe[He]]+=1,Le=et[He]=0,Re=Qe[He];Le<Re;Le++)et[He]=et[He]<<1|1&kt,kt>>>=1;return et}function Q(Qe,He){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=v?new Uint8Array(Qe):Qe,this.s=!1,this.n=ne,this.C=!1,!He&&(He={})||(He.index&&(this.c=He.index),He.bufferSize&&(this.m=He.bufferSize),He.bufferType&&(this.n=He.bufferType),He.resize&&(this.C=He.resize)),this.n){case z:this.b=32768,this.a=new(v?Uint8Array:Array)(32768+this.m+258);break;case ne:this.b=0,this.a=new(v?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:N(Error("invalid inflate mode"))}}var z=0,ne=1,le={F:z,D:ne};Q.prototype.p=function(){for(;!this.s;){var Qe=pt(this,3);switch(1&Qe&&(this.s=h),Qe>>>=1){case 0:var He=this.input,nt=this.c,Le=this.a,Re=this.b,et=He.length,wt=U,xt=Le.length,kt=U;switch(this.e=this.g=0,nt+1>=et&&N(Error("invalid uncompressed block header: LEN")),wt=He[nt++]|He[nt++]<<8,nt+1>=et&&N(Error("invalid uncompressed block header: NLEN")),wt===~(He[nt++]|He[nt++]<<8)&&N(Error("invalid uncompressed block header: length verify")),nt+wt>He.length&&N(Error("input buffer is broken")),this.n){case z:for(;Re+wt>Le.length;){if(wt-=kt=xt-Re,v)Le.set(He.subarray(nt,nt+kt),Re),Re+=kt,nt+=kt;else for(;kt--;)Le[Re++]=He[nt++];this.b=Re,Le=this.f(),Re=this.b}break;case ne:for(;Re+wt>Le.length;)Le=this.f({v:2});break;default:N(Error("invalid inflate mode"))}if(v)Le.set(He.subarray(nt,nt+wt),Re),Re+=wt,nt+=wt;else for(;wt--;)Le[Re++]=He[nt++];this.c=nt,this.b=Re,this.a=Le;break;case 1:this.o(We,qe);break;case 2:Fn(this);break;default:N(Error("unknown BTYPE: "+Qe))}}return this.t()};var re,ue,he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=v?new Uint16Array(he):he,ze=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],at=v?new Uint16Array(ze):ze,Xe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Pt=v?new Uint8Array(Xe):Xe,bt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],it=v?new Uint16Array(bt):bt,rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Te=v?new Uint8Array(rt):rt,Ae=new(v?Uint8Array:Array)(288);for(re=0,ue=Ae.length;re<ue;++re)Ae[re]=143>=re?8:255>=re?9:279>=re?7:8;var Ue,je,We=O(Ae),Je=new(v?Uint8Array:Array)(30);for(Ue=0,je=Je.length;Ue<je;++Ue)Je[Ue]=5;var qe=O(Je);function pt(Qe,He){for(var nt,Le=Qe.g,Re=Qe.e,et=Qe.input,wt=Qe.c,xt=et.length;Re<He;)wt>=xt&&N(Error("input buffer is broken")),Le|=et[wt++]<<Re,Re+=8;return nt=Le&(1<<He)-1,Qe.g=Le>>>He,Qe.e=Re-He,Qe.c=wt,nt}function Bt(Qe,He){for(var nt,Le,Re=Qe.g,et=Qe.e,wt=Qe.input,xt=Qe.c,kt=wt.length,bn=He[0],_i=He[1];et<_i&&!(xt>=kt);)Re|=wt[xt++]<<et,et+=8;return Le=(nt=bn[Re&(1<<_i)-1])>>>16,Qe.g=Re>>Le,Qe.e=et-Le,Qe.c=xt,65535&nt}function Fn(Qe){function He(_i,Gi,ln){var $n,Dn,sn,An=this.z;for(sn=0;sn<_i;)switch($n=Bt(this,Gi),$n){case 16:for(Dn=3+pt(this,2);Dn--;)ln[sn++]=An;break;case 17:for(Dn=3+pt(this,3);Dn--;)ln[sn++]=0;An=0;break;case 18:for(Dn=11+pt(this,7);Dn--;)ln[sn++]=0;An=0;break;default:An=ln[sn++]=$n}return this.z=An,ln}var nt,Le,Re,et,wt=pt(Qe,5)+257,xt=pt(Qe,5)+1,kt=pt(Qe,4)+4,bn=new(v?Uint8Array:Array)(pe.length);for(et=0;et<kt;++et)bn[pe[et]]=pt(Qe,3);if(!v)for(et=kt,kt=bn.length;et<kt;++et)bn[pe[et]]=0;nt=O(bn),Le=new(v?Uint8Array:Array)(wt),Re=new(v?Uint8Array:Array)(xt),Qe.z=0,Qe.o(O(He.call(Qe,wt,nt,Le)),O(He.call(Qe,xt,nt,Re)))}function gi(Qe){if("string"==typeof Qe){var He,nt,Le=Qe.split("");for(He=0,nt=Le.length;He<nt;He++)Le[He]=(255&Le[He].charCodeAt(0))>>>0;Qe=Le}for(var Re,et=1,wt=0,xt=Qe.length,kt=0;0<xt;){xt-=Re=1024<xt?1024:xt;do{wt+=et+=Qe[kt++]}while(--Re);et%=65521,wt%=65521}return(wt<<16|et)>>>0}function Oi(Qe,He){var nt,Le;this.input=Qe,this.c=0,!He&&(He={})||(He.index&&(this.c=He.index),He.verify&&(this.N=He.verify)),nt=Qe[this.c++],Le=Qe[this.c++],(15&nt)===ci?this.method=ci:N(Error("unsupported compression method")),((nt<<8)+Le)%31!=0&&N(Error("invalid fcheck flag:"+((nt<<8)+Le)%31)),32&Le&&N(Error("fdict flag is not supported")),this.B=new Q(Qe,{index:this.c,bufferSize:He.bufferSize,bufferType:He.bufferType,resize:He.resize})}Q.prototype.o=function(Qe,He){var nt=this.a,Le=this.b;this.u=Qe;for(var Re,et,wt,xt,kt=nt.length-258;256!==(Re=Bt(this,Qe));)if(256>Re)Le>=kt&&(this.b=Le,nt=this.f(),Le=this.b),nt[Le++]=Re;else for(xt=at[et=Re-257],0<Pt[et]&&(xt+=pt(this,Pt[et])),Re=Bt(this,He),wt=it[Re],0<Te[Re]&&(wt+=pt(this,Te[Re])),Le>=kt&&(this.b=Le,nt=this.f(),Le=this.b);xt--;)nt[Le]=nt[Le++-wt];for(;8<=this.e;)this.e-=8,this.c--;this.b=Le},Q.prototype.J=function(Qe,He){var nt=this.a,Le=this.b;this.u=Qe;for(var Re,et,wt,xt,kt=nt.length;256!==(Re=Bt(this,Qe));)if(256>Re)Le>=kt&&(kt=(nt=this.f()).length),nt[Le++]=Re;else for(xt=at[et=Re-257],0<Pt[et]&&(xt+=pt(this,Pt[et])),Re=Bt(this,He),wt=it[Re],0<Te[Re]&&(wt+=pt(this,Te[Re])),Le+xt>kt&&(kt=(nt=this.f()).length);xt--;)nt[Le]=nt[Le++-wt];for(;8<=this.e;)this.e-=8,this.c--;this.b=Le},Q.prototype.f=function(){var Qe,He,nt=new(v?Uint8Array:Array)(this.b-32768),Le=this.b-32768,Re=this.a;if(v)nt.set(Re.subarray(32768,nt.length));else for(Qe=0,He=nt.length;Qe<He;++Qe)nt[Qe]=Re[Qe+32768];if(this.l.push(nt),this.q+=nt.length,v)Re.set(Re.subarray(Le,Le+32768));else for(Qe=0;32768>Qe;++Qe)Re[Qe]=Re[Le+Qe];return this.b=32768,Re},Q.prototype.K=function(Qe){var He,nt,Le,Re=this.input.length/this.c+1|0,wt=this.a;return Qe&&("number"==typeof Qe.v&&(Re=Qe.v),"number"==typeof Qe.G&&(Re+=Qe.G)),nt=2>Re?(Le=(this.input.length-this.c)/this.u[2]/2*258|0)<wt.length?wt.length+Le:wt.length<<1:wt.length*Re,v?(He=new Uint8Array(nt)).set(wt):He=wt,this.a=He},Q.prototype.t=function(){var Qe,He,nt,Le,Re,et=0,wt=this.a,xt=this.l,kt=new(v?Uint8Array:Array)(this.q+(this.b-32768));if(0===xt.length)return v?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(He=0,nt=xt.length;He<nt;++He)for(Le=0,Re=(Qe=xt[He]).length;Le<Re;++Le)kt[et++]=Qe[Le];for(He=32768,nt=this.b;He<nt;++He)kt[et++]=wt[He];return this.l=[],this.buffer=kt},Q.prototype.I=function(){var Qe,He=this.b;return v?this.C?(Qe=new Uint8Array(He)).set(this.a.subarray(0,He)):Qe=this.a.subarray(0,He):(this.a.length>He&&(this.a.length=He),Qe=this.a),this.buffer=Qe},Oi.prototype.p=function(){var Qe,He=this.input;return Qe=this.B.p(),this.c=this.B.c,this.N&&(He[this.c++]<<24|He[this.c++]<<16|He[this.c++]<<8|He[this.c++])>>>0!==gi(Qe)&&N(Error("invalid adler-32 checksum")),Qe};var ci=8;function ji(Qe,He){this.input=Qe,this.a=new(v?Uint8Array:Array)(32768),this.h=Mt.k;var nt,Le={};for(nt in!He&&(He={})||"number"!=typeof He.compressionType||(this.h=He.compressionType),He)Le[nt]=He[nt];Le.outputBuffer=this.a,this.A=new E(this.input,Le)}var Mt=S;function Zt(Qe,He){var nt,Le,Re,et;if(Object.keys)nt=Object.keys(He);else for(Le in nt=[],Re=0,He)nt[Re++]=Le;for(Re=0,et=nt.length;Re<et;++Re)m(Qe+"."+(Le=nt[Re]),He[Le])}ji.prototype.j=function(){var Qe,He,nt,Le,Re,et,wt,xt=0;if(wt=this.a,(Qe=ci)===ci?He=Math.LOG2E*Math.log(32768)-8:N(Error("invalid compression method")),wt[xt++]=nt=He<<4|Qe,Qe===ci)switch(this.h){case Mt.NONE:Re=0;break;case Mt.r:Re=1;break;case Mt.k:Re=2;break;default:N(Error("unsupported compression type"))}else N(Error("invalid compression method"));return wt[xt++]=(Le=Re<<6)|31-(256*nt+Le)%31,et=gi(this.input),this.A.b=xt,xt=(wt=this.A.j()).length,v&&((wt=new Uint8Array(wt.buffer)).length<=xt+4&&(this.a=new Uint8Array(wt.length+4),this.a.set(wt),wt=this.a),wt=wt.subarray(0,xt+4)),wt[xt++]=et>>24&255,wt[xt++]=et>>16&255,wt[xt++]=et>>8&255,wt[xt++]=255&et,wt},m("Zlib.Inflate",Oi),m("Zlib.Inflate.prototype.decompress",Oi.prototype.p),Zt("Zlib.Inflate.BufferType",{ADAPTIVE:le.D,BLOCK:le.F}),m("Zlib.Deflate",ji),m("Zlib.Deflate.compress",function(Qe,He){return new ji(Qe,He).j()}),m("Zlib.Deflate.prototype.compress",ji.prototype.j),Zt("Zlib.Deflate.CompressionType",{NONE:Mt.NONE,FIXED:Mt.r,DYNAMIC:Mt.k})}).call(this)},607:(N,U,h)=>{"use strict";h.d(U,{R:()=>Ci});var y=h(1344),m=h(139),v=h(4878),C=h(1142),A=h(3020),V=h(5116),g=h(6895);function P(Fe){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se})(Fe)}function D(Fe,Se){(null==Se||Se>Fe.length)&&(Se=Fe.length);for(var de=0,be=Array(Se);de<Se;de++)be[de]=Fe[de];return be}function F(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,L(be.key),be)}}function L(Fe){var Se=function(de){if("object"!=P(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=P(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==P(Se)?Se:Se+""}var O=function(){function Fe(ce){(function(Ie,Oe){if(!(Ie instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,Fe),this._id=ce,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return Se=Fe,be=[{key:"fromSFSArray",value:function(ce){var Ie=new Fe(ce.get(0)),Oe=ce.get(1);if(null!=Oe)for(var ct=0;ct<Oe.size();ct++)Ie._setVariable(g.l.fromSFSArray(Oe.get(ct)));return Ie}}],(de=[{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"toString",value:function(){return"[Item: ".concat(this.id,"]")}},{key:"getVariable",value:function(ce){return this._variables.get(ce)}},{key:"containsVariable",value:function(ce){return this._variables.has(ce)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(ce){var Ie,Oe=function(tt,jt){var Vt="undefined"!=typeof Symbol&&tt[Symbol.iterator]||tt["@@iterator"];if(!Vt){if(Array.isArray(tt)||(Vt=function(Qi,yv){if(Qi){if("string"==typeof Qi)return D(Qi,void 0);var Po={}.toString.call(Qi).slice(8,-1);return"Object"===Po&&Qi.constructor&&(Po=Qi.constructor.name),"Map"===Po||"Set"===Po?Array.from(Qi):"Arguments"===Po||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Po)?D(Qi,void 0):void 0}}(tt))){Vt&&(tt=Vt);var Mn=0,yo=function(){};return{s:yo,n:function(){return Mn>=tt.length?{done:!0}:{done:!1,value:tt[Mn++]}},e:function(Qi){throw Qi},f:yo}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var kr,ti=!0,Vu=!1;return{s:function(){Vt=Vt.call(tt)},n:function(){var Qi=Vt.next();return ti=Qi.done,Qi},e:function(Qi){Vu=!0,kr=Qi},f:function(){try{ti||null==Vt.return||Vt.return()}finally{if(Vu)throw kr}}}}(ce);try{for(Oe.s();!(Ie=Oe.n()).done;)this._setVariable(Ie.value)}catch(tt){Oe.e(tt)}finally{Oe.f()}}},{key:"_setVariable",value:function(ce){ce.isNull?this._variables.delete(ce.name):this._variables.set(ce.name,ce)}}])&&F(Se.prototype,de),be&&F(Se,be),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,de,be}(),E=h(9523),b=h(249),w=h(8779),S=h(31),M=h(3054),H=h(1470),j=h(3646),G=h(6249),X=h(5272),fe=h(8420),Me=h(9023),me=h(8044),Q=h(8508),z=h(1716),ne=h(3667),le=h(1115),re=h(3629),ue=h(5630),he=h(9466),pe=h(6418),ze=h(350),at=h(3746),Xe=h(2939);function Pt(Fe){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se})(Fe)}function it(Fe){var Se=function(de){if("object"!=Pt(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Pt(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Pt(Se)?Se:Se+""}var Fe,Se,rt=(Fe=function de(){!function(be,ce){if(!(be instanceof ce))throw new TypeError("Cannot call a class as a function")}(this,de)},(Se=[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}])&&function bt(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,it(be.key),be)}}(Fe,Se),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe),Te=h(5925),Ae=h(3996),Ue=h(6613),je=h(1442),We=h(3015),Je=h(8645),qe=h(6051);function pt(Fe){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},pt(Fe)}function Bt(Fe,Se){var de="undefined"!=typeof Symbol&&Fe[Symbol.iterator]||Fe["@@iterator"];if(!de){if(Array.isArray(Fe)||(de=function(tt,jt){if(tt){if("string"==typeof tt)return Fn(tt,void 0);var Vt={}.toString.call(tt).slice(8,-1);return"Object"===Vt&&tt.constructor&&(Vt=tt.constructor.name),"Map"===Vt||"Set"===Vt?Array.from(tt):"Arguments"===Vt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Vt)?Fn(tt,void 0):void 0}}(Fe))||Se&&Fe&&"number"==typeof Fe.length){de&&(Fe=de);var be=0,ce=function(){};return{s:ce,n:function(){return be>=Fe.length?{done:!0}:{done:!1,value:Fe[be++]}},e:function(tt){throw tt},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,Oe=!0,ct=!1;return{s:function(){de=de.call(Fe)},n:function(){var tt=de.next();return Oe=tt.done,tt},e:function(tt){ct=!0,Ie=tt},f:function(){try{Oe||null==de.return||de.return()}finally{if(ct)throw Ie}}}}function Fn(Fe,Se){(null==Se||Se>Fe.length)&&(Se=Fe.length);for(var de=0,be=Array(Se);de<Se;de++)be[de]=Fe[de];return be}function gi(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Oi(be.key),be)}}function Oi(Fe){var Se=function(de){if("object"!=pt(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=pt(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==pt(Se)?Se:Se+""}h(7567),h(1379);var ci=function(){function Fe(ce){(function(Ie,Oe){if(!(Ie instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,Fe),this._sfs=ce,this._logger=ce.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return Se=Fe,de=[{key:"id",get:function(){return this._id}},{key:"handleMessage",value:function(ce,Ie){var Oe=this._messageHandlers.get(Ie);null!=Oe?(this._sfs.debug&&this._logger.info("Handling server event: ".concat(Oe.name," (").concat(Ie,")")),Oe.handler.call(this,ce)):this._logger.warn("Unknown server event received; id: ".concat(Ie))}},{key:"_initMessageHandlers",value:function(){this._setHandler(y.lv.Handshake,this._fnHandshake),this._setHandler(y.lv.Login,this._fnLogin),this._setHandler(y.lv.Logout,this._fnLogout),this._setHandler(y.lv.JoinRoom,this._fnJoinRoom),this._setHandler(y.lv.CreateRoom,this._fnCreateRoom),this._setHandler(y.lv.ChangeRoomName,this._fnChangeRoomName),this._setHandler(y.lv.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(y.lv.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(y.lv.GenericMessage,this._fnGenericMessage),this._setHandler(y.lv.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(y.lv.SetUserVariables,this._fnSetUserVariables),this._setHandler(y.lv.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(y.lv.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(y.lv.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(y.lv.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(y.lv.FindRooms,this._fnFindRooms),this._setHandler(y.lv.FindUsers,this._fnFindUsers),this._setHandler(y.lv.PingPong,this._fnPingPong),this._setHandler(y.lv.InitBuddyList,this._fnInitBuddyList),this._setHandler(y.lv.AddBuddy,this._fnAddBuddy),this._setHandler(y.lv.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(y.lv.BlockBuddy,this._fnBlockBuddy),this._setHandler(y.lv.GoOnline,this._fnGoOnline),this._setHandler(y.lv.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(y.lv.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(y.lv.InviteUsers,this._fnInviteUsers),this._setHandler(y.lv.InvitationReply,this._fnInvitationReply),this._setHandler(y.lv.SetUserPosition,this._fnSetUserPosition),this._setHandler(y.lv.GameServerConnectionRequired,this._fnGameServerConnectionRequired),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables"),this._setHandler(1600,this._fnLoadBalancerError,"LoadBalancerError")}},{key:"_setHandler",value:function(ce,Ie){var Oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==Oe&&(Oe=y.lv.getNameFromId(ce)),this._messageHandlers.set(ce,{name:Oe,handler:Ie})}},{key:"_fnHandshake",value:function(ce){this._sfs._handleHandShake(ce)}},{key:"_fnLogin",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){this._populateRoomList(ce.get(j.J.KEY_ROOMLIST)),this._sfs._mySelf=new V.e(ce.get(j.J.KEY_ID),ce.get(j.J.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=ce.get(j.J.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var Ie=ce.get(j.J.KEY_PARAMS);if(null!=Ie){var Oe=Ie.getUtfString("_sid");null!=Oe&&(this._sfs._nodeId=Oe)}var ct={};ct.zone=ce.get(j.J.KEY_ZONE_NAME),ct.user=this._sfs.mySelf,ct.data=ce.get(j.J.KEY_PARAMS),this._sfs.dispatchEvent(m.PY.LOGIN,ct)}else this._dispatchError(m.PY.LOGIN_ERROR,ce)}},{key:"_fnLogout",value:function(ce){this._sfs._handleLogout();var Ie={};Ie.zone=ce.get(G.y.KEY_ZONE_NAME),this._sfs.dispatchEvent(m.PY.LOGOUT,Ie)}},{key:"_fnJoinRoom",value:function(ce){if(this._sfs._isJoining=!1,null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(X.f.KEY_ROOM),Oe=ce.get(X.f.KEY_USER_LIST),ct=this._sfs.roomManager,tt=A.O.fromSFSArray(Ie);tt=ct._replaceRoom(tt,ct.containsGroup(tt.groupId));for(var jt=0;jt<Oe.size();jt++){var Vt=Oe.get(jt),Mn=this._getOrCreateUser(Vt,!0,tt);tt._addUser(Mn)}tt._isJoined=!0,this._sfs._lastJoinedRoom=tt;var yo={};yo.room=tt,this._sfs.dispatchEvent(m.PY.ROOM_JOIN,yo)}else this._dispatchError(m.PY.ROOM_JOIN_ERROR,ce)}},{key:"_fnCreateRoom",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=A.O.fromSFSArray(ce.get(fe.l.KEY_ROOM));this._sfs.roomManager._addRoom(Ie);var Oe={};Oe.room=Ie,this._sfs.dispatchEvent(m.PY.ROOM_ADD,Oe)}else this._dispatchError(m.PY.ROOM_CREATION_ERROR,ce)}},{key:"_fnChangeRoomName",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(Me.W.KEY_ROOM),Oe=this._sfs.roomManager.getRoomById(Ie);if(null!=Oe){var ct=Oe.name;this._sfs.roomManager._changeRoomName(Oe,ce.get(Me.W.KEY_NAME));var tt={};tt.oldName=ct,tt.room=Oe,this._sfs.dispatchEvent(m.PY.ROOM_NAME_CHANGE,tt)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+Ie)}else this._dispatchError(m.PY.ROOM_NAME_CHANGE_ERROR,ce)}},{key:"_fnChangeRoomPassword",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(me.N.KEY_ROOM),Oe=this._sfs.roomManager.getRoomById(Ie);if(null!=Oe){this._sfs.roomManager._changeRoomPasswordState(Oe,ce.get(me.N.KEY_PASS));var ct={};ct.room=Oe,this._sfs.dispatchEvent(m.PY.ROOM_PASSWORD_STATE_CHANGE,ct)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+Ie)}else this._dispatchError(m.PY.ROOM_PASSWORD_STATE_CHANGE_ERROR,ce)}},{key:"_fnChangeRoomCapacity",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(Q.j.KEY_ROOM),Oe=this._sfs.roomManager.getRoomById(Ie);if(null!=Oe){this._sfs.roomManager._changeRoomCapacity(Oe,ce.get(Q.j.KEY_USER_SIZE),ce.get(Q.j.KEY_SPEC_SIZE));var ct={};ct.room=Oe,this._sfs.dispatchEvent(m.PY.ROOM_CAPACITY_CHANGE,ct)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+Ie)}else this._dispatchError(m.PY.ROOM_CAPACITY_CHANGE_ERROR,ce)}},{key:"_fnGenericMessage",value:function(ce){switch(ce.get(z.qd.KEY_MESSAGE_TYPE)){case z.XF.PUBLIC_MSG:this._handlePublicMessage(ce);break;case z.XF.PRIVATE_MSG:this._handlePrivateMessage(ce);break;case z.XF.BUDDY_MSG:this._handleBuddyMessage(ce);break;case z.XF.MODERATOR_MSG:this._handleModMessage(ce);break;case z.XF.ADMING_MSG:this._handleAdminMessage(ce);break;case z.XF.OBJECT_MSG:this._handleObjectMessage(ce)}}},{key:"_handlePublicMessage",value:function(ce){var Ie=ce.get(z.qd.KEY_ROOM_ID),Oe=this._sfs.roomManager.getRoomById(Ie);if(null!=Oe){var ct={};ct.room=Oe,ct.sender=this._sfs.userManager.getUserById(ce.get(z.qd.KEY_USER_ID)),ct.message=ce.get(z.qd.KEY_MESSAGE),ct.data=ce.get(z.qd.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(m.PY.PUBLIC_MESSAGE,ct)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+Ie)}},{key:"_handlePrivateMessage",value:function(ce){var Ie=ce.get(z.qd.KEY_USER_ID),Oe=this._sfs.userManager.getUserById(Ie);if(null==Oe){if(null==ce.get(z.qd.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");Oe=V.e.fromSFSArray(ce.get(z.qd.KEY_SENDER_DATA))}var ct={};ct.sender=Oe,ct.message=ce.get(z.qd.KEY_MESSAGE),ct.data=ce.get(z.qd.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(m.PY.PRIVATE_MESSAGE,ct)}},{key:"_handleBuddyMessage",value:function(ce){var Ie=ce.get(z.qd.KEY_USER_ID),Oe=this._sfs.buddyManager.getBuddyById(Ie),ct={};ct.isItMe=this._sfs.mySelf.id===Ie,ct.buddy=Oe,ct.message=ce.get(z.qd.KEY_MESSAGE),ct.data=ce.get(z.qd.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(m.Xh.BUDDY_MESSAGE,ct)}},{key:"_handleObjectMessage",value:function(ce){var Ie={};Ie.sender=this._sfs.userManager.getUserById(ce.get(z.qd.KEY_USER_ID)),Ie.message=ce.get(z.qd.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(m.PY.OBJECT_MESSAGE,Ie)}},{key:"_handleModMessage",value:function(ce){var Ie={};Ie.sender=V.e.fromSFSArray(ce.get(z.qd.KEY_SENDER_DATA)),Ie.message=ce.get(z.qd.KEY_MESSAGE),Ie.data=ce.get(z.qd.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(m.PY.MODERATOR_MESSAGE,Ie)}},{key:"_handleAdminMessage",value:function(ce){var Ie={};Ie.sender=V.e.fromSFSArray(ce.get(z.qd.KEY_SENDER_DATA)),Ie.message=ce.get(z.qd.KEY_MESSAGE),Ie.data=ce.get(z.qd.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(m.PY.ADMIN_MESSAGE,Ie)}},{key:"_fnSetRoomVariables",value:function(ce){var Ie=ce.get(ne.m.KEY_VAR_ROOM),Oe=ce.get(ne.m.KEY_VAR_LIST),ct=this._sfs.roomManager.getRoomById(Ie),tt=new Set;if(null!=ct){for(var jt=0;jt<Oe.size();jt++){var Vt=S.A.fromSFSArray(Oe.get(jt));ct._setVariable(Vt),tt.add(Vt.name)}var Mn={};Mn.changedVars=Array.from(tt),Mn.room=ct,this._sfs.dispatchEvent(m.PY.ROOM_VARIABLES_UPDATE,Mn)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+Ie)}},{key:"_fnSetUserVariables",value:function(ce){var Ie=ce.get(le.m.KEY_USER),Oe=ce.get(le.m.KEY_VAR_LIST),ct=this._sfs.userManager.getUserById(Ie),tt=new Set;if(null!=ct){for(var jt=0;jt<Oe.size();jt++){var Vt=w.I.fromSFSArray(Oe.get(jt));ct._setVariable(Vt),tt.add(Vt.name)}var Mn={};Mn.changedVars=Array.from(tt),Mn.user=ct,this._sfs.dispatchEvent(m.PY.USER_VARIABLES_UPDATE,Mn)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+Ie)}},{key:"_fnSubscribeRoomGroup",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(re.M.KEY_GROUP_ID),Oe=ce.get(re.M.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(Ie)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+Ie),this._sfs.roomManager._addGroup(Ie),this._populateRoomList(Oe);var ct={};ct.groupId=Ie,ct.newRooms=this._sfs.roomManager.getRoomListFromGroup(Ie),this._sfs.dispatchEvent(m.PY.ROOM_GROUP_SUBSCRIBE,ct)}else this._dispatchError(m.PY.ROOM_GROUP_SUBSCRIBE_ERROR,ce)}},{key:"_fnUnsubscribeRoomGroup",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(ue.t.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(Ie)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+Ie+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(Ie);var Oe={};Oe.groupId=Ie,this._sfs.dispatchEvent(m.PY.ROOM_GROUP_UNSUBSCRIBE,Oe)}else this._dispatchError(m.PY.ROOM_GROUP_UNSUBSCRIBE_ERROR,ce)}},{key:"_fnSpectatorToPlayer",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(he.h.KEY_ROOM_ID),Oe=ce.get(he.h.KEY_USER_ID),ct=ce.get(he.h.KEY_PLAYER_ID),tt=this._sfs.userManager.getUserById(Oe),jt=this._sfs.roomManager.getRoomById(Ie);if(null!=jt)if(null!=tt)if(tt.isJoinedInRoom(jt)){tt._setPlayerId(ct,jt);var Vt={};Vt.room=jt,Vt.user=tt,Vt.playerId=ct,this._sfs.dispatchEvent(m.PY.SPECTATOR_TO_PLAYER,Vt)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+tt+" not in Room "+jt);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+Oe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Ie)}else this._dispatchError(m.PY.SPECTATOR_TO_PLAYER_ERROR,ce)}},{key:"_fnPlayerToSpectator",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(pe.f.KEY_ROOM_ID),Oe=ce.get(pe.f.KEY_USER_ID),ct=this._sfs.userManager.getUserById(Oe),tt=this._sfs.roomManager.getRoomById(Ie);if(null!=tt)if(null!=ct)if(ct.isJoinedInRoom(tt)){ct._setPlayerId(-1,tt);var jt={};jt.room=tt,jt.user=ct,this._sfs.dispatchEvent(m.PY.PLAYER_TO_SPECTATOR,jt)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+ct+" not in Room "+tt);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+Oe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Ie)}else this._dispatchError(m.PY.PLAYER_TO_SPECTATOR_ERROR,ce)}},{key:"_fnPingPong",value:function(ce){var Ie={};Ie.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(m.PY.PING_PONG,Ie)}},{key:"_fnFindRooms",value:function(ce){for(var Ie=ce.get(ze.x.KEY_FILTERED_ROOMS),Oe=[],ct=0;ct<Ie.size();ct++){var tt=Ie.get(ct),jt=A.O.fromSFSArray(tt),Vt=this._sfs.roomManager.getRoomById(jt.id);null!=Vt&&(jt._isJoined=Vt._isJoined),Oe.push(jt)}var Mn={};Mn.rooms=Oe,this._sfs.dispatchEvent(m.PY.ROOM_FIND_RESULT,Mn)}},{key:"_fnFindUsers",value:function(ce){for(var Ie=ce.get(at.r.KEY_FILTERED_USERS),Oe=[],ct=this._sfs.mySelf,tt=0;tt<Ie.size();tt++){var jt=Ie.get(tt),Vt=V.e.fromSFSArray(jt);Vt.id===ct.id&&(Vt=ct),Oe.push(Vt)}var Mn={};Mn.users=Oe,this._sfs.dispatchEvent(m.PY.USER_FIND_RESULT,Mn)}},{key:"_fnQuickJoinGame",value:function(ce){null!=ce.get(Fe.KEY_ERROR_CODE)&&this._dispatchError(m.PY.ROOM_JOIN_ERROR,ce)}},{key:"_fnInviteUsers",value:function(ce){var Ie;Ie=null!=ce.get(Xe.d.KEY_USER_ID)?this._sfs.userManager.getUserById(ce.get(Xe.d.KEY_USER_ID)):V.e.fromSFSArray(ce.get(Xe.d.KEY_USER));var Oe=ce.get(Xe.d.KEY_TIME),ct=ce.get(Xe.d.KEY_INVITATION_ID),tt=ce.get(Xe.d.KEY_PARAMS),jt=new b.q(Ie,this._sfs.mySelf,Oe,tt);jt._id=ct;var Vt={};Vt.invitation=jt,this._sfs.dispatchEvent(m.PY.INVITATION,Vt)}},{key:"_fnInvitationReply",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie;Ie=null!=ce.get(Xe.d.KEY_USER_ID)?this._sfs.userManager.getUserById(ce.get(Xe.d.KEY_USER_ID)):V.e.fromSFSArray(ce.get(Xe.d.KEY_USER));var Oe=ce.get(Xe.d.KEY_REPLY_ID),ct=ce.get(Xe.d.KEY_PARAMS),tt={};tt.invitee=Ie,tt.reply=Oe,tt.data=ct,this._sfs.dispatchEvent(m.PY.INVITATION_REPLY,tt)}else this._dispatchError(m.PY.INVITATION_REPLY_ERROR,ce)}},{key:"_fnSetUserPosition",value:function(ce){var Ie=ce.get(Te.c.KEY_ROOM),Oe=this._sfs.roomManager.getRoomById(Ie),ct=ce.get(Te.c.KEY_MINUS_USER_LIST),tt=ce.get(Te.c.KEY_PLUS_USER_LIST),jt=ce.get(Te.c.KEY_MINUS_ITEM_LIST),Vt=ce.get(Te.c.KEY_PLUS_ITEM_LIST),Mn=[],yo=[],kr=[],ti=[];if(null!=ct){var Vu,Qi=Bt(ct);try{for(Qi.s();!(Vu=Qi.n()).done;){var Po=Oe.getUserById(Vu.value);null!=Po&&(Oe._removeUser(Po),yo.push(Po))}}catch(It){Qi.e(It)}finally{Qi.f()}}if(null!=tt)for(var Yb=0;Yb<tt.size();Yb++){var zw=tt.get(Yb),$b=this._getOrCreateUser(zw,!0,Oe);Mn.push($b),Oe._addUser($b);var Ww=zw.get(5);null!=Ww&&($b._aoiEntryPoint=C.ed.fromArray(Ww))}if(null!=jt){var Xb,bv=Bt(jt);try{for(bv.s();!(Xb=bv.n()).done;){var Kb=Oe.getMMOItem(Xb.value);null!=Kb&&(Oe._removeItem(Kb.id),ti.push(Kb))}}catch(It){bv.e(It)}finally{bv.f()}}if(null!=Vt)for(var Cs=0;Cs<Vt.size();Cs++){var Bi=Vt.get(Cs),qb=O.fromSFSArray(Bi);kr.push(qb),Oe._addMMOItem(qb);var $w=Bi.get(2);null!=$w&&(qb._aoiEntryPoint=C.ed.fromArray($w))}var Qh={};Qh.addedItems=kr,Qh.removedItems=ti,Qh.removedUsers=yo,Qh.addedUsers=Mn,Qh.room=Oe,this._sfs.dispatchEvent(m.PY.PROXIMITY_LIST_UPDATE,Qh)}},{key:"_fnInitBuddyList",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(Ae.i.KEY_BLIST),Oe=ce.get(Ae.i.KEY_MY_VARS),ct=ce.get(Ae.i.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var tt=0;tt<Ie.size();tt++){var jt=E.t.fromSFSArray(Ie.get(tt));this._sfs.buddyManager._addBuddy(jt)}null!=ct&&this._sfs.buddyManager._setBuddyStates(ct);for(var Vt=[],Mn=0;Mn<Oe.size();Mn++){var yo=M.D.fromSFSArray(Oe.get(Mn));Vt.push(yo)}this._sfs.buddyManager._setMyVariables(Vt),this._sfs.buddyManager._setInited();var kr={};kr.buddyList=this._sfs.buddyManager.getBuddyList(),kr.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(m.Xh.BUDDY_LIST_INIT,kr)}else this._dispatchError(m.Xh.BUDDY_ERROR,ce)}},{key:"_fnAddBuddy",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=E.t.fromSFSArray(ce.get(Ue.D.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(Ie);var Oe={};Oe.buddy=Ie,this._sfs.dispatchEvent(m.Xh.BUDDY_ADD,Oe)}else this._dispatchError(m.Xh.BUDDY_ERROR,ce)}},{key:"_fnRemoveBuddy",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(je.w.KEY_BUDDY_NAME),Oe=this._sfs.buddyManager._removeBuddyByName(Ie);if(null!=Oe){var ct={};ct.buddy=Oe,this._sfs.dispatchEvent(m.Xh.BUDDY_REMOVE,ct)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+Ie+" in local buddy list")}else this._dispatchError(m.Xh.BUDDY_ERROR,ce)}},{key:"_fnBlockBuddy",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(We.L.KEY_BUDDY_NAME),Oe=this._sfs.buddyManager.getBuddyByName(Ie);null!=ce.get(We.L.KEY_BUDDY)?(Oe=E.t.fromSFSArray(ce.get(We.L.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(Oe)):null!=Oe?Oe._isBlocked=ce.get(We.L.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+Ie+" in local buddy list");var ct={};ct.buddy=Oe,this._sfs.dispatchEvent(m.Xh.BUDDY_BLOCK,ct)}else this._dispatchError(m.Xh.BUDDY_ERROR,ce)}},{key:"_fnGoOnline",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){var Ie=ce.get(Je.T.KEY_BUDDY_NAME),Oe=this._sfs.buddyManager.getBuddyByName(Ie),ct=Ie===this._sfs.mySelf.name,tt=ce.get(Je.T.KEY_ONLINE),jt=tt===E.l.ONLINE,Vt=!0;if(ct)this._sfs.buddyManager.getMyOnlineState()!=jt&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+jt),this._sfs.buddyManager._setMyOnlineState(jt));else{if(null==Oe)return void this._logger.warn("Unexpected GoOnline event error; can't find "+Ie+" in local buddy list");Oe._id=ce.get(Je.T.KEY_BUDDY_ID),Oe._setVariable(new M.D(M.C.BV_ONLINE,jt)),tt===E.l.LEFT_THE_SERVER&&Oe._clearVolatileVariables(),Vt=this._sfs.buddyManager.getMyOnlineState()}if(Vt){var Mn={};Mn.buddy=Oe,Mn.isItMe=ct,this._sfs.dispatchEvent(m.Xh.BUDDY_ONLINE_STATE_CHANGE,Mn)}}else this._dispatchError(m.Xh.BUDDY_ERROR,ce)}},{key:"_fnSetBuddyVariables",value:function(ce){if(null==ce.get(Fe.KEY_ERROR_CODE)){for(var Ie=ce.get(qe.J.KEY_BUDDY_NAME),Oe=ce.get(qe.J.KEY_BUDDY_VARS),ct=this._sfs.buddyManager.getBuddyByName(Ie),tt=Ie===this._sfs.mySelf.name,jt=[],Vt=[],Mn=!0,yo=0;yo<Oe.size();yo++){var kr=M.D.fromSFSArray(Oe.get(yo));Vt.push(kr),jt.push(kr.name)}if(tt)this._sfs.buddyManager._setMyVariables(Vt);else{if(null==ct)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+Ie+" in local buddy list");ct._setVariables(Vt),Mn=this._sfs.buddyManager.getMyOnlineState()}if(Mn){var ti={};ti.buddy=ct,ti.isItMe=tt,ti.changedVars=jt,this._sfs.dispatchEvent(m.Xh.BUDDY_VARIABLES_UPDATE,ti)}}else this._dispatchError(m.Xh.BUDDY_ERROR,ce)}},{key:"_fnUserEnterRoom",value:function(ce){var Ie=this._sfs.roomManager.getRoomById(ce.get(Fe.ROOM_PARAM));if(null!=Ie){var Oe=ce.get(Fe.USER_PARAM),ct=this._getOrCreateUser(Oe,!0,Ie);Ie._addUser(ct);var tt={};tt.user=ct,tt.room=Ie,this._sfs.dispatchEvent(m.PY.USER_ENTER_ROOM,tt)}}},{key:"_fnUserCountChange",value:function(ce){var Ie=this._sfs.roomManager.getRoomById(ce.get(Fe.ROOM_PARAM));if(null!=Ie){var Oe=ce.get(Fe.USER_COUNT_PARAM),ct=null!=ce.get(Fe.SPECT_COUNT_PARAM)?ce.get(Fe.SPECT_COUNT_PARAM):0;Ie._userCount=Oe,Ie._specCount=ct;var tt={};tt.room=Ie,tt.uCount=Oe,tt.sCount=ct,this._sfs.dispatchEvent(m.PY.USER_COUNT_CHANGE,tt)}}},{key:"_fnUserLost",value:function(ce){var Ie=this._sfs.userManager.getUserById(ce.get(Fe.USER_PARAM));if(null!=Ie){var Oe=this._sfs.roomManager.getUserRooms(Ie);this._sfs.roomManager._removeUser(Ie),this._sfs.userManager._removeUser(Ie);var ct,tt=Bt(Oe);try{for(tt.s();!(ct=tt.n()).done;){var jt=ct.value,Vt={};Vt.user=Ie,Vt.room=jt,this._sfs.dispatchEvent(m.PY.USER_EXIT_ROOM,Vt)}}catch(Mn){tt.e(Mn)}finally{tt.f()}}}},{key:"_fnRoomLost",value:function(ce){var Ie=this._sfs.roomManager.getRoomById(ce.get(Fe.ROOM_PARAM));if(null!=Ie){this._sfs.roomManager._removeRoom(Ie);var Oe,ct=Bt(Ie.getUserList());try{for(ct.s();!(Oe=ct.n()).done;)this._sfs.userManager._removeUser(Oe.value)}catch(Vt){ct.e(Vt)}finally{ct.f()}var jt={};jt.room=Ie,this._sfs.dispatchEvent(m.PY.ROOM_REMOVE,jt)}}},{key:"_fnUserExitRoom",value:function(ce){var Ie=this._sfs.roomManager.getRoomById(ce.get(Fe.ROOM_PARAM)),Oe=this._sfs.userManager.getUserById(ce.get(Fe.USER_PARAM));if(null!=Ie&&null!=Oe){Ie._removeUser(Oe),this._sfs.userManager._removeUser(Oe),Oe.isItMe&&Ie.isJoined&&(Ie._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==Ie||(this._sfs._lastJoinedRoom=null),Ie._isManaged||this._sfs.roomManager._removeRoom(Ie));var ct={};ct.user=Oe,ct.room=Ie,this._sfs.dispatchEvent(m.PY.USER_EXIT_ROOM,ct)}else this._logger.debug("Failed to handle UserExit event; Room: "+Ie+", User: "+Oe)}},{key:"_fnClientDisconnection",value:function(ce){var Ie=ce.get(Fe.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection(H.G.getReason(Ie))}},{key:"_fnSetMMOItemVariables",value:function(ce){var Ie=ce.get(rt.KEY_ROOM_ID),Oe=ce.get(rt.KEY_ITEM_ID),ct=ce.get(rt.KEY_VAR_LIST),tt=this._sfs.roomManager.getRoomById(Ie),jt=new Set;if(null!=tt){var Vt=tt.getMMOItem(Oe);if(null!=Vt){for(var Mn=0;Mn<ct.size();Mn++){var yo=g.l.fromSFSArray(ct.get(Mn));Vt._setVariable(yo),jt.add(yo.name)}var kr={};kr.changedVars=Array.from(jt),kr.mmoItem=Vt,kr.room=tt,this._sfs.dispatchEvent(m.PY.MMOITEM_VARIABLES_UPDATE,kr)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+Oe)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+Ie)}},{key:"_fnGameServerConnectionRequired",value:function(ce){var Ie={};Ie.host=ce.getUtfString("h"),Ie.port=ce.getInt("p"),Ie.zone=ce.getUtfString("z");var Oe=ce.getUtfString("at");null!=this._sfs.config&&(Ie.port=this._sfs.config.port);var ct={};ct.configObj=Ie,ct.userName=this._sfs.mySelf.name,ct.password=Oe,this._sfs.dispatchEvent(m.TG.CONNECTION_REQUIRED,ct)}},{key:"_fnLoadBalancerError",value:function(ce){this._sfs.dispatchEvent(m.TG.LOAD_BALANCER_ERROR,{})}},{key:"_dispatchError",value:function(ce,Ie){var Oe={};Oe.errorCode=Ie.get(Fe.KEY_ERROR_CODE),Oe.errorMessage=v.D.getErrorMessage(Oe.errorCode,Ie.get(Fe.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(ce,Oe)}},{key:"_populateRoomList",value:function(ce){for(var Ie=0;Ie<ce.size();Ie++){var Oe=A.O.fromSFSArray(ce.get(Ie));this._sfs.roomManager._replaceRoom(Oe)}}},{key:"_getOrCreateUser",value:function(ce,Ie,Oe){var ct=ce.get(0),tt=this._sfs.userManager.getUserById(ct);if(null==tt)(tt=V.e.fromSFSArray(ce,Oe))._setUserManager(this._sfs.userManager);else if(null!=Oe){tt._setPlayerId(ce.get(3),Oe);var jt=ce.get(4),Vt=[];if(null!=jt)for(var Mn=0;Mn<jt.size();Mn++)Vt.push(w.I.fromSFSArray(jt.get(Mn)));tt._replaceVariables(Vt)}return Ie&&this._sfs.userManager._addUser(tt),tt}}],be=[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}],de&&gi(Se.prototype,de),be&&gi(Se,be),Object.defineProperty(Se,"prototype",{writable:!1}),Se;var Se,de,be}(),ji=h(1966);function Mt(Fe){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Mt(Fe)}function Qe(Fe){var Se=function(de){if("object"!=Mt(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Mt(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Mt(Se)?Se:Se+""}var He=function(){return Fe=function de(be){(function(ce,Ie){if(!(ce instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,de),this._sfs=be,this._logger=be.logger,this._id=1,Object.freeze(this)},(Se=[{key:"id",get:function(){return this._id}},{key:"handleMessage",value:function(de,be){this._sfs.debug&&this._logger.info("Handling Extension response");var ce={};ce.cmd=de.get(ji.F.KEY_CMD),ce.params=de.get(ji.F.KEY_PARAMS);var Ie=de.get(ji.F.KEY_ROOM);null!=Ie&&(ce.room=this._sfs.roomManager.getRoomById(Ie)),this._sfs.dispatchEvent(m.PY.EXTENSION_RESPONSE,ce)}}])&&function Zt(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Qe(be.key),be)}}(Fe.prototype,Se),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe;var Fe,Se}(),nt=h(60),Le=h(1801),Re=h.n(Le),et=h(6314),wt=h(4045);function xt(Fe){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},xt(Fe)}function kt(Fe,Se){if(!(Fe instanceof Se))throw new TypeError("Cannot call a class as a function")}function bn(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Gi(be.key),be)}}function _i(Fe,Se,de){return Se&&bn(Fe.prototype,Se),de&&bn(Fe,de),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe}function Gi(Fe){var Se=function(de){if("object"!=xt(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=xt(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==xt(Se)?Se:Se+""}function ln(Fe,Se,de){return Se=Dn(Se),function(be,ce){if(ce&&("object"==xt(ce)||"function"==typeof ce))return ce;if(void 0!==ce)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(void 0===Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(be)}(Fe,$n()?Reflect.construct(Se,de||[],Dn(Fe).constructor):Se.apply(Fe,de))}function $n(){try{var Fe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Se){}return($n=function(){return!!Fe})()}function Dn(Fe){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},Dn(Fe)}function sn(Fe,Se){return(sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,be){return de.__proto__=be,de})(Fe,Se)}var An=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),vo=function(Fe){function Se(de){var be;return kt(this,Se),(be=ln(this,Se))._sfs=de,be._logger=wt.Vy.instance,be._isConnected=!1,be._isConnecting=!1,be._socket=null,be._protocolCodec=new lo(de),be._disconnectionReason=H.G.UNKNOWN,Object.seal(be),be}return function(de,be){if("function"!=typeof be&&null!==be)throw new TypeError("Super expression must either be null or a function");de.prototype=Object.create(be&&be.prototype,{constructor:{value:de,writable:!0,configurable:!0}}),Object.defineProperty(de,"prototype",{writable:!1}),be&&sn(de,be)}(Se,Fe),_i(Se,[{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(de){this._protocolCodec.maxMessageSize=de}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(de){this._protocolCodec.compressionThreshold=de}},{key:"connect",value:function(de,be,ce){this._isConnecting=!0,this._socket=new WebSocket("ws"+(ce?"s":"")+"://"+de+":"+be+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(de){this._disconnectionReason=de,this._socket.close()}},{key:"addController",value:function(de,be){null==this._controllers[de]&&(this._controllers[de]=be)}},{key:"removeController",value:function(de){delete this._controllers[de]}},{key:"send",value:function(de){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+de.dump());var be=this._protocolCodec.onPacketWrite(de);this._socket.send(be)}},{key:"kill",value:function(){this._socket.close()}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(An.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(An.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(An.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=H.G.UNKNOWN)}},{key:"_onSocketData",value:function(de){var be=this._scope._protocolCodec.onPacketRead(de.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+be.dump()),this._scope.dispatchEvent(An.DATA,be)}},{key:"_onSocketError",value:function(de){this._scope.dispatchEvent(An.IOERROR,de.data)}}])}(m.Qe),lo=_i(function Fe(Se){kt(this,Fe),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=Se,this._logger=wt.Vy.instance,Object.seal(this)},[{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(Fe){this._maxMessageSize=Fe}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(Fe){this._compressionThreshold=Fe}},{key:"onPacketRead",value:function(Fe){if(0!==Fe.byteLength){var Se=new(Re())(Fe,0,Re().BIG_ENDIAN),de=Se.readUint8(),be=(32&de)>0,ce=(8&de)>0?Se.readUint32():Se.readUint16(),Ie=Se.readUint8Array(ce);be&&(Ie=this.decompress(Ie)),this._sfs.debug&&this._logger.debug(Fe.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+H.z.hexDump(Ie));var Oe=C.om.newFromBinaryData(Ie);return new y.QB(Oe.get(this.ACTION_ID),Oe.get(this.CONTROLLER_ID),Oe.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(Fe){var Se=new C.om;Se.put(this.CONTROLLER_ID,Fe.targetController,C.VG.BYTE),Se.put(this.ACTION_ID,Fe.id,C.VG.SHORT),Se.put(this.PARAM_ID,Fe.content,C.VG.SFS_OBJECT);var de=Se.toBinary(),be=de.byteLength,ce=new(Re())(new ArrayBuffer(0),0,Re().BIG_ENDIAN),Ie=128;be>this.compressionThreshold&&(Ie+=32,be=(de=this.compress(de)).byteLength);var Oe=be>65335;Oe&&(Ie+=8),ce.writeUint8(Ie),Oe?ce.writeUint32(be):ce.writeUint16(be),ce.writeUint8Array(de);var ct=new Uint8Array(ce.buffer);if(ct.byteLength>this.maxMessageSize)throw new nt.nT("Message size is too big: "+ct.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+H.z.hexDump(ct)),ct}},{key:"decompress",value:function(Fe){return new et.Zlib.Inflate(Fe).decompress()}},{key:"compress",value:function(Fe){return new et.Zlib.Deflate(Fe).compress()}}]),Di=h(9593);function Zi(Fe){return Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Zi(Fe)}function Hi(Fe,Se){var de="undefined"!=typeof Symbol&&Fe[Symbol.iterator]||Fe["@@iterator"];if(!de){if(Array.isArray(Fe)||(de=function(tt,jt){if(tt){if("string"==typeof tt)return rn(tt,void 0);var Vt={}.toString.call(tt).slice(8,-1);return"Object"===Vt&&tt.constructor&&(Vt=tt.constructor.name),"Map"===Vt||"Set"===Vt?Array.from(tt):"Arguments"===Vt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Vt)?rn(tt,void 0):void 0}}(Fe))||Se&&Fe&&"number"==typeof Fe.length){de&&(Fe=de);var be=0,ce=function(){};return{s:ce,n:function(){return be>=Fe.length?{done:!0}:{done:!1,value:Fe[be++]}},e:function(tt){throw tt},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,Oe=!0,ct=!1;return{s:function(){de=de.call(Fe)},n:function(){var tt=de.next();return Oe=tt.done,tt},e:function(tt){ct=!0,Ie=tt},f:function(){try{Oe||null==de.return||de.return()}finally{if(ct)throw Ie}}}}function rn(Fe,Se){(null==Se||Se>Fe.length)&&(Se=Fe.length);for(var de=0,be=Array(Se);de<Se;de++)be[de]=Fe[de];return be}function Oo(Fe){var Se=function(de){if("object"!=Zi(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Zi(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Zi(Se)?Se:Se+""}var qt=function(){return Fe=function de(be){(function(ce,Ie){if(!(ce instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,de),this._sfs=be,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)},Se=[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(de){return this._groups.has(de)}},{key:"containsRoom",value:function(de){return"number"==typeof de?this._roomsById.has(de):this._roomsByName.has(de)}},{key:"containsRoomInGroup",value:function(de,be){return this.getRoomListFromGroup(be).some("number"==typeof de?function(Ie){return Ie.id===de}:function(Ie){return Ie.name===de})}},{key:"getRoomById",value:function(de){return this._roomsById.get(de)}},{key:"getRoomByName",value:function(de){return this._roomsByName.get(de)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(de){return this.getRoomList().filter(function(be){return be.groupId===de})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(de){return de.isJoined})}},{key:"getUserRooms",value:function(de){return this.getRoomList().filter(function(be){return be.containsUser(de)})}},{key:"_addRoom",value:function(de){var be=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(de.id,de),this._roomsByName.set(de.name,de),de._setRoomManager(this),be?this._addGroup(de.groupId):de._isManaged=!1}},{key:"_replaceRoom",value:function(de){var be=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ce=this.getRoomById(de.id);return null!=ce?(ce._merge(de),ce):(this._addRoom(de,be),de)}},{key:"_removeRoom",value:function(de){this._roomsById.delete(de.id),this._roomsByName.delete(de.name)}},{key:"_removeRoomById",value:function(de){var be=this.getRoomById(de);null!=be&&this._removeRoom(be)}},{key:"_removeRoomByName",value:function(de){var be=this.getRoomByName(de);null!=be&&this._removeRoom(be)}},{key:"_changeRoomName",value:function(de,be){var ce=de.name;de._name=be,this._roomsByName.set(be,de),this._roomsByName.delete(ce)}},{key:"_changeRoomPasswordState",value:function(de,be){de._isPasswordProtected=be}},{key:"_changeRoomCapacity",value:function(de,be,ce){de._maxUsers=be,de._maxSpectators=ce}},{key:"_addGroup",value:function(de){this.containsGroup(de)||this._groups.add(de)}},{key:"_removeGroup",value:function(de){this._groups.delete(de);var be,ce=Hi(this.getRoomListFromGroup(de));try{for(ce.s();!(be=ce.n()).done;){var Ie=be.value;Ie.isJoined?Ie._isManaged=!1:this._removeRoom(Ie)}}catch(Oe){ce.e(Oe)}finally{ce.f()}}},{key:"_removeUser",value:function(de){var be,ce=Hi(this.getUserRooms(de));try{for(ce.s();!(be=ce.n()).done;){var Ie=be.value;Ie instanceof A.X||Ie._removeUser(de)}}catch(Oe){ce.e(Oe)}finally{ce.f()}}}],Se&&function Dr(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Oo(be.key),be)}}(Fe.prototype,Se),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe;var Fe,Se}();function Sn(Fe){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Sn(Fe)}function Sr(Fe,Se){(null==Se||Se>Fe.length)&&(Se=Fe.length);for(var de=0,be=Array(Se);de<Se;de++)be[de]=Fe[de];return be}function eu(Fe){var Se=function(de){if("object"!=Sn(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Sn(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Sn(Se)?Se:Se+""}var jr=function(){return Fe=function de(be){(function(ce,Ie){if(!(ce instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,de),this._sfs=be,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)},(Se=[{key:"isInited",get:function(){return this._inited}},{key:"containsBuddy",value:function(de){return this._buddiesByName.has(de)}},{key:"getBuddyById",value:function(de){return this.getBuddyList().find(function(be){return be.id===de})}},{key:"getBuddyByName",value:function(de){return this._buddiesByName.get(de)}},{key:"getBuddyByNickName",value:function(de){return this.getBuddyList().find(function(be){return be.nickName===de})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(de){return!de.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(de){return de.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(de){return this._myVariables.get(de)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var de=this.getMyVariable(M.C.BV_ONLINE);return null==de||de.value}},{key:"getMyNickName",value:function(){var de=this.getMyVariable(M.C.BV_NICKNAME);return null!=de?de.value:null}},{key:"getMyState",value:function(){var de=this.getMyVariable(M.C.BV_STATE);return null!=de?de.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(de){this._buddiesByName.set(de.name,de)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(de){var be=this.getBuddyById(de);return null!=be&&this._buddiesByName.delete(be.name),be}},{key:"_removeBuddyByName",value:function(de){var be=this.getBuddyByName(de);return null!=be&&this._buddiesByName.delete(de),be}},{key:"_setMyVariables",value:function(de){var be,ce=function(Oe,ct){var tt="undefined"!=typeof Symbol&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!tt){if(Array.isArray(Oe)||(tt=function(ti,Vu){if(ti){if("string"==typeof ti)return Sr(ti,void 0);var Qi={}.toString.call(ti).slice(8,-1);return"Object"===Qi&&ti.constructor&&(Qi=ti.constructor.name),"Map"===Qi||"Set"===Qi?Array.from(ti):"Arguments"===Qi||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qi)?Sr(ti,void 0):void 0}}(Oe))){tt&&(Oe=tt);var jt=0,Vt=function(){};return{s:Vt,n:function(){return jt>=Oe.length?{done:!0}:{done:!1,value:Oe[jt++]}},e:function(ti){throw ti},f:Vt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Mn,yo=!0,kr=!1;return{s:function(){tt=tt.call(Oe)},n:function(){var ti=tt.next();return yo=ti.done,ti},e:function(ti){kr=!0,Mn=ti},f:function(){try{yo||null==tt.return||tt.return()}finally{if(kr)throw Mn}}}}(de);try{for(ce.s();!(be=ce.n()).done;)this._setMyVariable(be.value)}catch(Oe){ce.e(Oe)}finally{ce.f()}}},{key:"_setMyVariable",value:function(de){de.isNull?this._myVariables.delete(de.name):this._myVariables.set(de.name,de)}},{key:"_setMyOnlineState",value:function(de){this._setMyVariable(new M.D(M.C.BV_ONLINE,de))}},{key:"_setMyNickName",value:function(de){this._setMyVariable(new M.D(M.C.BV_NICKNAME,de))}},{key:"_setMyState",value:function(de){this._setMyVariable(new M.D(M.C.BV_STATE,de))}},{key:"_setBuddyStates",value:function(de){this._buddyStates=new Set(de)}}])&&function Ra(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,eu(be.key),be)}}(Fe.prototype,Se),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe;var Fe,Se}();function Ss(Fe){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Ss(Fe)}function dr(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Hu(be.key),be)}}function Hu(Fe){var Se=function(de){if("object"!=Ss(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Ss(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Ss(Se)?Se:Se+""}function Rr(Fe,Se,de){return Se=Ja(Se),function(be,ce){if(ce&&("object"==Ss(ce)||"function"==typeof ce))return ce;if(void 0!==ce)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(void 0===Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(be)}(Fe,Bd()?Reflect.construct(Se,de||[],Ja(Fe).constructor):Se.apply(Fe,de))}function Bd(){try{var Fe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Se){}return(Bd=function(){return!!Fe})()}function Ja(Fe){return Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},Ja(Fe)}function Ri(Fe,Se){return(Ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,be){return de.__proto__=be,de})(Fe,Se)}var qr=function(Fe){function Se(Ie,Oe){var ct;return function(tt,jt){if(!(tt instanceof jt))throw new TypeError("Cannot call a class as a function")}(this,Se),(ct=Rr(this,Se,[y.lv.Handshake]))._apiVersion=Ie,ct._clientDetails=Oe,Object.seal(ct),ct}return function(Ie,Oe){if("function"!=typeof Oe&&null!==Oe)throw new TypeError("Super expression must either be null or a function");Ie.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:Ie,writable:!0,configurable:!0}}),Object.defineProperty(Ie,"prototype",{writable:!1}),Oe&&Ri(Ie,Oe)}(Se,Fe),de=Se,ce=[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}],(be=[{key:"validate",value:function(Ie){}},{key:"execute",value:function(Ie){this._reqObj.putUtfString(Se.KEY_API,this._apiVersion),this._reqObj.putUtfString(Se.KEY_CLIENT_TYPE,this._clientDetails)}}])&&dr(de.prototype,be),ce&&dr(de,ce),Object.defineProperty(de,"prototype",{writable:!1}),de;var de,be,ce}(y.hU);function Pi(Fe){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Pi(Fe)}function Ho(Fe){var Se=function(de){if("object"!=Pi(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Pi(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Pi(Se)?Se:Se+""}function hr(Fe,Se,de){return Se=Yt(Se),function(be,ce){if(ce&&("object"==Pi(ce)||"function"==typeof ce))return ce;if(void 0!==ce)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(void 0===Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(be)}(Fe,Ht()?Reflect.construct(Se,de||[],Yt(Fe).constructor):Se.apply(Fe,de))}function Ht(){try{var Fe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Se){}return(Ht=function(){return!!Fe})()}function Yt(Fe){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},Yt(Fe)}function dn(Fe,Se){return(dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,be){return de.__proto__=be,de})(Fe,Se)}var mi=function(Fe){function Se(){var ce;return function(Ie,Oe){if(!(Ie instanceof Oe))throw new TypeError("Cannot call a class as a function")}(this,Se),ce=hr(this,Se,[y.lv.PingPong]),Object.seal(ce),ce}return function(ce,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Ie&&dn(ce,Ie)}(Se,Fe),de=Se,(be=[{key:"validate",value:function(ce){}},{key:"execute",value:function(ce){}}])&&function Ls(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Ho(be.key),be)}}(de.prototype,be),Object.defineProperty(de,"prototype",{writable:!1}),de;var de,be}(y.hU);function Cn(Fe){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Cn(Fe)}function fc(Fe){var Se=function(de){if("object"!=Cn(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Cn(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Cn(Se)?Se:Se+""}var En=function(){return Fe=function de(be){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,Ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(Oe,ct){if(!(Oe instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,de),this._sfs=be,this._valueQueue=[],this._interval=ce,this._queueSize=Ie,this._thread=null,this._lastReqTime=-1},(Se=[{key:"isRunning",get:function(){return null!=this._thread}},{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(de){de._lastReqTime=(new Date).getTime(),de._sfs.send(new mi)}},{key:"_onPingPong",value:function(){var de=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(de),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var de=0,be=0;be<this._valueQueue.length;be++)de+=this._valueQueue[be];return de/this._valueQueue.length}}])&&function Jr(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,fc(be.key),be)}}(Fe.prototype,Se),Object.defineProperty(Fe,"prototype",{writable:!1}),Fe;var Fe,Se}();function Ni(Fe){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Se){return typeof Se}:function(Se){return Se&&"function"==typeof Symbol&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},Ni(Fe)}function Nr(Fe){var Se=function(de){if("object"!=Ni(de)||!de)return de;var be=de[Symbol.toPrimitive];if(void 0!==be){var ce=be.call(de,"string");if("object"!=Ni(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(Fe);return"symbol"==Ni(Se)?Se:Se+""}function ka(Fe,Se,de){return Se=ui(Se),function(be,ce){if(ce&&("object"==Ni(ce)||"function"==typeof ce))return ce;if(void 0!==ce)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(void 0===Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(be)}(Fe,Cr()?Reflect.construct(Se,de||[],ui(Fe).constructor):Se.apply(Fe,de))}function Cr(){try{var Fe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Se){}return(Cr=function(){return!!Fe})()}function ui(Fe){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},ui(Fe)}function ra(Fe,Se){return(ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,be){return de.__proto__=be,de})(Fe,Se)}var Ci=function(Fe){function Se(){var ce,Ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(Oe,ct){if(!(Oe instanceof ct))throw new TypeError("Cannot call a class as a function")}(this,Se),(ce=ka(this,Se))._majVersion=1,ce._minVersion=8,ce._subVersion=3,ce._configData=Ie,ce._logger=wt.Vy.instance,ce._sessionToken=null,ce._socketEngine=new vo(ce),ce._socketEngine.addEventListener(An.CONNECT,ce._onSocketConnect,ce),ce._socketEngine.addEventListener(An.DISCONNECT,ce._onSocketDisconnect,ce),ce._socketEngine.addEventListener(An.DATA,ce._onSocketData,ce),ce._socketEngine.addEventListener(An.IOERROR,ce._onSocketIOError,ce),ce._controllers={},ce._controllers[0]=new ci(ce),ce._controllers[1]=new He(ce),ce._reset(),ce._clientDetails="JavaScript",ce._nodeId=null,ce.debug=null!=ce.config&&ce.config.debug,ce.debug&&(ce._logger.info("SmartFox instance ready"),ce._logger.info("SFS2X JavaScript API v"+ce.version)),Object.seal(ce),ce}return function(ce,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),Ie&&ra(ce,Ie)}(Se,Fe),de=Se,be=[{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}},{key:"nodeId",get:function(){return this.isConnected?this._nodeId:null}},{key:"setClientDetails",value:function(ce,Ie){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(ce=null!=ce?ce.replace(":"," "):"",Ie=null!=Ie?Ie.replace(":"," "):"",this._clientDetails=ce+":"+Ie)}},{key:"connect",value:function(){var ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,Oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var ct=null!=this.config&&null!=this.config.host?this.config.host:null,tt=null!=this.config&&null!=this.config.port?this.config.port:null,jt=null!=this.config&&this.config.useSSL;null!=ce&&(ct=ce),Ie>-1&&(tt=Ie),null!=Oe&&(jt=Oe),null!=ct&&"string"==typeof ct&&0!==ct.length?"number"!=typeof tt||tt<0||tt>65535?this._logger.error("Invalid TCP connection port: "+tt):("boolean"!=typeof jt&&(jt=!1),this._socketEngine.connect(ct,tt,jt)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection(H.G.MANUAL)}},{key:"killConnection",value:function(){this._socketEngine.kill()}},{key:"enableLagMonitor",value:function(ce){var Ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,Oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),ce&&(this._lagMonitor=new En(this,Ie,Oe),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(ce){if(this.isConnected){if(null!=ce.validate&&null!=ce.execute){this.debug&&this._logger.info("Sending request '"+y.lv.getNameFromId(ce.id)+"' to server");try{ce.validate(this),ce.execute(this)}catch(ct){if(!(ct instanceof nt.as&&null!=ct.message))throw ct;var Ie=ct.message;if(null!=ct.errors){Ie+=":";for(var Oe=0;Oe<ct.errors.length;Oe++)ct.errors.length>1&&(Ie+=" "+(Oe+1)+")"),Ie+=" "+ct.errors[Oe]}return this._logger.error("Request failed | "+Ie),!1}return this._socketEngine.send(ce.getMessage()),!0}this._logger.error("An invalid request was passed: "+ce)}else this._logger.error("You are not connected. Request cannot be sent: "+y.lv.getNameFromId(ce.id))}},{key:"getRoomById",value:function(ce){return this.roomManager.getRoomById(ce)}},{key:"getRoomByName",value:function(ce){return this.roomManager.getRoomByName(ce)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(ce){return this.roomManager.getRoomListFromGroup(ce)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var ce=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new Di.i(this),this._roomManager=new qt(this),this._buddyManager=new jr(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,ce&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(ce){ce.success?this.send(new qr(this.version,this._clientDetails)):this.dispatchEvent(m.PY.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(ce){this.dispatchEvent(m.PY.CONNECTION_LOST,{reason:ce.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(ce){var Ie=ce.targetController,Oe=ce.id;null!=Ie?null!=Oe?this._controllers[Ie].handleMessage(ce.content,Oe):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(ce){this.dispatchEvent(m.PY.SOCKET_ERROR,{message:ce})}},{key:"_handleHandShake",value:function(ce){var Ie=ce.get(y.hU.KEY_ERROR_CODE);if(null==Ie)this._sessionToken=ce.get(qr.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=ce.get(qr.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=ce.get(qr.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(m.PY.CONNECTION,{success:!0});else{var Oe={success:!1,errorMessage:v.D.getErrorMessage(Ie,ce.get(y.hU.KEY_ERROR_PARAMS)),errorCode:Ie};this.dispatchEvent(m.PY.CONNECTION,Oe)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(ce){this.isConnected&&this._socketEngine.disconnect(ce)}}],be&&function Na(Fe,Se){for(var de=0;de<Se.length;de++){var be=Se[de];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Fe,Nr(be.key),be)}}(de.prototype,be),Object.defineProperty(de,"prototype",{writable:!1}),de;var de,be}(m.Qe)},139:(N,U,h)=>{"use strict";function y(D){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(D)}function m(D,F){(null==F||F>D.length)&&(F=D.length);for(var L=0,O=Array(F);L<F;L++)O[L]=D[L];return O}function C(D){var F=function(L){if("object"!=y(L)||!L)return L;var O=L[Symbol.toPrimitive];if(void 0!==O){var E=O.call(L,"string");if("object"!=y(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(D);return"symbol"==y(F)?F:F+""}h.d(U,{PY:()=>V,Qe:()=>A,TG:()=>P,Xh:()=>g});var D,F,A=(D=function L(){(function(O,E){if(!(O instanceof E))throw new TypeError("Cannot call a class as a function")})(this,L),this._listenersByEvent={}},(F=[{key:"addEventListener",value:function(L,O,E){this._listenersByEvent[L]||(this._listenersByEvent[L]=[]),this._listenersByEvent[L].push({callback:O,scope:E})}},{key:"removeEventListener",value:function(L,O){var E=this._listenersByEvent[L];if(E)for(var b=0;b<E.length;b++)if(E[b].callback===O){E.splice(b,1);break}}},{key:"dispatchEvent",value:function(L,O){var E=this._listenersByEvent[L];if(E){var b,w=function(M,H){var j="undefined"!=typeof Symbol&&M[Symbol.iterator]||M["@@iterator"];if(!j){if(Array.isArray(M)||(j=function(Q,z){if(Q){if("string"==typeof Q)return m(Q,z);var ne={}.toString.call(Q).slice(8,-1);return"Object"===ne&&Q.constructor&&(ne=Q.constructor.name),"Map"===ne||"Set"===ne?Array.from(Q):"Arguments"===ne||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?m(Q,z):void 0}}(M))){j&&(M=j);var G=0,X=function(){};return{s:X,n:function(){return G>=M.length?{done:!0}:{done:!1,value:M[G++]}},e:function(Q){throw Q},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var fe,Me=!0,me=!1;return{s:function(){j=j.call(M)},n:function(){var Q=j.next();return Me=Q.done,Q},e:function(Q){me=!0,fe=Q},f:function(){try{Me||null==j.return||j.return()}finally{if(me)throw fe}}}}(E);try{for(w.s();!(b=w.n()).done;){var S=b.value;S.callback.call(S.scope,O)}}catch(M){w.e(M)}finally{w.f()}}}}])&&function v(D,F){for(var L=0;L<F.length;L++){var O=F[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,C(O.key),O)}}(D.prototype,F),Object.defineProperty(D,"prototype",{writable:!1}),D),V=Object.freeze({CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),g=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"}),P=Object.freeze({CONNECTION_REQUIRED:"connectionRequired",LOAD_BALANCER_ERROR:"loadBalancerError"})},60:(N,U,h)=>{"use strict";function y(w){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function m(w,S){for(var M=0;M<S.length;M++){var H=S[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(w,C(H.key),H)}}function v(w,S,M){return S&&m(w.prototype,S),M&&m(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w}function C(w){var S=function(M){if("object"!=y(M)||!M)return M;var H=M[Symbol.toPrimitive];if(void 0!==H){var j=H.call(M,"string");if("object"!=y(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(w);return"symbol"==y(S)?S:S+""}function A(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function V(w,S,M){return S=L(S),function(H,j){if(j&&("object"==y(j)||"function"==typeof j))return j;if(void 0!==j)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(H)}(w,D()?Reflect.construct(S,M||[],L(w).constructor):S.apply(w,M))}function g(w,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),S&&F(w,S)}function P(w){var S="function"==typeof Map?new Map:void 0;return P=function(M){if(null===M||!function(j){try{return-1!==Function.toString.call(j).indexOf("[native code]")}catch(G){return"function"==typeof j}}(M))return M;if("function"!=typeof M)throw new TypeError("Super expression must either be null or a function");if(void 0!==S){if(S.has(M))return S.get(M);S.set(M,H)}function H(){return function(j,G,X){if(D())return Reflect.construct.apply(null,arguments);var fe=[null];fe.push.apply(fe,G);var Me=new(j.bind.apply(j,fe));return X&&F(Me,X.prototype),Me}(M,arguments,L(this).constructor)}return H.prototype=Object.create(M.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),F(H,M)},P(w)}function D(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(D=function(){return!!w})()}function F(w,S){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,H){return M.__proto__=H,M})(w,S)}function L(w){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}h.d(U,{Fo:()=>b,as:()=>E,nT:()=>O});var O=function(w){function S(M){var H;return A(this,S),(H=V(this,S,[M])).name="SFSError",H}return g(S,w),v(S)}(P(Error)),E=function(w){function S(M){var H,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return A(this,S),(H=V(this,S,[M])).name="SFSValidationError",H.errors=j,Object.setPrototypeOf(H,S.prototype),H}return g(S,w),v(S)}(O),b=function(w){function S(M){var H;return A(this,S),(H=V(this,S,[M])).name="SFSTypeError",H}return g(S,w),v(S)}(O)},1142:(N,U,h)=>{"use strict";h.d(U,{uj:()=>Me,VG:()=>G,iQ:()=>X,om:()=>fe,ed:()=>me});var y=h(1801),m=h.n(y),v=h(6500);function C(Q){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(Q)}function A(Q,z){(null==z||z>Q.length)&&(z=Q.length);for(var ne=0,le=Array(z);ne<z;ne++)le[ne]=Q[ne];return le}function V(Q,z){for(var ne=0;ne<z.length;ne++){var le=z[ne];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Q,g(le.key),le)}}function g(Q){var z=function(ne){if("object"!=C(ne)||!ne)return ne;var le=ne[Symbol.toPrimitive];if(void 0!==le){var re=le.call(ne,"string");if("object"!=C(re))return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(Q);return"symbol"==C(z)?z:z+""}var P=Symbol(),D=Symbol(),F=function(){function Q(re){if(function(ue,he){if(!(ue instanceof he))throw new TypeError("Cannot call a class as a function")}(this,Q),re!==D)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return z=Q,le=[{key:"instance",get:function(){return this[P]||(this[P]=new Q(D)),Object.seal(this[P])}}],(ne=[{key:"object2binary",value:function(re){var ue=new(m())(new ArrayBuffer(0),0,m().BIG_ENDIAN);return ue.writeInt8(G.SFS_OBJECT),ue.writeInt16(re.size()),this.obj2bin(re,ue),new Uint8Array(ue.buffer)}},{key:"obj2bin",value:function(re,ue){var he,pe=function(Xe,Pt){var bt="undefined"!=typeof Symbol&&Xe[Symbol.iterator]||Xe["@@iterator"];if(!bt){if(Array.isArray(Xe)||(bt=function(je,We){if(je){if("string"==typeof je)return A(je,void 0);var Je={}.toString.call(je).slice(8,-1);return"Object"===Je&&je.constructor&&(Je=je.constructor.name),"Map"===Je||"Set"===Je?Array.from(je):"Arguments"===Je||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je)?A(je,void 0):void 0}}(Xe))){bt&&(Xe=bt);var it=0,rt=function(){};return{s:rt,n:function(){return it>=Xe.length?{done:!0}:{done:!1,value:Xe[it++]}},e:function(je){throw je},f:rt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Te,Ae=!0,Ue=!1;return{s:function(){bt=bt.call(Xe)},n:function(){var je=bt.next();return Ae=je.done,je},e:function(je){Ue=!0,Te=je},f:function(){try{Ae||null==bt.return||bt.return()}finally{if(Ue)throw Te}}}}(re.keys());try{for(pe.s();!(he=pe.n()).done;){var ze=he.value,at=re.getWrappedItem(ze);this.encodeSFSObjectKey(ue,ze),this.encodeObject(ue,at)}}catch(Xe){pe.e(Xe)}finally{pe.f()}}},{key:"array2binary",value:function(re){var ue=new(m())(new ArrayBuffer(0),0,m().BIG_ENDIAN);return ue.writeInt8(G.SFS_ARRAY),ue.writeInt16(re.size()),this.arr2bin(re,ue),new Uint8Array(ue.buffer)}},{key:"arr2bin",value:function(re,ue){for(var he=0;he<re.size();he++){var pe=re.getWrappedItem(he);this.encodeObject(ue,pe)}}},{key:"encodeSFSObjectKey",value:function(re,ue){var he=new v.TextEncoder("utf-8").encode(ue),pe=he.length;if(pe>255)throw new SFSError("Object key size: "+pe+" bytes; expected max 255 bytes");re.writeInt16(pe),re.writeUint8Array(he)}},{key:"encodeObject",value:function(re,ue){var he=ue.type;if(he===G.NULL)this.binEncode_NULL(re,ue);else if(he===G.BOOL)this.binEncode_BOOL(re,ue);else if(he===G.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(re,ue);else if(he===G.BYTE)this.binEncode_BYTE(re,ue);else if(he===G.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(re,ue);else if(he===G.SHORT)this.binEncode_SHORT(re,ue);else if(he===G.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(re,ue);else if(he===G.INT)this.binEncode_INT(re,ue);else if(he===G.INT_ARRAY)this.binEncode_INT_ARRAY(re,ue);else if(he===G.LONG)this.binEncode_LONG(re,ue);else if(he===G.LONG_ARRAY)this.binEncode_LONG_ARRAY(re,ue);else if(he===G.FLOAT)this.binEncode_FLOAT(re,ue);else if(he===G.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(re,ue);else if(he===G.DOUBLE)this.binEncode_DOUBLE(re,ue);else if(he===G.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(re,ue);else if(he===G.UTF_STRING)this.binEncode_UTF_STRING(re,ue);else if(he===G.TEXT)this.binEncode_TEXT(re,ue);else if(he===G.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(re,ue);else if(he===G.SFS_ARRAY)re.writeUint8Array(this.array2binary(ue.value));else{if(he!==G.SFS_OBJECT)throw"Unknow SFSDataType ID: "+he;re.writeUint8Array(this.object2binary(ue.value))}return re}},{key:"binEncode_NULL",value:function(re,ue){re.writeUint8(ue.type)}},{key:"binEncode_BOOL",value:function(re,ue){re.writeUint8(ue.type),re.writeUint8(ue.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++)re.writeUint8(he[pe]?1:0)}},{key:"binEncode_BYTE",value:function(re,ue){re.writeUint8(ue.type),re.writeUint8(ue.value)}},{key:"binEncode_BYTE_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint32(he.length),re.writeUint8Array(he)}},{key:"binEncode_SHORT",value:function(re,ue){re.writeUint8(ue.type),re.writeUint16(ue.value)}},{key:"binEncode_SHORT_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++)re.writeUint16(he[pe])}},{key:"binEncode_INT",value:function(re,ue){re.writeUint8(ue.type),re.writeUint32(ue.value)}},{key:"binEncode_INT_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++)re.writeUint32(he[pe])}},{key:"binEncode_LONG",value:function(re,ue){var he=ue.value,pe=Math.floor(he/Math.pow(2,32)),ze=he%Math.pow(2,32);re.writeUint8(ue.type),re.writeInt32(pe),re.writeInt32(ze)}},{key:"binEncode_LONG_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++){var ze=he[pe],at=Math.floor(ze/Math.pow(2,32)),Xe=ze%Math.pow(2,32);re.writeInt32(at),re.writeInt32(Xe)}}},{key:"binEncode_FLOAT",value:function(re,ue){re.writeUint8(ue.type),re.writeFloat32(ue.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++)re.writeFloat32(he[pe])}},{key:"binEncode_DOUBLE",value:function(re,ue){re.writeUint8(ue.type),re.writeFloat64(ue.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++)re.writeFloat64(he[pe])}},{key:"binEncode_UTF_STRING",value:function(re,ue){var he=new v.TextEncoder("utf-8").encode(ue.value);re.writeUint8(ue.type),re.writeUint16(he.length),re.writeUint8Array(he)}},{key:"binEncode_TEXT",value:function(re,ue){var he=new v.TextEncoder("utf-8").encode(ue.value);re.writeUint8(ue.type),re.writeUint32(he.length),re.writeUint8Array(he)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(re,ue){var he=ue.value;re.writeUint8(ue.type),re.writeUint16(he.length);for(var pe=0;pe<he.length;pe++){var ze=new v.TextEncoder("utf-8").encode(he[pe]);re.writeUint16(ze.byteLength),re.writeUint8Array(ze)}}},{key:"binary2object",value:function(re){if(re.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+re.byteLength+" bytes";return this.decodeSFSObject(new(m())(re,0,m().BIG_ENDIAN))}},{key:"binary2array",value:function(re){if(re.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+re.byteLength+" bytes";return this.decodeSFSArray(new(m())(re,0,m().BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(re){var ue=new fe,he=re.readUint8();if(he!==G.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+G.SFS_OBJECT+", found: "+he;var pe=re.readUint16();if(pe<0)throw"Can't decode SFSObject. Size is negative: "+pe;try{for(var ze=0;ze<pe;ze++){var at=re.readUint16();if(at<0||at>255)throw"Invalid SFSObject key length. Found: "+at;var Xe=re.readUint8Array(at),Pt=new v.TextDecoder("utf-8").decode(Xe),bt=this.decodeObject(re);if(null==bt)throw"Could not decode value for key: "+Pt;ue.put(Pt,bt.value,bt.type,!0)}}catch(it){throw it}return ue}},{key:"decodeSFSArray",value:function(re){var ue=new Me,he=re.readUint8();if(he!==G.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+G.SFS_ARRAY+", found: "+he;var pe=re.readInt16();if(pe<0)throw"Can't decode SFSArray. Size is negative: "+pe;try{for(var ze=0;ze<pe;ze++){var at=this.decodeObject(re);if(null==at)throw"Could not decode value for index: "+ze;ue.add(at.value,at.type,!0)}}catch(Xe){throw Xe}return ue}},{key:"decodeObject",value:function(re){var ue=null,he=re.readUint8();if(he===G.NULL)ue=this.binDecode_NULL(re);else if(he===G.BOOL)ue=this.binDecode_BOOL(re);else if(he===G.BOOL_ARRAY)ue=this.binDecode_BOOL_ARRAY(re);else if(he===G.BYTE)ue=this.binDecode_BYTE(re);else if(he===G.BYTE_ARRAY)ue=this.binDecode_BYTE_ARRAY(re);else if(he===G.SHORT)ue=this.binDecode_SHORT(re);else if(he===G.SHORT_ARRAY)ue=this.binDecode_SHORT_ARRAY(re);else if(he===G.INT)ue=this.binDecode_INT(re);else if(he===G.INT_ARRAY)ue=this.binDecode_INT_ARRAY(re);else if(he===G.LONG)ue=this.binDecode_LONG(re);else if(he===G.LONG_ARRAY)ue=this.binDecode_LONG_ARRAY(re);else if(he===G.FLOAT)ue=this.binDecode_FLOAT(re);else if(he===G.FLOAT_ARRAY)ue=this.binDecode_FLOAT_ARRAY(re);else if(he===G.DOUBLE)ue=this.binDecode_DOUBLE(re);else if(he===G.DOUBLE_ARRAY)ue=this.binDecode_DOUBLE_ARRAY(re);else if(he===G.UTF_STRING)ue=this.binDecode_UTF_STRING(re);else if(he===G.TEXT)ue=this.binDecode_TEXT(re);else if(he===G.UTF_STRING_ARRAY)ue=this.binDecode_UTF_STRING_ARRAY(re);else if(he===G.SFS_ARRAY){re.seek(re.position-1);var pe=this.decodeSFSArray(re);ue=new X(he,pe)}else{if(he!==G.SFS_OBJECT)throw"Unknow SFSDataType ID: "+he;re.seek(re.position-1);var ze=this.decodeSFSObject(re);ue=new X(he,ze)}return ue}},{key:"binDecode_NULL",value:function(re){return new X(G.NULL,null)}},{key:"binDecode_BOOL",value:function(re){var ue=re.readUint8(),he=null;if(0===ue)he=!1;else{if(1!==ue)throw"Error decoding Bool type. Illegal value: "+ue;he=!0}return new X(G.BOOL,he)}},{key:"binDecode_BOOL_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++){var ze=re.readUint8(),at=null;if(0===ze)at=!1;else{if(1!==ze)throw"Error decoding Bool type. Illegal value: "+ze;at=!0}he.push(at)}return new X(G.BOOL_ARRAY,he)}},{key:"binDecode_BYTE",value:function(re){var ue=re.readUint8();return new X(G.BYTE,ue)}},{key:"binDecode_BYTE_ARRAY",value:function(re){var ue=re.readInt32();if(ue<0)throw"Error decoding typed array size. Negative size: "+ue;for(var he=new Uint8Array(ue),pe=0;pe<ue;pe++)he[pe]=re.readUint8();return new X(G.BYTE_ARRAY,he)}},{key:"binDecode_SHORT",value:function(re){var ue=re.readInt16();return new X(G.SHORT,ue)}},{key:"binDecode_SHORT_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++)he.push(re.readInt16());return new X(G.SHORT_ARRAY,he)}},{key:"binDecode_INT",value:function(re){var ue=re.readInt32();return new X(G.INT,ue)}},{key:"binDecode_INT_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++)he.push(re.readInt32());return new X(G.INT_ARRAY,he)}},{key:"binDecode_LONG",value:function(re){var ue=re.readInt32(),he=re.readUint32(),pe=ue*Math.pow(2,32)+he;return new X(G.LONG,pe)}},{key:"binDecode_LONG_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++){var ze=re.readInt32(),at=re.readUint32(),Xe=ze*Math.pow(2,32)+at;he.push(Xe)}return new X(G.LONG_ARRAY,he)}},{key:"binDecode_FLOAT",value:function(re){var ue=re.readFloat32();return new X(G.FLOAT,ue)}},{key:"binDecode_FLOAT_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++)he.push(re.readFloat32());return new X(G.FLOAT_ARRAY,he)}},{key:"binDecode_DOUBLE",value:function(re){var ue=re.readFloat64();return new X(G.DOUBLE,ue)}},{key:"binDecode_DOUBLE_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++)he.push(re.readFloat64());return new X(G.DOUBLE_ARRAY,he)}},{key:"binDecode_UTF_STRING",value:function(re){var ue=re.readInt16();if(ue<0)throw"Error decoding UTF_STRING. Negative size: "+ue;var he=re.readUint8Array(ue),pe=new v.TextDecoder("utf-8").decode(he);return new X(G.UTF_STRING,pe)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(re){for(var ue=this.getTypedArraySize(re),he=[],pe=0;pe<ue;pe++){var ze=re.readInt16();if(ze<0)throw"Error decoding UTF_STRING. Negative size: "+ze;var at=re.readUint8Array(ze),Xe=new v.TextDecoder("utf-8").decode(at);he.push(Xe)}return new X(G.UTF_STRING_ARRAY,he)}},{key:"binDecode_TEXT",value:function(re){var ue=re.readInt32();if(ue<0)throw"Error decoding TEXT. Negative size: "+ue;var he=re.readUint8Array(ue),pe=new v.TextDecoder("utf-8").decode(he);return new X(G.TEXT,pe)}},{key:"getTypedArraySize",value:function(re){var ue=re.readUint16();if(ue<0)throw"Error decoding typed array size. Negative size: "+ue;return ue}}])&&V(z.prototype,ne),le&&V(z,le),Object.defineProperty(z,"prototype",{writable:!1}),z;var z,ne,le}(),L=h(1470),O=h(4045),E=h(60);function b(Q){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(Q)}function w(Q,z){(null==z||z>Q.length)&&(z=Q.length);for(var ne=0,le=Array(z);ne<z;ne++)le[ne]=Q[ne];return le}function S(Q,z){for(var ne=0;ne<z.length;ne++){var le=z[ne];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Q,H(le.key),le)}}function M(Q,z,ne){return z&&S(Q.prototype,z),ne&&S(Q,ne),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function H(Q){var z=function(ne){if("object"!=b(ne)||!ne)return ne;var le=ne[Symbol.toPrimitive];if(void 0!==le){var re=le.call(ne,"string");if("object"!=b(re))return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(Q);return"symbol"==b(z)?z:z+""}function j(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")}var G=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(Q){if("number"!=typeof Q)return null;for(var z in this)if(this.hasOwnProperty(z)&&this[z]===Q)return z},validate:function(Q,z){if(null==this.fromId(Q))throw new E.Fo("Invalid type passed; use one of the SFSDataType constants");var ne=null;if(Q===this.NULL&&null!=z&&(ne="a null value"),Q!==this.NULL&&null==z&&(ne="a non-null value"),Q!==this.BOOL||this.isBoolType(z)||(ne="a boolean value"),Q!==this.BYTE||this.isByteType(z)||(ne="an integer number in this range: 0 <= value < 256"),Q!==this.SHORT||this.isShortType(z)||(ne="an integer number in this range: -32.768 <= value < +32.768"),Q!==this.INT||this.isIntType(z)||(ne="an integer number in this range: -2^31 <= value < +2^31"),Q!==this.LONG||this.isLongType(z)||(ne="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),Q!==this.FLOAT||this.isFloatType(z)||(ne="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),Q!==this.DOUBLE||this.isDoubleType(z)||(ne="a finite number"),Q!==this.UTF_STRING&&Q!==this.TEXT||this.isStringType(z)||(ne="a string value"),Q!==this.BOOL_ARRAY||this.isArrayType(z,this.isBoolType)||(ne="an array of boolean values"),Q!==this.BYTE_ARRAY||z instanceof Uint8Array||(ne="a Uint8Array"),Q!==this.SHORT_ARRAY||this.isArrayType(z,this.isShortType)||(ne="an array of integer numbers in this range: -32.768 <= value < +32.768"),Q!==this.INT_ARRAY||this.isArrayType(z,this.isIntType)||(ne="an array of integer numbers in this range: -2^31 <= value < +2^31"),Q!==this.LONG_ARRAY||this.isArrayType(z,this.isLongType)||(ne="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),Q!==this.FLOAT_ARRAY||this.isArrayType(z,this.isFloatType)||(ne="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),Q!==this.DOUBLE_ARRAY||this.isArrayType(z,this.isDoubleType)||(ne="an array of finite numbers"),Q!==this.UTF_STRING_ARRAY||this.isArrayType(z,this.isStringType)||(ne="an array of string values"),Q!==this.SFS_OBJECT||z instanceof fe||(ne="a SFSObject instance"),Q!==this.SFS_ARRAY||z instanceof Me||(ne="a SFSArray instance"),null!=ne)throw new E.Fo("Invalid value passed; type SFSDataType."+this.fromId(Q)+" requires "+ne)},isBoolType:function(Q){return"boolean"==typeof Q},isByteType:function(Q){return"number"==typeof Q&&Math.floor(Q)===Q&&Q>=0&&Q<256},isShortType:function(Q){return"number"==typeof Q&&Math.floor(Q)===Q&&Q>=-32768&&Q<32768},isIntType:function(Q){return"number"==typeof Q&&Math.floor(Q)===Q&&Q>=-2147483648&&Q<2147483648},isLongType:function(Q){return"number"==typeof Q&&Math.floor(Q)===Q&&Number.isSafeInteger(Q)},isFloatType:function(Q){return"number"==typeof Q&&Q>=-34028234663852886e22&&Q<=34028234663852886e22},isDoubleType:function(Q){return"number"==typeof Q&&isFinite(Q)},isStringType:function(Q){return"string"==typeof Q},isArrayType:function(Q,z){return Q instanceof Array&&(!(Q.length>0)||z(Q[0]))}}),X=M(function Q(z,ne){j(this,Q),this.type=z,this.value=ne,Object.freeze(this)}),fe=M(function Q(){j(this,Q),this._dataHolder=new Map,this._serializer=F.instance,Object.freeze(this)},[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(Q){return this._dataHolder.get(Q)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(Q){return null!=this.getWrappedItem(Q)}},{key:"get",value:function(Q){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ne=this.getWrappedItem(Q);if(null!=ne&&null!=z&&ne.type!=z)throw new E.Fo("Requested value is not of type SFSDataType."+G.fromId(z));return null!=ne?ne.value:null}},{key:"isNull",value:function(Q){var z=this.getWrappedItem(Q);return null==z||z.type==G.NULL}},{key:"getBool",value:function(Q){return this.get(Q,G.BOOL)}},{key:"getByte",value:function(Q){return this.get(Q,G.BYTE)}},{key:"getShort",value:function(Q){return this.get(Q,G.SHORT)}},{key:"getInt",value:function(Q){return this.get(Q,G.INT)}},{key:"getLong",value:function(Q){var z=this.get(Q,G.LONG);return Number.isSafeInteger(z)||O.Vy.instance.warn("Long value contained in SFSObject is not safe"),z}},{key:"getFloat",value:function(Q){return this.get(Q,G.FLOAT)}},{key:"getDouble",value:function(Q){return this.get(Q,G.DOUBLE)}},{key:"getUtfString",value:function(Q){return this.get(Q,G.UTF_STRING)}},{key:"getText",value:function(Q){return this.get(Q,G.TEXT)}},{key:"getBoolArray",value:function(Q){return this.get(Q,G.BOOL_ARRAY)}},{key:"getByteArray",value:function(Q){return this.get(Q,G.BYTE_ARRAY)}},{key:"getShortArray",value:function(Q){return this.get(Q,G.SHORT_ARRAY)}},{key:"getIntArray",value:function(Q){return this.get(Q,G.INT_ARRAY)}},{key:"getLongArray",value:function(Q){return this.get(Q,G.LONG_ARRAY)}},{key:"getFloatArray",value:function(Q){return this.get(Q,G.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(Q){return this.get(Q,G.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(Q){return this.get(Q,G.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(Q){return this.get(Q,G.SFS_OBJECT)}},{key:"getSFSArray",value:function(Q){return this.get(Q,G.SFS_ARRAY)}},{key:"put",value:function(Q,z,ne){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof Q)throw"Invalid key passed; must be of type string";G.validate(ne,z)}this._dataHolder.set(Q,new X(ne,z))}},{key:"putNull",value:function(Q){this.put(Q,null,G.NULL)}},{key:"putBool",value:function(Q,z){this.put(Q,z,G.BOOL)}},{key:"putByte",value:function(Q,z){this.put(Q,z,G.BYTE)}},{key:"putShort",value:function(Q,z){this.put(Q,z,G.SHORT)}},{key:"putInt",value:function(Q,z){this.put(Q,z,G.INT)}},{key:"putLong",value:function(Q,z){this.put(Q,z,G.LONG)}},{key:"putFloat",value:function(Q,z){this.put(Q,z,G.FLOAT)}},{key:"putDouble",value:function(Q,z){this.put(Q,z,G.DOUBLE)}},{key:"putUtfString",value:function(Q,z){this.put(Q,z,G.UTF_STRING)}},{key:"putText",value:function(Q,z){this.put(Q,z,G.TEXT)}},{key:"putBoolArray",value:function(Q,z){this.put(Q,z,G.BOOL_ARRAY)}},{key:"putByteArray",value:function(Q,z){this.put(Q,z,G.BYTE_ARRAY)}},{key:"putShortArray",value:function(Q,z){this.put(Q,z,G.SHORT_ARRAY)}},{key:"putIntArray",value:function(Q,z){this.put(Q,z,G.INT_ARRAY)}},{key:"putLongArray",value:function(Q,z){this.put(Q,z,G.LONG_ARRAY)}},{key:"putFloatArray",value:function(Q,z){this.put(Q,z,G.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(Q,z){this.put(Q,z,G.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(Q,z){this.put(Q,z,G.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(Q,z){this.put(Q,z,G.SFS_ARRAY)}},{key:"putSFSObject",value:function(Q,z){this.put(Q,z,G.SFS_OBJECT)}},{key:"getDump",value:function(){var Q=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":Q?L.z.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return L.z.hexDump(this.toBinary())}},{key:"_dump",value:function(){var Q,z=L.z.TOKEN_INDENT_OPEN,ne=function(he,pe){var ze="undefined"!=typeof Symbol&&he[Symbol.iterator]||he["@@iterator"];if(!ze){if(Array.isArray(he)||(ze=function(rt,Te){if(rt){if("string"==typeof rt)return w(rt,void 0);var Ae={}.toString.call(rt).slice(8,-1);return"Object"===Ae&&rt.constructor&&(Ae=rt.constructor.name),"Map"===Ae||"Set"===Ae?Array.from(rt):"Arguments"===Ae||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae)?w(rt,void 0):void 0}}(he))){ze&&(he=ze);var at=0,Xe=function(){};return{s:Xe,n:function(){return at>=he.length?{done:!0}:{done:!1,value:he[at++]}},e:function(rt){throw rt},f:Xe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Pt,bt=!0,it=!1;return{s:function(){ze=ze.call(he)},n:function(){var rt=ze.next();return bt=rt.done,rt},e:function(rt){it=!0,Pt=rt},f:function(){try{bt||null==ze.return||ze.return()}finally{if(it)throw Pt}}}}(this.keys());try{for(ne.s();!(Q=ne.n()).done;){var le=Q.value,re=this.getWrappedItem(le),ue=G.fromId(re.type);z+="(".concat(ue.toLowerCase(),") ").concat(le,": "),z+=re.type===G.SFS_OBJECT||re.type===G.SFS_ARRAY?re.value.getDump(!1):re.type===G.BYTE_ARRAY?L.z.prettyPrintByteArray(re.value):re.value,z+=L.z.TOKEN_DIVIDER}}catch(he){ne.e(he)}finally{ne.f()}return z+L.z.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(Q){return F.instance.binary2object(Q)}}]),Me=function(){function Q(){j(this,Q),this._dataHolder=[],this._serializer=F.instance,Object.freeze(this)}return M(Q,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(z){return"number"!=typeof z||z>=this._dataHolder.length?null:this._dataHolder[z]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(z){if(z instanceof Q||z instanceof fe)throw new E.nT("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var ne=0;ne<this.size();ne++){var le=this.getWrappedItem(ne);if(null!=le&&le.value==z)return!0}return!1}},{key:"get",value:function(z){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof z||z>=this._dataHolder.length)return null;var le=this.getWrappedItem(z);if(null!=le&&null!=ne&&le.type!=ne)throw new E.Fo("Requested value is not of type SFSDataType."+G.fromId(ne));return null!=le?le.value:null}},{key:"isNull",value:function(z){var ne=this.getWrappedItem(z);return null==ne||ne.type==G.NULL}},{key:"getBool",value:function(z){return this.get(z,G.BOOL)}},{key:"getByte",value:function(z){return this.get(z,G.BYTE)}},{key:"getShort",value:function(z){return this.get(z,G.SHORT)}},{key:"getInt",value:function(z){return this.get(z,G.INT)}},{key:"getLong",value:function(z){var ne=this.get(z,G.LONG);return Number.isSafeInteger(ne)||O.Vy.instance.warn("Long value contained in SFSObject is not safe"),ne}},{key:"getFloat",value:function(z){return this.get(z,G.FLOAT)}},{key:"getDouble",value:function(z){return this.get(z,G.DOUBLE)}},{key:"getUtfString",value:function(z){return this.get(z,G.UTF_STRING)}},{key:"getText",value:function(z){return this.get(z,G.TEXT)}},{key:"getBoolArray",value:function(z){return this.get(z,G.BOOL_ARRAY)}},{key:"getByteArray",value:function(z){return this.get(z,G.BYTE_ARRAY)}},{key:"getShortArray",value:function(z){return this.get(z,G.SHORT_ARRAY)}},{key:"getIntArray",value:function(z){return this.get(z,G.INT_ARRAY)}},{key:"getLongArray",value:function(z){return this.get(z,G.LONG_ARRAY)}},{key:"getFloatArray",value:function(z){return this.get(z,G.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(z){return this.get(z,G.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(z){return this.get(z,G.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(z){return this.get(z,G.SFS_OBJECT)}},{key:"getSFSArray",value:function(z){return this.get(z,G.SFS_ARRAY)}},{key:"add",value:function(z,ne){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||G.validate(ne,z),this._dataHolder.push(new X(ne,z))}},{key:"addNull",value:function(){this.add(null,G.NULL)}},{key:"addBool",value:function(z){this.add(z,G.BOOL)}},{key:"addByte",value:function(z){this.add(z,G.BYTE)}},{key:"addShort",value:function(z){this.add(z,G.SHORT)}},{key:"addInt",value:function(z){this.add(z,G.INT)}},{key:"addLong",value:function(z){this.add(z,G.LONG)}},{key:"addFloat",value:function(z){this.add(z,G.FLOAT)}},{key:"addDouble",value:function(z){this.add(z,G.DOUBLE)}},{key:"addUtfString",value:function(z){this.add(z,G.UTF_STRING)}},{key:"addText",value:function(z){this.add(z,G.TEXT)}},{key:"addBoolArray",value:function(z){this.add(z,G.BOOL_ARRAY)}},{key:"addByteArray",value:function(z){this.add(z,G.BYTE_ARRAY)}},{key:"addShortArray",value:function(z){this.add(z,G.SHORT_ARRAY)}},{key:"addIntArray",value:function(z){this.add(z,G.INT_ARRAY)}},{key:"addLongArray",value:function(z){this.add(z,G.LONG_ARRAY)}},{key:"addFloatArray",value:function(z){this.add(z,G.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(z){this.add(z,G.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(z){this.add(z,G.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(z){this.add(z,G.SFS_ARRAY)}},{key:"addSFSObject",value:function(z){this.add(z,G.SFS_OBJECT)}},{key:"getDump",value:function(){var z=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":z?L.z.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return L.z.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var z=L.z.TOKEN_INDENT_OPEN,ne=0;ne<this.size();ne++){var le=this.getWrappedItem(ne),re=G.fromId(le.type);z+="(".concat(re.toLowerCase(),") ").concat(ne,": "),z+=le.type===G.SFS_OBJECT||le.type===G.SFS_ARRAY?le.value.getDump(!1):le.type===G.BYTE_ARRAY?L.z.prettyPrintByteArray(le.value):le.value,z+=L.z.TOKEN_DIVIDER}return z+L.z.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(z){return F.instance.binary2array(z)}}])}(),me=function(){function Q(z,ne){var le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,re=arguments.length>3&&void 0!==arguments[3]&&arguments[3];j(this,Q),this.px=z,this.py=ne,this.pz=le,this._useFloatCoordinates=re}return M(Q,[{key:"isFloat",get:function(){return this._useFloatCoordinates}},{key:"toString",value:function(){return"(".concat(this.px,",").concat(this.py,",").concat(this.pz,")")}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}}],[{key:"fromArray",value:function(z){return new Q(z[0],z[1],z[2])}}])}()},249:(N,U,h)=>{"use strict";function y(V){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(V)}function v(V){var g=function(P){if("object"!=y(P)||!P)return P;var D=P[Symbol.toPrimitive];if(void 0!==D){var F=D.call(P,"string");if("object"!=y(F))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(V);return"symbol"==y(g)?g:g+""}h.d(U,{q:()=>C,u:()=>A});var V,g,C=(V=function P(D,F){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")})(this,P),this._id=-1,this._inviter=D,this._invitee=F,this._secondsForAnswer=L,this._params=O,Object.seal(this)},(g=[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}])&&function m(V,g){for(var P=0;P<g.length;P++){var D=g[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(V,v(D.key),D)}}(V.prototype,g),Object.defineProperty(V,"prototype",{writable:!1}),V),A=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255})},8214:(N,U,h)=>{"use strict";function y(w,S,M){return S=v(S),function(H,j){if(j&&("object"==V(j)||"function"==typeof j))return j;if(void 0!==j)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(H)}(w,m()?Reflect.construct(S,M||[],v(w).constructor):S.apply(w,M))}function m(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(m=function(){return!!w})()}function v(w){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}function C(w,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),S&&A(w,S)}function A(w,S){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,H){return M.__proto__=H,M})(w,S)}function V(w){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function g(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function P(w,S){for(var M=0;M<S.length;M++){var H=S[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(w,F(H.key),H)}}function D(w,S,M){return S&&P(w.prototype,S),M&&P(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w}function F(w){var S=function(M){if("object"!=V(M)||!M)return M;var H=M[Symbol.toPrimitive];if(void 0!==H){var j=H.call(M,"string");if("object"!=V(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(w);return"symbol"==V(S)?S:S+""}h.d(U,{LX:()=>b,pU:()=>E,q3:()=>O});var L=D(function w(S,M){g(this,w),this._type=S,this._symbol=M,Object.freeze(this)},[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),O=function(w){function S(M){var H;return g(this,S),H=y(this,S,[0,M]),Object.freeze(H),H}return C(S,w),D(S,null,[{key:"EQUALS",get:function(){return new S("==")}},{key:"NOT_EQUALS",get:function(){return new S("!=")}}])}(L),E=function(w){function S(M){var H;return g(this,S),H=y(this,S,[1,M]),Object.freeze(H),H}return C(S,w),D(S,null,[{key:"EQUALS",get:function(){return new S("==")}},{key:"NOT_EQUALS",get:function(){return new S("!=")}},{key:"GREATER_THAN",get:function(){return new S(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new S(">=")}},{key:"LESS_THAN",get:function(){return new S("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new S("<=")}}])}(L),b=function(w){function S(M){var H;return g(this,S),H=y(this,S,[2,M]),Object.freeze(H),H}return C(S,w),D(S,null,[{key:"EQUALS",get:function(){return new S("==")}},{key:"NOT_EQUALS",get:function(){return new S("!=")}},{key:"CONTAINS",get:function(){return new S("contains")}},{key:"STARTS_WITH",get:function(){return new S("startsWith")}},{key:"ENDS_WITH",get:function(){return new S("endsWith")}}])}(L)},2121:(N,U,h)=>{"use strict";h.d(U,{M:()=>g,Z:()=>P});var y=h(1142);function m(D){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(D)}function v(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}function C(D,F){for(var L=0;L<F.length;L++){var O=F[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,V(O.key),O)}}function A(D,F,L){return F&&C(D.prototype,F),L&&C(D,L),Object.defineProperty(D,"prototype",{writable:!1}),D}function V(D){var F=function(L){if("object"!=m(L)||!L)return L;var O=L[Symbol.toPrimitive];if(void 0!==O){var E=O.call(L,"string");if("object"!=m(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(D);return"symbol"==m(F)?F:F+""}var g=function(){function D(F,L,O){v(this,D),this._varName=F,this._condition=L,this._value=O,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return A(D,[{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}},{key:"and",value:function(F,L,O){return this._next=D.chainedMatchExpression(F,L,O,P.AND,this),this._next}},{key:"or",value:function(F,L,O){return this._next=D.chainedMatchExpression(F,L,O,P.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var F=this;null!=F._parent;)F=F._parent;return F}},{key:"toString",value:function(){for(var F=this.rewind(),L=F.asString();F.hasNext();)L+=(F=F.next).asString();return L}},{key:"asString",value:function(){var F="";null!=this._logicOp&&(F+=" ".concat(this._logicOp.id," "));var L="string"==typeof this._value?"' ".concat(this._value," '"):this._value;return F+"(".concat(this._varName," ").concat(this._condition.symbol," ").concat(L,")")}},{key:"toSFSArray",value:function(){var F=this.rewind(),L=new y.uj;for(L.addSFSArray(F.expressionAsSFSArray());F.hasNext();)L.addSFSArray((F=F.next).expressionAsSFSArray());return L}},{key:"expressionAsSFSArray",value:function(){var F=new y.uj;return null!=this._logicOp?F.addUtfString(this._logicOp.id):F.addNull(),F.addUtfString(this._varName),F.addByte(this._condition.type),F.addUtfString(this._condition.symbol),0===this._condition.type?F.addBool(this._value):1===this._condition.type?F.addDouble(this._value):F.addUtfString(this._value),F}}],[{key:"chainedMatchExpression",value:function(F,L,O,E,b){var w=new D(F,L,O);return w._logicOp=E,w._parent=b,w}}])}(),P=function(){function D(F){v(this,D),this._id=F,Object.freeze(this)}return A(D,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new D("AND")}},{key:"OR",get:function(){return new D("OR")}}])}()},5405:(N,U,h)=>{"use strict";h.d(U,{D:()=>m,L:()=>y});var y=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),m=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"})},9523:(N,U,h)=>{"use strict";h.d(U,{l:()=>P,t:()=>g});var y=h(3054);function m(D){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(D)}function v(D,F){var L="undefined"!=typeof Symbol&&D[Symbol.iterator]||D["@@iterator"];if(!L){if(Array.isArray(D)||(L=function(M,H){if(M){if("string"==typeof M)return C(M,H);var j={}.toString.call(M).slice(8,-1);return"Object"===j&&M.constructor&&(j=M.constructor.name),"Map"===j||"Set"===j?Array.from(M):"Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?C(M,H):void 0}}(D))||F&&D&&"number"==typeof D.length){L&&(D=L);var O=0,E=function(){};return{s:E,n:function(){return O>=D.length?{done:!0}:{done:!1,value:D[O++]}},e:function(M){throw M},f:E}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b,w=!0,S=!1;return{s:function(){L=L.call(D)},n:function(){var M=L.next();return w=M.done,M},e:function(M){S=!0,b=M},f:function(){try{w||null==L.return||L.return()}finally{if(S)throw b}}}}function C(D,F){(null==F||F>D.length)&&(F=D.length);for(var L=0,O=Array(F);L<F;L++)O[L]=D[L];return O}function A(D,F){for(var L=0;L<F.length;L++){var O=F[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,V(O.key),O)}}function V(D){var F=function(L){if("object"!=m(L)||!L)return L;var O=L[Symbol.toPrimitive];if(void 0!==O){var E=O.call(L,"string");if("object"!=m(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(D);return"symbol"==m(F)?F:F+""}var g=function(){function D(E,b){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],S=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")})(this,D),this._id=E,this._name=b,this._isBlocked=w,this._isTemp=S,this._variables=new Map,Object.seal(this)}return F=D,O=[{key:"fromSFSArray",value:function(E){var b=new D(E.get(0),E.get(1),E.get(2),E.size()>3&&E.get(4)),w=E.get(3);if(null!=w)for(var S=0;S<w.size();S++)b._setVariable(y.D.fromSFSArray(w.get(S)));return b}}],(L=[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var E=!0;return this.containsVariable(y.C.BV_ONLINE)&&(E=this.getVariable(y.C.BV_ONLINE).value),E&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(y.C.BV_STATE)?this.getVariable(y.C.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(y.C.BV_NICKNAME)?this.getVariable(y.C.BV_NICKNAME).value:null}},{key:"toString",value:function(){return"[Buddy: ".concat(this.name,", Id: ").concat(this.id,"]")}},{key:"getVariable",value:function(E){return this._variables.get(E)}},{key:"containsVariable",value:function(E){return this._variables.has(E)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(E){return E.name.charAt(0)===y.D.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(E){return E.name.charAt(0)!==y.D.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(E){var b,w=v(E);try{for(w.s();!(b=w.n()).done;)this._setVariable(b.value)}catch(M){w.e(M)}finally{w.f()}}},{key:"_setVariable",value:function(E){E.isNull?this._variables.delete(E.name):this._variables.set(E.name,E)}},{key:"_removeVariable",value:function(E){this._variables.delete(E)}},{key:"_clearVolatileVariables",value:function(){var E,b=v(this.getOnlineVariables());try{for(b.s();!(E=b.n()).done;)this._removeVariable(E.value.name)}catch(S){b.e(S)}finally{b.f()}}}])&&A(F.prototype,L),O&&A(F,O),Object.defineProperty(F,"prototype",{writable:!1}),F;var F,L,O}(),P=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2})},3020:(N,U,h)=>{"use strict";h.d(U,{O:()=>S,X:()=>M});var y=h(1142),m=h(31),v=h(9593),C=h(60);function A(H,j,G){return j=g(j),function(X,fe){if(fe&&("object"==D(fe)||"function"==typeof fe))return fe;if(void 0!==fe)throw new TypeError("Derived constructors may only return object or undefined");return function(Me){if(void 0===Me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Me}(X)}(H,V()?Reflect.construct(j,G||[],g(H).constructor):j.apply(H,G))}function V(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(j){}return(V=function(){return!!H})()}function g(H){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)})(H)}function P(H,j){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,X){return G.__proto__=X,G})(H,j)}function D(H){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(H)}function F(H,j){var G="undefined"!=typeof Symbol&&H[Symbol.iterator]||H["@@iterator"];if(!G){if(Array.isArray(H)||(G=function(z,ne){if(z){if("string"==typeof z)return L(z,void 0);var le={}.toString.call(z).slice(8,-1);return"Object"===le&&z.constructor&&(le=z.constructor.name),"Map"===le||"Set"===le?Array.from(z):"Arguments"===le||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le)?L(z,void 0):void 0}}(H))||j&&H&&"number"==typeof H.length){G&&(H=G);var X=0,fe=function(){};return{s:fe,n:function(){return X>=H.length?{done:!0}:{done:!1,value:H[X++]}},e:function(z){throw z},f:fe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Me,me=!0,Q=!1;return{s:function(){G=G.call(H)},n:function(){var z=G.next();return me=z.done,z},e:function(z){Q=!0,Me=z},f:function(){try{me||null==G.return||G.return()}finally{if(Q)throw Me}}}}function L(H,j){(null==j||j>H.length)&&(j=H.length);for(var G=0,X=Array(j);G<j;G++)X[G]=H[G];return X}function O(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}function E(H,j){for(var G=0;G<j.length;G++){var X=j[G];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(H,w(X.key),X)}}function b(H,j,G){return j&&E(H.prototype,j),G&&E(H,G),Object.defineProperty(H,"prototype",{writable:!1}),H}function w(H){var j=function(G){if("object"!=D(G)||!G)return G;var X=G[Symbol.toPrimitive];if(void 0!==X){var fe=X.call(G,"string");if("object"!=D(fe))return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(H);return"symbol"==D(j)?j:j+""}var S=function(){function H(j,G){var X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",fe=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];O(this,H),this._id=j,this._name=G,this._groupId=X,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new v.l,this._roomManager=null,this.properties={},fe&&Object.seal(this)}return b(H,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}},{key:"toString",value:function(){return"[Room: ".concat(this.name,", Id: ").concat(this.id,", Group Id: ").concat(this.groupId,"]")}},{key:"getUserByName",value:function(j){return this._userManager.getUserByName(j)}},{key:"getUserById",value:function(j){return this._userManager.getUserById(j)}},{key:"containsUser",value:function(j){return this._userManager.containsUser(j)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var j=this;return this._userManager.getUserList().filter(function(G){return G.isPlayerInRoom(j)})}},{key:"getSpectatorList",value:function(){var j=this;return this._userManager.getUserList().filter(function(G){return G.isSpectatorInRoom(j)})}},{key:"getVariable",value:function(j){return this._variables.get(j)}},{key:"containsVariable",value:function(j){return this._variables.has(j)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(j){this._userManager._addUser(j)}},{key:"_removeUser",value:function(j){this._userManager._removeUser(j)}},{key:"_setVariables",value:function(j){var G,X=F(j);try{for(X.s();!(G=X.n()).done;)this._setVariable(G.value)}catch(Me){X.e(Me)}finally{X.f()}}},{key:"_setVariable",value:function(j){j.isNull?this._variables.delete(j.name):this._variables.set(j.name,j)}},{key:"_setRoomManager",value:function(j){if(null!=this._roomManager)throw new C.nT("Room Manager already assigned to "+this.toString());this._roomManager=j}},{key:"_merge",value:function(j){if(!this.isJoined){this._variables.clear();var G,X=F(j._variables.values());try{for(X.s();!(G=X.n()).done;)this._setVariable(G.value)}catch(z){X.e(z)}finally{X.f()}this._userManager._clearAll();var Me,me=F(j.getUserList());try{for(me.s();!(Me=me.n()).done;)this._addUser(Me.value)}catch(z){me.e(z)}finally{me.f()}}}}],[{key:"fromSFSArray",value:function(j){var G,X=14===j.size();(G=X?new M(j.get(0),j.get(1),j.get(2)):new H(j.get(0),j.get(1),j.get(2)))._isGame=j.get(3),G._isHidden=j.get(4),G._isPasswordProtected=j.get(5),G._userCount=j.get(6),G._maxUsers=j.get(7);var fe=j.get(8);if(null!=fe)for(var Me=0;Me<fe.size();Me++){var me=m.A.fromSFSArray(fe.get(Me));G._setVariable(me)}return G._isGame&&(G._specCount=j.get(9),G._maxSpectators=j.get(10)),X&&(G._defaultAOI=y.ed.fromArray(j.get(11)),null!=j.get(13)&&(G._lowerMapLimit=y.ed.fromArray(j.get(12)),G._higherMapLimit=y.ed.fromArray(j.get(13)))),G}}])}(),M=function(H){function j(G,X){var fe,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return O(this,j),(fe=A(this,j,[G,X,Me,!1]))._defaultAOI=null,fe._lowerMapLimit=null,fe._higherMapLimit=null,fe._itemsById=new Map,Object.seal(fe),fe}return function(G,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),X&&P(G,X)}(j,H),b(j,[{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}},{key:"getMMOItem",value:function(G){return this._itemsById.get(G)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(G){this._itemsById.set(G.id,G)}},{key:"_removeItem",value:function(G){this._itemsById.delete(G)}}])}(S)},5116:(N,U,h)=>{"use strict";h.d(U,{_:()=>D,e:()=>P});var y=h(8779),m=h(60);function v(F){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function C(F,L){var O="undefined"!=typeof Symbol&&F[Symbol.iterator]||F["@@iterator"];if(!O){if(Array.isArray(F)||(O=function(H,j){if(H){if("string"==typeof H)return A(H,j);var G={}.toString.call(H).slice(8,-1);return"Object"===G&&H.constructor&&(G=H.constructor.name),"Map"===G||"Set"===G?Array.from(H):"Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?A(H,j):void 0}}(F))||L&&F&&"number"==typeof F.length){O&&(F=O);var E=0,b=function(){};return{s:b,n:function(){return E>=F.length?{done:!0}:{done:!1,value:F[E++]}},e:function(H){throw H},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,S=!0,M=!1;return{s:function(){O=O.call(F)},n:function(){var H=O.next();return S=H.done,H},e:function(H){M=!0,w=H},f:function(){try{S||null==O.return||O.return()}finally{if(M)throw w}}}}function A(F,L){(null==L||L>F.length)&&(L=F.length);for(var O=0,E=Array(L);O<L;O++)E[O]=F[O];return E}function V(F,L){for(var O=0;O<L.length;O++){var E=L[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(F,g(E.key),E)}}function g(F){var L=function(O){if("object"!=v(O)||!O)return O;var E=O[Symbol.toPrimitive];if(void 0!==E){var b=E.call(O,"string");if("object"!=v(b))return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(F);return"symbol"==v(L)?L:L+""}var P=function(){function F(b,w){var S=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")})(this,F),this._id=b,this._name=w,this._isItMe=S,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return L=F,E=[{key:"fromSFSArray",value:function(b){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,S=new F(b.get(0),b.get(1));S._privilegeId=b.get(2),null!=w&&S._setPlayerId(b.get(3),w);var M=b.get(4);if(null!=M)for(var H=0;H<M.size();H++)S._setVariable(y.I.fromSFSArray(M.get(H)));return S}}],(O=[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===D.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===D.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===D.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===D.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"toString",value:function(){return"[User: ".concat(this.name,", Id: ").concat(this.id,", Is me: ").concat(this.isItMe,"]")}},{key:"isJoinedInRoom",value:function(b){return b.containsUser(this)}},{key:"getPlayerId",value:function(b){var w=this._playerIdByRoomId.get(b.id);return null!=w?w:0}},{key:"isPlayerInRoom",value:function(b){return!!b.isGame&&this.getPlayerId(b)>0}},{key:"isSpectatorInRoom",value:function(b){return!!b.isGame&&this.getPlayerId(b)<0}},{key:"getVariable",value:function(b){return this._variables.get(b)}},{key:"containsVariable",value:function(b){return this._variables.has(b)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(b,w){this._playerIdByRoomId.set(w.id,b)}},{key:"_removePlayerId",value:function(b){this._playerIdByRoomId.delete(b.id)}},{key:"_setVariables",value:function(b){var w,S=C(b);try{for(S.s();!(w=S.n()).done;)this._setVariable(w.value)}catch(H){S.e(H)}finally{S.f()}}},{key:"_setVariable",value:function(b){b.isNull?this._variables.delete(b.name):this._variables.set(b.name,b)}},{key:"_setUserManager",value:function(b){if(null!=this._userManager)throw new m.nT("User Manager already assigned to user "+this.toString());this._userManager=b}},{key:"_replaceVariables",value:function(b){var w=[];if(this.isItMe){var S,M=C(this._variables.values());try{for(M.s();!(S=M.n()).done;){var H=S.value;H.isPrivate&&w.push(H)}}catch(j){M.e(j)}finally{M.f()}}this._variables.clear(),w.length>0&&b.push.apply(b,w),this._setVariables(b)}}])&&V(L.prototype,O),E&&V(L,E),Object.defineProperty(L,"prototype",{writable:!1}),L;var L,O,E}(),D=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3})},3054:(N,U,h)=>{"use strict";h.d(U,{C:()=>D,D:()=>F});var y=h(3272);function m(L){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function v(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,C(b.key),b)}}function C(L){var O=function(E){if("object"!=m(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=m(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==m(O)?O:O+""}function A(L,O,E){return O=g(O),function(b,w){if(w&&("object"==m(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,V()?Reflect.construct(O,E||[],g(L).constructor):O.apply(L,E))}function V(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(V=function(){return!!L})()}function g(L){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function P(L,O){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var D=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),F=function(L){function O(S,M){var H,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}(this,O),H=A(this,O,[S,M,j]),Object.freeze(H),H}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&P(S,M)}(O,L),E=O,w=[{key:"OFFLINE_PREFIX",get:function(){return"$"}},{key:"fromSFSArray",value:function(S){return new O(S.get(0),S.get(2),S.get(1))}}],(b=[{key:"isOffline",get:function(){return this._name.charAt(0)===O.OFFLINE_PREFIX}},{key:"toString",value:function(){return"[BuddyVar: ".concat(this.name,", Type: ").concat(this.type,", Value: ").concat(this.value,"]")}}])&&v(E.prototype,b),w&&v(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.g)},6895:(N,U,h)=>{"use strict";function y(D){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(D)}function m(D,F){for(var L=0;L<F.length;L++){var O=F[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,v(O.key),O)}}function v(D){var F=function(L){if("object"!=y(L)||!L)return L;var O=L[Symbol.toPrimitive];if(void 0!==O){var E=O.call(L,"string");if("object"!=y(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(D);return"symbol"==y(F)?F:F+""}function C(D,F,L){return F=V(F),function(O,E){if(E&&("object"==y(E)||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(O)}(D,A()?Reflect.construct(F,L||[],V(D).constructor):F.apply(D,L))}function A(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(F){}return(A=function(){return!!D})()}function V(D){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)})(D)}function g(D,F){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,O){return L.__proto__=O,L})(D,F)}h.d(U,{l:()=>P});var P=function(D){function F(b,w){var S,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return function(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}(this,F),S=C(this,F,[b,w,M]),Object.freeze(S),S}return function(b,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),w&&g(b,w)}(F,D),L=F,E=[{key:"fromSFSArray",value:function(b){return new F(b.get(0),b.get(2),b.get(1))}}],(O=[{key:"toString",value:function(){return"[ItemVar: ".concat(this.name,", Type: ").concat(this.type,", Value: ").concat(this.value,"]")}}])&&m(L.prototype,O),E&&m(L,E),Object.defineProperty(L,"prototype",{writable:!1}),L;var L,O,E}(h(3272).g)},31:(N,U,h)=>{"use strict";h.d(U,{A:()=>L,H:()=>F});var y=h(3272);function m(O){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function v(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,C(w.key),w)}}function C(O){var E=function(b){if("object"!=m(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=m(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==m(E)?E:E+""}function A(O,E,b){return E=P(E),function(w,S){if(S&&("object"==m(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,V()?Reflect.construct(E,b||[],P(O).constructor):E.apply(O,b))}function V(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(V=function(){return!!O})()}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(O,E,b){var w=function(M,H){for(;!{}.hasOwnProperty.call(M,H)&&null!==(M=P(M)););return M}(O,E);if(w){var S=Object.getOwnPropertyDescriptor(w,E);return S.get?S.get.call(arguments.length<3?O:b):S.value}},g.apply(null,arguments)}function P(O){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function D(O,E){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var F=Object.freeze({RV_GAME_STARTED:"$GS"}),L=function(O){function E(M,H){var j,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,E),(j=A(this,E,[M,H,G])).isPrivate=!1,j.isPersistent=!1,Object.seal(j),j}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&D(M,H)}(E,O),b=E,S=[{key:"fromSFSArray",value:function(M){var H=new E(M.get(0),M.get(2),M.get(1));return H.isPrivate=M.get(3),H.isPersistent=M.get(4),H}}],(w=[{key:"toString",value:function(){return"[RoomVar: ".concat(this.name,", Type: ").concat(this.type,", Value: ").concat(this.value,", Private: ").concat(this.isPrivate,"]")}},{key:"toSFSArray",value:function(){var H,j,G=(H=this,"function"==typeof(j=g(P(E.prototype),"toSFSArray",H))?function(X){return j.apply(H,X)}:j)([]);return G.addBool(this.isPrivate),G.addBool(this.isPersistent),G}}])&&v(b.prototype,w),S&&v(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.g)},8779:(N,U,h)=>{"use strict";function y(F){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function m(F,L){for(var O=0;O<L.length;O++){var E=L[O];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(F,v(E.key),E)}}function v(F){var L=function(O){if("object"!=y(O)||!O)return O;var E=O[Symbol.toPrimitive];if(void 0!==E){var b=E.call(O,"string");if("object"!=y(b))return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}(F);return"symbol"==y(L)?L:L+""}function C(F,L,O){return L=g(L),function(E,b){if(b&&("object"==y(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(E)}(F,A()?Reflect.construct(L,O||[],g(F).constructor):L.apply(F,O))}function A(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(A=function(){return!!F})()}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(F,L,O){var E=function(w,S){for(;!{}.hasOwnProperty.call(w,S)&&null!==(w=g(w)););return w}(F,L);if(E){var b=Object.getOwnPropertyDescriptor(E,L);return b.get?b.get.call(arguments.length<3?F:O):b.value}},V.apply(null,arguments)}function g(F){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)})(F)}function P(F,L){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,E){return O.__proto__=E,O})(F,L)}h.d(U,{I:()=>D});var D=function(F){function L(w,S){var M,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return function(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}(this,L),(M=C(this,L,[w,S,H])).isPrivate=!1,Object.seal(M),M}return function(w,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),S&&P(w,S)}(L,F),O=L,b=[{key:"fromSFSArray",value:function(w){var S=new L(w.get(0),w.get(2),w.get(1));return w.size()>3&&(S.isPrivate=w.get(3)),S}}],(E=[{key:"toString",value:function(){return"[UserVar: ".concat(this.name,", Type: ").concat(this.type,", Value: ").concat(this.value,", Private: ").concat(this.isPrivate,"]")}},{key:"toSFSArray",value:function(){var S,M,H=(S=this,"function"==typeof(M=V(g(L.prototype),"toSFSArray",S))?function(j){return M.apply(S,j)}:M)([]);return H.addBool(this.isPrivate),H}}])&&m(O.prototype,E),b&&m(O,b),Object.defineProperty(O,"prototype",{writable:!1}),O;var O,E,b}(h(3272).g)},3272:(N,U,h)=>{"use strict";h.d(U,{H:()=>A,g:()=>V});var y=h(1142);function m(g){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(g)}function C(g){var P=function(D){if("object"!=m(D)||!D)return D;var F=D[Symbol.toPrimitive];if(void 0!==F){var L=F.call(D,"string");if("object"!=m(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(g);return"symbol"==m(P)?P:P+""}var g,P,A=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(g){return["null","boolean","int","double","string","SFSObject","SFSArray"][g]}}),V=(g=function D(F,L){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")})(this,D),this._name=F,this._value=L,this._type=O>-1?O:this._evalType()},(P=[{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return A.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===A.NULL}},{key:"toSFSArray",value:function(){var D=new y.uj;return D.addUtfString(this.name),D.addByte(this._type),this._populateArrayWithValue(D),D}},{key:"_populateArrayWithValue",value:function(D){switch(this._type){case A.NULL:D.addNull();break;case A.BOOLEAN:D.addBool(this.value);break;case A.INT:D.addInt(this.value);break;case A.DOUBLE:D.addDouble(this.value);break;case A.STRING:D.addUtfString(this.value);break;case A.SFSOBJECT:D.addSFSObject(this.value);break;case A.SFSARRAY:D.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return A.NULL;var D=m(this._value);if("boolean"===D)return A.BOOLEAN;if("number"===D){var F=this._value;return F===+F&&F===(0|F)?A.INT:A.DOUBLE}return"string"===D?A.STRING:"object"===D?this._value instanceof y.uj?A.SFSARRAY:A.SFSOBJECT:void 0}}])&&function v(g,P){for(var D=0;D<P.length;D++){var F=P[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(g,C(F.key),F)}}(g.prototype,P),Object.defineProperty(g,"prototype",{writable:!1}),g)},9593:(N,U,h)=>{"use strict";function y(b,w){var S="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!S){if(Array.isArray(b)||(S=function(fe,Me){if(fe){if("string"==typeof fe)return m(fe,void 0);var me={}.toString.call(fe).slice(8,-1);return"Object"===me&&fe.constructor&&(me=fe.constructor.name),"Map"===me||"Set"===me?Array.from(fe):"Arguments"===me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?m(fe,void 0):void 0}}(b))||w&&b&&"number"==typeof b.length){S&&(b=S);var M=0,H=function(){};return{s:H,n:function(){return M>=b.length?{done:!0}:{done:!1,value:b[M++]}},e:function(fe){throw fe},f:H}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j,G=!0,X=!1;return{s:function(){S=S.call(b)},n:function(){var fe=S.next();return G=fe.done,fe},e:function(fe){X=!0,j=fe},f:function(){try{G||null==S.return||S.return()}finally{if(X)throw j}}}}function m(b,w){(null==w||w>b.length)&&(w=b.length);for(var S=0,M=Array(w);S<w;S++)M[S]=b[S];return M}function v(b,w,S){return w=A(w),function(M,H){if(H&&("object"==g(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(M)}(b,C()?Reflect.construct(w,S||[],A(b).constructor):w.apply(b,S))}function C(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(C=function(){return!!b})()}function A(b){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function V(b,w){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,M){return S.__proto__=M,S})(b,w)}function g(b){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function P(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function D(b,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,L(M.key),M)}}function F(b,w,S){return w&&D(b.prototype,w),S&&D(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b}function L(b){var w=function(S){if("object"!=g(S)||!S)return S;var M=S[Symbol.toPrimitive];if(void 0!==M){var H=M.call(S,"string");if("object"!=g(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(b);return"symbol"==g(w)?w:w+""}h.d(U,{i:()=>E,l:()=>O});var O=F(function b(w){P(this,b),this._sfs=w,this._usersById=new Map,this._usersByName=new Map},[{key:"containsUserName",value:function(b){return this._usersByName.has(b)}},{key:"containsUserId",value:function(b){return this._usersById.has(b)}},{key:"containsUser",value:function(b){return this._usersById.has(b.id)}},{key:"getUserById",value:function(b){return this._usersById.get(b)}},{key:"getUserByName",value:function(b){return this._usersByName.get(b)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(b){this._usersByName.set(b.name,b),this._usersById.set(b.id,b)}},{key:"_removeUser",value:function(b){this._usersById.delete(b.id),this._usersByName.delete(b.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),E=function(b){function w(S){var M;return P(this,w),M=v(this,w,[S]),Object.freeze(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&V(S,M)}(w,b),F(w,[{key:"containsUserName",value:function(S){var M=!1,H=this._sfs.getJoinedRooms();if(null!=H){var j,G=y(H);try{for(G.s();!(j=G.n()).done;)if(j.value.getUserByName(S)){M=!0;break}}catch(X){G.e(X)}finally{G.f()}}return M}},{key:"containsUserId",value:function(S){var M=!1,H=this._sfs.getJoinedRooms();if(null!=H){var j,G=y(H);try{for(G.s();!(j=G.n()).done;)if(j.value.getUserById(S)){M=!0;break}}catch(X){G.e(X)}finally{G.f()}}return M}},{key:"containsUser",value:function(S){var M=!1,H=this._sfs.getJoinedRooms();if(null!=H){var j,G=y(H);try{for(G.s();!(j=G.n()).done;)if(j.value.containsUser(S)){M=!0;break}}catch(X){G.e(X)}finally{G.f()}}return M}},{key:"getUserById",value:function(S){if(this._sfs.mySelf.id==S)return this._sfs.mySelf;var M=null,H=this._sfs.getJoinedRooms();if(null!=H){var j,G=y(H);try{for(G.s();!(j=G.n()).done&&null==(M=j.value.getUserById(S)););}catch(X){G.e(X)}finally{G.f()}}return M}},{key:"getUserByName",value:function(S){if(this._sfs.mySelf.name==S)return this._sfs.mySelf;var M=null,H=this._sfs.getJoinedRooms();if(null!=H){var j,G=y(H);try{for(G.s();!(j=G.n()).done&&null==(M=j.value.getUserByName(S)););}catch(X){G.e(X)}finally{G.f()}}return M}},{key:"getUserList",value:function(){var S=this._sfs.getJoinedRooms();if(null==S||0==S.length){var M=[];return null!=this._sfs.mySelf&&M.push(this._sfs.mySelf),M}var H,j=new Set,G=y(S);try{for(G.s();!(H=G.n()).done;){var fe=new Set(H.value.getUserList());j=j.union(fe)}}catch(Me){G.e(Me)}finally{G.f()}return Array.from(j)}},{key:"getUserCount",value:function(){return getUserList().length}},{key:"_addUser",value:function(S){}},{key:"_removeUser",value:function(S){}}])}(O)},1344:(N,U,h)=>{"use strict";h.d(U,{QB:()=>D,hU:()=>P,lv:()=>F});var y=h(1142),m=h(4045);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){if(!(L instanceof O))throw new TypeError("Cannot call a class as a function")}function A(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,g(b.key),b)}}function V(L,O,E){return O&&A(L.prototype,O),E&&A(L,E),Object.defineProperty(L,"prototype",{writable:!1}),L}function g(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}var P=V(function L(O){C(this,L),this._reqObj=new y.om,this._id=O,this._targetController=0,this._logger=m.Vy.instance},[{key:"id",get:function(){return this._id}},{key:"getMessage",value:function(){return new D(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}}],[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),D=V(function L(O,E,b){C(this,L),this._id=O,this._targetController=E,this._content=b,Object.freeze(this)},[{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}},{key:"dump",value:function(){return(F.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}}]),F=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,ClusterJoinOrCreateRequest:500,ClusterInviteUsers:502,GameServerConnectionRequired:600,getNameFromId:function(L){for(var O in this)if(this.hasOwnProperty(O)&&this[O]===L)return O;return""}})},7320:(N,U,h)=>{"use strict";h.d(U,{AW:()=>b,Bp:()=>w,Cy:()=>X,ES:()=>E,h2:()=>j,ie:()=>fe,lR:()=>O,lX:()=>H,pv:()=>M,wu:()=>S,z1:()=>G});var y=h(60);function m(Me){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(me){return typeof me}:function(me){return me&&"function"==typeof Symbol&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me})(Me)}function v(Me,me,Q){return me=A(me),function(z,ne){if(ne&&("object"==m(ne)||"function"==typeof ne))return ne;if(void 0!==ne)throw new TypeError("Derived constructors may only return object or undefined");return function(le){if(void 0===le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}(z)}(Me,C()?Reflect.construct(me,Q||[],A(Me).constructor):me.apply(Me,Q))}function C(){try{var Me=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(me){}return(C=function(){return!!Me})()}function A(Me){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)})(Me)}function V(Me,me){if("function"!=typeof me&&null!==me)throw new TypeError("Super expression must either be null or a function");Me.prototype=Object.create(me&&me.prototype,{constructor:{value:Me,writable:!0,configurable:!0}}),Object.defineProperty(Me,"prototype",{writable:!1}),me&&g(Me,me)}function g(Me,me){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Q,z){return Q.__proto__=z,Q})(Me,me)}function P(Me,me){for(var Q=0;Q<me.length;Q++){var z=me[Q];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(Me,F(z.key),z)}}function D(Me,me,Q){return me&&P(Me.prototype,me),Q&&P(Me,Q),Object.defineProperty(Me,"prototype",{writable:!1}),Me}function F(Me){var me=function(Q){if("object"!=m(Q)||!Q)return Q;var z=Q[Symbol.toPrimitive];if(void 0!==z){var ne=z.call(Q,"string");if("object"!=m(ne))return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(Me);return"symbol"==m(me)?me:me+""}function L(Me,me){if(!(Me instanceof me))throw new TypeError("Cannot call a class as a function")}h(9523);var O=D(function Me(me){L(this,Me),this.name=me,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0}),E=function(Me){function me(Q){var z;return L(this,me),(z=v(this,me,[Q])).isPublic=!0,z.minPlayersToStartGame=2,z.invitedPlayers=null,z.searchableRooms=null,z.invitationExpiryTime=15,z.leaveLastJoinedRoom=!0,z.notifyGameStarted=!1,z.playerMatchExpression=null,z.spectatorMatchExpression=null,z.invitationParams=null,Object.seal(z),z}return V(me,Me),D(me)}(O),b=function(Me){function me(Q,z){var ne;return L(this,me),(ne=v(this,me,[Q])).defaultAOI=z,ne.mapLimits=null,ne.userMaxLimboSeconds=50,ne.proximityListUpdateMillis=250,ne.sendAOIEntryPoint=!0,Object.seal(ne),ne}return V(me,Me),D(me)}(O),w=function(Me){function me(Q){var z;return L(this,me),(z=v(this,me,[Q])).isPublic=!0,z.minPlayersToStartGame=2,z.invitedPlayers=null,z.invitationExpiryTime=30,z.notifyGameStarted=!1,z.invitationParams=null,Object.seal(z),z}return V(me,Me),D(me)}(O),S=D(function Me(){L(this,Me),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)}),M=D(function Me(){L(this,Me),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)}),H=D(function Me(me,Q){L(this,Me),this.id=me,this.className=Q,this.propertiesFile="",Object.seal(this)}),j=D(function Me(me,Q){if(L(this,Me),null==me||null==Q)throw new y.nT("Map limits arguments must be both non null!");this.lowerLimit=me,this.higherLimit=Q,Object.seal(this)}),G=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),X=D(function Me(me,Q){if(L(this,Me),me<Me.TO_USER||me>Me.TO_ZONE)throw new y.nT("Illegal recipient mode: "+me);this._mode=me,this._target=Q,Object.freeze(this)},[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}],[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),fe=D(function Me(me,Q){L(this,Me),this._nodeId=me,this._roomId=Q,Object.freeze(this)},[{key:"nodeId",get:function(){return this._nodeId}},{key:"roomId",get:function(){return this._roomId}}])},6613:(N,U,h)=>{"use strict";h.d(U,{D:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M;return function(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}(this,O),(M=V(this,O,[y.lv.AddBuddy]))._name=S,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}],(b=[{key:"validate",value:function(S){var M=[];S.buddyManager.isInited||M.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&M.push("Invalid buddy name (null or empty string)"),!1===S.buddyManager.getMyOnlineState()&&M.push("Can't add a buddy while you are offline in the Buddy List system");var H=S.buddyManager.getBuddyByName(this._name);if(null==H||H.isTemp||M.push("Can't add buddy '"+this._name+"' because it is already in your list"),M.length>0)throw new m.as("AddBuddyRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putUtfString(O.KEY_BUDDY_NAME,this._name)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},3015:(N,U,h)=>{"use strict";h.d(U,{L:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S,M){var H;return function(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}(this,O),(H=V(this,O,[y.lv.BlockBuddy]))._name=S,H._blocked=M,Object.seal(H),H}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}],(b=[{key:"validate",value:function(S){var M=[];if(S.buddyManager.isInited||M.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===S.buddyManager.getMyOnlineState()&&M.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)M.push("Invalid buddy name (null or empty string)");else{var H=S.buddyManager.getBuddyByName(this._name);null==H?M.push("Can't block buddy '"+this._name+"' because it isn't in your list"):H.isBlocked==this._blocked&&M.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(M.length>0)throw new m.as("BlockBuddyRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putUtfString(O.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(O.KEY_BUDDY_BLOCK_STATE,this._blocked)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},3083:(N,U,h)=>{"use strict";h.d(U,{z:()=>D});var y=h(1716),m=h(60),v=h(9523);function C(F){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function A(F,L,O){return L=g(L),function(E,b){if(b&&("object"==C(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(E)}(F,V()?Reflect.construct(L,O||[],g(F).constructor):L.apply(F,O))}function V(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(L){}return(V=function(){return!!F})()}function g(F){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)})(F)}function P(F,L){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,E){return O.__proto__=E,O})(F,L)}var D=function(F){function L(E,b){var w,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")}(this,L),w=A(this,L),null!=b&&!(b instanceof v.t))throw new m.nT("Target buddy must be an instance of SFSBuddy class");return w._type=y.XF.BUDDY_MSG,w._message=E,w._recipient=null!=b?b.id:-1,w._params=S,Object.seal(w),w}return function(E,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),b&&P(E,b)}(L,F),O=L,Object.defineProperty(O,"prototype",{writable:!1}),O;var O}(y.qd)},8645:(N,U,h)=>{"use strict";h.d(U,{T:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M;return function(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}(this,O),(M=V(this,O,[y.lv.GoOnline]))._online=S,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}],(b=[{key:"validate",value:function(S){var M=[];if(S.buddyManager.isInited||M.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),M.length>0)throw new m.as("GoOnlineRequest Error",M)}},{key:"execute",value:function(S){S.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(O.KEY_ONLINE,this._online)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},3996:(N,U,h)=>{"use strict";h.d(U,{i:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(){var S;return function(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")}(this,O),S=V(this,O,[y.lv.InitBuddyList]),Object.seal(S),S}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}],(b=[{key:"validate",value:function(S){var M=[];if(S.buddyManager.isInited&&M.push("Buddy List is already initialized"),M.length>0)throw new m.as("InitBuddyListRequest Error",M)}},{key:"execute",value:function(S){}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},1442:(N,U,h)=>{"use strict";h.d(U,{w:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M;return function(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}(this,O),(M=V(this,O,[y.lv.RemoveBuddy]))._name=S,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}],(b=[{key:"validate",value:function(S){var M=[];if(S.buddyManager.isInited||M.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===S.buddyManager.getMyOnlineState()&&M.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?M.push("Invalid buddy name (null or empty string)"):S.buddyManager.containsBuddy(this._name)||M.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),M.length>0)throw new m.as("RemoveBuddyRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putUtfString(O.KEY_BUDDY_NAME,this._name)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},6051:(N,U,h)=>{"use strict";h.d(U,{J:()=>E});var y=h(1344),m=h(60),v=h(1142),C=h(3054);function A(b){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function V(b,w){(null==w||w>b.length)&&(w=b.length);for(var S=0,M=Array(w);S<w;S++)M[S]=b[S];return M}function g(b,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,P(M.key),M)}}function P(b){var w=function(S){if("object"!=A(S)||!S)return S;var M=S[Symbol.toPrimitive];if(void 0!==M){var H=M.call(S,"string");if("object"!=A(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(b);return"symbol"==A(w)?w:w+""}function D(b,w,S){return w=L(w),function(M,H){if(H&&("object"==A(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(M)}(b,F()?Reflect.construct(w,S||[],L(b).constructor):w.apply(b,S))}function F(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(F=function(){return!!b})()}function L(b){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function O(b,w){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,M){return S.__proto__=M,S})(b,w)}var E=function(b){function w(j){var G;return function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,w),(G=D(this,w,[y.lv.SetBuddyVariables]))._buddyVariables=j,Object.seal(G),G}return function(j,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),G&&O(j,G)}(w,b),S=w,H=[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}],(M=[{key:"validate",value:function(j){var G=[];if(j.buddyManager.isInited||G.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===j.buddyManager.getMyOnlineState()&&G.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?G.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?G.push("No Buddy Variables specified"):this._buddyVariables.every(function(X){return X instanceof C.D})||G.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):G.push("Buddy Variables must be passed in an array"),G.length>0)throw new m.as("SetBuddyVariablesRequest Error",G)}},{key:"execute",value:function(j){var G,X=new v.uj,fe=function(me,Q){var z="undefined"!=typeof Symbol&&me[Symbol.iterator]||me["@@iterator"];if(!z){if(Array.isArray(me)||(z=function(pe,ze){if(pe){if("string"==typeof pe)return V(pe,void 0);var at={}.toString.call(pe).slice(8,-1);return"Object"===at&&pe.constructor&&(at=pe.constructor.name),"Map"===at||"Set"===at?Array.from(pe):"Arguments"===at||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?V(pe,void 0):void 0}}(me))){z&&(me=z);var ne=0,le=function(){};return{s:le,n:function(){return ne>=me.length?{done:!0}:{done:!1,value:me[ne++]}},e:function(pe){throw pe},f:le}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var re,ue=!0,he=!1;return{s:function(){z=z.call(me)},n:function(){var pe=z.next();return ue=pe.done,pe},e:function(pe){he=!0,re=pe},f:function(){try{ue||null==z.return||z.return()}finally{if(he)throw re}}}}(this._buddyVariables);try{for(fe.s();!(G=fe.n()).done;)X.addSFSArray(G.value.toSFSArray())}catch(me){fe.e(me)}finally{fe.f()}this._reqObj.putSFSArray(w.KEY_BUDDY_VARS,X)}}])&&g(S.prototype,M),H&&g(S,H),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,M,H}(y.hU)},7567:(N,U,h)=>{"use strict";h.d(U,{L:()=>w});var y=h(1344),m=h(60),v=h(7320),C=h(5116),A=h(9523),V=h(1142);function g(S){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(S)}function P(S,M){(null==M||M>S.length)&&(M=S.length);for(var H=0,j=Array(M);H<M;H++)j[H]=S[H];return j}function D(S,M){for(var H=0;H<M.length;H++){var j=M[H];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(S,F(j.key),j)}}function F(S){var M=function(H){if("object"!=g(H)||!H)return H;var j=H[Symbol.toPrimitive];if(void 0!==j){var G=j.call(H,"string");if("object"!=g(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(S);return"symbol"==g(M)?M:M+""}function L(S,M,H){return M=E(M),function(j,G){if(G&&("object"==g(G)||"function"==typeof G))return G;if(void 0!==G)throw new TypeError("Derived constructors may only return object or undefined");return function(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(j)}(S,O()?Reflect.construct(M,H||[],E(S).constructor):M.apply(S,H))}function O(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(M){}return(O=function(){return!!S})()}function E(S){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(S)}function b(S,M){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,j){return H.__proto__=j,H})(S,M)}var w=function(S){function M(X,fe,Me){var me,Q=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(z,ne){if(!(z instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,M),(me=L(this,M,[y.lv.ClusterInviteUsers]))._target=X,me._invitedUsers=fe,me._secondsForAnswer=Me,me._params=Q,Object.seal(me),me}return function(X,fe){if("function"!=typeof fe&&null!==fe)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(fe&&fe.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),fe&&b(X,fe)}(M,S),H=M,G=[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_SERVER_ID",get:function(){return"ss"}},{key:"KEY_ROOM_ID",get:function(){return"rr"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}],(j=[{key:"validate",value:function(X){var fe=[];if(null!=this._target&&this._target instanceof v.ie||fe.push("Invalid target"),null==this._invitedUsers?fe.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&fe.push("No invited users"),this._invitedUsers.length>M.MAX_INVITATIONS_FROM_CLIENT_SIDE&&fe.push("Too many invitations; "+M.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(Me){return Me instanceof C.e||Me instanceof A.t})||fe.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):fe.push("Invited users must be passed in an array"),(this._secondsForAnswer<M.MIN_EXPIRY_TIME||this._secondsForAnswer>M.MAX_EXPIRY_TIME)&&fe.push("secondsForAnswer value is out of range (min: "+M.MIN_EXPIRY_TIME+"; max: "+M.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof V.om||fe.push("Custom invitation parameters must be set in a SFSObject class instance"),fe.length>0)throw new m.as("InviteUsersRequest Error",fe)}},{key:"execute",value:function(X){var fe,Me=[],me=function(z,ne){var le="undefined"!=typeof Symbol&&z[Symbol.iterator]||z["@@iterator"];if(!le){if(Array.isArray(z)||(le=function(at,Xe){if(at){if("string"==typeof at)return P(at,void 0);var Pt={}.toString.call(at).slice(8,-1);return"Object"===Pt&&at.constructor&&(Pt=at.constructor.name),"Map"===Pt||"Set"===Pt?Array.from(at):"Arguments"===Pt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt)?P(at,void 0):void 0}}(z))){le&&(z=le);var re=0,ue=function(){};return{s:ue,n:function(){return re>=z.length?{done:!0}:{done:!1,value:z[re++]}},e:function(at){throw at},f:ue}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var he,pe=!0,ze=!1;return{s:function(){le=le.call(z)},n:function(){var at=le.next();return pe=at.done,at},e:function(at){ze=!0,he=at},f:function(){try{pe||null==le.return||le.return()}finally{if(ze)throw he}}}}(this._invitedUsers);try{for(me.s();!(fe=me.n()).done;){var Q=fe.value;if(Q instanceof C.e||Q instanceof A.t){if(Q===X.mySelf)continue;Me.push(Q.id)}}}catch(z){me.e(z)}finally{me.f()}this._reqObj.putUtfString(M.KEY_SERVER_ID,this._target.nodeId),this._reqObj.putInt(M.KEY_ROOM_ID,this._target.roomId),this._reqObj.putIntArray(M.KEY_INVITED_USERS,Me),this._reqObj.putShort(M.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(M.KEY_PARAMS,this._params)}}])&&D(H.prototype,j),G&&D(H,G),Object.defineProperty(H,"prototype",{writable:!1}),H;var H,j,G}(y.hU)},1379:(N,U,h)=>{"use strict";h.d(U,{Z:()=>b});var y=h(1344),m=h(8420),v=h(7567),C=h(60),A=h(2121),V=h(7320);function g(w){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function P(w,S){for(var M=0;M<S.length;M++){var H=S[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(w,D(H.key),H)}}function D(w){var S=function(M){if("object"!=g(M)||!M)return M;var H=M[Symbol.toPrimitive];if(void 0!==H){var j=H.call(M,"string");if("object"!=g(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(w);return"symbol"==g(S)?S:S+""}function F(w,S,M){return S=O(S),function(H,j){if(j&&("object"==g(j)||"function"==typeof j))return j;if(void 0!==j)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(H)}(w,L()?Reflect.construct(S,M||[],O(w).constructor):S.apply(w,M))}function L(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(L=function(){return!!w})()}function O(w){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}function E(w,S){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,H){return M.__proto__=H,M})(w,S)}var b=function(w){function S(){var G,X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(me,Q){if(!(me instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,S),(G=F(this,S,[y.lv.ClusterJoinOrCreateRequest]))._matchExpression=X,G._groupList=fe,G._settings=Me,null!=Me&&(G._createRoomRequest=new m.l(Me,!1,null)),Object.seal(G),G}return function(G,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),X&&E(G,X)}(S,w),M=S,j=[{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}],(H=[{key:"validate",value:function(G){var X=[];if(null==this._matchExpression||this._matchExpression instanceof A.M||X.push("Match expression must be an instance of MatchExpression class"),null!=this._settings){var fe=this._settings instanceof V.Bp;if(fe||this._settings instanceof V.AW){try{this._createRoomRequest.validate(G)}catch(me){X=X.concat(me.errors)}fe&&(this._settings.minPlayersToStartGame>this._settings.maxUsers&&X.push("minPlayersToStartGame cannot be greater than maxUsers"),(this._settings.invitationExpiryTime<v.L.MIN_EXPIRY_TIME||this._settings.InvitationExpiryTime>v.L.MAX_EXPIRY_TIME)&&X.Add("Expiry time value is out of range ("+v.L.MIN_EXPIRY_TIME+"-"+v.L.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&this._settings.invitedPlayers.length>v.L.MAX_INVITATIONS_FROM_CLIENT_SIDE&&X.Add("Cannot invite more than "+v.L.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"))}else X.push("Unsupported RoomSetting type; accepted types are ClusterRoomSettings and MMORoomSettings")}if(X.length>0)throw new C.as("ClusterJoinOrCreateRequest Error",X)}},{key:"execute",value:function(G){if(null!=this._matchExpression&&this._reqObj.putSFSArray(S.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),null!=this._groupList&&this._groupList.length>0&&this._reqObj.putUtfStringArray(S.KEY_GROUP_LIST,this._groupList),null!=this._settings){this._createRoomRequest.execute(G);var X=this._createRoomRequest.getMessage().content;if(this._settings instanceof V.Bp){X.putBool(S.KEY_IS_PUBLIC,this._settings.isPublic),X.putShort(S.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),X.putShort(S.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),X.putBool(S.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted);var fe=this._settings.invitedPlayers;if(null!=fe){var Me=fe.map(function(me){return me.id});X.putIntArray(S.KEY_INVITED_PLAYERS,Me)}null!=this._settings.invitationParams&&X.putSFSObject(S.KEY_INVITATION_PARAMS,this._settings.invitationParams)}this._reqObj.putSFSObject(S.KEY_ROOM_SETTINGS,X)}}}])&&P(M.prototype,H),j&&P(M,j),Object.defineProperty(M,"prototype",{writable:!1}),M;var M,H,j}(y.hU)},2960:(N,U,h)=>{"use strict";h.d(U,{g:()=>H});var y=h(1344),m=h(60),v=h(7320),C=h(8420),A=h(2939),V=h(5116),g=h(9523),P=h(1142),D=h(2121);function F(j){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(j)}function L(j,G){(null==G||G>j.length)&&(G=j.length);for(var X=0,fe=Array(G);X<G;X++)fe[X]=j[X];return fe}function O(j,G){for(var X=0;X<G.length;X++){var fe=G[X];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(j,E(fe.key),fe)}}function E(j){var G=function(X){if("object"!=F(X)||!X)return X;var fe=X[Symbol.toPrimitive];if(void 0!==fe){var Me=fe.call(X,"string");if("object"!=F(Me))return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(X)}(j);return"symbol"==F(G)?G:G+""}function b(j,G,X){return G=S(G),function(fe,Me){if(Me&&("object"==F(Me)||"function"==typeof Me))return Me;if(void 0!==Me)throw new TypeError("Derived constructors may only return object or undefined");return function(me){if(void 0===me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}(fe)}(j,w()?Reflect.construct(G,X||[],S(j).constructor):G.apply(j,X))}function w(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(G){}return(w=function(){return!!j})()}function S(j){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(j)}function M(j,G){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,fe){return X.__proto__=fe,X})(j,G)}var H=function(j){function G(me){var Q;return function(z,ne){if(!(z instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,G),(Q=b(this,G,[y.lv.CreateSFSGame]))._settings=me,Q._createRoomRequest=new C.l(me,!1,null),Object.seal(Q),Q}return function(me,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(Q&&Q.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),Q&&M(me,Q)}(G,j),X=G,Me=[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}],(fe=[{key:"validate",value:function(me){if(!(this._settings instanceof v.ES))throw new m.as("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var Q=[];try{this._createRoomRequest.validate(me)}catch(z){Q=z.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&Q.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<A.d.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>A.d.MAX_EXPIRY_TIME)&&Q.push("Invitation expiration time value is out of range (min: "+A.d.MIN_EXPIRY_TIME+"; max: "+A.d.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>A.d.MAX_INVITATIONS_FROM_CLIENT_SIDE&&Q.push("Can't invite more than "+A.d.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(z){return z instanceof V.e||z instanceof g.t})||Q.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):Q.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof D.M||Q.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof D.M||Q.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof P.om||Q.push("Custom invitation parameters must be set in a SFSObject class instance"),Q.length>0)throw new m.as("CreateSFSGameRequest Error",Q)}},{key:"execute",value:function(me){if(this._createRoomRequest.execute(me),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(G.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(G.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(G.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(G.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(G.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(G.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(G.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var Q,z=[],ne=function(re,ue){var he="undefined"!=typeof Symbol&&re[Symbol.iterator]||re["@@iterator"];if(!he){if(Array.isArray(re)||(he=function(bt,it){if(bt){if("string"==typeof bt)return L(bt,void 0);var rt={}.toString.call(bt).slice(8,-1);return"Object"===rt&&bt.constructor&&(rt=bt.constructor.name),"Map"===rt||"Set"===rt?Array.from(bt):"Arguments"===rt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?L(bt,void 0):void 0}}(re))){he&&(re=he);var pe=0,ze=function(){};return{s:ze,n:function(){return pe>=re.length?{done:!0}:{done:!1,value:re[pe++]}},e:function(bt){throw bt},f:ze}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var at,Xe=!0,Pt=!1;return{s:function(){he=he.call(re)},n:function(){var bt=he.next();return Xe=bt.done,bt},e:function(bt){Pt=!0,at=bt},f:function(){try{Xe||null==he.return||he.return()}finally{if(Pt)throw at}}}}(this._settings.invitedPlayers);try{for(ne.s();!(Q=ne.n()).done;)z.push(Q.value.id)}catch(re){ne.e(re)}finally{ne.f()}this._reqObj.putIntArray(G.KEY_INVITED_PLAYERS,z)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(G.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(G.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}])&&O(X.prototype,fe),Me&&O(X,Me),Object.defineProperty(X,"prototype",{writable:!1}),X;var X,fe,Me}(y.hU)},1649:(N,U,h)=>{"use strict";h.d(U,{b:()=>O});var y=h(1344),m=h(60),v=h(1142),C=h(249);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(E)}function V(E,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,g(S.key),S)}}function g(E){var b=function(w){if("object"!=A(w)||!w)return w;var S=w[Symbol.toPrimitive];if(void 0!==S){var M=S.call(w,"string");if("object"!=A(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(E);return"symbol"==A(b)?b:b+""}function P(E,b,w){return b=F(b),function(S,M){if(M&&("object"==A(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(S)}(E,D()?Reflect.construct(b,w||[],F(E).constructor):b.apply(E,w))}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(b){}return(D=function(){return!!E})()}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}function L(E,b){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w})(E,b)}var O=function(E){function b(H,j){var G,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(fe,Me){if(!(fe instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,b),(G=P(this,b,[y.lv.InvitationReply]))._invitation=H,G._reply=j,G._params=X,Object.seal(G),G}return function(H,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),j&&L(H,j)}(b,E),w=b,M=[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}],(S=[{key:"validate",value:function(H){var j=[];if(null==this._invitation?j.push("Missing invitation object"):this._invitation instanceof C.q||j.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof v.om||j.push("Custom invitation parameters must be set in a SFSObject class instance"),j.length>0)throw new m.as("InvitationReplyRequest Error",j)}},{key:"execute",value:function(H){this._reqObj.putInt(b.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(b.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(b.KEY_INVITATION_PARAMS,this._params)}}])&&V(w.prototype,S),M&&V(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,M}(y.hU)},2939:(N,U,h)=>{"use strict";h.d(U,{d:()=>b});var y=h(1344),m=h(60),v=h(5116),C=h(9523),A=h(1142);function V(w){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function g(w,S){(null==S||S>w.length)&&(S=w.length);for(var M=0,H=Array(S);M<S;M++)H[M]=w[M];return H}function P(w,S){for(var M=0;M<S.length;M++){var H=S[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(w,D(H.key),H)}}function D(w){var S=function(M){if("object"!=V(M)||!M)return M;var H=M[Symbol.toPrimitive];if(void 0!==H){var j=H.call(M,"string");if("object"!=V(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(w);return"symbol"==V(S)?S:S+""}function F(w,S,M){return S=O(S),function(H,j){if(j&&("object"==V(j)||"function"==typeof j))return j;if(void 0!==j)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(H)}(w,L()?Reflect.construct(S,M||[],O(w).constructor):S.apply(w,M))}function L(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(L=function(){return!!w})()}function O(w){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}function E(w,S){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,H){return M.__proto__=H,M})(w,S)}var b=function(w){function S(G,X){var fe,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(me,Q){if(!(me instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,S),(fe=F(this,S,[y.lv.InviteUsers]))._invitedUsers=G,fe._secondsForAnswer=X,fe._params=Me,Object.seal(fe),fe}return function(G,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),X&&E(G,X)}(S,w),M=S,j=[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}],(H=[{key:"validate",value:function(G){var X=[];if(null==this._invitedUsers?X.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&X.push("No invited users"),this._invitedUsers.length>S.MAX_INVITATIONS_FROM_CLIENT_SIDE&&X.push("Too many invitations; "+S.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(fe){return fe instanceof v.e||fe instanceof C.t})||X.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):X.push("Invited users must be passed in an array"),(this._secondsForAnswer<S.MIN_EXPIRY_TIME||this._secondsForAnswer>S.MAX_EXPIRY_TIME)&&X.push("secondsForAnswer value is out of range (min: "+S.MIN_EXPIRY_TIME+"; max: "+S.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof A.om||X.push("Custom invitation parameters must be set in a SFSObject class instance"),X.length>0)throw new m.as("InviteUsersRequest Error",X)}},{key:"execute",value:function(G){var X,fe=[],Me=function(Q,z){var ne="undefined"!=typeof Symbol&&Q[Symbol.iterator]||Q["@@iterator"];if(!ne){if(Array.isArray(Q)||(ne=function(ze,at){if(ze){if("string"==typeof ze)return g(ze,void 0);var Xe={}.toString.call(ze).slice(8,-1);return"Object"===Xe&&ze.constructor&&(Xe=ze.constructor.name),"Map"===Xe||"Set"===Xe?Array.from(ze):"Arguments"===Xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe)?g(ze,void 0):void 0}}(Q))){ne&&(Q=ne);var le=0,re=function(){};return{s:re,n:function(){return le>=Q.length?{done:!0}:{done:!1,value:Q[le++]}},e:function(ze){throw ze},f:re}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue,he=!0,pe=!1;return{s:function(){ne=ne.call(Q)},n:function(){var ze=ne.next();return he=ze.done,ze},e:function(ze){pe=!0,ue=ze},f:function(){try{he||null==ne.return||ne.return()}finally{if(pe)throw ue}}}}(this._invitedUsers);try{for(Me.s();!(X=Me.n()).done;){var me=X.value;if(me instanceof v.e||me instanceof C.t){if(me===G.mySelf)continue;fe.push(me.id)}}}catch(Q){Me.e(Q)}finally{Me.f()}this._reqObj.putIntArray(S.KEY_INVITED_USERS,fe),this._reqObj.putShort(S.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(S.KEY_PARAMS,this._params)}}])&&P(M.prototype,H),j&&P(M,j),Object.defineProperty(M,"prototype",{writable:!1}),M;var M,H,j}(y.hU)},1298:(N,U,h)=>{"use strict";h.d(U,{k:()=>O});var y=h(1344),m=h(60),v=h(3020),C=h(1142);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(E)}function V(E,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,g(S.key),S)}}function g(E){var b=function(w){if("object"!=A(w)||!w)return w;var S=w[Symbol.toPrimitive];if(void 0!==S){var M=S.call(w,"string");if("object"!=A(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(E);return"symbol"==A(b)?b:b+""}function P(E,b,w){return b=F(b),function(S,M){if(M&&("object"==A(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(S)}(E,D()?Reflect.construct(b,w||[],F(E).constructor):b.apply(E,w))}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(b){}return(D=function(){return!!E})()}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}function L(E,b){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w})(E,b)}var O=function(E){function b(H,j){var G,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,fe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,Me=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(me,Q){if(!(me instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,b),(G=P(this,b,[y.lv.JoinRoomInvite]))._targetRoom=H,G._invitedUserNames=j,G._params=X,G._expirySeconds=fe,G._asSpectator=Me,Object.seal(G),G}return function(H,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),j&&L(H,j)}(b,E),w=b,M=[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}],(S=[{key:"validate",value:function(H){var j=[];if(null==this._targetRoom&&j.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof v.O||j.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?j.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&j.push("No invitees provided"):j.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof C.om||j.push("Custom invitation parameters must be set in a SFSObject class instance"),j.length>0)throw new m.as("JoinRoomInvitationRequest Error",j)}},{key:"execute",value:function(H){this._reqObj.putInt(b.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(b.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(b.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(b.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(b.KEY_OPTIONAL_PARAMS,this._params)}}])&&V(w.prototype,S),M&&V(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,M}(y.hU)},2397:(N,U,h)=>{"use strict";h.d(U,{N:()=>E});var y=h(1344),m=h(60),v=h(3020),C=h(2121);function A(b){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function V(b,w){(null==w||w>b.length)&&(w=b.length);for(var S=0,M=Array(w);S<w;S++)M[S]=b[S];return M}function g(b,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,P(M.key),M)}}function P(b){var w=function(S){if("object"!=A(S)||!S)return S;var M=S[Symbol.toPrimitive];if(void 0!==M){var H=M.call(S,"string");if("object"!=A(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(b);return"symbol"==A(w)?w:w+""}function D(b,w,S){return w=L(w),function(M,H){if(H&&("object"==A(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(M)}(b,F()?Reflect.construct(w,S||[],L(b).constructor):w.apply(b,S))}function F(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(F=function(){return!!b})()}function L(b){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function O(b,w){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,M){return S.__proto__=M,S})(b,w)}var E=function(b){function w(j,G){var X,fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(Me,me){if(!(Me instanceof me))throw new TypeError("Cannot call a class as a function")}(this,w),(X=D(this,w,[y.lv.QuickJoinGame]))._matchExpression=j,X._whereToSearch=G,X._roomToLeave=fe,Object.seal(X),X}return function(j,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),G&&O(j,G)}(w,b),S=w,H=[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}],(M=[{key:"validate",value:function(j){var G=[];if(null==this._matchExpression||this._matchExpression instanceof C.M||G.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?G.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>w.MAX_ROOMS&&G.push("Too many Rooms specified in list where to search the game to join; client limit is: "+w.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof v.O||G.push("Room to leave must be an instance of SFSRoom class"),G.length>0)throw new m.as("QuickJoinGameRequest Error",G)}},{key:"execute",value:function(j){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(w.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof v.O))throw new m.nT("Invalid type in whereToSearch parameter");var G,X=[],fe=function(me,Q){var z="undefined"!=typeof Symbol&&me[Symbol.iterator]||me["@@iterator"];if(!z){if(Array.isArray(me)||(z=function(pe,ze){if(pe){if("string"==typeof pe)return V(pe,void 0);var at={}.toString.call(pe).slice(8,-1);return"Object"===at&&pe.constructor&&(at=pe.constructor.name),"Map"===at||"Set"===at?Array.from(pe):"Arguments"===at||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?V(pe,void 0):void 0}}(me))){z&&(me=z);var ne=0,le=function(){};return{s:le,n:function(){return ne>=me.length?{done:!0}:{done:!1,value:me[ne++]}},e:function(pe){throw pe},f:le}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var re,ue=!0,he=!1;return{s:function(){z=z.call(me)},n:function(){var pe=z.next();return ue=pe.done,pe},e:function(pe){he=!0,re=pe},f:function(){try{ue||null==z.return||z.return()}finally{if(he)throw re}}}}(this._whereToSearch);try{for(fe.s();!(G=fe.n()).done;){var Me=G.value;Me instanceof v.O&&X.push(Me.id)}}catch(me){fe.e(me)}finally{fe.f()}this._reqObj.putIntArray(w.KEY_ROOM_LIST,X)}null!=this._roomToLeave&&this._reqObj.putInt(w.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(w.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}])&&g(S.prototype,M),H&&g(S,H),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,M,H}(y.hU)},5925:(N,U,h)=>{"use strict";h.d(U,{c:()=>O});var y=h(1344),m=h(60),v=h(1142),C=h(3020);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(E)}function V(E,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,g(S.key),S)}}function g(E){var b=function(w){if("object"!=A(w)||!w)return w;var S=w[Symbol.toPrimitive];if(void 0!==S){var M=S.call(w,"string");if("object"!=A(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(E);return"symbol"==A(b)?b:b+""}function P(E,b,w){return b=F(b),function(S,M){if(M&&("object"==A(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(S)}(E,D()?Reflect.construct(b,w||[],F(E).constructor):b.apply(E,w))}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(b){}return(D=function(){return!!E})()}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}function L(E,b){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w})(E,b)}var O=function(E){function b(H){var j,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,b),(j=P(this,b,[y.lv.SetUserPosition]))._pos=H,j._room=G,Object.seal(j),j}return function(H,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),j&&L(H,j)}(b,E),w=b,M=[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}],(S=[{key:"validate",value:function(H){var j=[];if(null!=this._pos&&this._pos instanceof v.ed||j.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=H.lastJoinedRoom),null==this._room&&j.push("You are not joined in any room"),this._room instanceof C.X||j.push("Target room must be an instance of MMORoom class"),j.length>0)throw new m.as("SetUserPosition Error",j)}},{key:"execute",value:function(H){this._reqObj.putInt(b.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(b.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(b.KEY_VEC3D,this._pos.toArray())}}])&&V(w.prototype,S),M&&V(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,M}(y.hU)},6577:(N,U,h)=>{"use strict";h.d(U,{M:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,G=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,X=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;return function(fe,Me){if(!(fe instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,O),(M=V(this,O,[y.lv.BanUser]))._userId=S,M._message=H,M._banMode=j,M._delay=G,M._durationHours=X,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}],(b=[{key:"validate",value:function(S){var M=[];if(M.length>0)throw new m.as("BanUserRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putInt(O.KEY_USER_ID,this._userId),this._reqObj.putInt(O.KEY_DELAY,this._delay),this._reqObj.putInt(O.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(O.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(O.KEY_MESSAGE,this._message)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},8508:(N,U,h)=>{"use strict";h.d(U,{j:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(M,H,j){var G;return function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,E),(G=g(this,E,[y.lv.ChangeRoomCapacity]))._room=M,G._newMaxUsers=H,G._newMaxSpect=j,Object.seal(G),G}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}],(w=[{key:"validate",value:function(M){var H=[];if(this._room instanceof v.O||H.push("Room must be an instance of SFSRoom class"),H.length>0)throw new m.as("ChangeRoomCapacityRequest Error",H)}},{key:"execute",value:function(M){this._reqObj.putInt(E.KEY_ROOM,this._room.id),this._reqObj.putInt(E.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(E.KEY_SPEC_SIZE,this._newMaxSpect)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},9023:(N,U,h)=>{"use strict";h.d(U,{W:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(M,H){var j;return function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}(this,E),(j=g(this,E,[y.lv.ChangeRoomName]))._room=M,j._newName=H,Object.seal(j),j}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}],(w=[{key:"validate",value:function(M){var H=[];if(this._room instanceof v.O||H.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||H.push("New room name must be a non-null and non-empty string"),H.length>0)throw new m.as("ChangeRoomNameRequest Error",H)}},{key:"execute",value:function(M){this._reqObj.putInt(E.KEY_ROOM,this._room.id),this._reqObj.putUtfString(E.KEY_NAME,this._newName)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},8044:(N,U,h)=>{"use strict";h.d(U,{N:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(M,H){var j;return function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}(this,E),(j=g(this,E,[y.lv.ChangeRoomPassword]))._room=M,j._newPass=H,Object.seal(j),j}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}],(w=[{key:"validate",value:function(M){var H=[];if(this._room instanceof v.O||H.push("Room must be an instance of SFSRoom class"),null==this._newPass&&H.push("New room password must be a non-null string (empty string to remove the password)"),H.length>0)throw new m.as("ChangeRoomPasswordStateRequest Error",H)}},{key:"execute",value:function(M){this._reqObj.putInt(E.KEY_ROOM,this._room.id),this._reqObj.putUtfString(E.KEY_PASS,this._newPass)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},8420:(N,U,h)=>{"use strict";h.d(U,{l:()=>w});var y=h(1344),m=h(60),v=h(7320),C=h(1142),A=h(3020),V=h(31);function g(S){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(S)}function P(S,M){(null==M||M>S.length)&&(M=S.length);for(var H=0,j=Array(M);H<M;H++)j[H]=S[H];return j}function D(S,M){for(var H=0;H<M.length;H++){var j=M[H];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(S,F(j.key),j)}}function F(S){var M=function(H){if("object"!=g(H)||!H)return H;var j=H[Symbol.toPrimitive];if(void 0!==j){var G=j.call(H,"string");if("object"!=g(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(S);return"symbol"==g(M)?M:M+""}function L(S,M,H){return M=E(M),function(j,G){if(G&&("object"==g(G)||"function"==typeof G))return G;if(void 0!==G)throw new TypeError("Derived constructors may only return object or undefined");return function(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(j)}(S,O()?Reflect.construct(M,H||[],E(S).constructor):M.apply(S,H))}function O(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(M){}return(O=function(){return!!S})()}function E(S){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(S)}function b(S,M){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,j){return H.__proto__=j,H})(S,M)}var w=function(S){function M(X){var fe,Me=arguments.length>1&&void 0!==arguments[1]&&arguments[1],me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")}(this,M),(fe=L(this,M,[y.lv.CreateRoom]))._settings=X,fe._autoJoin=Me,fe._roomToLeave=me,Object.seal(fe),fe}return function(X,fe){if("function"!=typeof fe&&null!==fe)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(fe&&fe.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),fe&&b(X,fe)}(M,S),H=M,G=[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}],(j=[{key:"validate",value:function(X){if(!(this._settings instanceof v.lR))throw new m.as("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var fe=[];if(null!=this._settings.name&&0!==this._settings.name.length||fe.push("Missing Room name"),this._settings.maxUsers<=0&&fe.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&fe.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&fe.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(Me){return Me instanceof V.A})||fe.push("Each Room Variable must be an instance of SFSRoomVariable class"):fe.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof v.wu||fe.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof v.pv||fe.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof v.lX?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||fe.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||fe.push("Missing Room Extension id")):fe.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof v.AW&&(null==this._settings.defaultAOI&&fe.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof C.ed||fe.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof v.h2?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||fe.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof C.ed&&this._settings.mapLimits.higherLimit instanceof C.ed||fe.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):fe.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof A.O||fe.push("Room to leave must be an instance of SFSRoom class"),fe.length>0)throw new m.as("CreateRoomRequest Error",fe)}},{key:"execute",value:function(X){if(this._reqObj.putUtfString(M.KEY_NAME,this._settings.name),this._reqObj.putUtfString(M.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(M.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(M.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(M.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(M.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(M.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(M.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var fe,Me=new C.uj,me=function(le,re){var ue="undefined"!=typeof Symbol&&le[Symbol.iterator]||le["@@iterator"];if(!ue){if(Array.isArray(le)||(ue=function(Pt,bt){if(Pt){if("string"==typeof Pt)return P(Pt,void 0);var it={}.toString.call(Pt).slice(8,-1);return"Object"===it&&Pt.constructor&&(it=Pt.constructor.name),"Map"===it||"Set"===it?Array.from(Pt):"Arguments"===it||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it)?P(Pt,void 0):void 0}}(le))){ue&&(le=ue);var he=0,pe=function(){};return{s:pe,n:function(){return he>=le.length?{done:!0}:{done:!1,value:le[he++]}},e:function(Pt){throw Pt},f:pe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ze,at=!0,Xe=!1;return{s:function(){ue=ue.call(le)},n:function(){var Pt=ue.next();return at=Pt.done,Pt},e:function(Pt){Xe=!0,ze=Pt},f:function(){try{at||null==ue.return||ue.return()}finally{if(Xe)throw ze}}}}(this._settings.variables);try{for(me.s();!(fe=me.n()).done;)Me.addSFSArray(fe.value.toSFSArray())}catch(le){me.e(le)}finally{me.f()}this._reqObj.putSFSArray(M.KEY_ROOMVARS,Me)}if(null!=this._settings.permissions){var z=[];z.push(this._settings.permissions.allowNameChange),z.push(this._settings.permissions.allowPasswordStateChange),z.push(this._settings.permissions.allowPublicMessages),z.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(M.KEY_PERMISSIONS,z)}if(null!=this._settings.events){var ne=[];ne.push(this._settings.events.allowUserEnter),ne.push(this._settings.events.allowUserExit),ne.push(this._settings.events.allowUserCountChange),ne.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(M.KEY_EVENTS,ne)}null!=this._settings.extension&&(this._reqObj.putUtfString(M.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(M.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(M.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof v.AW&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(M.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(M.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(M.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(M.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(M.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(M.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(M.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(M.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(M.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(M.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(M.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}])&&D(H.prototype,j),G&&D(H,G),Object.defineProperty(H,"prototype",{writable:!1}),H;var H,j,G}(y.hU)},1966:(N,U,h)=>{"use strict";h.d(U,{F:()=>O});var y=h(1344),m=h(60),v=h(1142),C=h(3020);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(E)}function V(E,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,g(S.key),S)}}function g(E){var b=function(w){if("object"!=A(w)||!w)return w;var S=w[Symbol.toPrimitive];if(void 0!==S){var M=S.call(w,"string");if("object"!=A(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(E);return"symbol"==A(b)?b:b+""}function P(E,b,w){return b=F(b),function(S,M){if(M&&("object"==A(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(S)}(E,D()?Reflect.construct(b,w||[],F(E).constructor):b.apply(E,w))}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(b){}return(D=function(){return!!E})()}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}function L(E,b){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w})(E,b)}var O=function(E){function b(H){var j,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(fe,Me){if(!(fe instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,b),(j=P(this,b,[y.lv.CallExtension]))._targetController=1,j._extCmd=H,j._params=G,j._room=X,null==j._params&&(j._params=new v.om),Object.seal(j),j}return function(H,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),j&&L(H,j)}(b,E),w=b,M=[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}],(S=[{key:"validate",value:function(H){var j=[];if(null!=this._extCmd&&0!==this._extCmd.length||j.push("Missing extension command"),null==this._params||this._params instanceof v.om||j.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof C.O||j.push("Room must be an instance of SFSRoom class"),j.length>0)throw new m.as("ExtensionRequest Error",j)}},{key:"execute",value:function(H){this._reqObj.putUtfString(b.KEY_CMD,this._extCmd),this._reqObj.putInt(b.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(b.KEY_PARAMS,this._params)}}])&&V(w.prototype,S),M&&V(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,M}(y.hU)},350:(N,U,h)=>{"use strict";h.d(U,{x:()=>L});var y=h(1344),m=h(60),v=h(2121);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(M){var H,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,E),(H=g(this,E,[y.lv.FindRooms]))._matchExpr=M,H._groupId=j,H._limit=G,Object.seal(H),H}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}],(w=[{key:"validate",value:function(M){var H=[];if(null==this._matchExpr&&H.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof v.M||H.push("Match expression must be passed as an instance of MatchExpression class"),H.length>0)throw new m.as("FindRoomsRequest Error",H)}},{key:"execute",value:function(M){this._reqObj.putSFSArray(E.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(E.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(E.KEY_LIMIT,this._limit)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},3746:(N,U,h)=>{"use strict";h.d(U,{r:()=>O});var y=h(1344),m=h(60),v=h(3020),C=h(2121);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(E)}function V(E,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,g(S.key),S)}}function g(E){var b=function(w){if("object"!=A(w)||!w)return w;var S=w[Symbol.toPrimitive];if(void 0!==S){var M=S.call(w,"string");if("object"!=A(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(E);return"symbol"==A(b)?b:b+""}function P(E,b,w){return b=F(b),function(S,M){if(M&&("object"==A(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(S)}(E,D()?Reflect.construct(b,w||[],F(E).constructor):b.apply(E,w))}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(b){}return(D=function(){return!!E})()}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}function L(E,b){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w})(E,b)}var O=function(E){function b(H){var j,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(fe,Me){if(!(fe instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,b),(j=P(this,b,[y.lv.FindUsers]))._matchExpr=H,j._target=G,j._limit=X,Object.seal(j),j}return function(H,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),j&&L(H,j)}(b,E),w=b,M=[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}],(S=[{key:"validate",value:function(H){var j=[];if(null==this._matchExpr&&j.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof C.M||j.push("Match expression must be passed as an instance of MatchExpression class"),j.length>0)throw new m.as("FindUsersRequest Error",j)}},{key:"execute",value:function(H){this._reqObj.putSFSArray(b.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof v.O?this._reqObj.putInt(b.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(b.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(b.KEY_LIMIT,this._limit)}}])&&V(w.prototype,S),M&&V(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,M}(y.hU)},5272:(N,U,h)=>{"use strict";h.d(U,{f:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(M){var H,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,G=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,X=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(fe,Me){if(!(fe instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,E),H=g(this,E,[y.lv.JoinRoom]),"string"==typeof M?H._rName=M:"number"==typeof M?H._rId=M:M instanceof v.O&&(H._rId=M.id,H._rName=M.name),H._password=j,H._roomIdToLeave=G,H._asSpectator=X,Object.seal(H),H}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}],(w=[{key:"validate",value:function(M){if(null==this._rId&&null==this._rName)throw new m.as("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(M){M._isJoining=!0,this._rId>=0?this._reqObj.putInt(E.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(E.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(E.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(E.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(E.KEY_AS_SPECTATOR,this._asSpectator)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},5349:(N,U,h)=>{"use strict";h.d(U,{p:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")}(this,O),j<0&&(j=0),(M=V(this,O,[y.lv.KickUser]))._userId=S,M._message=H,M._delay=j,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}],(b=[{key:"validate",value:function(S){var M=[];if(M.length>0)throw new m.as("KickUserRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putInt(O.KEY_USER_ID,this._userId),this._reqObj.putInt(O.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(O.KEY_MESSAGE,this._message)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},7263:(N,U,h)=>{"use strict";h.d(U,{w:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(){var M,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}(this,E),(M=g(this,E,[y.lv.LeaveRoom]))._room=H,Object.seal(M),M}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM_ID",get:function(){return"r"}}],(w=[{key:"validate",value:function(M){var H=[];if(M.getJoinedRooms().length<1&&H.push("You are not joined in any Room"),null==this._room||this._room instanceof v.O||H.push("Room must be an instance of SFSRoom class"),H.length>0)throw new m.as("LeaveRoomRequest Error",H)}},{key:"execute",value:function(M){null!=this._room&&this._reqObj.putInt(E.KEY_ROOM_ID,this._room.id)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},3646:(N,U,h)=>{"use strict";h.d(U,{J:()=>O});var y=h(1878),m=h(1344),v=h(60),C=h(1142);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(E)}function V(E,b){for(var w=0;w<b.length;w++){var S=b[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,g(S.key),S)}}function g(E){var b=function(w){if("object"!=A(w)||!w)return w;var S=w[Symbol.toPrimitive];if(void 0!==S){var M=S.call(w,"string");if("object"!=A(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(E);return"symbol"==A(b)?b:b+""}function P(E,b,w){return b=F(b),function(S,M){if(M&&("object"==A(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(void 0===H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(S)}(E,D()?Reflect.construct(b,w||[],F(E).constructor):b.apply(E,w))}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(b){}return(D=function(){return!!E})()}function F(E){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(E)}function L(E,b){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,S){return w.__proto__=S,w})(E,b)}var O=function(E){function b(){var H,j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,fe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(Me,me){if(!(Me instanceof me))throw new TypeError("Cannot call a class as a function")}(this,b),(H=P(this,b,[m.lv.Login]))._userName=j,H._password=G,H._params=X,H._zoneName=fe,Object.seal(H),H}return function(H,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(j&&j.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),j&&L(H,j)}(b,E),w=b,M=[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}],(S=[{key:"validate",value:function(H){if(null!=H.mySelf)throw new v.as("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var j=[],G=null!=H.config&&null!=H.config.zone?H.config.zone:null;if(null!=this._zoneName&&(G=this._zoneName),null==G||0===G.length?j.push("Missing Zone name"):this._zoneName=G,null==this._params||this._params instanceof C.om||j.push("Custom parameters must be passed in a SFSObject"),j.length>0)throw new v.as("LoginRequest Error",j)}},{key:"execute",value:function(H){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(b.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(b.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(b.KEY_PASSWORD,this._password.length>0?(new y.B).hex_md5(H.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(b.KEY_PARAMS,this._params)}}])&&V(w.prototype,S),M&&V(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,S,M}(m.hU)},6249:(N,U,h)=>{"use strict";h.d(U,{y:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(){var S;return function(M,H){if(!(M instanceof H))throw new TypeError("Cannot call a class as a function")}(this,O),S=V(this,O,[y.lv.Logout]),Object.seal(S),S}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}],(b=[{key:"validate",value:function(S){if(null==S.mySelf)throw new m.as("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(S){}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},1716:(N,U,h)=>{"use strict";h.d(U,{K4:()=>me,XF:()=>H,YH:()=>X,a7:()=>G,aw:()=>Me,qQ:()=>fe,qd:()=>j});var y=h(1344),m=h(60),v=h(7320),C=h(1142),A=h(3020),V=h(5116);function g(Q){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(Q)}function P(Q,z){(null==z||z>Q.length)&&(z=Q.length);for(var ne=0,le=Array(z);ne<z;ne++)le[ne]=Q[ne];return le}function D(Q,z){if(!(Q instanceof z))throw new TypeError("Cannot call a class as a function")}function F(Q,z){for(var ne=0;ne<z.length;ne++){var le=z[ne];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(Q,O(le.key),le)}}function L(Q,z,ne){return z&&F(Q.prototype,z),ne&&F(Q,ne),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function O(Q){var z=function(ne){if("object"!=g(ne)||!ne)return ne;var le=ne[Symbol.toPrimitive];if(void 0!==le){var re=le.call(ne,"string");if("object"!=g(re))return re;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(Q);return"symbol"==g(z)?z:z+""}function E(Q,z,ne){return z=w(z),function(le,re){if(re&&("object"==g(re)||"function"==typeof re))return re;if(void 0!==re)throw new TypeError("Derived constructors may only return object or undefined");return function(ue){if(void 0===ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}(le)}(Q,b()?Reflect.construct(z,ne||[],w(Q).constructor):z.apply(Q,ne))}function b(){try{var Q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(z){}return(b=function(){return!!Q})()}function w(Q){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(Q)}function S(Q,z){if("function"!=typeof z&&null!==z)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(z&&z.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),z&&M(Q,z)}function M(Q,z){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,le){return ne.__proto__=le,ne})(Q,z)}var H=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),j=function(Q){function z(){var ne;return D(this,z),(ne=E(this,z,[y.lv.GenericMessage]))._type=-1,ne._room=null,ne._user=null,ne._message=null,ne._params=null,ne._recipient=null,ne._sendMode=-1,Object.seal(ne),ne}return S(z,Q),L(z,[{key:"validate",value:function(ne){if(this._type<0)throw new m.as("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var le=[];switch(this._type){case H.PUBLIC_MSG:this._validatePublicMessage(ne,le);break;case H.PRIVATE_MSG:this._validatePrivateMessage(ne,le);break;case H.OBJECT_MSG:this._validateObjectMessage(ne,le);break;case H.BUDDY_MSG:this._validateBuddyMessage(ne,le);break;default:this._validateSuperUserMessage(ne,le)}if(le.length>0)throw new m.as("GenericMessageRequest Error",le)}},{key:"execute",value:function(ne){switch(this._reqObj.putByte(z.KEY_MESSAGE_TYPE,this._type),this._type){case H.PUBLIC_MSG:this._executePublicMessage(ne);break;case H.PRIVATE_MSG:this._executePrivateMessage(ne);break;case H.OBJECT_MSG:this._executeObjectMessage(ne);break;case H.BUDDY_MSG:this._executeBuddyMessage(ne);break;default:this._executeSuperUserMessage(ne)}}},{key:"_validatePublicMessage",value:function(ne,le){null!=this._message&&0!==this._message.length||le.push("Public message is empty"),null==this._room&&(this._room=ne.lastJoinedRoom),null==this._room?le.push("You must be joined in a Room to send a message"):this._room instanceof A.O?ne.getJoinedRooms().indexOf(this._room)<0&&le.push("You are not joined in the target Room: "+this._room):le.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof C.om||le.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(ne,le){null!=this._message&&0!==this._message.length||le.push("Private message is empty"),this._recipient<0&&le.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof C.om||le.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(ne,le){null==this._params?le.push("Object message is null"):this._params instanceof C.om||le.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=ne.lastJoinedRoom),null==this._room?le.push("You must be joined in a Room to send a message"):this._room instanceof A.O?ne.getJoinedRooms().indexOf(this._room)<0&&le.push("You are not joined in the target Room: "+this._room):le.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(re){return re instanceof V.e})||le.push("Each message recipient must be an instance of SFSUser class"):le.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&le.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(ne,le){ne.buddyManager.isInited||le.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===ne.buddyManager.myOnlineState&&le.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||le.push("Buddy message is empty"),this._recipient<0&&le.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof C.om||le.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(ne,le){switch(null!=this._message&&0!==this._message.length||le.push("Moderator message is empty"),null==this._params||this._params instanceof C.om||le.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case v.Cy.TO_USER:this._recipient instanceof V.e||le.push("Recipient must be an instance of SFSUser class");break;case v.Cy.TO_ROOM:this._recipient instanceof A.O||le.push("Recipient must be an instance of SFSRoom class");break;case v.Cy.TO_GROUP:"string"!=typeof this._recipient&&le.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(ne){this._reqObj.putInt(z.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(z.KEY_USER_ID,ne.mySelf.id),this._reqObj.putUtfString(z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(z.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(ne){this._reqObj.putInt(z.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(z.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(ne){this._reqObj.putInt(z.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(z.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(ne){switch(this._reqObj.putUtfString(z.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(z.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(z.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case v.Cy.TO_USER:case v.Cy.TO_ROOM:this._reqObj.putInt(z.KEY_RECIPIENT,this._recipient.id);break;case v.Cy.TO_GROUP:this._reqObj.putUtfString(z.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(ne){this._reqObj.putInt(z.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(z.KEY_XTRA_PARAMS,this._params);var le=new Set;if(null!=this._recipient){var re,ue=function(pe,ze){var at="undefined"!=typeof Symbol&&pe[Symbol.iterator]||pe["@@iterator"];if(!at){if(Array.isArray(pe)||(at=function(Te,Ae){if(Te){if("string"==typeof Te)return P(Te,void 0);var Ue={}.toString.call(Te).slice(8,-1);return"Object"===Ue&&Te.constructor&&(Ue=Te.constructor.name),"Map"===Ue||"Set"===Ue?Array.from(Te):"Arguments"===Ue||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue)?P(Te,void 0):void 0}}(pe))){at&&(pe=at);var Xe=0,Pt=function(){};return{s:Pt,n:function(){return Xe>=pe.length?{done:!0}:{done:!1,value:pe[Xe++]}},e:function(Te){throw Te},f:Pt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var bt,it=!0,rt=!1;return{s:function(){at=at.call(pe)},n:function(){var Te=at.next();return it=Te.done,Te},e:function(Te){rt=!0,bt=Te},f:function(){try{it||null==at.return||at.return()}finally{if(rt)throw bt}}}}(this._recipient);try{for(ue.s();!(re=ue.n()).done;)le.add(re.value.id)}catch(pe){ue.e(pe)}finally{ue.f()}}le.size>0&&this._reqObj.putIntArray(z.KEY_RECIPIENT,Array.from(le))}}],[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}])}(y.hU),G=function(Q){function z(ne){var le,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return D(this,z),(le=E(this,z))._type=H.OBJECT_MSG,le._params=ne,le._room=re,le._recipient=ue,Object.seal(le),le}return S(z,Q),L(z)}(j),X=function(Q){function z(ne){var le,re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return D(this,z),(le=E(this,z))._type=H.PUBLIC_MSG,le._message=ne,le._room=ue,le._params=re,Object.seal(le),le}return S(z,Q),L(z)}(j),fe=function(Q){function z(ne,le){var re,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return D(this,z),(re=E(this,z))._type=H.PRIVATE_MSG,re._message=ne,re._recipient=le,re._params=ue,Object.seal(re),re}return S(z,Q),L(z)}(j),Me=function(Q){function z(ne,le){var re,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(D(this,z),re=E(this,z),null==le)throw new m.nT("Recipient mode cannot be null");if(!(le instanceof v.Cy))throw new m.nT("Recipient mode must be an instance of MessageRecipientMode class");return re._type=H.MODERATOR_MSG,re._message=ne,re._params=ue,re._recipient=le.target,re._sendMode=le.mode,Object.seal(re),re}return S(z,Q),L(z)}(j),me=function(Q){function z(ne,le){var re,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(D(this,z),re=E(this,z),null==le)throw new m.nT("Recipient mode cannot be null");if(!(le instanceof v.Cy))throw new m.nT("Recipient mode must an instance of MessageRecipientMode class");return re._type=H.ADMING_MSG,re._message=ne,re._params=ue,re._recipient=le.target,re._sendMode=le.mode,Object.seal(re),re}return S(z,Q),L(z)}(j)},6418:(N,U,h)=>{"use strict";h.d(U,{f:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(){var M,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}(this,E),(M=g(this,E,[y.lv.PlayerToSpectator]))._room=H,Object.seal(M),M}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}],(w=[{key:"validate",value:function(M){var H=[];if(M.getJoinedRooms().length<1&&H.push("You are not joined in any Room"),null==this._room||this._room instanceof v.O||H.push("Target Room must be an instance of SFSRoom class"),H.length>0)throw new m.as("PlayerToSpectatorRequest Error",H)}},{key:"execute",value:function(M){null==this._room&&(this._room=M.lastJoinedRoom),this._reqObj.putInt(E.KEY_ROOM_ID,this._room.id)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},7730:(N,U,h)=>{"use strict";h.d(U,{B:()=>E});var y=h(1344),m=h(8420),v=h(60),C=h(3020),A=h(2121);function V(b){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function g(b,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,P(M.key),M)}}function P(b){var w=function(S){if("object"!=V(S)||!S)return S;var M=S[Symbol.toPrimitive];if(void 0!==M){var H=M.call(S,"string");if("object"!=V(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(b);return"symbol"==V(w)?w:w+""}function D(b,w,S){return w=L(w),function(M,H){if(H&&("object"==V(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(M)}(b,F()?Reflect.construct(w,S||[],L(b).constructor):w.apply(b,S))}function F(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(F=function(){return!!b})()}function L(b){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function O(b,w){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,M){return S.__proto__=M,S})(b,w)}var E=function(b){function w(j,G,X){var fe,Me=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(me,Q){if(!(me instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,w),(fe=D(this,w,[y.lv.QuickJoinOrCreateRoom]))._matchExpression=j,fe._groupList=G,fe._settings=X,fe._roomToLeave=Me,fe._createRoomRequest=new m.l(X,!1,null),Object.seal(fe),fe}return function(j,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),G&&O(j,G)}(w,b),S=w,H=[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}],(M=[{key:"validate",value:function(j){if(!(this._matchExpression instanceof A.M))throw new v.as("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var G=[];(null==this._groupList||this._groupList.length<1)&&G.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof C.O||G.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(j)}catch(X){G=G.concat(X.errors)}if(G.length>0)throw new v.as("QuickJoinOrCreateRoomRequest Error",G)}},{key:"execute",value:function(j){this._createRoomRequest.execute(j);var G=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(w.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(w.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(w.KEY_ROOM_SETTINGS,G),null!=this._roomToLeave&&this._reqObj.putInt(w.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}])&&g(S.prototype,M),H&&g(S,H),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,M,H}(y.hU)},3667:(N,U,h)=>{"use strict";h.d(U,{m:()=>b});var y=h(1344),m=h(60),v=h(1142),C=h(3020),A=h(31);function V(w){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function g(w,S){(null==S||S>w.length)&&(S=w.length);for(var M=0,H=Array(S);M<S;M++)H[M]=w[M];return H}function P(w,S){for(var M=0;M<S.length;M++){var H=S[M];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(w,D(H.key),H)}}function D(w){var S=function(M){if("object"!=V(M)||!M)return M;var H=M[Symbol.toPrimitive];if(void 0!==H){var j=H.call(M,"string");if("object"!=V(j))return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(w);return"symbol"==V(S)?S:S+""}function F(w,S,M){return S=O(S),function(H,j){if(j&&("object"==V(j)||"function"==typeof j))return j;if(void 0!==j)throw new TypeError("Derived constructors may only return object or undefined");return function(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(H)}(w,L()?Reflect.construct(S,M||[],O(w).constructor):S.apply(w,M))}function L(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(S){}return(L=function(){return!!w})()}function O(w){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(w)}function E(w,S){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,H){return M.__proto__=H,M})(w,S)}var b=function(w){function S(G){var X,fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(Me,me){if(!(Me instanceof me))throw new TypeError("Cannot call a class as a function")}(this,S),(X=F(this,S,[y.lv.SetRoomVariables]))._roomVariables=G,X._room=fe,Object.seal(X),X}return function(G,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(X&&X.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),X&&E(G,X)}(S,w),M=S,j=[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}],(H=[{key:"validate",value:function(G){var X=[];if(null==this._room&&(this._room=G.lastJoinedRoom),null==this._room?X.push("A Room was not specified and you don't seem joined in any other Room"):this._room instanceof C.O||X.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?X.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?X.push("No Room Variables specified"):this._roomVariables.every(function(fe){return fe instanceof A.A})||X.push("Room Variables must be passed as instances of SFSRoomVariable class"):X.push("Room Variables must be passed in an array"),X.length>0)throw new m.as("SetRoomVariablesRequest Error",X)}},{key:"execute",value:function(G){var X,fe=new v.uj,Me=function(Q,z){var ne="undefined"!=typeof Symbol&&Q[Symbol.iterator]||Q["@@iterator"];if(!ne){if(Array.isArray(Q)||(ne=function(ze,at){if(ze){if("string"==typeof ze)return g(ze,void 0);var Xe={}.toString.call(ze).slice(8,-1);return"Object"===Xe&&ze.constructor&&(Xe=ze.constructor.name),"Map"===Xe||"Set"===Xe?Array.from(ze):"Arguments"===Xe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xe)?g(ze,void 0):void 0}}(Q))){ne&&(Q=ne);var le=0,re=function(){};return{s:re,n:function(){return le>=Q.length?{done:!0}:{done:!1,value:Q[le++]}},e:function(ze){throw ze},f:re}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue,he=!0,pe=!1;return{s:function(){ne=ne.call(Q)},n:function(){var ze=ne.next();return he=ze.done,ze},e:function(ze){pe=!0,ue=ze},f:function(){try{he||null==ne.return||ne.return()}finally{if(pe)throw ue}}}}(this._roomVariables);try{for(Me.s();!(X=Me.n()).done;)fe.addSFSArray(X.value.toSFSArray())}catch(Q){Me.e(Q)}finally{Me.f()}this._reqObj.putSFSArray(S.KEY_VAR_LIST,fe),this._reqObj.putInt(S.KEY_VAR_ROOM,this._room.id)}}])&&P(M.prototype,H),j&&P(M,j),Object.defineProperty(M,"prototype",{writable:!1}),M;var M,H,j}(y.hU)},1115:(N,U,h)=>{"use strict";h.d(U,{m:()=>E});var y=h(1344),m=h(60),v=h(1142),C=h(8779);function A(b){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function V(b,w){(null==w||w>b.length)&&(w=b.length);for(var S=0,M=Array(w);S<w;S++)M[S]=b[S];return M}function g(b,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,P(M.key),M)}}function P(b){var w=function(S){if("object"!=A(S)||!S)return S;var M=S[Symbol.toPrimitive];if(void 0!==M){var H=M.call(S,"string");if("object"!=A(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(b);return"symbol"==A(w)?w:w+""}function D(b,w,S){return w=L(w),function(M,H){if(H&&("object"==A(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(M)}(b,F()?Reflect.construct(w,S||[],L(b).constructor):w.apply(b,S))}function F(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(F=function(){return!!b})()}function L(b){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function O(b,w){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,M){return S.__proto__=M,S})(b,w)}var E=function(b){function w(j){var G;return function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,w),(G=D(this,w,[y.lv.SetUserVariables]))._userVariables=j,Object.seal(G),G}return function(j,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),G&&O(j,G)}(w,b),S=w,H=[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}],(M=[{key:"validate",value:function(j){var G=[];if(null==this._userVariables?G.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?G.push("No User Variables specified"):this._userVariables.every(function(X){return X instanceof C.I})||G.push("User Variables must be passed as instances of SFSUserVariable class"):G.push("User Variables must be passed in an array"),G.length>0)throw new m.as("SetUserVariablesRequest Error",G)}},{key:"execute",value:function(j){var G,X=new v.uj,fe=function(me,Q){var z="undefined"!=typeof Symbol&&me[Symbol.iterator]||me["@@iterator"];if(!z){if(Array.isArray(me)||(z=function(pe,ze){if(pe){if("string"==typeof pe)return V(pe,void 0);var at={}.toString.call(pe).slice(8,-1);return"Object"===at&&pe.constructor&&(at=pe.constructor.name),"Map"===at||"Set"===at?Array.from(pe):"Arguments"===at||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?V(pe,void 0):void 0}}(me))){z&&(me=z);var ne=0,le=function(){};return{s:le,n:function(){return ne>=me.length?{done:!0}:{done:!1,value:me[ne++]}},e:function(pe){throw pe},f:le}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var re,ue=!0,he=!1;return{s:function(){z=z.call(me)},n:function(){var pe=z.next();return ue=pe.done,pe},e:function(pe){he=!0,re=pe},f:function(){try{ue||null==z.return||z.return()}finally{if(he)throw re}}}}(this._userVariables);try{for(fe.s();!(G=fe.n()).done;)X.addSFSArray(G.value.toSFSArray())}catch(me){fe.e(me)}finally{fe.f()}this._reqObj.putSFSArray(w.KEY_VAR_LIST,X)}}])&&g(S.prototype,M),H&&g(S,H),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,M,H}(y.hU)},9466:(N,U,h)=>{"use strict";h.d(U,{h:()=>L});var y=h(1344),m=h(60),v=h(3020);function C(O){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(O)}function A(O,E){for(var b=0;b<E.length;b++){var w=E[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(O,V(w.key),w)}}function V(O){var E=function(b){if("object"!=C(b)||!b)return b;var w=b[Symbol.toPrimitive];if(void 0!==w){var S=w.call(b,"string");if("object"!=C(S))return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(O);return"symbol"==C(E)?E:E+""}function g(O,E,b){return E=D(E),function(w,S){if(S&&("object"==C(S)||"function"==typeof S))return S;if(void 0!==S)throw new TypeError("Derived constructors may only return object or undefined");return function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(w)}(O,P()?Reflect.construct(E,b||[],D(O).constructor):E.apply(O,b))}function P(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(P=function(){return!!O})()}function D(O){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(O)}function F(O,E){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b})(O,E)}var L=function(O){function E(){var M,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}(this,E),(M=g(this,E,[y.lv.SpectatorToPlayer]))._room=H,Object.seal(M),M}return function(M,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(H&&H.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),H&&F(M,H)}(E,O),b=E,S=[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}],(w=[{key:"validate",value:function(M){var H=[];if(M.getJoinedRooms().length<1&&H.push("You are not joined in any Room"),null==this._room||this._room instanceof v.O||H.push("Target Room must be an instance of SFSRoom class"),H.length>0)throw new m.as("SpectatorToPlayerRequest Error",H)}},{key:"execute",value:function(M){null==this._room&&(this._room=M.lastJoinedRoom),this._reqObj.putInt(E.KEY_ROOM_ID,this._room.id)}}])&&A(b.prototype,w),S&&A(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,w,S}(y.hU)},3629:(N,U,h)=>{"use strict";h.d(U,{M:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M;return function(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}(this,O),(M=V(this,O,[y.lv.SubscribeRoomGroup]))._groupId=S,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}],(b=[{key:"validate",value:function(S){var M=[];if(null!=this._groupId&&0!==this._groupId.length||M.push("Invalid group id passed; must be a string with at least one character"),M.length>0)throw new m.as("SubscribeGroupRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putUtfString(O.KEY_GROUP_ID,this._groupId)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},5630:(N,U,h)=>{"use strict";h.d(U,{t:()=>F});var y=h(1344),m=h(60);function v(L){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(L)}function C(L,O){for(var E=0;E<O.length;E++){var b=O[E];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(L,A(b.key),b)}}function A(L){var O=function(E){if("object"!=v(E)||!E)return E;var b=E[Symbol.toPrimitive];if(void 0!==b){var w=b.call(E,"string");if("object"!=v(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(L);return"symbol"==v(O)?O:O+""}function V(L,O,E){return O=P(O),function(b,w){if(w&&("object"==v(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(b)}(L,g()?Reflect.construct(O,E||[],P(L).constructor):O.apply(L,E))}function g(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(g=function(){return!!L})()}function P(L){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(L)}function D(L,O){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,b){return E.__proto__=b,E})(L,O)}var F=function(L){function O(S){var M;return function(H,j){if(!(H instanceof j))throw new TypeError("Cannot call a class as a function")}(this,O),(M=V(this,O,[y.lv.UnsubscribeRoomGroup]))._groupId=S,Object.seal(M),M}return function(S,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),M&&D(S,M)}(O,L),E=O,w=[{key:"KEY_GROUP_ID",get:function(){return"g"}}],(b=[{key:"validate",value:function(S){var M=[];if(null!=this._groupId&&0!==this._groupId.length||M.push("Invalid group id passed; must be a string with at least one character"),M.length>0)throw new m.as("UnsubscribeGroupRequest Error",M)}},{key:"execute",value:function(S){this._reqObj.putUtfString(O.KEY_GROUP_ID,this._groupId)}}])&&C(E.prototype,b),w&&C(E,w),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,b,w}(y.hU)},4878:(N,U,h)=>{"use strict";function y(V){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(V)}function v(V){var g=function(P){if("object"!=y(P)||!P)return P;var D=P[Symbol.toPrimitive];if(void 0!==D){var F=D.call(P,"string");if("object"!=y(F))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(V);return"symbol"==y(g)?g:g+""}h.d(U,{D:()=>C});var V,g,C=(V=function P(){throw function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,P),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"},(g=[{key:"_errorsByCode",get:function(){return A}},{key:"setErrorMessage",value:function(P,D){this._errorsByCode[P]=D}},{key:"getErrorMessage",value:function(P,D){return this.stringFormat(this._errorsByCode[P],D)}},{key:"stringFormat",value:function(P,D){if(null==P)return"";if(null!=D)for(var F=0;F<D.length;F++)P=P.replace("{"+F+"}",D[F]);return P}}])&&function m(V,g){for(var P=0;P<g.length;P++){var D=g[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(V,v(D.key),D)}}(V,g),Object.defineProperty(V,"prototype",{writable:!1}),V),A=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},4866:()=>{Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(N){return"number"==typeof N&&isFinite(N)&&Math.floor(N)===N},Number.isSafeInteger=Number.isSafeInteger||function(N){return Number.isInteger(N)&&Math.abs(N)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(N){return"number"==typeof N&&isFinite(N)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(N){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof N)throw new TypeError("predicate must be a function");for(var U=Object(this),h=U.length>>>0,y=arguments[1],m=0;m!==h;m++)if(N.call(y,this[m],m,U))return this[m]}})},4045:(N,U,h)=>{"use strict";h.d(U,{$b:()=>D,Vy:()=>E,n:()=>F});var y=h(139);function m(b){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function v(b,w){for(var S=0;S<w.length;S++){var M=w[S];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,C(M.key),M)}}function C(b){var w=function(S){if("object"!=m(S)||!S)return S;var M=S[Symbol.toPrimitive];if(void 0!==M){var H=M.call(S,"string");if("object"!=m(H))return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(S)}(b);return"symbol"==m(w)?w:w+""}function A(b,w,S){return w=g(w),function(M,H){if(H&&("object"==m(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return function(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(M)}(b,V()?Reflect.construct(w,S||[],g(b).constructor):w.apply(b,S))}function V(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(w){}return(V=function(){return!!b})()}function g(b){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(b)}function P(b,w){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,M){return S.__proto__=M,S})(b,w)}var D=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(b){return b===this.DEBUG?"DEBUG":b===this.INFO?"INFO":b===this.WARN?"WARN":b===this.ERROR?"ERROR":void 0}}),F=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),L=Symbol(),O=Symbol(),E=function(b){function w(j){var G;if(function(X,fe){if(!(X instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,w),G=A(this,w),j!==O)throw"Logger is a singleton class; you can't instantiate it";return G._enableConsoleOutput=void 0!==console,G._enableEventDispatching=!1,G._level=D.INFO,G._useBasicLog=!0,void 0!==console&&(G._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),G}return function(j,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),G&&P(j,G)}(w,b),S=w,M=[{key:"level",get:function(){return this._level},set:function(j){this.isValidLevel(j)&&(this._level=j)}},{key:"enableConsoleOutput",get:function(){return this._enableConsoleOutput},set:function(j){void 0!==console&&(this._enableConsoleOutput=j)}},{key:"enableEventDispatching",get:function(){return this._enableEventDispatching},set:function(j){this._enableEventDispatching=j}},{key:"log",value:function(j){for(var G=this,X=arguments.length,fe=new Array(X>1?X-1:0),Me=1;Me<X;Me++)fe[Me-1]=arguments[Me];if(this.isValidLevel(j)&&j>=this._level){if(this._enableConsoleOutput){var me=function(Q,z){G._useBasicLog&&(z=function(ne){console.log(ne)}),z("[ ".concat("SFS2X"," | ").concat(Q," ] ").concat(fe.join(" ")))};switch(j){case D.DEBUG:me("DEBUG",function(Q){console.debug(Q)});break;case D.INFO:me("INFO",function(Q){console.info(Q)});break;case D.WARN:me("WARN",function(Q){console.warn(Q)});break;case D.ERROR:me("ERROR",function(Q){console.error(Q)})}}this._enableEventDispatching&&this.dispatchEvent(D.toString(j).toLowerCase(),{message:fe.join(" ")})}}},{key:"debug",value:function(){for(var j=arguments.length,G=new Array(j),X=0;X<j;X++)G[X]=arguments[X];this.log(D.DEBUG,G)}},{key:"info",value:function(){for(var j=arguments.length,G=new Array(j),X=0;X<j;X++)G[X]=arguments[X];this.log(D.INFO,G)}},{key:"warn",value:function(){for(var j=arguments.length,G=new Array(j),X=0;X<j;X++)G[X]=arguments[X];this.log(D.WARN,G)}},{key:"error",value:function(){for(var j=arguments.length,G=new Array(j),X=0;X<j;X++)G[X]=arguments[X];this.log(D.ERROR,G)}},{key:"isValidLevel",value:function(j){if(!Number.isInteger(j)||j<D.DEBUG||j>D.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}}],H=[{key:"instance",get:function(){return this[L]||(this[L]=new w(O)),Object.seal(this[L])}}],M&&v(S.prototype,M),H&&v(S,H),Object.defineProperty(S,"prototype",{writable:!1}),S;var S,M,H}(y.Qe)},1470:(N,U,h)=>{"use strict";function y(V){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(V)}function v(V){var g=function(P){if("object"!=y(P)||!P)return P;var D=P[Symbol.toPrimitive];if(void 0!==D){var F=D.call(P,"string");if("object"!=y(F))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(V);return"symbol"==y(g)?g:g+""}h.d(U,{G:()=>C,z:()=>A});var V,g,C=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(V){switch(V){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),A=(V=function P(){!function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,P)},g=[{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}},{key:"prettyPrintByteArray",value:function(P){return null==P?"Null":P.length<32?P.toString():"Byte["+P.length+"]"}},{key:"prettyPrintDump",value:function(P){for(var D="",F=0,L=0;L<P.length;L++){var O=P.charAt(L);if(O==this.TOKEN_INDENT_OPEN)F++,D+=this.NEW_LINE+this.getFormatTabs(F);else if(O==this.TOKEN_INDENT_CLOSE){if(--F<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";D+=this.NEW_LINE+this.getFormatTabs(F)}else D+=O==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(F):O}if(0!=F)throw"DumpFormatter: the indentPos is not === 0 ("+F+"). TOKENS ARE NOT BALANCED!";return D}},{key:"getFormatTabs",value:function(P){return this.strFill(this.TAB,P)}},{key:"strFill",value:function(P,D){for(var F="",L=0;L<D;L++)F+=P;return F}},{key:"hexDump",value:function(P){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===D&&(D=this.HEX_BYTES_PER_LINE);var F="Binary size: "+P.byteLength+this.NEW_LINE,L="",O="",E=0,b=0,w=null;do{var S=(w=P[E]).toString(16).toUpperCase();1===S.length&&(S="0"+S),L+=S+" ",O+=w>=33&&w<=126?String.fromCharCode(w):this.DOT,++b===D&&(b=0,F+=L+this.TAB+O+this.NEW_LINE,L="",O="")}while(++E<P.length);if(0!==b){for(var M=D-b;M>0;--M)L+="   ",O+=" ";F+=L+this.TAB+O+this.NEW_LINE}return F}}],g&&function m(V,g){for(var P=0;P<g.length;P++){var D=g[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(V,v(D.key),D)}}(V,g),Object.defineProperty(V,"prototype",{writable:!1}),V)},2255:(N,U,h)=>{"use strict";h.d(U,{C:()=>A});var y=h(1878);function m(V){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(V)}function C(V){var g=function(P){if("object"!=m(P)||!P)return P;var D=P[Symbol.toPrimitive];if(void 0!==D){var F=D.call(P,"string");if("object"!=m(F))return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(V);return"symbol"==m(g)?g:g+""}var V,g,A=(V=function P(){throw function(D,F){if(!(D instanceof F))throw new TypeError("Cannot call a class as a function")}(this,P),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"},(g=[{key:"md5Password",value:function(P){return(new y.B).hex_md5(P)}}])&&function v(V,g){for(var P=0;P<g.length;P++){var D=g[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(V,C(D.key),D)}}(V,g),Object.defineProperty(V,"prototype",{writable:!1}),V)},2419:(N,U,h)=>{h(9650),h(935),h(6064),h(7067),h(2642),h(3e3),h(8647),h(1895),h(8236),h(3822),h(5572),h(9318),h(5032),h(9073),h(1430),h(8451),h(8132),h(7482),h(5049),h(489),h(5502),h(571),h(6108),h(4509),h(7727),h(6701),h(4419),h(1933),h(3157),h(9497),h(4104),h(210),h(6576),h(4437),h(8050),h(6648),h(5771),h(2392),h(2335),h(4896),h(4521),h(9147),h(1318),h(4352),h(5327),h(7509),h(5909),h(9584),h(345),h(9134),h(7901),h(6592),h(2220),h(3483),h(957),h(2975),h(2405),h(7224),h(8872),h(4894),h(177),h(7360),h(9011),h(4591),h(7334),h(7083),h(9213),h(8437),h(9839),h(6549),h(2818),h(8543),h(3559),h(4153),h(3292),h(2346),h(9429),h(7849),h(8951),h(7899),h(3863),h(4570),h(6511),h(5853),h(7075),h(3504),h(4913),h(9813),h(8892),h(8888),h(1449),h(7874),h(4609),h(3706),h(9620),h(7762),h(5144),h(5369),h(6209),h(5165),h(8301),h(4116),h(8604),h(9638),h(4040),h(8305),h(4701),h(341),h(6517),h(3386),h(1632),h(9397),h(8163),h(5706),h(660),h(8699),h(4702),h(333),h(1220),h(2087),h(8066),h(8537),h(7925),h(2490),h(7103),h(2586),h(2552),h(4376),h(5153),h(1879),h(2650),h(1104),h(1883),h(5433),h(5e3),h(5932),h(5443),h(6316),N.exports=h(6094)},3387:N=>{N.exports=function(U){if("function"!=typeof U)throw TypeError(U+" is not a function!");return U}},5122:(N,U,h)=>{var y=h(5089);N.exports=function(m,v){if("number"!=typeof m&&"Number"!=y(m))throw TypeError(v);return+m}},8184:(N,U,h)=>{var y=h(7574)("unscopables"),m=Array.prototype;null==m[y]&&h(3341)(m,y,{}),N.exports=function(v){m[y][v]=!0}},8828:(N,U,h)=>{"use strict";var y=h(1212)(!0);N.exports=function(m,v,C){return v+(C?y(m,v).length:1)}},6440:N=>{N.exports=function(U,h,y,m){if(!(U instanceof h)||void 0!==m&&m in U)throw TypeError(y+": incorrect invocation!");return U}},4228:(N,U,h)=>{var y=h(3305);N.exports=function(m){if(!y(m))throw TypeError(m+" is not an object!");return m}},4438:(N,U,h)=>{"use strict";var y=h(8270),m=h(157),v=h(1485);N.exports=[].copyWithin||function(C,A){var V=y(this),g=v(V.length),P=m(C,g),D=m(A,g),F=arguments.length>2?arguments[2]:void 0,L=Math.min((void 0===F?g:m(F,g))-D,g-P),O=1;for(D<P&&P<D+L&&(O=-1,D+=L-1,P+=L-1);L-- >0;)D in V?V[P]=V[D]:delete V[P],P+=O,D+=O;return V}},5564:(N,U,h)=>{"use strict";var y=h(8270),m=h(157),v=h(1485);N.exports=function(C){for(var A=y(this),V=v(A.length),g=arguments.length,P=m(g>1?arguments[1]:void 0,V),D=g>2?arguments[2]:void 0,F=void 0===D?V:m(D,V);F>P;)A[P++]=C;return A}},1464:(N,U,h)=>{var y=h(7221),m=h(1485),v=h(157);N.exports=function(C){return function(A,V,g){var P,D=y(A),F=m(D.length),L=v(g,F);if(C&&V!=V){for(;F>L;)if((P=D[L++])!=P)return!0}else for(;F>L;L++)if((C||L in D)&&D[L]===V)return C||L||0;return!C&&-1}}},6179:(N,U,h)=>{var y=h(5052),m=h(1249),v=h(8270),C=h(1485),A=h(3191);N.exports=function(V,g){var P=1==V,D=2==V,F=3==V,L=4==V,O=6==V,E=5==V||O,b=g||A;return function(w,S,M){for(var H,j,G=v(w),X=m(G),fe=y(S,M,3),Me=C(X.length),me=0,Q=P?b(w,Me):D?b(w,0):void 0;Me>me;me++)if((E||me in X)&&(j=fe(H=X[me],me,G),V))if(P)Q[me]=j;else if(j)switch(V){case 3:return!0;case 5:return H;case 6:return me;case 2:Q.push(H)}else if(L)return!1;return O?-1:F||L?L:Q}}},6543:(N,U,h)=>{var y=h(3387),m=h(8270),v=h(1249),C=h(1485);N.exports=function(A,V,g,P,D){y(V);var F=m(A),L=v(F),O=C(F.length),E=D?O-1:0,b=D?-1:1;if(g<2)for(;;){if(E in L){P=L[E],E+=b;break}if(E+=b,D?E<0:O<=E)throw TypeError("Reduce of empty array with no initial value")}for(;D?E>=0:O>E;E+=b)E in L&&(P=V(P,L[E],E,F));return P}},3606:(N,U,h)=>{var y=h(3305),m=h(7981),v=h(7574)("species");N.exports=function(C){var A;return m(C)&&("function"!=typeof(A=C.constructor)||A!==Array&&!m(A.prototype)||(A=void 0),y(A)&&null===(A=A[v])&&(A=void 0)),void 0===A?Array:A}},3191:(N,U,h)=>{var y=h(3606);N.exports=function(m,v){return new(y(m))(v)}},5538:(N,U,h)=>{"use strict";var y=h(3387),m=h(3305),v=h(4877),C=[].slice,A={};N.exports=Function.bind||function(V){var g=y(this),P=C.call(arguments,1),D=function(){var F=P.concat(C.call(arguments));return this instanceof D?function(L,O,E){if(!(O in A)){for(var b=[],w=0;w<O;w++)b[w]="a["+w+"]";A[O]=Function("F,a","return new F("+b.join(",")+")")}return A[O](L,E)}(g,F.length,F):v(g,F,V)};return m(g.prototype)&&(D.prototype=g.prototype),D}},4848:(N,U,h)=>{var y=h(5089),m=h(7574)("toStringTag"),v="Arguments"==y(function(){return arguments}());N.exports=function(C){var A,V,g;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(V=function(P,D){try{return P[D]}catch(F){}}(A=Object(C),m))?V:v?y(A):"Object"==(g=y(A))&&"function"==typeof A.callee?"Arguments":g}},5089:N=>{var U={}.toString;N.exports=function(h){return U.call(h).slice(8,-1)}},6197:(N,U,h)=>{"use strict";var y=h(7967).f,m=h(4719),v=h(6065),C=h(5052),A=h(6440),V=h(8790),g=h(8175),P=h(4970),D=h(5762),F=h(1763),L=h(2988).fastKey,O=h(2888),E=F?"_s":"size",b=function(w,S){var M,H=L(S);if("F"!==H)return w._i[H];for(M=w._f;M;M=M.n)if(M.k==S)return M};N.exports={getConstructor:function(w,S,M,H){var j=w(function(G,X){A(G,j,S,"_i"),G._t=S,G._i=m(null),G._f=void 0,G._l=void 0,G[E]=0,null!=X&&V(X,M,G[H],G)});return v(j.prototype,{clear:function(){for(var G=O(this,S),X=G._i,fe=G._f;fe;fe=fe.n)fe.r=!0,fe.p&&(fe.p=fe.p.n=void 0),delete X[fe.i];G._f=G._l=void 0,G[E]=0},delete:function(G){var X=O(this,S),fe=b(X,G);if(fe){var Me=fe.n,me=fe.p;delete X._i[fe.i],fe.r=!0,me&&(me.n=Me),Me&&(Me.p=me),X._f==fe&&(X._f=Me),X._l==fe&&(X._l=me),X[E]--}return!!fe},forEach:function(G){O(this,S);for(var X,fe=C(G,arguments.length>1?arguments[1]:void 0,3);X=X?X.n:this._f;)for(fe(X.v,X.k,this);X&&X.r;)X=X.p},has:function(G){return!!b(O(this,S),G)}}),F&&y(j.prototype,"size",{get:function(){return O(this,S)[E]}}),j},def:function(w,S,M){var H,j,G=b(w,S);return G?G.v=M:(w._l=G={i:j=L(S,!0),k:S,v:M,p:H=w._l,n:void 0,r:!1},w._f||(w._f=G),H&&(H.n=G),w[E]++,"F"!==j&&(w._i[j]=G)),w},getEntry:b,setStrong:function(w,S,M){g(w,S,function(H,j){this._t=O(H,S),this._k=j,this._l=void 0},function(){for(var H=this,j=H._k,G=H._l;G&&G.r;)G=G.p;return H._t&&(H._l=G=G?G.n:H._t._f)?P(0,"keys"==j?G.k:"values"==j?G.v:[G.k,G.v]):(H._t=void 0,P(1))},M?"entries":"values",!M,!0),D(S)}}},9882:(N,U,h)=>{"use strict";var y=h(6065),m=h(2988).getWeak,v=h(4228),C=h(3305),A=h(6440),V=h(8790),g=h(6179),P=h(7917),D=h(2888),F=g(5),L=g(6),O=0,E=function(S){return S._l||(S._l=new b)},b=function(){this.a=[]},w=function(S,M){return F(S.a,function(H){return H[0]===M})};b.prototype={get:function(S){var M=w(this,S);if(M)return M[1]},has:function(S){return!!w(this,S)},set:function(S,M){var H=w(this,S);H?H[1]=M:this.a.push([S,M])},delete:function(S){var M=L(this.a,function(H){return H[0]===S});return~M&&this.a.splice(M,1),!!~M}},N.exports={getConstructor:function(S,M,H,j){var G=S(function(X,fe){A(X,G,M,"_i"),X._t=M,X._i=O++,X._l=void 0,null!=fe&&V(fe,H,X[j],X)});return y(G.prototype,{delete:function(X){if(!C(X))return!1;var fe=m(X);return!0===fe?E(D(this,M)).delete(X):fe&&P(fe,this._i)&&delete fe[this._i]},has:function(X){if(!C(X))return!1;var fe=m(X);return!0===fe?E(D(this,M)).has(X):fe&&P(fe,this._i)}}),G},def:function(S,M,H){var j=m(v(M),!0);return!0===j?E(S).set(M,H):j[S._i]=H,S},ufstore:E}},8933:(N,U,h)=>{"use strict";var y=h(7526),m=h(2127),v=h(8859),C=h(6065),A=h(2988),V=h(8790),g=h(6440),P=h(3305),D=h(9448),F=h(8931),L=h(3844),O=h(8880);N.exports=function(E,b,w,S,M,H){var j=y[E],G=j,X=M?"set":"add",fe=G&&G.prototype,Me={},me=function(ue){var he=fe[ue];v(fe,ue,"delete"==ue||"has"==ue?function(pe){return!(H&&!P(pe))&&he.call(this,0===pe?0:pe)}:"get"==ue?function(pe){return H&&!P(pe)?void 0:he.call(this,0===pe?0:pe)}:"add"==ue?function(pe){return he.call(this,0===pe?0:pe),this}:function(pe,ze){return he.call(this,0===pe?0:pe,ze),this})};if("function"==typeof G&&(H||fe.forEach&&!D(function(){(new G).entries().next()}))){var Q=new G,z=Q[X](H?{}:-0,1)!=Q,ne=D(function(){Q.has(1)}),le=F(function(ue){new G(ue)}),re=!H&&D(function(){for(var ue=new G,he=5;he--;)ue[X](he,he);return!ue.has(-0)});le||((G=b(function(ue,he){g(ue,G,E);var pe=O(new j,ue,G);return null!=he&&V(he,M,pe[X],pe),pe})).prototype=fe,fe.constructor=G),(ne||re)&&(me("delete"),me("has"),M&&me("get")),(re||z)&&me(X),H&&fe.clear&&delete fe.clear}else G=S.getConstructor(b,E,M,X),C(G.prototype,w),A.NEED=!0;return L(G,E),Me[E]=G,m(m.G+m.W+m.F*(G!=j),Me),H||S.setStrong(G,E,M),G}},6094:N=>{var U=N.exports={version:"2.6.12"};"number"==typeof __e&&(__e=U)},7227:(N,U,h)=>{"use strict";var y=h(7967),m=h(1996);N.exports=function(v,C,A){C in v?y.f(v,C,m(0,A)):v[C]=A}},5052:(N,U,h)=>{var y=h(3387);N.exports=function(m,v,C){if(y(m),void 0===v)return m;switch(C){case 1:return function(A){return m.call(v,A)};case 2:return function(A,V){return m.call(v,A,V)};case 3:return function(A,V,g){return m.call(v,A,V,g)}}return function(){return m.apply(v,arguments)}}},5385:(N,U,h)=>{"use strict";var y=h(9448),m=Date.prototype.getTime,v=Date.prototype.toISOString,C=function(A){return A>9?A:"0"+A};N.exports=y(function(){return"0385-07-25T07:06:39.999Z"!=v.call(new Date(-50000000000001))})||!y(function(){v.call(new Date(NaN))})?function(){if(!isFinite(m.call(this)))throw RangeError("Invalid time value");var A=this,V=A.getUTCFullYear(),g=A.getUTCMilliseconds(),P=V<0?"-":V>9999?"+":"";return P+("00000"+Math.abs(V)).slice(P?-6:-4)+"-"+C(A.getUTCMonth()+1)+"-"+C(A.getUTCDate())+"T"+C(A.getUTCHours())+":"+C(A.getUTCMinutes())+":"+C(A.getUTCSeconds())+"."+(g>99?g:"0"+C(g))+"Z"}:v},107:(N,U,h)=>{"use strict";var y=h(4228),m=h(3048),v="number";N.exports=function(C){if("string"!==C&&C!==v&&"default"!==C)throw TypeError("Incorrect hint");return m(y(this),C!=v)}},3344:N=>{N.exports=function(U){if(null==U)throw TypeError("Can't call method on  "+U);return U}},1763:(N,U,h)=>{N.exports=!h(9448)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},6034:(N,U,h)=>{var y=h(3305),m=h(7526).document,v=y(m)&&y(m.createElement);N.exports=function(C){return v?m.createElement(C):{}}},6140:N=>{N.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5969:(N,U,h)=>{var y=h(1311),m=h(1060),v=h(8449);N.exports=function(C){var A=y(C),V=m.f;if(V)for(var g,P=V(C),D=v.f,F=0;P.length>F;)D.call(C,g=P[F++])&&A.push(g);return A}},2127:(N,U,h)=>{var y=h(7526),m=h(6094),v=h(3341),C=h(8859),A=h(5052),V="prototype",g=function(P,D,F){var L,O,E,b,w=P&g.F,S=P&g.G,H=P&g.P,j=P&g.B,G=S?y:P&g.S?y[D]||(y[D]={}):(y[D]||{})[V],X=S?m:m[D]||(m[D]={}),fe=X[V]||(X[V]={});for(L in S&&(F=D),F)E=((O=!w&&G&&void 0!==G[L])?G:F)[L],b=j&&O?A(E,y):H&&"function"==typeof E?A(Function.call,E):E,G&&C(G,L,E,P&g.U),X[L]!=E&&v(X,L,b),H&&fe[L]!=E&&(fe[L]=E)};y.core=m,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,N.exports=g},5203:(N,U,h)=>{var y=h(7574)("match");N.exports=function(m){var v=/./;try{"/./"[m](v)}catch(C){try{return v[y]=!1,!"/./"[m](v)}catch(A){}}return!0}},9448:N=>{N.exports=function(U){try{return!!U()}catch(h){return!0}}},9228:(N,U,h)=>{"use strict";h(4116);var y=h(8859),m=h(3341),v=h(9448),C=h(3344),A=h(7574),V=h(9600),g=A("species"),P=!v(function(){var F=/./;return F.exec=function(){var L=[];return L.groups={a:"7"},L},"7"!=="".replace(F,"$<a>")}),D=function(){var F=/(?:)/,L=F.exec;F.exec=function(){return L.apply(this,arguments)};var O="ab".split(F);return 2===O.length&&"a"===O[0]&&"b"===O[1]}();N.exports=function(F,L,O){var E=A(F),b=!v(function(){var G={};return G[E]=function(){return 7},7!=""[F](G)}),w=b?!v(function(){var G=!1,X=/a/;return X.exec=function(){return G=!0,null},"split"===F&&(X.constructor={},X.constructor[g]=function(){return X}),X[E](""),!G}):void 0;if(!b||!w||"replace"===F&&!P||"split"===F&&!D){var S=/./[E],M=O(C,E,""[F],function(G,X,fe,Me,me){return X.exec===V?b&&!me?{done:!0,value:S.call(X,fe,Me)}:{done:!0,value:G.call(fe,X,Me)}:{done:!1}}),j=M[1];y(String.prototype,F,M[0]),m(RegExp.prototype,E,2==L?function(G,X){return j.call(G,this,X)}:function(G){return j.call(G,this)})}}},1158:(N,U,h)=>{"use strict";var y=h(4228);N.exports=function(){var m=y(this),v="";return m.global&&(v+="g"),m.ignoreCase&&(v+="i"),m.multiline&&(v+="m"),m.unicode&&(v+="u"),m.sticky&&(v+="y"),v}},8790:(N,U,h)=>{var y=h(5052),m=h(7368),v=h(1508),C=h(4228),A=h(1485),V=h(762),g={},P={},D=N.exports=function(F,L,O,E,b){var w,S,M,H,j=b?function(){return F}:V(F),G=y(O,E,L?2:1),X=0;if("function"!=typeof j)throw TypeError(F+" is not iterable!");if(v(j)){for(w=A(F.length);w>X;X++)if((H=L?G(C(S=F[X])[0],S[1]):G(F[X]))===g||H===P)return H}else for(M=j.call(F);!(S=M.next()).done;)if((H=m(M,G,S.value,L))===g||H===P)return H};D.BREAK=g,D.RETURN=P},9461:(N,U,h)=>{N.exports=h(4556)("native-function-to-string",Function.toString)},7526:N=>{var U=N.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=U)},7917:N=>{var U={}.hasOwnProperty;N.exports=function(h,y){return U.call(h,y)}},3341:(N,U,h)=>{var y=h(7967),m=h(1996);N.exports=h(1763)?function(v,C,A){return y.f(v,C,m(1,A))}:function(v,C,A){return v[C]=A,v}},1308:(N,U,h)=>{var y=h(7526).document;N.exports=y&&y.documentElement},2956:(N,U,h)=>{N.exports=!h(1763)&&!h(9448)(function(){return 7!=Object.defineProperty(h(6034)("div"),"a",{get:function(){return 7}}).a})},8880:(N,U,h)=>{var y=h(3305),m=h(5170).set;N.exports=function(v,C,A){var V,g=C.constructor;return g!==A&&"function"==typeof g&&(V=g.prototype)!==A.prototype&&y(V)&&m&&m(v,V),v}},4877:N=>{N.exports=function(U,h,y){var m=void 0===y;switch(h.length){case 0:return m?U():U.call(y);case 1:return m?U(h[0]):U.call(y,h[0]);case 2:return m?U(h[0],h[1]):U.call(y,h[0],h[1]);case 3:return m?U(h[0],h[1],h[2]):U.call(y,h[0],h[1],h[2]);case 4:return m?U(h[0],h[1],h[2],h[3]):U.call(y,h[0],h[1],h[2],h[3])}return U.apply(y,h)}},1249:(N,U,h)=>{var y=h(5089);N.exports=Object("z").propertyIsEnumerable(0)?Object:function(m){return"String"==y(m)?m.split(""):Object(m)}},1508:(N,U,h)=>{var y=h(906),m=h(7574)("iterator"),v=Array.prototype;N.exports=function(C){return void 0!==C&&(y.Array===C||v[m]===C)}},7981:(N,U,h)=>{var y=h(5089);N.exports=Array.isArray||function(m){return"Array"==y(m)}},3842:(N,U,h)=>{var y=h(3305),m=Math.floor;N.exports=function(v){return!y(v)&&isFinite(v)&&m(v)===v}},3305:N=>{N.exports=function(U){return"object"==typeof U?null!==U:"function"==typeof U}},5411:(N,U,h)=>{var y=h(3305),m=h(5089),v=h(7574)("match");N.exports=function(C){var A;return y(C)&&(void 0!==(A=C[v])?!!A:"RegExp"==m(C))}},7368:(N,U,h)=>{var y=h(4228);N.exports=function(m,v,C,A){try{return A?v(y(C)[0],C[1]):v(C)}catch(g){var V=m.return;throw void 0!==V&&y(V.call(m)),g}}},6032:(N,U,h)=>{"use strict";var y=h(4719),m=h(1996),v=h(3844),C={};h(3341)(C,h(7574)("iterator"),function(){return this}),N.exports=function(A,V,g){A.prototype=y(C,{next:m(1,g)}),v(A,V+" Iterator")}},8175:(N,U,h)=>{"use strict";var y=h(2750),m=h(2127),v=h(8859),C=h(3341),A=h(906),V=h(6032),g=h(3844),P=h(627),D=h(7574)("iterator"),F=!([].keys&&"next"in[].keys()),L="keys",O="values",E=function(){return this};N.exports=function(b,w,S,M,H,j,G){V(S,w,M);var X,fe,Me,me=function(ze){if(!F&&ze in le)return le[ze];switch(ze){case L:case O:return function(){return new S(this,ze)}}return function(){return new S(this,ze)}},Q=w+" Iterator",z=H==O,ne=!1,le=b.prototype,re=le[D]||le["@@iterator"]||H&&le[H],ue=re||me(H),he=H?z?me("entries"):ue:void 0,pe="Array"==w&&le.entries||re;if(pe&&(Me=P(pe.call(new b)))!==Object.prototype&&Me.next&&(g(Me,Q,!0),y||"function"==typeof Me[D]||C(Me,D,E)),z&&re&&re.name!==O&&(ne=!0,ue=function(){return re.call(this)}),y&&!G||!F&&!ne&&le[D]||C(le,D,ue),A[w]=ue,A[Q]=E,H)if(X={values:z?ue:me(O),keys:j?ue:me(L),entries:he},G)for(fe in X)fe in le||v(le,fe,X[fe]);else m(m.P+m.F*(F||ne),w,X);return X}},8931:(N,U,h)=>{var y=h(7574)("iterator"),m=!1;try{var v=[7][y]();v.return=function(){m=!0},Array.from(v,function(){throw 2})}catch(C){}N.exports=function(C,A){if(!A&&!m)return!1;var V=!1;try{var g=[7],P=g[y]();P.next=function(){return{done:V=!0}},g[y]=function(){return P},C(g)}catch(D){}return V}},4970:N=>{N.exports=function(U,h){return{value:h,done:!!U}}},906:N=>{N.exports={}},2750:N=>{N.exports=!1},5551:N=>{var U=Math.expm1;N.exports=!U||U(10)>22025.465794806718||U(10)<22025.465794806718||-2e-17!=U(-2e-17)?function(h){return 0==(h=+h)?h:h>-1e-6&&h<1e-6?h+h*h/2:Math.exp(h)-1}:U},2122:(N,U,h)=>{var y=h(3733),m=Math.pow,v=m(2,-52),C=m(2,-23),A=m(2,127)*(2-C),V=m(2,-126);N.exports=Math.fround||function(g){var P,D,F=Math.abs(g),L=y(g);return F<V?L*(F/V/C+1/v-1/v)*V*C:(D=(P=(1+C/v)*F)-(P-F))>A||D!=D?L*(1/0):L*D}},1473:N=>{N.exports=Math.log1p||function(U){return(U=+U)>-1e-8&&U<1e-8?U-U*U/2:Math.log(1+U)}},3733:N=>{N.exports=Math.sign||function(U){return 0==(U=+U)||U!=U?U:U<0?-1:1}},2988:(N,U,h)=>{var y=h(4415)("meta"),m=h(3305),v=h(7917),C=h(7967).f,A=0,V=Object.isExtensible||function(){return!0},g=!h(9448)(function(){return V(Object.preventExtensions({}))}),P=function(F){C(F,y,{value:{i:"O"+ ++A,w:{}}})},D=N.exports={KEY:y,NEED:!1,fastKey:function(F,L){if(!m(F))return"symbol"==typeof F?F:("string"==typeof F?"S":"P")+F;if(!v(F,y)){if(!V(F))return"F";if(!L)return"E";P(F)}return F[y].i},getWeak:function(F,L){if(!v(F,y)){if(!V(F))return!0;if(!L)return!1;P(F)}return F[y].w},onFreeze:function(F){return g&&D.NEED&&V(F)&&!v(F,y)&&P(F),F}}},1384:(N,U,h)=>{var y=h(7526),m=h(2780).set,v=y.MutationObserver||y.WebKitMutationObserver,C=y.process,A=y.Promise,V="process"==h(5089)(C);N.exports=function(){var g,P,D,F=function(){var b,w;for(V&&(b=C.domain)&&b.exit();g;){w=g.fn,g=g.next;try{w()}catch(S){throw g?D():P=void 0,S}}P=void 0,b&&b.enter()};if(V)D=function(){C.nextTick(F)};else if(!v||y.navigator&&y.navigator.standalone)if(A&&A.resolve){var L=A.resolve(void 0);D=function(){L.then(F)}}else D=function(){m.call(y,F)};else{var O=!0,E=document.createTextNode("");new v(F).observe(E,{characterData:!0}),D=function(){E.data=O=!O}}return function(b){var w={fn:b,next:void 0};P&&(P.next=w),g||(g=w,D()),P=w}}},4258:(N,U,h)=>{"use strict";var y=h(3387);function m(v){var C,A;this.promise=new v(function(V,g){if(void 0!==C||void 0!==A)throw TypeError("Bad Promise constructor");C=V,A=g}),this.resolve=y(C),this.reject=y(A)}N.exports.f=function(v){return new m(v)}},8206:(N,U,h)=>{"use strict";var y=h(1763),m=h(1311),v=h(1060),C=h(8449),A=h(8270),V=h(1249),g=Object.assign;N.exports=!g||h(9448)(function(){var P={},D={},F=Symbol(),L="abcdefghijklmnopqrst";return P[F]=7,L.split("").forEach(function(O){D[O]=O}),7!=g({},P)[F]||Object.keys(g({},D)).join("")!=L})?function(P,D){for(var F=A(P),L=arguments.length,O=1,E=v.f,b=C.f;L>O;)for(var w,S=V(arguments[O++]),M=E?m(S).concat(E(S)):m(S),H=M.length,j=0;H>j;)w=M[j++],y&&!b.call(S,w)||(F[w]=S[w]);return F}:g},4719:(N,U,h)=>{var y=h(4228),m=h(1626),v=h(6140),C=h(766)("IE_PROTO"),A=function(){},V="prototype",g=function(){var P,D=h(6034)("iframe"),F=v.length;for(D.style.display="none",h(1308).appendChild(D),D.src="javascript:",(P=D.contentWindow.document).open(),P.write("<script>document.F=Object<\/script>"),P.close(),g=P.F;F--;)delete g[V][v[F]];return g()};N.exports=Object.create||function(P,D){var F;return null!==P?(A[V]=y(P),F=new A,A[V]=null,F[C]=P):F=g(),void 0===D?F:m(F,D)}},7967:(N,U,h)=>{var y=h(4228),m=h(2956),v=h(3048),C=Object.defineProperty;U.f=h(1763)?Object.defineProperty:function(A,V,g){if(y(A),V=v(V,!0),y(g),m)try{return C(A,V,g)}catch(P){}if("get"in g||"set"in g)throw TypeError("Accessors not supported!");return"value"in g&&(A[V]=g.value),A}},1626:(N,U,h)=>{var y=h(7967),m=h(4228),v=h(1311);N.exports=h(1763)?Object.defineProperties:function(C,A){m(C);for(var V,g=v(A),P=g.length,D=0;P>D;)y.f(C,V=g[D++],A[V]);return C}},8641:(N,U,h)=>{var y=h(8449),m=h(1996),v=h(7221),C=h(3048),A=h(7917),V=h(2956),g=Object.getOwnPropertyDescriptor;U.f=h(1763)?g:function(P,D){if(P=v(P),D=C(D,!0),V)try{return g(P,D)}catch(F){}if(A(P,D))return m(!y.f.call(P,D),P[D])}},4765:(N,U,h)=>{var y=h(7221),m=h(9415).f,v={}.toString,C="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];N.exports.f=function(A){return C&&"[object Window]"==v.call(A)?function(V){try{return m(V)}catch(g){return C.slice()}}(A):m(y(A))}},9415:(N,U,h)=>{var y=h(4561),m=h(6140).concat("length","prototype");U.f=Object.getOwnPropertyNames||function(v){return y(v,m)}},1060:(N,U)=>{U.f=Object.getOwnPropertySymbols},627:(N,U,h)=>{var y=h(7917),m=h(8270),v=h(766)("IE_PROTO"),C=Object.prototype;N.exports=Object.getPrototypeOf||function(A){return A=m(A),y(A,v)?A[v]:"function"==typeof A.constructor&&A instanceof A.constructor?A.constructor.prototype:A instanceof Object?C:null}},4561:(N,U,h)=>{var y=h(7917),m=h(7221),v=h(1464)(!1),C=h(766)("IE_PROTO");N.exports=function(A,V){var g,P=m(A),D=0,F=[];for(g in P)g!=C&&y(P,g)&&F.push(g);for(;V.length>D;)y(P,g=V[D++])&&(~v(F,g)||F.push(g));return F}},1311:(N,U,h)=>{var y=h(4561),m=h(6140);N.exports=Object.keys||function(v){return y(v,m)}},8449:(N,U)=>{U.f={}.propertyIsEnumerable},923:(N,U,h)=>{var y=h(2127),m=h(6094),v=h(9448);N.exports=function(C,A){var V=(m.Object||{})[C]||Object[C],g={};g[C]=A(V),y(y.S+y.F*v(function(){V(1)}),"Object",g)}},6222:(N,U,h)=>{var y=h(9415),m=h(1060),v=h(4228),C=h(7526).Reflect;N.exports=C&&C.ownKeys||function(A){var V=y.f(v(A)),g=m.f;return g?V.concat(g(A)):V}},3589:(N,U,h)=>{var y=h(7526).parseFloat,m=h(629).trim;N.exports=1/y(h(832)+"-0")!=-1/0?function(v){var C=m(String(v),3),A=y(C);return 0===A&&"-"==C.charAt(0)?-0:A}:y},2738:(N,U,h)=>{var y=h(7526).parseInt,m=h(629).trim,v=h(832),C=/^[-+]?0[xX]/;N.exports=8!==y(v+"08")||22!==y(v+"0x16")?function(A,V){var g=m(String(A),3);return y(g,V>>>0||(C.test(g)?16:10))}:y},128:N=>{N.exports=function(U){try{return{e:!1,v:U()}}catch(h){return{e:!0,v:h}}}},5957:(N,U,h)=>{var y=h(4228),m=h(3305),v=h(4258);N.exports=function(C,A){if(y(C),m(A)&&A.constructor===C)return A;var V=v.f(C);return(0,V.resolve)(A),V.promise}},1996:N=>{N.exports=function(U,h){return{enumerable:!(1&U),configurable:!(2&U),writable:!(4&U),value:h}}},6065:(N,U,h)=>{var y=h(8859);N.exports=function(m,v,C){for(var A in v)y(m,A,v[A],C);return m}},8859:(N,U,h)=>{var y=h(7526),m=h(3341),v=h(7917),C=h(4415)("src"),A=h(9461),V="toString",g=(""+A).split(V);h(6094).inspectSource=function(P){return A.call(P)},(N.exports=function(P,D,F,L){var O="function"==typeof F;O&&(v(F,"name")||m(F,"name",D)),P[D]!==F&&(O&&(v(F,C)||m(F,C,P[D]?""+P[D]:g.join(String(D)))),P===y?P[D]=F:L?P[D]?P[D]=F:m(P,D,F):(delete P[D],m(P,D,F)))})(Function.prototype,V,function(){return"function"==typeof this&&this[C]||A.call(this)})},2535:(N,U,h)=>{"use strict";var y=h(4848),m=RegExp.prototype.exec;N.exports=function(v,C){var A=v.exec;if("function"==typeof A){var V=A.call(v,C);if("object"!=typeof V)throw new TypeError("RegExp exec method returned something other than an Object or null");return V}if("RegExp"!==y(v))throw new TypeError("RegExp#exec called on incompatible receiver");return m.call(v,C)}},9600:(N,U,h)=>{"use strict";var y,m,v=h(1158),C=RegExp.prototype.exec,A=String.prototype.replace,V=C,g="lastIndex",P=(m=/b*/g,C.call(y=/a/,"a"),C.call(m,"a"),0!==y[g]||0!==m[g]),D=void 0!==/()??/.exec("")[1];(P||D)&&(V=function(F){var L,O,E,b,w=this;return D&&(O=new RegExp("^"+w.source+"$(?!\\s)",v.call(w))),P&&(L=w[g]),E=C.call(w,F),P&&E&&(w[g]=w.global?E.index+E[0].length:L),D&&E&&E.length>1&&A.call(E[0],O,function(){for(b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(E[b]=void 0)}),E}),N.exports=V},7359:N=>{N.exports=Object.is||function(U,h){return U===h?0!==U||1/U==1/h:U!=U&&h!=h}},5170:(N,U,h)=>{var y=h(3305),m=h(4228),v=function(C,A){if(m(C),!y(A)&&null!==A)throw TypeError(A+": can't set as prototype!")};N.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(C,A,V){try{(V=h(5052)(Function.call,h(8641).f(Object.prototype,"__proto__").set,2))(C,[]),A=!(C instanceof Array)}catch(g){A=!0}return function(g,P){return v(g,P),A?g.__proto__=P:V(g,P),g}}({},!1):void 0),check:v}},5762:(N,U,h)=>{"use strict";var y=h(7526),m=h(7967),v=h(1763),C=h(7574)("species");N.exports=function(A){var V=y[A];v&&V&&!V[C]&&m.f(V,C,{configurable:!0,get:function(){return this}})}},3844:(N,U,h)=>{var y=h(7967).f,m=h(7917),v=h(7574)("toStringTag");N.exports=function(C,A,V){C&&!m(C=V?C:C.prototype,v)&&y(C,v,{configurable:!0,value:A})}},766:(N,U,h)=>{var y=h(4556)("keys"),m=h(4415);N.exports=function(v){return y[v]||(y[v]=m(v))}},4556:(N,U,h)=>{var y=h(6094),m=h(7526),v="__core-js_shared__",C=m[v]||(m[v]={});(N.exports=function(A,V){return C[A]||(C[A]=void 0!==V?V:{})})("versions",[]).push({version:y.version,mode:h(2750)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},9190:(N,U,h)=>{var y=h(4228),m=h(3387),v=h(7574)("species");N.exports=function(C,A){var V,g=y(C).constructor;return void 0===g||null==(V=y(g)[v])?A:m(V)}},6884:(N,U,h)=>{"use strict";var y=h(9448);N.exports=function(m,v){return!!m&&y(function(){v?m.call(null,function(){},1):m.call(null)})}},1212:(N,U,h)=>{var y=h(7087),m=h(3344);N.exports=function(v){return function(C,A){var V,g,P=String(m(C)),D=y(A),F=P.length;return D<0||D>=F?v?"":void 0:(V=P.charCodeAt(D))<55296||V>56319||D+1===F||(g=P.charCodeAt(D+1))<56320||g>57343?v?P.charAt(D):V:v?P.slice(D,D+2):g-56320+(V-55296<<10)+65536}}},8942:(N,U,h)=>{var y=h(5411),m=h(3344);N.exports=function(v,C,A){if(y(C))throw TypeError("String#"+A+" doesn't accept regex!");return String(m(v))}},2468:(N,U,h)=>{var y=h(2127),m=h(9448),v=h(3344),C=/"/g,A=function(V,g,P,D){var F=String(v(V)),L="<"+g;return""!==P&&(L+=" "+P+'="'+String(D).replace(C,"&quot;")+'"'),L+">"+F+"</"+g+">"};N.exports=function(V,g){var P={};P[V]=g(A),y(y.P+y.F*m(function(){var D=""[V]('"');return D!==D.toLowerCase()||D.split('"').length>3}),"String",P)}},7926:(N,U,h)=>{"use strict";var y=h(7087),m=h(3344);N.exports=function(v){var C=String(m(this)),A="",V=y(v);if(V<0||V==1/0)throw RangeError("Count can't be negative");for(;V>0;(V>>>=1)&&(C+=C))1&V&&(A+=C);return A}},629:(N,U,h)=>{var y=h(2127),m=h(3344),v=h(9448),C=h(832),A="["+C+"]",V=RegExp("^"+A+A+"*"),g=RegExp(A+A+"*$"),P=function(F,L,O){var E={},b=v(function(){return!!C[F]()||"\u200b\x85"!="\u200b\x85"[F]()}),w=E[F]=b?L(D):C[F];O&&(E[O]=w),y(y.P+y.F*b,"String",E)},D=P.trim=function(F,L){return F=String(m(F)),1&L&&(F=F.replace(V,"")),2&L&&(F=F.replace(g,"")),F};N.exports=P},832:N=>{N.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},2780:(N,U,h)=>{var y,m,v,C=h(5052),A=h(4877),V=h(1308),g=h(6034),P=h(7526),D=P.process,F=P.setImmediate,L=P.clearImmediate,O=P.MessageChannel,E=P.Dispatch,b=0,w={},S="onreadystatechange",M=function(){var j=+this;if(w.hasOwnProperty(j)){var G=w[j];delete w[j],G()}},H=function(j){M.call(j.data)};F&&L||(F=function(j){for(var G=[],X=1;arguments.length>X;)G.push(arguments[X++]);return w[++b]=function(){A("function"==typeof j?j:Function(j),G)},y(b),b},L=function(j){delete w[j]},"process"==h(5089)(D)?y=function(j){D.nextTick(C(M,j,1))}:E&&E.now?y=function(j){E.now(C(M,j,1))}:O?(v=(m=new O).port2,m.port1.onmessage=H,y=C(v.postMessage,v,1)):P.addEventListener&&"function"==typeof postMessage&&!P.importScripts?(y=function(j){P.postMessage(j+"","*")},P.addEventListener("message",H,!1)):y=S in g("script")?function(j){V.appendChild(g("script"))[S]=function(){V.removeChild(this),M.call(j)}}:function(j){setTimeout(C(M,j,1),0)}),N.exports={set:F,clear:L}},157:(N,U,h)=>{var y=h(7087),m=Math.max,v=Math.min;N.exports=function(C,A){return(C=y(C))<0?m(C+A,0):v(C,A)}},3133:(N,U,h)=>{var y=h(7087),m=h(1485);N.exports=function(v){if(void 0===v)return 0;var C=y(v),A=m(C);if(C!==A)throw RangeError("Wrong length!");return A}},7087:N=>{var U=Math.ceil,h=Math.floor;N.exports=function(y){return isNaN(y=+y)?0:(y>0?h:U)(y)}},7221:(N,U,h)=>{var y=h(1249),m=h(3344);N.exports=function(v){return y(m(v))}},1485:(N,U,h)=>{var y=h(7087),m=Math.min;N.exports=function(v){return v>0?m(y(v),9007199254740991):0}},8270:(N,U,h)=>{var y=h(3344);N.exports=function(m){return Object(y(m))}},3048:(N,U,h)=>{var y=h(3305);N.exports=function(m,v){if(!y(m))return m;var C,A;if(v&&"function"==typeof(C=m.toString)&&!y(A=C.call(m))||"function"==typeof(C=m.valueOf)&&!y(A=C.call(m))||!v&&"function"==typeof(C=m.toString)&&!y(A=C.call(m)))return A;throw TypeError("Can't convert object to primitive value")}},7209:(N,U,h)=>{"use strict";if(h(1763)){var y=h(2750),m=h(7526),v=h(9448),C=h(2127),A=h(237),V=h(8032),g=h(5052),P=h(6440),D=h(1996),F=h(3341),L=h(6065),O=h(7087),E=h(1485),b=h(3133),w=h(157),S=h(3048),M=h(7917),H=h(4848),j=h(3305),G=h(8270),X=h(1508),fe=h(4719),Me=h(627),me=h(9415).f,Q=h(762),z=h(4415),ne=h(7574),le=h(6179),re=h(1464),ue=h(9190),he=h(5165),pe=h(906),ze=h(8931),at=h(5762),Xe=h(5564),Pt=h(4438),bt=h(7967),it=h(8641),rt=bt.f,Te=it.f,Ae=m.RangeError,Ue=m.TypeError,je=m.Uint8Array,We="ArrayBuffer",Je="Shared"+We,qe="BYTES_PER_ELEMENT",pt="prototype",Bt=Array[pt],Fn=V.ArrayBuffer,gi=V.DataView,Oi=le(0),ci=le(2),ji=le(3),Mt=le(4),Zt=le(5),Qe=le(6),He=re(!0),nt=re(!1),Le=he.values,Re=he.keys,et=he.entries,wt=Bt.lastIndexOf,xt=Bt.reduce,kt=Bt.reduceRight,bn=Bt.join,_i=Bt.sort,Gi=Bt.slice,ln=Bt.toString,$n=Bt.toLocaleString,Dn=ne("iterator"),sn=ne("toStringTag"),An=z("typed_constructor"),vo=z("def_constructor"),lo=A.CONSTR,Di=A.TYPED,Zi=A.VIEW,Hi="Wrong length!",rn=le(1,function(Ht,Yt){return Sr(ue(Ht,Ht[vo]),Yt)}),Dr=v(function(){return 1===new je(new Uint16Array([1]).buffer)[0]}),Oo=!!je&&!!je[pt].set&&v(function(){new je(1).set({})}),qt=function(Ht,Yt){var dn=O(Ht);if(dn<0||dn%Yt)throw Ae("Wrong offset!");return dn},Sn=function(Ht){if(j(Ht)&&Di in Ht)return Ht;throw Ue(Ht+" is not a typed array!")},Sr=function(Ht,Yt){if(!j(Ht)||!(An in Ht))throw Ue("It is not a typed array constructor!");return new Ht(Yt)},Ra=function(Ht,Yt){return eu(ue(Ht,Ht[vo]),Yt)},eu=function(Ht,Yt){for(var dn=0,mi=Yt.length,Cn=Sr(Ht,mi);mi>dn;)Cn[dn]=Yt[dn++];return Cn},jr=function(Ht,Yt,dn){rt(Ht,Yt,{get:function(){return this._d[dn]}})},Ss=function(Ht){var Yt,dn,mi,Cn,Jr,fc,En=G(Ht),Ni=arguments.length,Na=Ni>1?arguments[1]:void 0,Nr=void 0!==Na,ka=Q(En);if(null!=ka&&!X(ka)){for(fc=ka.call(En),mi=[],Yt=0;!(Jr=fc.next()).done;Yt++)mi.push(Jr.value);En=mi}for(Nr&&Ni>2&&(Na=g(Na,arguments[2],2)),Yt=0,dn=E(En.length),Cn=Sr(this,dn);dn>Yt;Yt++)Cn[Yt]=Nr?Na(En[Yt],Yt):En[Yt];return Cn},dr=function(){for(var Ht=0,Yt=arguments.length,dn=Sr(this,Yt);Yt>Ht;)dn[Ht]=arguments[Ht++];return dn},Hu=!!je&&v(function(){$n.call(new je(1))}),Rr=function(){return $n.apply(Hu?Gi.call(Sn(this)):Sn(this),arguments)},Bd={copyWithin:function(Ht,Yt){return Pt.call(Sn(this),Ht,Yt,arguments.length>2?arguments[2]:void 0)},every:function(Ht){return Mt(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},fill:function(Ht){return Xe.apply(Sn(this),arguments)},filter:function(Ht){return Ra(this,ci(Sn(this),Ht,arguments.length>1?arguments[1]:void 0))},find:function(Ht){return Zt(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},findIndex:function(Ht){return Qe(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},forEach:function(Ht){Oi(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},indexOf:function(Ht){return nt(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},includes:function(Ht){return He(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},join:function(Ht){return bn.apply(Sn(this),arguments)},lastIndexOf:function(Ht){return wt.apply(Sn(this),arguments)},map:function(Ht){return rn(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},reduce:function(Ht){return xt.apply(Sn(this),arguments)},reduceRight:function(Ht){return kt.apply(Sn(this),arguments)},reverse:function(){for(var Ht,Yt=this,dn=Sn(Yt).length,mi=Math.floor(dn/2),Cn=0;Cn<mi;)Ht=Yt[Cn],Yt[Cn++]=Yt[--dn],Yt[dn]=Ht;return Yt},some:function(Ht){return ji(Sn(this),Ht,arguments.length>1?arguments[1]:void 0)},sort:function(Ht){return _i.call(Sn(this),Ht)},subarray:function(Ht,Yt){var dn=Sn(this),mi=dn.length,Cn=w(Ht,mi);return new(ue(dn,dn[vo]))(dn.buffer,dn.byteOffset+Cn*dn.BYTES_PER_ELEMENT,E((void 0===Yt?mi:w(Yt,mi))-Cn))}},Ja=function(Ht,Yt){return Ra(this,Gi.call(Sn(this),Ht,Yt))},Ri=function(Ht){Sn(this);var Yt=qt(arguments[1],1),dn=this.length,mi=G(Ht),Cn=E(mi.length),Jr=0;if(Cn+Yt>dn)throw Ae(Hi);for(;Jr<Cn;)this[Yt+Jr]=mi[Jr++]},qr={entries:function(){return et.call(Sn(this))},keys:function(){return Re.call(Sn(this))},values:function(){return Le.call(Sn(this))}},Pi=function(Ht,Yt){return j(Ht)&&Ht[Di]&&"symbol"!=typeof Yt&&Yt in Ht&&String(+Yt)==String(Yt)},Ls=function(Ht,Yt){return Pi(Ht,Yt=S(Yt,!0))?D(2,Ht[Yt]):Te(Ht,Yt)},Ho=function(Ht,Yt,dn){return!(Pi(Ht,Yt=S(Yt,!0))&&j(dn)&&M(dn,"value"))||M(dn,"get")||M(dn,"set")||dn.configurable||M(dn,"writable")&&!dn.writable||M(dn,"enumerable")&&!dn.enumerable?rt(Ht,Yt,dn):(Ht[Yt]=dn.value,Ht)};lo||(it.f=Ls,bt.f=Ho),C(C.S+C.F*!lo,"Object",{getOwnPropertyDescriptor:Ls,defineProperty:Ho}),v(function(){ln.call({})})&&(ln=$n=function(){return bn.call(this)});var hr=L({},Bd);L(hr,qr),F(hr,Dn,qr.values),L(hr,{slice:Ja,set:Ri,constructor:function(){},toString:ln,toLocaleString:Rr}),jr(hr,"buffer","b"),jr(hr,"byteOffset","o"),jr(hr,"byteLength","l"),jr(hr,"length","e"),rt(hr,sn,{get:function(){return this[Di]}}),N.exports=function(Ht,Yt,dn,mi){var Cn=Ht+((mi=!!mi)?"Clamped":"")+"Array",Jr="get"+Ht,fc="set"+Ht,En=m[Cn],Ni=En||{},Na=En&&Me(En),ka={},Cr=En&&En[pt],ui=function(Se,de){rt(Se,de,{get:function(){return(Ie=this._d).v[Jr](de*Yt+Ie.o,Dr);var Ie},set:function(be){return Ie=de,Oe=be,ct=this._d,mi&&(Oe=(Oe=Math.round(Oe))<0?0:Oe>255?255:255&Oe),void ct.v[fc](Ie*Yt+ct.o,Oe,Dr);var Ie,Oe,ct},enumerable:!0})};En&&A.ABV?v(function(){En(1)})&&v(function(){new En(-1)})&&ze(function(Se){new En,new En(null),new En(1.5),new En(Se)},!0)||(En=dn(function(Se,de,be,ce){var Ie;return P(Se,En,Cn),j(de)?de instanceof Fn||(Ie=H(de))==We||Ie==Je?void 0!==ce?new Ni(de,qt(be,Yt),ce):void 0!==be?new Ni(de,qt(be,Yt)):new Ni(de):Di in de?eu(En,de):Ss.call(En,de):new Ni(b(de))}),Oi(Na!==Function.prototype?me(Ni).concat(me(Na)):me(Ni),function(Se){Se in En||F(En,Se,Ni[Se])}),En[pt]=Cr,y||(Cr.constructor=En)):(En=dn(function(Se,de,be,ce){P(Se,En,Cn,"_d");var Ie,Oe,ct,tt,jt=0,Vt=0;if(j(de)){if(!(de instanceof Fn||(tt=H(de))==We||tt==Je))return Di in de?eu(En,de):Ss.call(En,de);Ie=de,Vt=qt(be,Yt);var Mn=de.byteLength;if(void 0===ce){if(Mn%Yt||(Oe=Mn-Vt)<0)throw Ae(Hi)}else if((Oe=E(ce)*Yt)+Vt>Mn)throw Ae(Hi);ct=Oe/Yt}else ct=b(de),Ie=new Fn(Oe=ct*Yt);for(F(Se,"_d",{b:Ie,o:Vt,l:Oe,e:ct,v:new gi(Ie)});jt<ct;)ui(Se,jt++)}),Cr=En[pt]=fe(hr),F(Cr,"constructor",En));var ra=Cr[Dn],Ci=!!ra&&("values"==ra.name||null==ra.name),Fe=qr.values;F(En,An,!0),F(Cr,Di,Cn),F(Cr,Zi,!0),F(Cr,vo,En),(mi?new En(1)[sn]==Cn:sn in Cr)||rt(Cr,sn,{get:function(){return Cn}}),ka[Cn]=En,C(C.G+C.W+C.F*(En!=Ni),ka),C(C.S,Cn,{BYTES_PER_ELEMENT:Yt}),C(C.S+C.F*v(function(){Ni.of.call(En,1)}),Cn,{from:Ss,of:dr}),qe in Cr||F(Cr,qe,Yt),C(C.P,Cn,Bd),at(Cn),C(C.P+C.F*Oo,Cn,{set:Ri}),C(C.P+C.F*!Ci,Cn,qr),y||Cr.toString==ln||(Cr.toString=ln),C(C.P+C.F*v(function(){new En(1).slice()}),Cn,{slice:Ja}),C(C.P+C.F*(v(function(){return[1,2].toLocaleString()!=new En([1,2]).toLocaleString()})||!v(function(){Cr.toLocaleString.call([1,2])})),Cn,{toLocaleString:Rr}),pe[Cn]=Ci?ra:Fe,y||Ci||F(Cr,Dn,Fe)}}else N.exports=function(){}},8032:(N,U,h)=>{"use strict";var y=h(7526),m=h(1763),v=h(2750),C=h(237),A=h(3341),V=h(6065),g=h(9448),P=h(6440),D=h(7087),F=h(1485),L=h(3133),O=h(9415).f,E=h(7967).f,b=h(5564),w=h(3844),S="ArrayBuffer",M="DataView",H="prototype",j="Wrong index!",G=y[S],X=y[M],fe=y.Math,Me=y.RangeError,me=y.Infinity,Q=G,z=fe.abs,ne=fe.pow,le=fe.floor,re=fe.log,ue=fe.LN2,pe="byteLength",ze="byteOffset",at=m?"_b":"buffer",Xe=m?"_l":pe,Pt=m?"_o":ze;function bt(Mt,Zt,Qe){var He,nt,Le,Re=new Array(Qe),et=8*Qe-Zt-1,wt=(1<<et)-1,xt=wt>>1,kt=23===Zt?ne(2,-24)-ne(2,-77):0,bn=0,_i=Mt<0||0===Mt&&1/Mt<0?1:0;for((Mt=z(Mt))!=Mt||Mt===me?(nt=Mt!=Mt?1:0,He=wt):(He=le(re(Mt)/ue),Mt*(Le=ne(2,-He))<1&&(He--,Le*=2),(Mt+=He+xt>=1?kt/Le:kt*ne(2,1-xt))*Le>=2&&(He++,Le/=2),He+xt>=wt?(nt=0,He=wt):He+xt>=1?(nt=(Mt*Le-1)*ne(2,Zt),He+=xt):(nt=Mt*ne(2,xt-1)*ne(2,Zt),He=0));Zt>=8;Re[bn++]=255&nt,nt/=256,Zt-=8);for(He=He<<Zt|nt,et+=Zt;et>0;Re[bn++]=255&He,He/=256,et-=8);return Re[--bn]|=128*_i,Re}function it(Mt,Zt,Qe){var He,nt=8*Qe-Zt-1,Le=(1<<nt)-1,Re=Le>>1,et=nt-7,wt=Qe-1,xt=Mt[wt--],kt=127&xt;for(xt>>=7;et>0;kt=256*kt+Mt[wt],wt--,et-=8);for(He=kt&(1<<-et)-1,kt>>=-et,et+=Zt;et>0;He=256*He+Mt[wt],wt--,et-=8);if(0===kt)kt=1-Re;else{if(kt===Le)return He?NaN:xt?-me:me;He+=ne(2,Zt),kt-=Re}return(xt?-1:1)*He*ne(2,kt-Zt)}function rt(Mt){return Mt[3]<<24|Mt[2]<<16|Mt[1]<<8|Mt[0]}function Te(Mt){return[255&Mt]}function Ae(Mt){return[255&Mt,Mt>>8&255]}function Ue(Mt){return[255&Mt,Mt>>8&255,Mt>>16&255,Mt>>24&255]}function je(Mt){return bt(Mt,52,8)}function We(Mt){return bt(Mt,23,4)}function Je(Mt,Zt,Qe){E(Mt[H],Zt,{get:function(){return this[Qe]}})}function qe(Mt,Zt,Qe,He){var nt=L(+Qe);if(nt+Zt>Mt[Xe])throw Me(j);var Re=nt+Mt[Pt],et=Mt[at]._b.slice(Re,Re+Zt);return He?et:et.reverse()}function pt(Mt,Zt,Qe,He,nt,Le){var Re=L(+Qe);if(Re+Zt>Mt[Xe])throw Me(j);for(var et=Mt[at]._b,wt=Re+Mt[Pt],xt=He(+nt),kt=0;kt<Zt;kt++)et[wt+kt]=xt[Le?kt:Zt-kt-1]}if(C.ABV){if(!g(function(){G(1)})||!g(function(){new G(-1)})||g(function(){return new G,new G(1.5),new G(NaN),G.name!=S})){for(var Bt,Fn=(G=function(Mt){return P(this,G),new Q(L(Mt))})[H]=Q[H],gi=O(Q),Oi=0;gi.length>Oi;)(Bt=gi[Oi++])in G||A(G,Bt,Q[Bt]);v||(Fn.constructor=G)}var ci=new X(new G(2)),ji=X[H].setInt8;ci.setInt8(0,2147483648),ci.setInt8(1,2147483649),!ci.getInt8(0)&&ci.getInt8(1)||V(X[H],{setInt8:function(Mt,Zt){ji.call(this,Mt,Zt<<24>>24)},setUint8:function(Mt,Zt){ji.call(this,Mt,Zt<<24>>24)}},!0)}else G=function(Mt){P(this,G,S);var Zt=L(Mt);this._b=b.call(new Array(Zt),0),this[Xe]=Zt},X=function(Mt,Zt,Qe){P(this,X,M),P(Mt,G,M);var He=Mt[Xe],nt=D(Zt);if(nt<0||nt>He)throw Me("Wrong offset!");if(nt+(Qe=void 0===Qe?He-nt:F(Qe))>He)throw Me("Wrong length!");this[at]=Mt,this[Pt]=nt,this[Xe]=Qe},m&&(Je(G,pe,"_l"),Je(X,"buffer","_b"),Je(X,pe,"_l"),Je(X,ze,"_o")),V(X[H],{getInt8:function(Mt){return qe(this,1,Mt)[0]<<24>>24},getUint8:function(Mt){return qe(this,1,Mt)[0]},getInt16:function(Mt){var Zt=qe(this,2,Mt,arguments[1]);return(Zt[1]<<8|Zt[0])<<16>>16},getUint16:function(Mt){var Zt=qe(this,2,Mt,arguments[1]);return Zt[1]<<8|Zt[0]},getInt32:function(Mt){return rt(qe(this,4,Mt,arguments[1]))},getUint32:function(Mt){return rt(qe(this,4,Mt,arguments[1]))>>>0},getFloat32:function(Mt){return it(qe(this,4,Mt,arguments[1]),23,4)},getFloat64:function(Mt){return it(qe(this,8,Mt,arguments[1]),52,8)},setInt8:function(Mt,Zt){pt(this,1,Mt,Te,Zt)},setUint8:function(Mt,Zt){pt(this,1,Mt,Te,Zt)},setInt16:function(Mt,Zt){pt(this,2,Mt,Ae,Zt,arguments[2])},setUint16:function(Mt,Zt){pt(this,2,Mt,Ae,Zt,arguments[2])},setInt32:function(Mt,Zt){pt(this,4,Mt,Ue,Zt,arguments[2])},setUint32:function(Mt,Zt){pt(this,4,Mt,Ue,Zt,arguments[2])},setFloat32:function(Mt,Zt){pt(this,4,Mt,We,Zt,arguments[2])},setFloat64:function(Mt,Zt){pt(this,8,Mt,je,Zt,arguments[2])}});w(G,S),w(X,M),A(X[H],C.VIEW,!0),U[S]=G,U[M]=X},237:(N,U,h)=>{for(var y,m=h(7526),v=h(3341),C=h(4415),A=C("typed_array"),V=C("view"),g=!(!m.ArrayBuffer||!m.DataView),P=g,D=0,F="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");D<9;)(y=m[F[D++]])?(v(y.prototype,A,!0),v(y.prototype,V,!0)):P=!1;N.exports={ABV:g,CONSTR:P,TYPED:A,VIEW:V}},4415:N=>{var U=0,h=Math.random();N.exports=function(y){return"Symbol(".concat(void 0===y?"":y,")_",(++U+h).toString(36))}},4514:(N,U,h)=>{var y=h(7526).navigator;N.exports=y&&y.userAgent||""},2888:(N,U,h)=>{var y=h(3305);N.exports=function(m,v){if(!y(m)||m._t!==v)throw TypeError("Incompatible receiver, "+v+" required!");return m}},5392:(N,U,h)=>{var y=h(7526),m=h(6094),v=h(2750),C=h(7960),A=h(7967).f;N.exports=function(V){var g=m.Symbol||(m.Symbol=v?{}:y.Symbol||{});"_"==V.charAt(0)||V in g||A(g,V,{value:C.f(V)})}},7960:(N,U,h)=>{U.f=h(7574)},7574:(N,U,h)=>{var y=h(4556)("wks"),m=h(4415),v=h(7526).Symbol,C="function"==typeof v;(N.exports=function(A){return y[A]||(y[A]=C&&v[A]||(C?v:m)("Symbol."+A))}).store=y},762:(N,U,h)=>{var y=h(4848),m=h(7574)("iterator"),v=h(906);N.exports=h(6094).getIteratorMethod=function(C){if(null!=C)return C[m]||C["@@iterator"]||v[y(C)]}},9620:(N,U,h)=>{var y=h(2127);y(y.P,"Array",{copyWithin:h(4438)}),h(8184)("copyWithin")},8888:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(4);y(y.P+y.F*!h(6884)([].every,!0),"Array",{every:function(v){return m(this,v,arguments[1])}})},7762:(N,U,h)=>{var y=h(2127);y(y.P,"Array",{fill:h(5564)}),h(8184)("fill")},9813:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(2);y(y.P+y.F*!h(6884)([].filter,!0),"Array",{filter:function(v){return m(this,v,arguments[1])}})},5369:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(6),v="findIndex",C=!0;v in[]&&Array(1)[v](function(){C=!1}),y(y.P+y.F*C,"Array",{findIndex:function(A){return m(this,A,arguments.length>1?arguments[1]:void 0)}}),h(8184)(v)},5144:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(5),v="find",C=!0;v in[]&&Array(1)[v](function(){C=!1}),y(y.P+y.F*C,"Array",{find:function(A){return m(this,A,arguments.length>1?arguments[1]:void 0)}}),h(8184)(v)},3504:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(0),v=h(6884)([].forEach,!0);y(y.P+y.F*!v,"Array",{forEach:function(C){return m(this,C,arguments[1])}})},3863:(N,U,h)=>{"use strict";var y=h(5052),m=h(2127),v=h(8270),C=h(7368),A=h(1508),V=h(1485),g=h(7227),P=h(762);m(m.S+m.F*!h(8931)(function(D){Array.from(D)}),"Array",{from:function(D){var F,L,O,E,b=v(D),w="function"==typeof this?this:Array,S=arguments.length,M=S>1?arguments[1]:void 0,H=void 0!==M,j=0,G=P(b);if(H&&(M=y(M,S>2?arguments[2]:void 0,2)),null==G||w==Array&&A(G))for(L=new w(F=V(b.length));F>j;j++)g(L,j,H?M(b[j],j):b[j]);else for(E=G.call(b),L=new w;!(O=E.next()).done;j++)g(L,j,H?C(E,M,[O.value,j],!0):O.value);return L.length=j,L}})},4609:(N,U,h)=>{"use strict";var y=h(2127),m=h(1464)(!1),v=[].indexOf,C=!!v&&1/[1].indexOf(1,-0)<0;y(y.P+y.F*(C||!h(6884)(v)),"Array",{indexOf:function(A){return C?v.apply(this,arguments)||0:m(this,A,arguments[1])}})},7899:(N,U,h)=>{var y=h(2127);y(y.S,"Array",{isArray:h(7981)})},5165:(N,U,h)=>{"use strict";var y=h(8184),m=h(4970),v=h(906),C=h(7221);N.exports=h(8175)(Array,"Array",function(A,V){this._t=C(A),this._i=0,this._k=V},function(){var A=this._t,V=this._k,g=this._i++;return!A||g>=A.length?(this._t=void 0,m(1)):m(0,"keys"==V?g:"values"==V?A[g]:[g,A[g]])},"values"),v.Arguments=v.Array,y("keys"),y("values"),y("entries")},6511:(N,U,h)=>{"use strict";var y=h(2127),m=h(7221),v=[].join;y(y.P+y.F*(h(1249)!=Object||!h(6884)(v)),"Array",{join:function(C){return v.call(m(this),void 0===C?",":C)}})},3706:(N,U,h)=>{"use strict";var y=h(2127),m=h(7221),v=h(7087),C=h(1485),A=[].lastIndexOf,V=!!A&&1/[1].lastIndexOf(1,-0)<0;y(y.P+y.F*(V||!h(6884)(A)),"Array",{lastIndexOf:function(g){if(V)return A.apply(this,arguments)||0;var P=m(this),D=C(P.length),F=D-1;for(arguments.length>1&&(F=Math.min(F,v(arguments[1]))),F<0&&(F=D+F);F>=0;F--)if(F in P&&P[F]===g)return F||0;return-1}})},4913:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(1);y(y.P+y.F*!h(6884)([].map,!0),"Array",{map:function(v){return m(this,v,arguments[1])}})},4570:(N,U,h)=>{"use strict";var y=h(2127),m=h(7227);y(y.S+y.F*h(9448)(function(){function v(){}return!(Array.of.call(v)instanceof v)}),"Array",{of:function(){for(var v=0,C=arguments.length,A=new("function"==typeof this?this:Array)(C);C>v;)m(A,v,arguments[v++]);return A.length=C,A}})},7874:(N,U,h)=>{"use strict";var y=h(2127),m=h(6543);y(y.P+y.F*!h(6884)([].reduceRight,!0),"Array",{reduceRight:function(v){return m(this,v,arguments.length,arguments[1],!0)}})},1449:(N,U,h)=>{"use strict";var y=h(2127),m=h(6543);y(y.P+y.F*!h(6884)([].reduce,!0),"Array",{reduce:function(v){return m(this,v,arguments.length,arguments[1],!1)}})},5853:(N,U,h)=>{"use strict";var y=h(2127),m=h(1308),v=h(5089),C=h(157),A=h(1485),V=[].slice;y(y.P+y.F*h(9448)(function(){m&&V.call(m)}),"Array",{slice:function(g,P){var D=A(this.length),F=v(this);if(P=void 0===P?D:P,"Array"==F)return V.call(this,g,P);for(var L=C(g,D),O=C(P,D),E=A(O-L),b=new Array(E),w=0;w<E;w++)b[w]="String"==F?this.charAt(L+w):this[L+w];return b}})},8892:(N,U,h)=>{"use strict";var y=h(2127),m=h(6179)(3);y(y.P+y.F*!h(6884)([].some,!0),"Array",{some:function(v){return m(this,v,arguments[1])}})},7075:(N,U,h)=>{"use strict";var y=h(2127),m=h(3387),v=h(8270),C=h(9448),A=[].sort,V=[1,2,3];y(y.P+y.F*(C(function(){V.sort(void 0)})||!C(function(){V.sort(null)})||!h(6884)(A)),"Array",{sort:function(g){return void 0===g?A.call(v(this)):A.call(v(this),m(g))}})},6209:(N,U,h)=>{h(5762)("Array")},3292:(N,U,h)=>{var y=h(2127);y(y.S,"Date",{now:function(){return(new Date).getTime()}})},9429:(N,U,h)=>{var y=h(2127),m=h(5385);y(y.P+y.F*(Date.prototype.toISOString!==m),"Date",{toISOString:m})},2346:(N,U,h)=>{"use strict";var y=h(2127),m=h(8270),v=h(3048);y(y.P+y.F*h(9448)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(C){var A=m(this),V=v(A);return"number"!=typeof V||isFinite(V)?A.toISOString():null}})},8951:(N,U,h)=>{var y=h(7574)("toPrimitive"),m=Date.prototype;y in m||h(3341)(m,y,h(107))},7849:(N,U,h)=>{var y=Date.prototype,m="Invalid Date",v="toString",C=y[v],A=y.getTime;new Date(NaN)+""!=m&&h(8859)(y,v,function(){var V=A.call(this);return V==V?C.call(this):m})},5049:(N,U,h)=>{var y=h(2127);y(y.P,"Function",{bind:h(5538)})},5502:(N,U,h)=>{"use strict";var y=h(3305),m=h(627),v=h(7574)("hasInstance"),C=Function.prototype;v in C||h(7967).f(C,v,{value:function(A){if("function"!=typeof this||!y(A))return!1;if(!y(this.prototype))return A instanceof this;for(;A=m(A);)if(this.prototype===A)return!0;return!1}})},489:(N,U,h)=>{var y=h(7967).f,m=Function.prototype,v=/^\s*function ([^ (]*)/,C="name";C in m||h(1763)&&y(m,C,{configurable:!0,get:function(){try{return(""+this).match(v)[1]}catch(A){return""}}})},3386:(N,U,h)=>{"use strict";var y=h(6197),m=h(2888),v="Map";N.exports=h(8933)(v,function(C){return function(){return C(this,arguments.length>0?arguments[0]:void 0)}},{get:function(C){var A=y.getEntry(m(this,v),C);return A&&A.v},set:function(C,A){return y.def(m(this,v),0===C?0:C,A)}},y,!0)},6648:(N,U,h)=>{var y=h(2127),m=h(1473),v=Math.sqrt,C=Math.acosh;y(y.S+y.F*!(C&&710==Math.floor(C(Number.MAX_VALUE))&&C(1/0)==1/0),"Math",{acosh:function(A){return(A=+A)<1?NaN:A>94906265.62425156?Math.log(A)+Math.LN2:m(A-1+v(A-1)*v(A+1))}})},5771:(N,U,h)=>{var y=h(2127),m=Math.asinh;y(y.S+y.F*!(m&&1/m(0)>0),"Math",{asinh:function v(C){return isFinite(C=+C)&&0!=C?C<0?-v(-C):Math.log(C+Math.sqrt(C*C+1)):C}})},2392:(N,U,h)=>{var y=h(2127),m=Math.atanh;y(y.S+y.F*!(m&&1/m(-0)<0),"Math",{atanh:function(v){return 0==(v=+v)?v:Math.log((1+v)/(1-v))/2}})},2335:(N,U,h)=>{var y=h(2127),m=h(3733);y(y.S,"Math",{cbrt:function(v){return m(v=+v)*Math.pow(Math.abs(v),.3333333333333333)}})},4896:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{clz32:function(m){return(m>>>=0)?31-Math.floor(Math.log(m+.5)*Math.LOG2E):32}})},4521:(N,U,h)=>{var y=h(2127),m=Math.exp;y(y.S,"Math",{cosh:function(v){return(m(v=+v)+m(-v))/2}})},9147:(N,U,h)=>{var y=h(2127),m=h(5551);y(y.S+y.F*(m!=Math.expm1),"Math",{expm1:m})},1318:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{fround:h(2122)})},4352:(N,U,h)=>{var y=h(2127),m=Math.abs;y(y.S,"Math",{hypot:function(v,C){for(var A,V,g=0,P=0,D=arguments.length,F=0;P<D;)F<(A=m(arguments[P++]))?(g=g*(V=F/A)*V+1,F=A):g+=A>0?(V=A/F)*V:A;return F===1/0?1/0:F*Math.sqrt(g)}})},5327:(N,U,h)=>{var y=h(2127),m=Math.imul;y(y.S+y.F*h(9448)(function(){return-5!=m(4294967295,5)||2!=m.length}),"Math",{imul:function(v,C){var A=65535,V=+v,g=+C,P=A&V,D=A&g;return 0|P*D+((A&V>>>16)*D+P*(A&g>>>16)<<16>>>0)}})},7509:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{log10:function(m){return Math.log(m)*Math.LOG10E}})},5909:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{log1p:h(1473)})},9584:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{log2:function(m){return Math.log(m)/Math.LN2}})},345:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{sign:h(3733)})},9134:(N,U,h)=>{var y=h(2127),m=h(5551),v=Math.exp;y(y.S+y.F*h(9448)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(C){return Math.abs(C=+C)<1?(m(C)-m(-C))/2:(v(C-1)-v(-C-1))*(Math.E/2)}})},7901:(N,U,h)=>{var y=h(2127),m=h(5551),v=Math.exp;y(y.S,"Math",{tanh:function(C){var A=m(C=+C),V=m(-C);return A==1/0?1:V==1/0?-1:(A-V)/(v(C)+v(-C))}})},6592:(N,U,h)=>{var y=h(2127);y(y.S,"Math",{trunc:function(m){return(m>0?Math.floor:Math.ceil)(m)}})},4509:(N,U,h)=>{"use strict";var y=h(7526),m=h(7917),v=h(5089),C=h(8880),A=h(3048),V=h(9448),g=h(9415).f,P=h(8641).f,D=h(7967).f,F=h(629).trim,L="Number",O=y[L],E=O,b=O.prototype,w=v(h(4719)(b))==L,S="trim"in String.prototype,M=function(X){var fe=A(X,!1);if("string"==typeof fe&&fe.length>2){var Me,me,Q,z=(fe=S?fe.trim():F(fe,3)).charCodeAt(0);if(43===z||45===z){if(88===(Me=fe.charCodeAt(2))||120===Me)return NaN}else if(48===z){switch(fe.charCodeAt(1)){case 66:case 98:me=2,Q=49;break;case 79:case 111:me=8,Q=55;break;default:return+fe}for(var ne,le=fe.slice(2),re=0,ue=le.length;re<ue;re++)if((ne=le.charCodeAt(re))<48||ne>Q)return NaN;return parseInt(le,me)}}return+fe};if(!O(" 0o1")||!O("0b1")||O("+0x1")){O=function(X){var fe=arguments.length<1?0:X,Me=this;return Me instanceof O&&(w?V(function(){b.valueOf.call(Me)}):v(Me)!=L)?C(new E(M(fe)),Me,O):M(fe)};for(var H,j=h(1763)?g(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;j.length>G;G++)m(E,H=j[G])&&!m(O,H)&&D(O,H,P(E,H));O.prototype=b,b.constructor=O,h(8859)(y,L,O)}},4419:(N,U,h)=>{var y=h(2127);y(y.S,"Number",{EPSILON:Math.pow(2,-52)})},1933:(N,U,h)=>{var y=h(2127),m=h(7526).isFinite;y(y.S,"Number",{isFinite:function(v){return"number"==typeof v&&m(v)}})},3157:(N,U,h)=>{var y=h(2127);y(y.S,"Number",{isInteger:h(3842)})},9497:(N,U,h)=>{var y=h(2127);y(y.S,"Number",{isNaN:function(m){return m!=m}})},4104:(N,U,h)=>{var y=h(2127),m=h(3842),v=Math.abs;y(y.S,"Number",{isSafeInteger:function(C){return m(C)&&v(C)<=9007199254740991}})},210:(N,U,h)=>{var y=h(2127);y(y.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},6576:(N,U,h)=>{var y=h(2127);y(y.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},4437:(N,U,h)=>{var y=h(2127),m=h(3589);y(y.S+y.F*(Number.parseFloat!=m),"Number",{parseFloat:m})},8050:(N,U,h)=>{var y=h(2127),m=h(2738);y(y.S+y.F*(Number.parseInt!=m),"Number",{parseInt:m})},7727:(N,U,h)=>{"use strict";var y=h(2127),m=h(7087),v=h(5122),C=h(7926),A=1..toFixed,V=Math.floor,g=[0,0,0,0,0,0],P="Number.toFixed: incorrect invocation!",D="0",F=function(b,w){for(var S=-1,M=w;++S<6;)g[S]=(M+=b*g[S])%1e7,M=V(M/1e7)},L=function(b){for(var w=6,S=0;--w>=0;)g[w]=V((S+=g[w])/b),S=S%b*1e7},O=function(){for(var b=6,w="";--b>=0;)if(""!==w||0===b||0!==g[b]){var S=String(g[b]);w=""===w?S:w+C.call(D,7-S.length)+S}return w},E=function(b,w,S){return 0===w?S:w%2==1?E(b,w-1,S*b):E(b*b,w/2,S)};y(y.P+y.F*(!!A&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!h(9448)(function(){A.call({})})),"Number",{toFixed:function(b){var w,S,M,H,j=v(this,P),G=m(b),X="",fe=D;if(G<0||G>20)throw RangeError(P);if(j!=j)return"NaN";if(j<=-1e21||j>=1e21)return String(j);if(j<0&&(X="-",j=-j),j>1e-21)if(S=(w=function(Me){for(var me=0,Q=Me;Q>=4096;)me+=12,Q/=4096;for(;Q>=2;)me+=1,Q/=2;return me}(j*E(2,69,1))-69)<0?j*E(2,-w,1):j/E(2,w,1),S*=4503599627370496,(w=52-w)>0){for(F(0,S),M=G;M>=7;)F(1e7,0),M-=7;for(F(E(10,M,1),0),M=w-1;M>=23;)L(8388608),M-=23;L(1<<M),F(1,1),L(2),fe=O()}else F(0,S),F(1<<-w,0),fe=O()+C.call(D,G);return G>0?X+((H=fe.length)<=G?"0."+C.call(D,G-H)+fe:fe.slice(0,H-G)+"."+fe.slice(H-G)):X+fe}})},6701:(N,U,h)=>{"use strict";var y=h(2127),m=h(9448),v=h(5122),C=1..toPrecision;y(y.P+y.F*(m(function(){return"1"!==C.call(1,void 0)})||!m(function(){C.call({})})),"Number",{toPrecision:function(A){var V=v(this,"Number#toPrecision: incorrect invocation!");return void 0===A?C.call(V):C.call(V,A)}})},1430:(N,U,h)=>{var y=h(2127);y(y.S+y.F,"Object",{assign:h(8206)})},935:(N,U,h)=>{var y=h(2127);y(y.S,"Object",{create:h(4719)})},7067:(N,U,h)=>{var y=h(2127);y(y.S+y.F*!h(1763),"Object",{defineProperties:h(1626)})},6064:(N,U,h)=>{var y=h(2127);y(y.S+y.F*!h(1763),"Object",{defineProperty:h(7967).f})},8236:(N,U,h)=>{var y=h(3305),m=h(2988).onFreeze;h(923)("freeze",function(v){return function(C){return v&&y(C)?v(m(C)):C}})},2642:(N,U,h)=>{var y=h(7221),m=h(8641).f;h(923)("getOwnPropertyDescriptor",function(){return function(v,C){return m(y(v),C)}})},1895:(N,U,h)=>{h(923)("getOwnPropertyNames",function(){return h(4765).f})},3e3:(N,U,h)=>{var y=h(8270),m=h(627);h(923)("getPrototypeOf",function(){return function(v){return m(y(v))}})},9073:(N,U,h)=>{var y=h(3305);h(923)("isExtensible",function(m){return function(v){return!!y(v)&&(!m||m(v))}})},9318:(N,U,h)=>{var y=h(3305);h(923)("isFrozen",function(m){return function(v){return!y(v)||!!m&&m(v)}})},5032:(N,U,h)=>{var y=h(3305);h(923)("isSealed",function(m){return function(v){return!y(v)||!!m&&m(v)}})},8451:(N,U,h)=>{var y=h(2127);y(y.S,"Object",{is:h(7359)})},8647:(N,U,h)=>{var y=h(8270),m=h(1311);h(923)("keys",function(){return function(v){return m(y(v))}})},5572:(N,U,h)=>{var y=h(3305),m=h(2988).onFreeze;h(923)("preventExtensions",function(v){return function(C){return v&&y(C)?v(m(C)):C}})},3822:(N,U,h)=>{var y=h(3305),m=h(2988).onFreeze;h(923)("seal",function(v){return function(C){return v&&y(C)?v(m(C)):C}})},8132:(N,U,h)=>{var y=h(2127);y(y.S,"Object",{setPrototypeOf:h(5170).set})},7482:(N,U,h)=>{"use strict";var y=h(4848),m={};m[h(7574)("toStringTag")]="z",m+""!="[object z]"&&h(8859)(Object.prototype,"toString",function(){return"[object "+y(this)+"]"},!0)},6108:(N,U,h)=>{var y=h(2127),m=h(3589);y(y.G+y.F*(parseFloat!=m),{parseFloat:m})},571:(N,U,h)=>{var y=h(2127),m=h(2738);y(y.G+y.F*(parseInt!=m),{parseInt:m})},6517:(N,U,h)=>{"use strict";var y,m,v,C,A=h(2750),V=h(7526),g=h(5052),P=h(4848),D=h(2127),F=h(3305),L=h(3387),O=h(6440),E=h(8790),b=h(9190),w=h(2780).set,S=h(1384)(),M=h(4258),H=h(128),j=h(4514),G=h(5957),X="Promise",fe=V.TypeError,Me=V.process,me=Me&&Me.versions,Q=me&&me.v8||"",z=V[X],ne="process"==P(Me),le=function(){},re=m=M.f,ue=!!function(){try{var it=z.resolve(1),rt=(it.constructor={})[h(7574)("species")]=function(Te){Te(le,le)};return(ne||"function"==typeof PromiseRejectionEvent)&&it.then(le)instanceof rt&&0!==Q.indexOf("6.6")&&-1===j.indexOf("Chrome/66")}catch(Te){}}(),he=function(it){var rt;return!(!F(it)||"function"!=typeof(rt=it.then))&&rt},pe=function(it,rt){if(!it._n){it._n=!0;var Te=it._c;S(function(){for(var Ae=it._v,Ue=1==it._s,je=0,We=function(Je){var qe,pt,Bt,Fn=Ue?Je.ok:Je.fail,gi=Je.resolve,Oi=Je.reject,ci=Je.domain;try{Fn?(Ue||(2==it._h&&Xe(it),it._h=1),!0===Fn?qe=Ae:(ci&&ci.enter(),qe=Fn(Ae),ci&&(ci.exit(),Bt=!0)),qe===Je.promise?Oi(fe("Promise-chain cycle")):(pt=he(qe))?pt.call(qe,gi,Oi):gi(qe)):Oi(Ae)}catch(ji){ci&&!Bt&&ci.exit(),Oi(ji)}};Te.length>je;)We(Te[je++]);it._c=[],it._n=!1,rt&&!it._h&&ze(it)})}},ze=function(it){w.call(V,function(){var rt,Te,Ae,Ue=it._v,je=at(it);if(je&&(rt=H(function(){ne?Me.emit("unhandledRejection",Ue,it):(Te=V.onunhandledrejection)?Te({promise:it,reason:Ue}):(Ae=V.console)&&Ae.error&&Ae.error("Unhandled promise rejection",Ue)}),it._h=ne||at(it)?2:1),it._a=void 0,je&&rt.e)throw rt.v})},at=function(it){return 1!==it._h&&0===(it._a||it._c).length},Xe=function(it){w.call(V,function(){var rt;ne?Me.emit("rejectionHandled",it):(rt=V.onrejectionhandled)&&rt({promise:it,reason:it._v})})},Pt=function(it){var rt=this;rt._d||(rt._d=!0,(rt=rt._w||rt)._v=it,rt._s=2,rt._a||(rt._a=rt._c.slice()),pe(rt,!0))},bt=function(it){var rt,Te=this;if(!Te._d){Te._d=!0,Te=Te._w||Te;try{if(Te===it)throw fe("Promise can't be resolved itself");(rt=he(it))?S(function(){var Ae={_w:Te,_d:!1};try{rt.call(it,g(bt,Ae,1),g(Pt,Ae,1))}catch(Ue){Pt.call(Ae,Ue)}}):(Te._v=it,Te._s=1,pe(Te,!1))}catch(Ae){Pt.call({_w:Te,_d:!1},Ae)}}};ue||(z=function(it){O(this,z,X,"_h"),L(it),y.call(this);try{it(g(bt,this,1),g(Pt,this,1))}catch(rt){Pt.call(this,rt)}},(y=function(it){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=h(6065)(z.prototype,{then:function(it,rt){var Te=re(b(this,z));return Te.ok="function"!=typeof it||it,Te.fail="function"==typeof rt&&rt,Te.domain=ne?Me.domain:void 0,this._c.push(Te),this._a&&this._a.push(Te),this._s&&pe(this,!1),Te.promise},catch:function(it){return this.then(void 0,it)}}),v=function(){var it=new y;this.promise=it,this.resolve=g(bt,it,1),this.reject=g(Pt,it,1)},M.f=re=function(it){return it===z||it===C?new v(it):m(it)}),D(D.G+D.W+D.F*!ue,{Promise:z}),h(3844)(z,X),h(5762)(X),C=h(6094)[X],D(D.S+D.F*!ue,X,{reject:function(it){var rt=re(this);return(0,rt.reject)(it),rt.promise}}),D(D.S+D.F*(A||!ue),X,{resolve:function(it){return G(A&&this===C?z:this,it)}}),D(D.S+D.F*!(ue&&h(8931)(function(it){z.all(it).catch(le)})),X,{all:function(it){var rt=this,Te=re(rt),Ae=Te.resolve,Ue=Te.reject,je=H(function(){var We=[],Je=0,qe=1;E(it,!1,function(pt){var Bt=Je++,Fn=!1;We.push(void 0),qe++,rt.resolve(pt).then(function(gi){Fn||(Fn=!0,We[Bt]=gi,--qe||Ae(We))},Ue)}),--qe||Ae(We)});return je.e&&Ue(je.v),Te.promise},race:function(it){var rt=this,Te=re(rt),Ae=Te.reject,Ue=H(function(){E(it,!1,function(je){rt.resolve(je).then(Te.resolve,Ae)})});return Ue.e&&Ae(Ue.v),Te.promise}})},7103:(N,U,h)=>{var y=h(2127),m=h(3387),v=h(4228),C=(h(7526).Reflect||{}).apply,A=Function.apply;y(y.S+y.F*!h(9448)(function(){C(function(){})}),"Reflect",{apply:function(V,g,P){var D=m(V),F=v(P);return C?C(D,g,F):A.call(D,g,F)}})},2586:(N,U,h)=>{var y=h(2127),m=h(4719),v=h(3387),C=h(4228),A=h(3305),V=h(9448),g=h(5538),P=(h(7526).Reflect||{}).construct,D=V(function(){function L(){}return!(P(function(){},[],L)instanceof L)}),F=!V(function(){P(function(){})});y(y.S+y.F*(D||F),"Reflect",{construct:function(L,O){v(L),C(O);var E=arguments.length<3?L:v(arguments[2]);if(F&&!D)return P(L,O,E);if(L==E){switch(O.length){case 0:return new L;case 1:return new L(O[0]);case 2:return new L(O[0],O[1]);case 3:return new L(O[0],O[1],O[2]);case 4:return new L(O[0],O[1],O[2],O[3])}var b=[null];return b.push.apply(b,O),new(g.apply(L,b))}var w=E.prototype,S=m(A(w)?w:Object.prototype),M=Function.apply.call(L,S,O);return A(M)?M:S}})},2552:(N,U,h)=>{var y=h(7967),m=h(2127),v=h(4228),C=h(3048);m(m.S+m.F*h(9448)(function(){Reflect.defineProperty(y.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(A,V,g){v(A),V=C(V,!0),v(g);try{return y.f(A,V,g),!0}catch(P){return!1}}})},4376:(N,U,h)=>{var y=h(2127),m=h(8641).f,v=h(4228);y(y.S,"Reflect",{deleteProperty:function(C,A){var V=m(v(C),A);return!(V&&!V.configurable)&&delete C[A]}})},5153:(N,U,h)=>{"use strict";var y=h(2127),m=h(4228),v=function(C){this._t=m(C),this._i=0;var A,V=this._k=[];for(A in C)V.push(A)};h(6032)(v,"Object",function(){var C,A=this,V=A._k;do{if(A._i>=V.length)return{value:void 0,done:!0}}while(!((C=V[A._i++])in A._t));return{value:C,done:!1}}),y(y.S,"Reflect",{enumerate:function(C){return new v(C)}})},2650:(N,U,h)=>{var y=h(8641),m=h(2127),v=h(4228);m(m.S,"Reflect",{getOwnPropertyDescriptor:function(C,A){return y.f(v(C),A)}})},1104:(N,U,h)=>{var y=h(2127),m=h(627),v=h(4228);y(y.S,"Reflect",{getPrototypeOf:function(C){return m(v(C))}})},1879:(N,U,h)=>{var y=h(8641),m=h(627),v=h(7917),C=h(2127),A=h(3305),V=h(4228);C(C.S,"Reflect",{get:function g(P,D){var F,L,O=arguments.length<3?P:arguments[2];return V(P)===O?P[D]:(F=y.f(P,D))?v(F,"value")?F.value:void 0!==F.get?F.get.call(O):void 0:A(L=m(P))?g(L,D,O):void 0}})},1883:(N,U,h)=>{var y=h(2127);y(y.S,"Reflect",{has:function(m,v){return v in m}})},5433:(N,U,h)=>{var y=h(2127),m=h(4228),v=Object.isExtensible;y(y.S,"Reflect",{isExtensible:function(C){return m(C),!v||v(C)}})},5e3:(N,U,h)=>{var y=h(2127);y(y.S,"Reflect",{ownKeys:h(6222)})},5932:(N,U,h)=>{var y=h(2127),m=h(4228),v=Object.preventExtensions;y(y.S,"Reflect",{preventExtensions:function(C){m(C);try{return v&&v(C),!0}catch(A){return!1}}})},6316:(N,U,h)=>{var y=h(2127),m=h(5170);m&&y(y.S,"Reflect",{setPrototypeOf:function(v,C){m.check(v,C);try{return m.set(v,C),!0}catch(A){return!1}}})},5443:(N,U,h)=>{var y=h(7967),m=h(8641),v=h(627),C=h(7917),A=h(2127),V=h(1996),g=h(4228),P=h(3305);A(A.S,"Reflect",{set:function D(F,L,O){var E,b,w=arguments.length<4?F:arguments[3],S=m.f(g(F),L);if(!S){if(P(b=v(F)))return D(b,L,O,w);S=V(0)}if(C(S,"value")){if(!1===S.writable||!P(w))return!1;if(E=m.f(w,L)){if(E.get||E.set||!1===E.writable)return!1;E.value=O,y.f(w,L,E)}else y.f(w,L,V(0,O));return!0}return void 0!==S.set&&(S.set.call(w,O),!0)}})},8301:(N,U,h)=>{var y=h(7526),m=h(8880),v=h(7967).f,C=h(9415).f,A=h(5411),V=h(1158),g=y.RegExp,P=g,D=g.prototype,F=/a/g,L=/a/g,O=new g(F)!==F;if(h(1763)&&(!O||h(9448)(function(){return L[h(7574)("match")]=!1,g(F)!=F||g(L)==L||"/a/i"!=g(F,"i")}))){g=function(S,M){var H=this instanceof g,j=A(S),G=void 0===M;return!H&&j&&S.constructor===g&&G?S:m(O?new P(j&&!G?S.source:S,M):P((j=S instanceof g)?S.source:S,j&&G?V.call(S):M),H?this:D,g)};for(var E=function(S){S in g||v(g,S,{configurable:!0,get:function(){return P[S]},set:function(M){P[S]=M}})},b=C(P),w=0;b.length>w;)E(b[w++]);D.constructor=g,g.prototype=D,h(8859)(y,"RegExp",g)}h(5762)("RegExp")},4116:(N,U,h)=>{"use strict";var y=h(9600);h(2127)({target:"RegExp",proto:!0,forced:y!==/./.exec},{exec:y})},9638:(N,U,h)=>{h(1763)&&"g"!=/./g.flags&&h(7967).f(RegExp.prototype,"flags",{configurable:!0,get:h(1158)})},4040:(N,U,h)=>{"use strict";var y=h(4228),m=h(1485),v=h(8828),C=h(2535);h(9228)("match",1,function(A,V,g,P){return[function(D){var F=A(this),L=null==D?void 0:D[V];return void 0!==L?L.call(D,F):new RegExp(D)[V](String(F))},function(D){var F=P(g,D,this);if(F.done)return F.value;var L=y(D),O=String(this);if(!L.global)return C(L,O);var E=L.unicode;L.lastIndex=0;for(var b,w=[],S=0;null!==(b=C(L,O));){var M=String(b[0]);w[S]=M,""===M&&(L.lastIndex=v(O,m(L.lastIndex),E)),S++}return 0===S?null:w}]})},8305:(N,U,h)=>{"use strict";var y=h(4228),m=h(8270),v=h(1485),C=h(7087),A=h(8828),V=h(2535),g=Math.max,P=Math.min,D=Math.floor,F=/\$([$&`']|\d\d?|<[^>]*>)/g,L=/\$([$&`']|\d\d?)/g;h(9228)("replace",2,function(O,E,b,w){return[function(M,H){var j=O(this),G=null==M?void 0:M[E];return void 0!==G?G.call(M,j,H):b.call(String(j),M,H)},function(M,H){var j=w(b,M,this,H);if(j.done)return j.value;var G=y(M),X=String(this),fe="function"==typeof H;fe||(H=String(H));var Me=G.global;if(Me){var me=G.unicode;G.lastIndex=0}for(var Q=[];;){var z=V(G,X);if(null===z||(Q.push(z),!Me))break;""===String(z[0])&&(G.lastIndex=A(X,v(G.lastIndex),me))}for(var ne,le="",re=0,ue=0;ue<Q.length;ue++){z=Q[ue];for(var he=String(z[0]),pe=g(P(C(z.index),X.length),0),ze=[],at=1;at<z.length;at++)ze.push(void 0===(ne=z[at])?ne:String(ne));var Xe=z.groups;if(fe){var Pt=[he].concat(ze,pe,X);void 0!==Xe&&Pt.push(Xe);var bt=String(H.apply(void 0,Pt))}else bt=S(he,X,pe,ze,Xe,H);pe>=re&&(le+=X.slice(re,pe)+bt,re=pe+he.length)}return le+X.slice(re)}];function S(M,H,j,G,X,fe){var Me=j+M.length,me=G.length,Q=L;return void 0!==X&&(X=m(X),Q=F),b.call(fe,Q,function(z,ne){var le;switch(ne.charAt(0)){case"$":return"$";case"&":return M;case"`":return H.slice(0,j);case"'":return H.slice(Me);case"<":le=X[ne.slice(1,-1)];break;default:var re=+ne;if(0===re)return z;if(re>me){var ue=D(re/10);return 0===ue?z:ue<=me?void 0===G[ue-1]?ne.charAt(1):G[ue-1]+ne.charAt(1):z}le=G[re-1]}return void 0===le?"":le})}})},4701:(N,U,h)=>{"use strict";var y=h(4228),m=h(7359),v=h(2535);h(9228)("search",1,function(C,A,V,g){return[function(P){var D=C(this),F=null==P?void 0:P[A];return void 0!==F?F.call(P,D):new RegExp(P)[A](String(D))},function(P){var D=g(V,P,this);if(D.done)return D.value;var F=y(P),L=String(this),O=F.lastIndex;m(O,0)||(F.lastIndex=0);var E=v(F,L);return m(F.lastIndex,O)||(F.lastIndex=O),null===E?-1:E.index}]})},341:(N,U,h)=>{"use strict";var y=h(5411),m=h(4228),v=h(9190),C=h(8828),A=h(1485),V=h(2535),g=h(9600),P=h(9448),D=Math.min,F=[].push,L="split",O="length",E="lastIndex",b=4294967295,w=!P(function(){RegExp(b,"y")});h(9228)("split",2,function(S,M,H,j){var G;return G="c"=="abbc"[L](/(b)*/)[1]||4!="test"[L](/(?:)/,-1)[O]||2!="ab"[L](/(?:ab)*/)[O]||4!="."[L](/(.?)(.?)/)[O]||"."[L](/()()/)[O]>1||""[L](/.?/)[O]?function(X,fe){var Me=String(this);if(void 0===X&&0===fe)return[];if(!y(X))return H.call(Me,X,fe);for(var me,Q,z,ne=[],re=0,ue=void 0===fe?b:fe>>>0,he=new RegExp(X.source,(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.unicode?"u":"")+(X.sticky?"y":"")+"g");(me=g.call(he,Me))&&!((Q=he[E])>re&&(ne.push(Me.slice(re,me.index)),me[O]>1&&me.index<Me[O]&&F.apply(ne,me.slice(1)),z=me[0][O],re=Q,ne[O]>=ue));)he[E]===me.index&&he[E]++;return re===Me[O]?!z&&he.test("")||ne.push(""):ne.push(Me.slice(re)),ne[O]>ue?ne.slice(0,ue):ne}:"0"[L](void 0,0)[O]?function(X,fe){return void 0===X&&0===fe?[]:H.call(this,X,fe)}:H,[function(X,fe){var Me=S(this),me=null==X?void 0:X[M];return void 0!==me?me.call(X,Me,fe):G.call(String(Me),X,fe)},function(X,fe){var Me=j(G,X,this,fe,G!==H);if(Me.done)return Me.value;var me=m(X),Q=String(this),z=v(me,RegExp),ne=me.unicode,re=new z(w?me:"^(?:"+me.source+")",(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(w?"y":"g")),ue=void 0===fe?b:fe>>>0;if(0===ue)return[];if(0===Q.length)return null===V(re,Q)?[Q]:[];for(var he=0,pe=0,ze=[];pe<Q.length;){re.lastIndex=w?pe:0;var at,Xe=V(re,w?Q:Q.slice(pe));if(null===Xe||(at=D(A(re.lastIndex+(w?0:pe)),Q.length))===he)pe=C(Q,pe,ne);else{if(ze.push(Q.slice(he,pe)),ze.length===ue)return ze;for(var Pt=1;Pt<=Xe.length-1;Pt++)if(ze.push(Xe[Pt]),ze.length===ue)return ze;pe=he=at}}return ze.push(Q.slice(he)),ze}]})},8604:(N,U,h)=>{"use strict";h(9638);var y=h(4228),m=h(1158),v=h(1763),C="toString",A=/./[C],V=function(g){h(8859)(RegExp.prototype,C,g,!0)};h(9448)(function(){return"/a/b"!=A.call({source:"a",flags:"b"})})?V(function(){var g=y(this);return"/".concat(g.source,"/","flags"in g?g.flags:!v&&g instanceof RegExp?m.call(g):void 0)}):A.name!=C&&V(function(){return A.call(this)})},1632:(N,U,h)=>{"use strict";var y=h(6197),m=h(2888);N.exports=h(8933)("Set",function(v){return function(){return v(this,arguments.length>0?arguments[0]:void 0)}},{add:function(v){return y.def(m(this,"Set"),v=0===v?0:v,v)}},y)},7360:(N,U,h)=>{"use strict";h(2468)("anchor",function(y){return function(m){return y(this,"a","name",m)}})},9011:(N,U,h)=>{"use strict";h(2468)("big",function(y){return function(){return y(this,"big","","")}})},4591:(N,U,h)=>{"use strict";h(2468)("blink",function(y){return function(){return y(this,"blink","","")}})},7334:(N,U,h)=>{"use strict";h(2468)("bold",function(y){return function(){return y(this,"b","","")}})},2405:(N,U,h)=>{"use strict";var y=h(2127),m=h(1212)(!1);y(y.P,"String",{codePointAt:function(v){return m(this,v)}})},7224:(N,U,h)=>{"use strict";var y=h(2127),m=h(1485),v=h(8942),C="endsWith",A=""[C];y(y.P+y.F*h(5203)(C),"String",{endsWith:function(V){var g=v(this,V,C),P=arguments.length>1?arguments[1]:void 0,D=m(g.length),F=void 0===P?D:Math.min(m(P),D),L=String(V);return A?A.call(g,L,F):g.slice(F-L.length,F)===L}})},7083:(N,U,h)=>{"use strict";h(2468)("fixed",function(y){return function(){return y(this,"tt","","")}})},9213:(N,U,h)=>{"use strict";h(2468)("fontcolor",function(y){return function(m){return y(this,"font","color",m)}})},8437:(N,U,h)=>{"use strict";h(2468)("fontsize",function(y){return function(m){return y(this,"font","size",m)}})},2220:(N,U,h)=>{var y=h(2127),m=h(157),v=String.fromCharCode,C=String.fromCodePoint;y(y.S+y.F*(!!C&&1!=C.length),"String",{fromCodePoint:function(A){for(var V,g=[],P=arguments.length,D=0;P>D;){if(V=+arguments[D++],m(V,1114111)!==V)throw RangeError(V+" is not a valid code point");g.push(V<65536?v(V):v(55296+((V-=65536)>>10),V%1024+56320))}return g.join("")}})},8872:(N,U,h)=>{"use strict";var y=h(2127),m=h(8942),v="includes";y(y.P+y.F*h(5203)(v),"String",{includes:function(C){return!!~m(this,C,v).indexOf(C,arguments.length>1?arguments[1]:void 0)}})},9839:(N,U,h)=>{"use strict";h(2468)("italics",function(y){return function(){return y(this,"i","","")}})},2975:(N,U,h)=>{"use strict";var y=h(1212)(!0);h(8175)(String,"String",function(m){this._t=String(m),this._i=0},function(){var m,v=this._t,C=this._i;return C>=v.length?{value:void 0,done:!0}:(m=y(v,C),this._i+=m.length,{value:m,done:!1})})},6549:(N,U,h)=>{"use strict";h(2468)("link",function(y){return function(m){return y(this,"a","href",m)}})},3483:(N,U,h)=>{var y=h(2127),m=h(7221),v=h(1485);y(y.S,"String",{raw:function(C){for(var A=m(C.raw),V=v(A.length),g=arguments.length,P=[],D=0;V>D;)P.push(String(A[D++])),D<g&&P.push(String(arguments[D]));return P.join("")}})},4894:(N,U,h)=>{var y=h(2127);y(y.P,"String",{repeat:h(7926)})},2818:(N,U,h)=>{"use strict";h(2468)("small",function(y){return function(){return y(this,"small","","")}})},177:(N,U,h)=>{"use strict";var y=h(2127),m=h(1485),v=h(8942),C="startsWith",A=""[C];y(y.P+y.F*h(5203)(C),"String",{startsWith:function(V){var g=v(this,V,C),P=m(Math.min(arguments.length>1?arguments[1]:void 0,g.length)),D=String(V);return A?A.call(g,D,P):g.slice(P,P+D.length)===D}})},8543:(N,U,h)=>{"use strict";h(2468)("strike",function(y){return function(){return y(this,"strike","","")}})},3559:(N,U,h)=>{"use strict";h(2468)("sub",function(y){return function(){return y(this,"sub","","")}})},4153:(N,U,h)=>{"use strict";h(2468)("sup",function(y){return function(){return y(this,"sup","","")}})},957:(N,U,h)=>{"use strict";h(629)("trim",function(y){return function(){return y(this,3)}})},9650:(N,U,h)=>{"use strict";var y=h(7526),m=h(7917),v=h(1763),C=h(2127),A=h(8859),V=h(2988).KEY,g=h(9448),P=h(4556),D=h(3844),F=h(4415),L=h(7574),O=h(7960),E=h(5392),b=h(5969),w=h(7981),S=h(4228),M=h(3305),H=h(8270),j=h(7221),G=h(3048),X=h(1996),fe=h(4719),Me=h(4765),me=h(8641),Q=h(1060),z=h(7967),ne=h(1311),le=me.f,re=z.f,ue=Me.f,he=y.Symbol,pe=y.JSON,ze=pe&&pe.stringify,at="prototype",Xe=L("_hidden"),Pt=L("toPrimitive"),bt={}.propertyIsEnumerable,it=P("symbol-registry"),rt=P("symbols"),Te=P("op-symbols"),Ae=Object[at],Ue="function"==typeof he&&!!Q.f,je=y.QObject,We=!je||!je[at]||!je[at].findChild,Je=v&&g(function(){return 7!=fe(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a})?function(Le,Re,et){var wt=le(Ae,Re);wt&&delete Ae[Re],re(Le,Re,et),wt&&Le!==Ae&&re(Ae,Re,wt)}:re,qe=function(Le){var Re=rt[Le]=fe(he[at]);return Re._k=Le,Re},pt=Ue&&"symbol"==typeof he.iterator?function(Le){return"symbol"==typeof Le}:function(Le){return Le instanceof he},Bt=function(Le,Re,et){return Le===Ae&&Bt(Te,Re,et),S(Le),Re=G(Re,!0),S(et),m(rt,Re)?(et.enumerable?(m(Le,Xe)&&Le[Xe][Re]&&(Le[Xe][Re]=!1),et=fe(et,{enumerable:X(0,!1)})):(m(Le,Xe)||re(Le,Xe,X(1,{})),Le[Xe][Re]=!0),Je(Le,Re,et)):re(Le,Re,et)},Fn=function(Le,Re){S(Le);for(var et,wt=b(Re=j(Re)),xt=0,kt=wt.length;kt>xt;)Bt(Le,et=wt[xt++],Re[et]);return Le},gi=function(Le){var Re=bt.call(this,Le=G(Le,!0));return!(this===Ae&&m(rt,Le)&&!m(Te,Le))&&(!(Re||!m(this,Le)||!m(rt,Le)||m(this,Xe)&&this[Xe][Le])||Re)},Oi=function(Le,Re){if(Le=j(Le),Re=G(Re,!0),Le!==Ae||!m(rt,Re)||m(Te,Re)){var et=le(Le,Re);return!et||!m(rt,Re)||m(Le,Xe)&&Le[Xe][Re]||(et.enumerable=!0),et}},ci=function(Le){for(var Re,et=ue(j(Le)),wt=[],xt=0;et.length>xt;)m(rt,Re=et[xt++])||Re==Xe||Re==V||wt.push(Re);return wt},ji=function(Le){for(var Re,et=Le===Ae,wt=ue(et?Te:j(Le)),xt=[],kt=0;wt.length>kt;)!m(rt,Re=wt[kt++])||et&&!m(Ae,Re)||xt.push(rt[Re]);return xt};Ue||(A((he=function(){if(this instanceof he)throw TypeError("Symbol is not a constructor!");var Le=F(arguments.length>0?arguments[0]:void 0),Re=function(et){this===Ae&&Re.call(Te,et),m(this,Xe)&&m(this[Xe],Le)&&(this[Xe][Le]=!1),Je(this,Le,X(1,et))};return v&&We&&Je(Ae,Le,{configurable:!0,set:Re}),qe(Le)})[at],"toString",function(){return this._k}),me.f=Oi,z.f=Bt,h(9415).f=Me.f=ci,h(8449).f=gi,Q.f=ji,v&&!h(2750)&&A(Ae,"propertyIsEnumerable",gi,!0),O.f=function(Le){return qe(L(Le))}),C(C.G+C.W+C.F*!Ue,{Symbol:he});for(var Mt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Zt=0;Mt.length>Zt;)L(Mt[Zt++]);for(var Qe=ne(L.store),He=0;Qe.length>He;)E(Qe[He++]);C(C.S+C.F*!Ue,"Symbol",{for:function(Le){return m(it,Le+="")?it[Le]:it[Le]=he(Le)},keyFor:function(Le){if(!pt(Le))throw TypeError(Le+" is not a symbol!");for(var Re in it)if(it[Re]===Le)return Re},useSetter:function(){We=!0},useSimple:function(){We=!1}}),C(C.S+C.F*!Ue,"Object",{create:function(Le,Re){return void 0===Re?fe(Le):Fn(fe(Le),Re)},defineProperty:Bt,defineProperties:Fn,getOwnPropertyDescriptor:Oi,getOwnPropertyNames:ci,getOwnPropertySymbols:ji});var nt=g(function(){Q.f(1)});C(C.S+C.F*nt,"Object",{getOwnPropertySymbols:function(Le){return Q.f(H(Le))}}),pe&&C(C.S+C.F*(!Ue||g(function(){var Le=he();return"[null]"!=ze([Le])||"{}"!=ze({a:Le})||"{}"!=ze(Object(Le))})),"JSON",{stringify:function(Le){for(var Re,et,wt=[Le],xt=1;arguments.length>xt;)wt.push(arguments[xt++]);if(et=Re=wt[1],(M(Re)||void 0!==Le)&&!pt(Le))return w(Re)||(Re=function(kt,bn){if("function"==typeof et&&(bn=et.call(this,kt,bn)),!pt(bn))return bn}),wt[1]=Re,ze.apply(pe,wt)}}),he[at][Pt]||h(3341)(he[at],Pt,he[at].valueOf),D(he,"Symbol"),D(Math,"Math",!0),D(y.JSON,"JSON",!0)},5706:(N,U,h)=>{"use strict";var y=h(2127),m=h(237),v=h(8032),C=h(4228),A=h(157),V=h(1485),g=h(3305),P=h(7526).ArrayBuffer,D=h(9190),F=v.ArrayBuffer,L=v.DataView,O=m.ABV&&P.isView,E=F.prototype.slice,b=m.VIEW,w="ArrayBuffer";y(y.G+y.W+y.F*(P!==F),{ArrayBuffer:F}),y(y.S+y.F*!m.CONSTR,w,{isView:function(S){return O&&O(S)||g(S)&&b in S}}),y(y.P+y.U+y.F*h(9448)(function(){return!new F(2).slice(1,void 0).byteLength}),w,{slice:function(S,M){if(void 0!==E&&void 0===M)return E.call(C(this),S);for(var H=C(this).byteLength,j=A(S,H),G=A(void 0===M?H:M,H),X=new(D(this,F))(V(G-j)),fe=new L(this),Me=new L(X),me=0;j<G;)Me.setUint8(me++,fe.getUint8(j++));return X}}),h(5762)(w)},660:(N,U,h)=>{var y=h(2127);y(y.G+y.W+y.F*!h(237).ABV,{DataView:h(8032).DataView})},7925:(N,U,h)=>{h(7209)("Float32",4,function(y){return function(m,v,C){return y(this,m,v,C)}})},2490:(N,U,h)=>{h(7209)("Float64",8,function(y){return function(m,v,C){return y(this,m,v,C)}})},1220:(N,U,h)=>{h(7209)("Int16",2,function(y){return function(m,v,C){return y(this,m,v,C)}})},8066:(N,U,h)=>{h(7209)("Int32",4,function(y){return function(m,v,C){return y(this,m,v,C)}})},8699:(N,U,h)=>{h(7209)("Int8",1,function(y){return function(m,v,C){return y(this,m,v,C)}})},2087:(N,U,h)=>{h(7209)("Uint16",2,function(y){return function(m,v,C){return y(this,m,v,C)}})},8537:(N,U,h)=>{h(7209)("Uint32",4,function(y){return function(m,v,C){return y(this,m,v,C)}})},4702:(N,U,h)=>{h(7209)("Uint8",1,function(y){return function(m,v,C){return y(this,m,v,C)}})},333:(N,U,h)=>{h(7209)("Uint8",1,function(y){return function(m,v,C){return y(this,m,v,C)}},!0)},9397:(N,U,h)=>{"use strict";var y,m=h(7526),v=h(6179)(0),C=h(8859),A=h(2988),V=h(8206),g=h(9882),P=h(3305),D=h(2888),F=h(2888),L=!m.ActiveXObject&&"ActiveXObject"in m,O="WeakMap",E=A.getWeak,b=Object.isExtensible,w=g.ufstore,S=function(j){return function(){return j(this,arguments.length>0?arguments[0]:void 0)}},M={get:function(j){if(P(j)){var G=E(j);return!0===G?w(D(this,O)).get(j):G?G[this._i]:void 0}},set:function(j,G){return g.def(D(this,O),j,G)}},H=N.exports=h(8933)(O,S,M,g,!0,!0);F&&L&&(V((y=g.getConstructor(S,O)).prototype,M),A.NEED=!0,v(["delete","has","get","set"],function(j){var G=H.prototype,X=G[j];C(G,j,function(fe,Me){if(P(fe)&&!b(fe)){this._f||(this._f=new y);var me=this._f[j](fe,Me);return"set"==j?this:me}return X.call(this,fe,Me)})}))},8163:(N,U,h)=>{"use strict";var y=h(9882),m=h(2888),v="WeakSet";h(8933)(v,function(C){return function(){return C(this,arguments.length>0?arguments[0]:void 0)}},{add:function(C){return y.def(m(this,v),C,!0)}},y,!1,!0)}},_e={};function xe(N){var U=_e[N];if(void 0!==U)return U.exports;var h=_e[N]={id:N,loaded:!1,exports:{}};return ut[N].call(h.exports,h,h.exports,xe),h.loaded=!0,h.exports}xe.n=N=>{var U=N&&N.__esModule?()=>N.default:()=>N;return xe.d(U,{a:U}),U},xe.d=(N,U)=>{for(var h in U)xe.o(U,h)&&!xe.o(N,h)&&Object.defineProperty(N,h,{enumerable:!0,get:U[h]})},xe.o=(N,U)=>Object.prototype.hasOwnProperty.call(N,U),xe.r=N=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},xe.nmd=N=>(N.paths=[],N.children||(N.children=[]),N);var Ke={};return(()=>{"use strict";xe.r(Ke),xe.d(Ke,{AddBuddyRequest:()=>Je.D,AdminMessageRequest:()=>ne.K4,BanMode:()=>E.z1,BanUserRequest:()=>it.M,BlockBuddyRequest:()=>qe.L,BoolMatch:()=>L.q3,BuddyMessageRequest:()=>pt.z,ChangeRoomCapacityRequest:()=>z.j,ChangeRoomNameRequest:()=>me.W,ChangeRoomPasswordStateRequest:()=>Q.N,ClientDisconnectionReason:()=>S.G,ClusterInviteUsersRequest:()=>ci.L,ClusterJoinOrCreateRequest:()=>ji.Z,ClusterRoomSettings:()=>E.Bp,ClusterTarget:()=>E.ie,CreateRoomRequest:()=>X.l,CreateSFSGameRequest:()=>rt.g,ExtensionRequest:()=>Pt.F,FindRoomsRequest:()=>at.x,FindUsersRequest:()=>Xe.r,GoOnlineRequest:()=>Bt.T,InitBuddyListRequest:()=>Fn.i,InvitationReply:()=>v.u,InvitationReplyRequest:()=>Te.b,InviteUsersRequest:()=>Ae.d,JoinRoomInvitationRequest:()=>Ue.k,JoinRoomRequest:()=>G.f,KickUserRequest:()=>bt.p,LeaveRoomRequest:()=>Me.w,LogLevel:()=>w.$b,LoggerEvent:()=>w.n,LogicOperator:()=>F.Z,LoginRequest:()=>H.J,LogoutRequest:()=>j.y,MD5:()=>Zt.B,MMOItemVariable:()=>D.l,MMORoomSettings:()=>E.AW,MapLimits:()=>E.h2,MatchExpression:()=>F.M,MessageRecipientMode:()=>E.Cy,ModeratorMessageRequest:()=>ne.aw,NumberMatch:()=>L.pU,ObjectMessageRequest:()=>ne.a7,PasswordUtil:()=>M.C,PlayerToSpectatorRequest:()=>ze.f,PrivateMessageRequest:()=>ne.qQ,PublicMessageRequest:()=>ne.YH,QuickJoinGameRequest:()=>je.N,QuickJoinOrCreateRoomRequest:()=>fe.B,RemoveBuddyRequest:()=>gi.w,ReservedBuddyVariables:()=>P.C,ReservedRoomVariables:()=>g.H,RoomEvents:()=>E.pv,RoomExtension:()=>E.lX,RoomPermissions:()=>E.wu,RoomProperties:()=>O.L,RoomSettings:()=>E.lR,SFSArray:()=>m.uj,SFSBuddyEvent:()=>y.Xh,SFSBuddyVariable:()=>P.D,SFSClusterEvent:()=>y.TG,SFSDataType:()=>m.VG,SFSErrorCodes:()=>b.D,SFSEvent:()=>y.PY,SFSGameSettings:()=>E.ES,SFSObject:()=>m.om,SFSRoom:()=>Mt.O,SFSRoomVariable:()=>g.A,SFSUserVariable:()=>V.I,SetBuddyVariablesRequest:()=>Oi.J,SetRoomVariablesRequest:()=>le.m,SetUserPositionRequest:()=>We.c,SetUserVariablesRequest:()=>re.m,SmartFox:()=>h.R,SpectatorToPlayerRequest:()=>pe.h,StringMatch:()=>L.LX,SubscribeRoomGroupRequest:()=>ue.M,UnsubscribeRoomGroupRequest:()=>he.t,UserPrivileges:()=>C._,UserProperties:()=>O.D,VariableType:()=>A.H,Vec3D:()=>m.ed}),xe(4866);var N=xe(2419),U={};for(const Qe in N)["default","SmartFox","SFSEvent","SFSBuddyEvent","SFSClusterEvent","SFSDataType","SFSObject","SFSArray","Vec3D","InvitationReply","UserPrivileges","VariableType","SFSUserVariable","SFSRoomVariable","ReservedRoomVariables","SFSBuddyVariable","ReservedBuddyVariables","MMOItemVariable","MatchExpression","LogicOperator","BoolMatch","NumberMatch","StringMatch","RoomProperties","UserProperties","RoomSettings","SFSGameSettings","MMORoomSettings","RoomPermissions","RoomEvents","RoomExtension","MapLimits","BanMode","MessageRecipientMode","ClusterRoomSettings","ClusterTarget","SFSErrorCodes","LogLevel","LoggerEvent","ClientDisconnectionReason","PasswordUtil","LoginRequest","LogoutRequest","JoinRoomRequest","CreateRoomRequest","QuickJoinOrCreateRoomRequest","LeaveRoomRequest","ChangeRoomNameRequest","ChangeRoomPasswordStateRequest","ChangeRoomCapacityRequest","PublicMessageRequest","PrivateMessageRequest","ObjectMessageRequest","ModeratorMessageRequest","AdminMessageRequest","SetRoomVariablesRequest","SetUserVariablesRequest","SubscribeRoomGroupRequest","UnsubscribeRoomGroupRequest","SpectatorToPlayerRequest","PlayerToSpectatorRequest","FindRoomsRequest","FindUsersRequest","ExtensionRequest","KickUserRequest","BanUserRequest","CreateSFSGameRequest","InvitationReplyRequest","InviteUsersRequest","JoinRoomInvitationRequest","QuickJoinGameRequest","SetUserPositionRequest","AddBuddyRequest","BlockBuddyRequest","BuddyMessageRequest","GoOnlineRequest","InitBuddyListRequest","RemoveBuddyRequest","SetBuddyVariablesRequest","ClusterInviteUsersRequest","ClusterJoinOrCreateRequest","SFSRoom","MD5"].indexOf(Qe)<0&&(U[Qe]=()=>N[Qe]);xe.d(Ke,U);var h=xe(607),y=xe(139),m=xe(1142),v=xe(249),C=xe(5116),A=xe(3272),V=xe(8779),g=xe(31),P=xe(3054),D=xe(6895),F=xe(2121),L=xe(8214),O=xe(5405),E=xe(7320),b=xe(4878),w=xe(4045),S=xe(1470),M=xe(2255),H=xe(3646),j=xe(6249),G=xe(5272),X=xe(8420),fe=xe(7730),Me=xe(7263),me=xe(9023),Q=xe(8044),z=xe(8508),ne=xe(1716),le=xe(3667),re=xe(1115),ue=xe(3629),he=xe(5630),pe=xe(9466),ze=xe(6418),at=xe(350),Xe=xe(3746),Pt=xe(1966),bt=xe(5349),it=xe(6577),rt=xe(2960),Te=xe(1649),Ae=xe(2939),Ue=xe(1298),je=xe(2397),We=xe(5925),Je=xe(6613),qe=xe(3015),pt=xe(3083),Bt=xe(8645),Fn=xe(3996),gi=xe(1442),Oi=xe(6051),ci=xe(7567),ji=xe(1379),Mt=xe(3020),Zt=xe(1878)})(),Ke})(),ot.exports=_e()},209:(ot,ut,_e)=>{"use strict";var xe=_e(8810);ot.exports=_e(3096)(xe),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4532);function N(){Ke.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}xe(N,Ke),ot.exports=N},17:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(9895);function N(){Ke.call(this)}xe(N,Ke),N.prototype.removeAllListeners=function(U){U?delete this._listeners[U]:this._listeners={}},N.prototype.once=function(U,h){var y=this,m=!1;this.on(U,function v(){y.removeListener(U,v),m||(m=!0,h.apply(this,arguments))})},N.prototype.emit=function(){var U=arguments[0],h=this._listeners[U];if(h){for(var y=arguments.length,m=new Array(y-1),v=1;v<y;v++)m[v-1]=arguments[v];for(var C=0;C<h.length;C++)h[C].apply(this,m)}},N.prototype.on=N.prototype.addListener=Ke.prototype.addEventListener,N.prototype.removeListener=Ke.prototype.removeEventListener,ot.exports.v=N},4532:ot=>{"use strict";function ut(_e){this.type=_e}ut.prototype.initEvent=function(_e,xe,Ke){return this.type=_e,this.bubbles=xe,this.cancelable=Ke,this.timeStamp=+new Date,this},ut.prototype.stopPropagation=function(){},ut.prototype.preventDefault=function(){},ut.CAPTURING_PHASE=1,ut.AT_TARGET=2,ut.BUBBLING_PHASE=3,ot.exports=ut},9895:ot=>{"use strict";function ut(){this._listeners={}}ut.prototype.addEventListener=function(_e,xe){_e in this._listeners||(this._listeners[_e]=[]);var Ke=this._listeners[_e];-1===Ke.indexOf(xe)&&(Ke=Ke.concat([xe])),this._listeners[_e]=Ke},ut.prototype.removeEventListener=function(_e,xe){var Ke=this._listeners[_e];if(Ke){var N=Ke.indexOf(xe);if(-1!==N)return void(Ke.length>1?this._listeners[_e]=Ke.slice(0,N).concat(Ke.slice(N+1)):delete this._listeners[_e])}},ut.prototype.dispatchEvent=function(){var _e=arguments[0],xe=_e.type,Ke=1===arguments.length?[_e]:Array.apply(null,arguments);if(this["on"+xe]&&this["on"+xe].apply(this,Ke),xe in this._listeners)for(var N=this._listeners[xe],U=0;U<N.length;U++)N[U].apply(this,Ke)},ot.exports=ut},4572:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4532);function N(U){Ke.call(this),this.initEvent("message",!1,!1),this.data=U}xe(N,Ke),ot.exports=N},7299:(ot,ut,_e)=>{"use strict";var xe=_e(8075);function Ke(N){this._transport=N,N.on("message",this._transportMessage.bind(this)),N.on("close",this._transportClose.bind(this))}Ke.prototype._transportClose=function(N,U){xe.postMessage("c",JSON.stringify([N,U]))},Ke.prototype._transportMessage=function(N){xe.postMessage("t",N)},Ke.prototype._send=function(N){this._transport.send(N)},Ke.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},ot.exports=Ke},737:(ot,ut,_e)=>{"use strict";var xe=_e(1493),Ke=_e(3865),N=_e(7299),U=_e(5841),h=_e(8075),y=_e(205);ot.exports=function(v,C){var V,A={};C.forEach(function(g){g.facadeTransport&&(A[g.facadeTransport.transportName]=g.facadeTransport)}),A[U.transportName]=U,v.bootstrap_iframe=function(){var g;h.currentWindowId=y.hash.slice(1),Ke.attachEvent("message",function(D){if(D.source===parent&&(void 0===V&&(V=D.origin),D.origin===V)){var F;try{F=JSON.parse(D.data)}catch(S){return}if(F.windowId===h.currentWindowId)switch(F.type){case"s":var L;try{L=JSON.parse(F.data)}catch(S){break}var O=L[0],E=L[1],b=L[2],w=L[3];if(O!==v.version)throw new Error('Incompatible SockJS! Main site uses: "'+O+'", the iframe: "'+v.version+'".');if(!xe.isOriginEqual(b,y.href)||!xe.isOriginEqual(w,y.href))throw new Error("Can't connect to different domain from within an iframe. ("+y.href+", "+b+", "+w+")");g=new N(new A[E](b,w));break;case"m":g._send(F.data);break;case"c":g&&g._close(),g=null}}}),h.postMessage("s")}}},8834:(ot,ut,_e)=>{"use strict";var xe=_e(17).v,Ke=_e(3894),N=_e(2923);function h(y,m){xe.call(this);var v=this,C=+new Date;this.xo=new m("GET",y),this.xo.once("finish",function(A,V){var g,P;if(200===A){if(P=+new Date-C,V)try{g=JSON.parse(V)}catch(D){}N.isObject(g)||(g={})}v.emit("finish",g,P),v.removeAllListeners()})}Ke(h,xe),h.prototype.close=function(){this.removeAllListeners(),this.xo.close()},ot.exports=h},5841:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(17).v,N=_e(7898),U=_e(8834);function h(y){var m=this;Ke.call(this),this.ir=new U(y,N),this.ir.once("finish",function(v,C){m.ir=null,m.emit("message",JSON.stringify([v,C]))})}xe(h,Ke),h.transportName="iframe-info-receiver",h.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},ot.exports=h},5672:(ot,ut,_e)=>{"use strict";var xe=_e(17).v,Ke=_e(3894),N=_e(3865),U=_e(7415),h=_e(5841);function m(v,C){var A=this;xe.call(this);var V=function(){var g=A.ifr=new U(h.transportName,C,v);g.once("message",function(P){if(P){var D;try{D=JSON.parse(P)}catch(O){return A.emit("finish"),void A.close()}A.emit("finish",D[0],D[1])}A.close()}),g.once("close",function(){A.emit("finish"),A.close()})};global.document.body?V():N.attachEvent("load",V)}Ke(m,xe),m.enabled=function(){return U.enabled()},m.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},ot.exports=m},6689:(ot,ut,_e)=>{"use strict";var xe=_e(17).v,Ke=_e(3894),N=_e(1493),U=_e(5705),h=_e(7807),y=_e(7898),m=_e(9312),v=_e(5672),C=_e(8834);function V(g,P){var D=this;xe.call(this),setTimeout(function(){D.doXhr(g,P)},0)}Ke(V,xe),V._getReceiver=function(g,P,D){return D.sameOrigin?new C(P,y):h.enabled?new C(P,h):U.enabled&&D.sameScheme?new C(P,U):v.enabled()?new v(g,P):new C(P,m)},V.prototype.doXhr=function(g,P){var D=this,F=N.addPath(g,"/info");this.xo=V._getReceiver(g,F,P),this.timeoutRef=setTimeout(function(){D._cleanup(!1),D.emit("finish")},V.timeout),this.xo.once("finish",function(L,O){D._cleanup(!0),D.emit("finish",L,O)})},V.prototype._cleanup=function(g){clearTimeout(this.timeoutRef),this.timeoutRef=null,!g&&this.xo&&this.xo.close(),this.xo=null},V.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},V.timeout=8e3,ot.exports=V},205:ot=>{"use strict";ot.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(ot,ut,_e)=>{"use strict";_e(5904);var E,xe=_e(7629),Ke=_e(3894),N=_e(347),U=_e(8481),h=_e(1493),y=_e(3865),m=_e(2264),v=_e(2923),C=_e(480),A=_e(1433),V=_e(4532),g=_e(9895),P=_e(205),D=_e(8265),F=_e(4572),L=_e(6689);function b(S,M,H){if(!(this instanceof b))return new b(S,M,H);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=b.CONNECTING,this.extensions="",this.protocol="",(H=H||{}).protocols_whitelist&&A.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=H.transports,this._transportOptions=H.transportOptions||{},this._timeout=H.timeout||0;var j=H.sessionId||8;if("function"==typeof j)this._generateSessionId=j;else{if("number"!=typeof j)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return N.string(j)}}this._server=H.server||N.numberString(1e3);var G=new xe(S);if(!G.host||!G.protocol)throw new SyntaxError("The URL '"+S+"' is invalid");if(G.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==G.protocol&&"https:"!==G.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+G.protocol+"' is not allowed.");var X="https:"===G.protocol;if("https:"===P.protocol&&!X&&!h.isLoopbackAddr(G.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");M?Array.isArray(M)||(M=[M]):M=[];var fe=M.sort();fe.forEach(function(me,Q){if(!me)throw new SyntaxError("The protocols entry '"+me+"' is invalid.");if(Q<fe.length-1&&me===fe[Q+1])throw new SyntaxError("The protocols entry '"+me+"' is duplicated.")});var Me=h.getOrigin(P.href);this._origin=Me?Me.toLowerCase():null,G.set("pathname",G.pathname.replace(/\/+$/,"")),this.url=G.href,this._urlInfo={nullOrigin:!C.hasDomain(),sameOrigin:h.isOriginEqual(this.url,P.href),sameScheme:h.isSchemeEqual(this.url,P.href)},this._ir=new L(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function w(S){return 1e3===S||S>=3e3&&S<=4999}Ke(b,g),b.prototype.close=function(S,M){if(S&&!w(S))throw new Error("InvalidAccessError: Invalid code");if(M&&M.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==b.CLOSING&&this.readyState!==b.CLOSED&&this._close(S||1e3,M||"Normal closure",!0)},b.prototype.send=function(S){if("string"!=typeof S&&(S=""+S),this.readyState===b.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===b.OPEN&&this._transport.send(U.quote(S))},b.version=_e(947),b.CONNECTING=0,b.OPEN=1,b.CLOSING=2,b.CLOSED=3,b.prototype._receiveInfo=function(S,M){if(this._ir=null,S){this._rto=this.countRTO(M),this._transUrl=S.base_url?S.base_url:this.url,S=v.extend(S,this._urlInfo);var H=E.filterToEnabled(this._transportsWhitelist,S);this._transports=H.main,this._connect()}else this._close(1002,"Cannot connect to server")},b.prototype._connect=function(){for(var S=this._transports.shift();S;S=this._transports.shift()){if(S.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(S),void y.attachEvent("load",this._connect.bind(this));var M=Math.max(this._timeout,this._rto*S.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),M);var G=new S(h.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[S.transportName]);return G.on("message",this._transportMessage.bind(this)),G.once("close",this._transportClose.bind(this)),G.transportName=S.transportName,void(this._transport=G)}this._close(2e3,"All transports failed",!1)},b.prototype._transportTimeout=function(){this.readyState===b.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},b.prototype._transportMessage=function(S){var G,M=this,H=S.slice(0,1),j=S.slice(1);switch(H){case"o":return void this._open();case"h":return void this.dispatchEvent(new V("heartbeat"))}if(j)try{G=JSON.parse(j)}catch(X){}if(void 0!==G)switch(H){case"a":Array.isArray(G)&&G.forEach(function(X){M.dispatchEvent(new F(X))});break;case"m":this.dispatchEvent(new F(G));break;case"c":Array.isArray(G)&&2===G.length&&this._close(G[0],G[1],!0)}},b.prototype._transportClose=function(S,M){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),w(S)||2e3===S||this.readyState!==b.CONNECTING?this._close(S,M):this._connect()},b.prototype._open=function(){this.readyState===b.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=b.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new V("open"))):this._close(1006,"Server lost session")},b.prototype._close=function(S,M,H){var j=!1;if(this._ir&&(j=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===b.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=b.CLOSING,setTimeout(function(){this.readyState=b.CLOSED,j&&this.dispatchEvent(new V("error"));var G=new D("close");G.wasClean=H||!1,G.code=S||1e3,G.reason=M,this.dispatchEvent(G),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},b.prototype.countRTO=function(S){return S>100?4*S:300+S},ot.exports=function(S){return E=m(S),_e(737)(b,S),b}},5904:()=>{"use strict";var v,ot=Array.prototype,ut=Object.prototype,_e=Function.prototype,xe=String.prototype,Ke=ot.slice,N=ut.toString,U=function(S){return"[object Function]"===ut.toString.call(S)},y=function(M){return"[object String]"===N.call(M)},m=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(S){return!1}}();v=m?function(S,M,H,j){!j&&M in S||Object.defineProperty(S,M,{configurable:!0,enumerable:!1,writable:!0,value:H})}:function(S,M,H,j){!j&&M in S||(S[M]=H)};var C=function(S,M,H){for(var j in M)ut.hasOwnProperty.call(M,j)&&v(S,j,M[j],H)},A=function(S){if(null==S)throw new TypeError("can't convert "+S+" to object");return Object(S)};function V(S){var M=+S;return M!=M?M=0:0!==M&&M!==1/0&&M!==-1/0&&(M=(M>0||-1)*Math.floor(Math.abs(M))),M}function P(){}C(_e,{bind:function(M){var H=this;if(!U(H))throw new TypeError("Function.prototype.bind called on incompatible "+H);for(var j=Ke.call(arguments,1),G=function(){if(this instanceof me){var Q=H.apply(this,j.concat(Ke.call(arguments)));return Object(Q)===Q?Q:this}return H.apply(M,j.concat(Ke.call(arguments)))},X=Math.max(0,H.length-j.length),fe=[],Me=0;Me<X;Me++)fe.push("$"+Me);var me=Function("binder","return function ("+fe.join(",")+"){ return binder.apply(this, arguments); }")(G);return H.prototype&&(P.prototype=H.prototype,me.prototype=new P,P.prototype=null),me}}),C(Array,{isArray:function(M){return"[object Array]"===N.call(M)}});var M,H,j,D=Object("a"),F="a"!==D[0]||!(0 in D);C(ot,{forEach:function(M){var H=A(this),j=F&&y(this)?this.split(""):H,G=arguments[1],X=-1,fe=j.length>>>0;if(!U(M))throw new TypeError;for(;++X<fe;)X in j&&M.call(G,j[X],X,H)}},(H=!0,j=!0,(M=ot.forEach)&&(M.call("foo",function(G,X,fe){"object"!=typeof fe&&(H=!1)}),M.call([1],function(){j="string"==typeof this},"x")),!(M&&H&&j)));var O=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);C(ot,{indexOf:function(M){var H=F&&y(this)?this.split(""):A(this),j=H.length>>>0;if(!j)return-1;var G=0;for(arguments.length>1&&(G=V(arguments[1])),G=G>=0?G:Math.max(0,j+G);G<j;G++)if(G in H&&H[G]===M)return G;return-1}},O);var S,E=xe.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(S=void 0===/()??/.exec("")[1],xe.split=function(M,H){var j=this;if(void 0===M&&0===H)return[];if("[object RegExp]"!==N.call(M))return E.call(this,M,H);var Me,me,Q,z,G=[],X=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.extended?"x":"")+(M.sticky?"y":""),fe=0;for(M=new RegExp(M.source,X+"g"),j+="",S||(Me=new RegExp("^"+M.source+"$(?!\\s)",X)),H=void 0===H?-1>>>0:function g(S){return S>>>0}(H);(me=M.exec(j))&&!((Q=me.index+me[0].length)>fe&&(G.push(j.slice(fe,me.index)),!S&&me.length>1&&me[0].replace(Me,function(){for(var ne=1;ne<arguments.length-2;ne++)void 0===arguments[ne]&&(me[ne]=void 0)}),me.length>1&&me.index<j.length&&ot.push.apply(G,me.slice(1)),z=me[0].length,fe=Q,G.length>=H));)M.lastIndex===me.index&&M.lastIndex++;return fe===j.length?(z||!M.test(""))&&G.push(""):G.push(j.slice(fe)),G.length>H?G.slice(0,H):G}):"0".split(void 0,0).length&&(xe.split=function(M,H){return void 0===M&&0===H?[]:E.call(this,M,H)});var b=xe.substr;C(xe,{substr:function(M,H){return b.call(this,M<0&&(M=this.length+M)<0?0:M,H)}},"".substr&&"b"!=="0b".substr(-1))},8810:(ot,ut,_e)=>{"use strict";ot.exports=[_e(7040),_e(3897),_e(4053),_e(1591),_e(9802)(_e(1591)),_e(3362),_e(9802)(_e(3362)),_e(7237),_e(8931),_e(9802)(_e(7237)),_e(545)]},3134:(ot,ut,_e)=>{"use strict";var xe=_e(17).v,Ke=_e(3894),N=_e(3865),U=_e(1493),h=global.XMLHttpRequest;function m(A,V,g,P){var D=this;xe.call(this),setTimeout(function(){D._start(A,V,g,P)},0)}Ke(m,xe),m.prototype._start=function(A,V,g,P){var D=this;try{this.xhr=new h}catch(L){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();V=U.addQuery(V,"t="+ +new Date),this.unloadRef=N.unloadAdd(function(){D._cleanup(!0)});try{this.xhr.open(A,V,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){D.emit("finish",0,""),D._cleanup(!1)})}catch(L){return this.emit("finish",0,""),void this._cleanup(!1)}if((!P||!P.noCredentials)&&m.supportsCORS&&(this.xhr.withCredentials=!0),P&&P.headers)for(var F in P.headers)this.xhr.setRequestHeader(F,P.headers[F]);this.xhr.onreadystatechange=function(){if(D.xhr){var O,E,L=D.xhr;switch(L.readyState){case 3:try{E=L.status,O=L.responseText}catch(b){}1223===E&&(E=204),200===E&&O&&O.length>0&&D.emit("chunk",E,O);break;case 4:1223===(E=L.status)&&(E=204),(12005===E||12029===E)&&(E=0),D.emit("finish",E,L.responseText),D._cleanup(!1)}}};try{D.xhr.send(g)}catch(L){D.emit("finish",0,""),D._cleanup(!1)}},m.prototype._cleanup=function(A){if(this.xhr){if(this.removeAllListeners(),N.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),A)try{this.xhr.abort()}catch(V){}this.unloadRef=this.xhr=null}},m.prototype.close=function(){this._cleanup(!0)},m.enabled=!!h;var v=["Active"].concat("Object").join("X");!m.enabled&&v in global&&(m.enabled=!!new(h=function(){try{return new global[v]("Microsoft.XMLHTTP")}catch(A){return null}}));var C=!1;try{C="withCredentials"in new h}catch(A){}m.supportsCORS=C,ot.exports=m},8513:ot=>{ot.exports=global.EventSource},3848:ot=>{"use strict";var ut=global.WebSocket||global.MozWebSocket;ot.exports=ut?function(xe){return new ut(xe)}:void 0},1591:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4172),N=_e(3436),U=_e(7807),h=_e(8513);function y(m){if(!y.enabled())throw new Error("Transport created when disabled");Ke.call(this,m,"/eventsource",N,U)}xe(y,Ke),y.enabled=function(){return!!h},y.transportName="eventsource",y.roundTrips=2,ot.exports=y},3362:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(288),N=_e(7898),U=_e(4172);function h(y){if(!Ke.enabled)throw new Error("Transport created when disabled");U.call(this,y,"/htmlfile",Ke,N)}xe(h,U),h.enabled=function(y){return Ke.enabled&&y.sameOrigin},h.transportName="htmlfile",h.roundTrips=2,ot.exports=h},7415:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(17).v,N=_e(947),U=_e(1493),h=_e(8075),y=_e(3865),m=_e(347);function C(A,V,g){if(!C.enabled())throw new Error("Transport created when disabled");Ke.call(this);var P=this;this.origin=U.getOrigin(g),this.baseUrl=g,this.transUrl=V,this.transport=A,this.windowId=m.string(8);var D=U.addPath(g,"/iframe.html")+"#"+this.windowId;this.iframeObj=h.createIframe(D,function(F){P.emit("close",1006,"Unable to load an iframe ("+F+")"),P.close()}),this.onmessageCallback=this._message.bind(this),y.attachEvent("message",this.onmessageCallback)}xe(C,Ke),C.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){y.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(A){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},C.prototype._message=function(A){if(U.isOriginEqual(A.origin,this.origin)){var V;try{V=JSON.parse(A.data)}catch(P){return}if(V.windowId===this.windowId)switch(V.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([N,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",V.data);break;case"c":var g;try{g=JSON.parse(V.data)}catch(P){return}this.emit("close",g[0],g[1]),this.close()}}},C.prototype.postMessage=function(A,V){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:A,data:V||""}),this.origin)},C.prototype.send=function(A){this.postMessage("m",A)},C.enabled=function(){return h.iframeEnabled},C.transportName="iframe",C.roundTrips=2,ot.exports=C},545:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4196),N=_e(8785),U=_e(3216);function h(y){if(!h.enabled())throw new Error("Transport created when disabled");Ke.call(this,y,"/jsonp",U,N)}xe(h,Ke),h.enabled=function(){return!!global.document},h.transportName="jsonp-polling",h.roundTrips=1,h.needBody=!0,ot.exports=h},4172:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(1493),N=_e(4196);function y(m,v,C,A){N.call(this,m,v,function h(m){return function(v,C,A){var V={};"string"==typeof C&&(V.headers={"Content-type":"text/plain"});var g=Ke.addPath(v,"/xhr_send"),P=new m("POST",g,C,V);return P.once("finish",function(D){if(P=null,200!==D&&204!==D)return A(new Error("http status "+D));A()}),function(){P.close(),P=null;var D=new Error("Aborted");D.code=1e3,A(D)}}}(A),C,A)}xe(y,N),ot.exports=y},9661:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(17).v;function U(h,y){Ke.call(this),this.sendBuffer=[],this.sender=y,this.url=h}xe(U,Ke),U.prototype.send=function(h){this.sendBuffer.push(h),this.sendStop||this.sendSchedule()},U.prototype.sendScheduleWait=function(){var y,h=this;this.sendStop=function(){h.sendStop=null,clearTimeout(y)},y=setTimeout(function(){h.sendStop=null,h.sendSchedule()},25)},U.prototype.sendSchedule=function(){var h=this;if(this.sendBuffer.length>0){var y="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,y,function(m){h.sendStop=null,m?(h.emit("close",m.code||1006,"Sending error: "+m),h.close()):h.sendScheduleWait()}),this.sendBuffer=[]}},U.prototype._cleanup=function(){this.removeAllListeners()},U.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},ot.exports=U},9802:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(7415),N=_e(2923);ot.exports=function(U){function h(y,m){Ke.call(this,U.transportName,y,m)}return xe(h,Ke),h.enabled=function(y,m){if(!global.document)return!1;var v=N.extend({},m);return v.sameOrigin=!0,U.enabled(v)&&Ke.enabled()},h.transportName="iframe-"+U.transportName,h.needBody=!0,h.roundTrips=Ke.roundTrips+U.roundTrips-1,h.facadeTransport=U,h}},20:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(17).v;function U(h,y,m){Ke.call(this),this.Receiver=h,this.receiveUrl=y,this.AjaxObject=m,this._scheduleReceiver()}xe(U,Ke),U.prototype._scheduleReceiver=function(){var h=this,y=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);y.on("message",function(m){h.emit("message",m)}),y.once("close",function(m,v){h.poll=y=null,h.pollIsClosing||("network"===v?h._scheduleReceiver():(h.emit("close",m||1006,v),h.removeAllListeners()))})},U.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},ot.exports=U},4196:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(1493),N=_e(9661),U=_e(20);function y(m,v,C,A,V){var g=Ke.addPath(m,v),P=this;N.call(this,m,C),this.poll=new U(A,g,V),this.poll.on("message",function(D){P.emit("message",D)}),this.poll.once("close",function(D,F){P.poll=null,P.emit("close",D,F),P.close()})}xe(y,N),y.prototype.close=function(){N.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},ot.exports=y},3436:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(17).v,N=_e(8513);function h(y){Ke.call(this);var m=this,v=this.es=new N(y);v.onmessage=function(C){m.emit("message",decodeURI(C.data))},v.onerror=function(C){var A=2!==v.readyState?"network":"permanent";m._cleanup(),m._close(A)}}xe(h,Ke),h.prototype.abort=function(){this._cleanup(),this._close("user")},h.prototype._cleanup=function(){var y=this.es;y&&(y.onmessage=y.onerror=null,y.close(),this.es=null)},h.prototype._close=function(y){var m=this;setTimeout(function(){m.emit("close",null,y),m.removeAllListeners()},200)},ot.exports=h},288:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(8075),N=_e(1493),U=_e(17).v,h=_e(347);function m(C){U.call(this);var A=this;Ke.polluteGlobalNamespace(),this.id="a"+h.string(6),C=N.addQuery(C,"c="+decodeURIComponent(Ke.WPrefix+"."+this.id));var V=m.htmlfileEnabled?Ke.createHtmlfile:Ke.createIframe;global[Ke.WPrefix][this.id]={start:function(){A.iframeObj.loaded()},message:function(g){A.emit("message",g)},stop:function(){A._cleanup(),A._close("network")}},this.iframeObj=V(C,function(){A._cleanup(),A._close("permanent")})}xe(m,U),m.prototype.abort=function(){this._cleanup(),this._close("user")},m.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[Ke.WPrefix][this.id]},m.prototype._close=function(C){this.emit("close",null,C),this.removeAllListeners()},m.htmlfileEnabled=!1;var v=["Active"].concat("Object").join("X");if(v in global)try{m.htmlfileEnabled=!!new global[v]("htmlfile")}catch(C){}m.enabled=m.htmlfileEnabled||Ke.iframeEnabled,ot.exports=m},8785:(ot,ut,_e)=>{"use strict";var xe=_e(8075),Ke=_e(347),N=_e(480),U=_e(1493),h=_e(3894),y=_e(17).v;function v(C){var A=this;y.call(this),xe.polluteGlobalNamespace(),this.id="a"+Ke.string(6);var V=U.addQuery(C,"c="+encodeURIComponent(xe.WPrefix+"."+this.id));global[xe.WPrefix][this.id]=this._callback.bind(this),this._createScript(V),this.timeoutId=setTimeout(function(){A._abort(new Error("JSONP script loaded abnormally (timeout)"))},v.timeout)}h(v,y),v.prototype.abort=function(){if(global[xe.WPrefix][this.id]){var C=new Error("JSONP user aborted read");C.code=1e3,this._abort(C)}},v.timeout=35e3,v.scriptErrorTimeout=1e3,v.prototype._callback=function(C){this._cleanup(),!this.aborting&&(C&&this.emit("message",C),this.emit("close",null,"network"),this.removeAllListeners())},v.prototype._abort=function(C){this._cleanup(),this.aborting=!0,this.emit("close",C.code,C.message),this.removeAllListeners()},v.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var C=this.script;C.parentNode.removeChild(C),C.onreadystatechange=C.onerror=C.onload=C.onclick=null,this.script=null}delete global[xe.WPrefix][this.id]},v.prototype._scriptError=function(){var C=this;this.errorTimer||(this.errorTimer=setTimeout(function(){C.loadedOkay||C._abort(new Error("JSONP script loaded abnormally (onerror)"))},v.scriptErrorTimeout))},v.prototype._createScript=function(C){var g,A=this,V=this.script=global.document.createElement("script");if(V.id="a"+Ke.string(8),V.src=C,V.type="text/javascript",V.charset="UTF-8",V.onerror=this._scriptError.bind(this),V.onload=function(){A._abort(new Error("JSONP script loaded abnormally (onload)"))},V.onreadystatechange=function(){if(/loaded|closed/.test(V.readyState)){if(V&&V.htmlFor&&V.onclick){A.loadedOkay=!0;try{V.onclick()}catch(D){}}V&&A._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===V.async&&global.document.attachEvent)if(N.isOpera())(g=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+V.id+"'); if(a)a.onerror();}catch(x){};",V.async=g.async=!1;else{try{V.htmlFor=V.id,V.event="onclick"}catch(D){}V.async=!0}void 0!==V.async&&(V.async=!0);var P=global.document.getElementsByTagName("head")[0];P.insertBefore(V,P.firstChild),g&&P.insertBefore(g,P.firstChild)},ot.exports=v},6909:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(17).v;function U(h,y){Ke.call(this);var m=this;this.bufferPosition=0,this.xo=new y("POST",h,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(v,C){m._chunkHandler(v,C),m.xo=null,m.emit("close",null,200===v?"network":"permanent"),m._cleanup()})}xe(U,Ke),U.prototype._chunkHandler=function(h,y){if(200===h&&y)for(var m=-1;;this.bufferPosition+=m+1){var v=y.slice(this.bufferPosition);if(-1===(m=v.indexOf("\n")))break;var C=v.slice(0,m);C&&this.emit("message",C)}},U.prototype._cleanup=function(){this.removeAllListeners()},U.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},ot.exports=U},3216:(ot,ut,_e)=>{"use strict";var U,h,xe=_e(347),Ke=_e(1493);ot.exports=function(v,C,A){U||function m(){(U=global.document.createElement("form")).style.display="none",U.style.position="absolute",U.method="POST",U.enctype="application/x-www-form-urlencoded",U.acceptCharset="UTF-8",(h=global.document.createElement("textarea")).name="d",U.appendChild(h),global.document.body.appendChild(U)}();var V="a"+xe.string(8);U.target=V,U.action=Ke.addQuery(Ke.addPath(v,"/jsonp_send"),"i="+V);var g=function y(v){try{return global.document.createElement('<iframe name="'+v+'">')}catch(A){var C=global.document.createElement("iframe");return C.name=v,C}}(V);g.id=V,g.style.display="none",U.appendChild(g);try{h.value=C}catch(D){}U.submit();var P=function(D){g.onerror&&(g.onreadystatechange=g.onerror=g.onload=null,setTimeout(function(){g.parentNode.removeChild(g),g=null},500),h.value="",A(D))};return g.onerror=function(){P()},g.onload=function(){P()},g.onreadystatechange=function(D){"complete"===g.readyState&&P()},function(){P(new Error("Aborted"))}}},5705:(ot,ut,_e)=>{"use strict";var xe=_e(17).v,Ke=_e(3894),N=_e(3865),U=_e(480),h=_e(1493);function m(v,C,A){var V=this;xe.call(this),setTimeout(function(){V._start(v,C,A)},0)}Ke(m,xe),m.prototype._start=function(v,C,A){var V=this,g=new global.XDomainRequest;C=h.addQuery(C,"t="+ +new Date),g.onerror=function(){V._error()},g.ontimeout=function(){V._error()},g.onprogress=function(){V.emit("chunk",200,g.responseText)},g.onload=function(){V.emit("finish",200,g.responseText),V._cleanup(!1)},this.xdr=g,this.unloadRef=N.unloadAdd(function(){V._cleanup(!0)});try{this.xdr.open(v,C),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(A)}catch(P){this._error()}},m.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},m.prototype._cleanup=function(v){if(this.xdr){if(this.removeAllListeners(),N.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,v)try{this.xdr.abort()}catch(C){}this.unloadRef=this.xdr=null}},m.prototype.close=function(){this._cleanup(!0)},m.enabled=!(!global.XDomainRequest||!U.hasDomain()),ot.exports=m},7807:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(3134);function N(U,h,y,m){Ke.call(this,U,h,y,m)}xe(N,Ke),N.enabled=Ke.enabled&&Ke.supportsCORS,ot.exports=N},9312:(ot,ut,_e)=>{"use strict";var xe=_e(17).v;function N(){var U=this;xe.call(this),this.to=setTimeout(function(){U.emit("finish",200,"{}")},N.timeout)}_e(3894)(N,xe),N.prototype.close=function(){clearTimeout(this.to)},N.timeout=2e3,ot.exports=N},7898:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(3134);function N(U,h,y){Ke.call(this,U,h,y,{noCredentials:!0})}xe(N,Ke),N.enabled=Ke.enabled,ot.exports=N},7040:(ot,ut,_e)=>{"use strict";var xe=_e(3865),Ke=_e(1493),N=_e(3894),U=_e(17).v,h=_e(3848);function m(v,C,A){if(!m.enabled())throw new Error("Transport created when disabled");U.call(this);var V=this,g=Ke.addPath(v,"/websocket");g="https"===g.slice(0,5)?"wss"+g.slice(5):"ws"+g.slice(4),this.url=g,this.ws=new h(this.url,[],A),this.ws.onmessage=function(P){V.emit("message",P.data)},this.unloadRef=xe.unloadAdd(function(){V.ws.close()}),this.ws.onclose=function(P){V.emit("close",P.code,P.reason),V._cleanup()},this.ws.onerror=function(P){V.emit("close",1006,"WebSocket connection broken"),V._cleanup()}}N(m,U),m.prototype.send=function(v){this.ws.send("["+v+"]")},m.prototype.close=function(){var v=this.ws;this._cleanup(),v&&v.close()},m.prototype._cleanup=function(){var v=this.ws;v&&(v.onmessage=v.onclose=v.onerror=null),xe.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},m.enabled=function(){return!!h},m.transportName="websocket",m.roundTrips=2,ot.exports=m},8931:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4172),N=_e(4053),U=_e(6909),h=_e(5705);function y(m){if(!h.enabled)throw new Error("Transport created when disabled");Ke.call(this,m,"/xhr",U,h)}xe(y,Ke),y.enabled=N.enabled,y.transportName="xdr-polling",y.roundTrips=2,ot.exports=y},4053:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4172),N=_e(6909),U=_e(5705);function h(y){if(!U.enabled)throw new Error("Transport created when disabled");Ke.call(this,y,"/xhr_streaming",N,U)}xe(h,Ke),h.enabled=function(y){return!y.cookie_needed&&!y.nullOrigin&&U.enabled&&y.sameScheme},h.transportName="xdr-streaming",h.roundTrips=2,ot.exports=h},7237:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4172),N=_e(6909),U=_e(7807),h=_e(7898);function y(m){if(!h.enabled&&!U.enabled)throw new Error("Transport created when disabled");Ke.call(this,m,"/xhr",N,U)}xe(y,Ke),y.enabled=function(m){return!m.nullOrigin&&(!(!h.enabled||!m.sameOrigin)||U.enabled)},y.transportName="xhr-polling",y.roundTrips=2,ot.exports=y},3897:(ot,ut,_e)=>{"use strict";var xe=_e(3894),Ke=_e(4172),N=_e(6909),U=_e(7807),h=_e(7898),y=_e(480);function m(v){if(!h.enabled&&!U.enabled)throw new Error("Transport created when disabled");Ke.call(this,v,"/xhr_streaming",N,U)}xe(m,Ke),m.enabled=function(v){return!v.nullOrigin&&!y.isOpera()&&U.enabled},m.transportName="xhr-streaming",m.roundTrips=2,m.needBody=!!global.document,ot.exports=m},8143:ot=>{"use strict";ot.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(ut){var _e=new Uint8Array(ut);return global.crypto.getRandomValues(_e),_e}:function(ut){for(var _e=new Array(ut),xe=0;xe<ut;xe++)_e[xe]=Math.floor(256*Math.random());return _e}},480:ot=>{"use strict";ot.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(ut){return!1}}}},8481:ot=>{"use strict";var _e,ut=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;ot.exports={quote:function(Ke){var N=JSON.stringify(Ke);return ut.lastIndex=0,ut.test(N)?(_e||(_e=function(Ke){var N,U={},h=[];for(N=0;N<65536;N++)h.push(String.fromCharCode(N));return Ke.lastIndex=0,h.join("").replace(Ke,function(y){return U[y]="\\u"+("0000"+y.charCodeAt(0).toString(16)).slice(-4),""}),Ke.lastIndex=0,U}(ut)),N.replace(ut,function(U){return _e[U]})):N}}},3865:(ot,ut,_e)=>{"use strict";var xe=_e(347),Ke={},N=!1,U=global.chrome&&global.chrome.app&&global.chrome.app.runtime;ot.exports={attachEvent:function(y,m){void 0!==global.addEventListener?global.addEventListener(y,m,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+y,m),global.attachEvent("on"+y,m))},detachEvent:function(y,m){void 0!==global.addEventListener?global.removeEventListener(y,m,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+y,m),global.detachEvent("on"+y,m))},unloadAdd:function(y){if(U)return null;var m=xe.string(8);return Ke[m]=y,N&&setTimeout(this.triggerUnloadCallbacks,0),m},unloadDel:function(y){y in Ke&&delete Ke[y]},triggerUnloadCallbacks:function(){for(var y in Ke)Ke[y](),delete Ke[y]}},U||ot.exports.attachEvent("unload",function(){N||(N=!0,ot.exports.triggerUnloadCallbacks())})},8075:(ot,ut,_e)=>{"use strict";var xe=_e(3865),Ke=_e(480);ot.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){ot.exports.WPrefix in global||(global[ot.exports.WPrefix]={})},postMessage:function(U,h){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:ot.exports.currentWindowId,type:U,data:h||""}),"*")},createIframe:function(U,h){var m,v,y=global.document.createElement("iframe"),C=function(){clearTimeout(m);try{y.onload=null}catch(P){}y.onerror=null},A=function(){y&&(C(),setTimeout(function(){y&&y.parentNode.removeChild(y),y=null},0),xe.unloadDel(v))},V=function(P){y&&(A(),h(P))};return y.src=U,y.style.display="none",y.style.position="absolute",y.onerror=function(){V("onerror")},y.onload=function(){clearTimeout(m),m=setTimeout(function(){V("onload timeout")},2e3)},global.document.body.appendChild(y),m=setTimeout(function(){V("timeout")},15e3),v=xe.unloadAdd(A),{post:function(P,D){setTimeout(function(){try{y&&y.contentWindow&&y.contentWindow.postMessage(P,D)}catch(F){}},0)},cleanup:A,loaded:C}},createHtmlfile:function(U,h){var v,C,A,y=["Active"].concat("Object").join("X"),m=new global[y]("htmlfile"),V=function(){clearTimeout(v),A.onerror=null},g=function(){m&&(V(),xe.unloadDel(C),A.parentNode.removeChild(A),A=m=null,CollectGarbage())},P=function(L){m&&(g(),h(L))};m.open(),m.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),m.close(),m.parentWindow[ot.exports.WPrefix]=global[ot.exports.WPrefix];var F=m.createElement("div");return m.body.appendChild(F),A=m.createElement("iframe"),F.appendChild(A),A.src=U,A.onerror=function(){P("onerror")},v=setTimeout(function(){P("timeout")},15e3),C=xe.unloadAdd(g),{post:function(L,O){try{setTimeout(function(){A&&A.contentWindow&&A.contentWindow.postMessage(L,O)},0)}catch(E){}},cleanup:g,loaded:V}}},ot.exports.iframeEnabled=!1,global.document&&(ot.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!Ke.isKonqueror())},1433:ot=>{"use strict";var ut={};["log","debug","warn"].forEach(function(_e){var xe;try{xe=global.console&&global.console[_e]&&global.console[_e].apply}catch(Ke){}ut[_e]=xe?function(){return global.console[_e].apply(global.console,arguments)}:"log"===_e?function(){}:ut.log}),ot.exports=ut},2923:ot=>{"use strict";ot.exports={isObject:function(ut){var _e=typeof ut;return"function"===_e||"object"===_e&&!!ut},extend:function(ut){if(!this.isObject(ut))return ut;for(var _e,xe,Ke=1,N=arguments.length;Ke<N;Ke++)for(xe in _e=arguments[Ke])Object.prototype.hasOwnProperty.call(_e,xe)&&(ut[xe]=_e[xe]);return ut}}},347:(ot,ut,_e)=>{"use strict";var xe=_e(8143),Ke="abcdefghijklmnopqrstuvwxyz012345";ot.exports={string:function(N){for(var U=Ke.length,h=xe.randomBytes(N),y=[],m=0;m<N;m++)y.push(Ke.substr(h[m]%U,1));return y.join("")},number:function(N){return Math.floor(Math.random()*N)},numberString:function(N){var U=(""+(N-1)).length;return(new Array(U+1).join("0")+this.number(N)).slice(-U)}}},2264:ot=>{"use strict";ot.exports=function(_e){return{filterToEnabled:function(xe,Ke){var N={main:[],facade:[]};return xe?"string"==typeof xe&&(xe=[xe]):xe=[],_e.forEach(function(U){if(U){if("websocket"===U.transportName&&!1===Ke.websocket)return;if(xe.length&&-1===xe.indexOf(U.transportName))return;U.enabled(Ke)&&(N.main.push(U),U.facadeTransport&&N.facade.push(U.facadeTransport))}}),N}}}},1493:(ot,ut,_e)=>{"use strict";var xe=_e(7629);ot.exports={getOrigin:function(N){if(!N)return null;var U=new xe(N);if("file:"===U.protocol)return null;var h=U.port;return h||(h="https:"===U.protocol?"443":"80"),U.protocol+"//"+U.hostname+":"+h},isOriginEqual:function(N,U){return this.getOrigin(N)===this.getOrigin(U)},isSchemeEqual:function(N,U){return N.split(":")[0]===U.split(":")[0]},addPath:function(N,U){var h=N.split("?");return h[0]+U+(h[1]?"?"+h[1]:"")},addQuery:function(N,U){return N+(-1===N.indexOf("?")?"?"+U:"&"+U)},isLoopbackAddr:function(N){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(N)||/^\[::1\]$/.test(N)}}},947:ot=>{ot.exports="1.6.1"},7629:(ot,ut,_e)=>{"use strict";var xe=_e(8237),Ke=_e(2858),N=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,U=/[\n\r\t]/g,h=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,y=/:\d+$/,m=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,v=/^[a-zA-Z]:/;function C(b){return(b||"").toString().replace(N,"")}var A=[["#","hash"],["?","query"],function(w,S){return P(S.protocol)?w.replace(/\\/g,"/"):w},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],V={hash:1,query:1};function g(b){var w;w="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var j,M={},H=typeof(b=b||w.location||{});if("blob:"===b.protocol)M=new L(unescape(b.pathname),{});else if("string"===H)for(j in M=new L(b,{}),V)delete M[j];else if("object"===H){for(j in b)j in V||(M[j]=b[j]);void 0===M.slashes&&(M.slashes=h.test(b.href))}return M}function P(b){return"file:"===b||"ftp:"===b||"http:"===b||"https:"===b||"ws:"===b||"wss:"===b}function D(b,w){b=(b=C(b)).replace(U,""),w=w||{};var X,S=m.exec(b),M=S[1]?S[1].toLowerCase():"",H=!!S[2],j=!!S[3],G=0;return H?j?(X=S[2]+S[3]+S[4],G=S[2].length+S[3].length):(X=S[2]+S[4],G=S[2].length):j?(X=S[3]+S[4],G=S[3].length):X=S[4],"file:"===M?G>=2&&(X=X.slice(2)):P(M)?X=S[4]:M?H&&(X=X.slice(2)):G>=2&&P(w.protocol)&&(X=S[4]),{protocol:M,slashes:H||P(M),slashesCount:G,rest:X}}function L(b,w,S){if(b=(b=C(b)).replace(U,""),!(this instanceof L))return new L(b,w,S);var M,H,j,G,X,fe,Me=A.slice(),me=typeof w,Q=this,z=0;for("object"!==me&&"string"!==me&&(S=w,w=null),S&&"function"!=typeof S&&(S=Ke.parse),M=!(H=D(b||"",w=g(w))).protocol&&!H.slashes,Q.slashes=H.slashes||M&&w.slashes,Q.protocol=H.protocol||w.protocol||"",b=H.rest,("file:"===H.protocol&&(2!==H.slashesCount||v.test(b))||!H.slashes&&(H.protocol||H.slashesCount<2||!P(Q.protocol)))&&(Me[3]=[/(.*)/,"pathname"]);z<Me.length;z++)"function"!=typeof(G=Me[z])?(fe=G[1],(j=G[0])!=j?Q[fe]=b:"string"==typeof j?~(X="@"===j?b.lastIndexOf(j):b.indexOf(j))&&("number"==typeof G[2]?(Q[fe]=b.slice(0,X),b=b.slice(X+G[2])):(Q[fe]=b.slice(X),b=b.slice(0,X))):(X=j.exec(b))&&(Q[fe]=X[1],b=b.slice(0,X.index)),Q[fe]=Q[fe]||M&&G[3]&&w[fe]||"",G[4]&&(Q[fe]=Q[fe].toLowerCase())):b=G(b,Q);S&&(Q.query=S(Q.query)),M&&w.slashes&&"/"!==Q.pathname.charAt(0)&&(""!==Q.pathname||""!==w.pathname)&&(Q.pathname=function F(b,w){if(""===b)return w;for(var S=(w||"/").split("/").slice(0,-1).concat(b.split("/")),M=S.length,H=S[M-1],j=!1,G=0;M--;)"."===S[M]?S.splice(M,1):".."===S[M]?(S.splice(M,1),G++):G&&(0===M&&(j=!0),S.splice(M,1),G--);return j&&S.unshift(""),("."===H||".."===H)&&S.push(""),S.join("/")}(Q.pathname,w.pathname)),"/"!==Q.pathname.charAt(0)&&P(Q.protocol)&&(Q.pathname="/"+Q.pathname),xe(Q.port,Q.protocol)||(Q.host=Q.hostname,Q.port=""),Q.username=Q.password="",Q.auth&&(~(X=Q.auth.indexOf(":"))?(Q.username=Q.auth.slice(0,X),Q.username=encodeURIComponent(decodeURIComponent(Q.username)),Q.password=Q.auth.slice(X+1),Q.password=encodeURIComponent(decodeURIComponent(Q.password))):Q.username=encodeURIComponent(decodeURIComponent(Q.auth)),Q.auth=Q.password?Q.username+":"+Q.password:Q.username),Q.origin="file:"!==Q.protocol&&P(Q.protocol)&&Q.host?Q.protocol+"//"+Q.host:"null",Q.href=Q.toString()}L.prototype={set:function O(b,w,S){var M=this;switch(b){case"query":"string"==typeof w&&w.length&&(w=(S||Ke.parse)(w)),M[b]=w;break;case"port":M[b]=w,xe(w,M.protocol)?w&&(M.host=M.hostname+":"+w):(M.host=M.hostname,M[b]="");break;case"hostname":M[b]=w,M.port&&(w+=":"+M.port),M.host=w;break;case"host":M[b]=w,y.test(w)?(w=w.split(":"),M.port=w.pop(),M.hostname=w.join(":")):(M.hostname=w,M.port="");break;case"protocol":M.protocol=w.toLowerCase(),M.slashes=!S;break;case"pathname":case"hash":if(w){var H="pathname"===b?"/":"#";M[b]=w.charAt(0)!==H?H+w:w}else M[b]=w;break;case"username":case"password":M[b]=encodeURIComponent(w);break;case"auth":var j=w.indexOf(":");~j?(M.username=w.slice(0,j),M.username=encodeURIComponent(decodeURIComponent(M.username)),M.password=w.slice(j+1),M.password=encodeURIComponent(decodeURIComponent(M.password))):M.username=encodeURIComponent(decodeURIComponent(w))}for(var G=0;G<A.length;G++){var X=A[G];X[4]&&(M[X[1]]=M[X[1]].toLowerCase())}return M.auth=M.password?M.username+":"+M.password:M.username,M.origin="file:"!==M.protocol&&P(M.protocol)&&M.host?M.protocol+"//"+M.host:"null",M.href=M.toString(),M},toString:function E(b){(!b||"function"!=typeof b)&&(b=Ke.stringify);var w,S=this,M=S.host,H=S.protocol;H&&":"!==H.charAt(H.length-1)&&(H+=":");var j=H+(S.protocol&&S.slashes||P(S.protocol)?"//":"");return S.username?(j+=S.username,S.password&&(j+=":"+S.password),j+="@"):S.password?(j+=":"+S.password,j+="@"):"file:"!==S.protocol&&P(S.protocol)&&!M&&"/"!==S.pathname&&(j+="@"),(":"===M[M.length-1]||y.test(S.hostname)&&!S.port)&&(M+=":"),j+=M+S.pathname,(w="object"==typeof S.query?b(S.query):S.query)&&(j+="?"!==w.charAt(0)?"?"+w:w),S.hash&&(j+=S.hash),j}},L.extractProtocol=D,L.location=g,L.trimLeft=C,L.qs=Ke,ot.exports=L},1308:function(ot,ut,_e){var xe;ot=_e.nmd(ot),function(Ke){"object"==typeof global&&global;var y,m=2147483647,v=36,L=/^xn--/,O=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=Math.floor,M=String.fromCharCode;function j(he){throw RangeError(b[he])}function G(he,pe){for(var ze=he.length,at=[];ze--;)at[ze]=pe(he[ze]);return at}function X(he,pe){var ze=he.split("@"),at="";return ze.length>1&&(at=ze[0]+"@",he=ze[1]),at+G((he=he.replace(E,".")).split("."),pe).join(".")}function fe(he){for(var Xe,Pt,pe=[],ze=0,at=he.length;ze<at;)(Xe=he.charCodeAt(ze++))>=55296&&Xe<=56319&&ze<at?56320==(64512&(Pt=he.charCodeAt(ze++)))?pe.push(((1023&Xe)<<10)+(1023&Pt)+65536):(pe.push(Xe),ze--):pe.push(Xe);return pe}function Me(he){return G(he,function(pe){var ze="";return pe>65535&&(ze+=M((pe-=65536)>>>10&1023|55296),pe=56320|1023&pe),ze+M(pe)}).join("")}function me(he){return he-48<10?he-22:he-65<26?he-65:he-97<26?he-97:v}function Q(he,pe){return he+22+75*(he<26)-((0!=pe)<<5)}function z(he,pe,ze){var at=0;for(he=ze?S(he/700):he>>1,he+=S(he/pe);he>455;at+=v)he=S(he/35);return S(at+36*he/(he+38))}function ne(he){var at,it,rt,Te,Ae,Ue,je,We,Je,qe,pe=[],ze=he.length,Xe=0,Pt=128,bt=72;for((it=he.lastIndexOf("-"))<0&&(it=0),rt=0;rt<it;++rt)he.charCodeAt(rt)>=128&&j("not-basic"),pe.push(he.charCodeAt(rt));for(Te=it>0?it+1:0;Te<ze;){for(Ae=Xe,Ue=1,je=v;Te>=ze&&j("invalid-input"),((We=me(he.charCodeAt(Te++)))>=v||We>S((m-Xe)/Ue))&&j("overflow"),Xe+=We*Ue,!(We<(Je=je<=bt?1:je>=bt+26?26:je-bt));je+=v)Ue>S(m/(qe=v-Je))&&j("overflow"),Ue*=qe;bt=z(Xe-Ae,at=pe.length+1,0==Ae),S(Xe/at)>m-Pt&&j("overflow"),Pt+=S(Xe/at),Xe%=at,pe.splice(Xe++,0,Pt)}return Me(pe)}function le(he){var pe,ze,at,Xe,Pt,bt,it,rt,Te,Ae,Ue,We,Je,qe,pt,je=[];for(We=(he=fe(he)).length,pe=128,ze=0,Pt=72,bt=0;bt<We;++bt)(Ue=he[bt])<128&&je.push(M(Ue));for(at=Xe=je.length,Xe&&je.push("-");at<We;){for(it=m,bt=0;bt<We;++bt)(Ue=he[bt])>=pe&&Ue<it&&(it=Ue);for(it-pe>S((m-ze)/(Je=at+1))&&j("overflow"),ze+=(it-pe)*Je,pe=it,bt=0;bt<We;++bt)if((Ue=he[bt])<pe&&++ze>m&&j("overflow"),Ue==pe){for(rt=ze,Te=v;!(rt<(Ae=Te<=Pt?1:Te>=Pt+26?26:Te-Pt));Te+=v)je.push(M(Q(Ae+(pt=rt-Ae)%(qe=v-Ae),0))),rt=S(pt/qe);je.push(M(Q(rt,0))),Pt=z(ze,Je,at==Xe),ze=0,++at}++ze,++pe}return je.join("")}y={version:"1.3.2",ucs2:{decode:fe,encode:Me},decode:ne,encode:le,toASCII:function ue(he){return X(he,function(pe){return O.test(pe)?"xn--"+le(pe):pe})},toUnicode:function re(he){return X(he,function(pe){return L.test(pe)?ne(pe.slice(4).toLowerCase()):pe})}},void 0!==(xe=function(){return y}.call(ut,_e,ut,ot))&&(ot.exports=xe)}()},8762:(ot,ut,_e)=>{"use strict";var Ke=_e(1308),N=_e(796);function U(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}ut.Qc=w,ut.DB=function M(j,G){return w(j,!1,!0).resolve(G)},ut.WU=function S(j){return N.isString(j)&&(j=w(j)),j instanceof U?j.format():U.prototype.format.call(j)};var h=/^([a-z0-9.+-]+:)/i,y=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,C=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),A=["'"].concat(C),V=["%","/","?",";","#"].concat(A),g=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,L={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=_e(7137);function w(j,G,X){if(j&&N.isObject(j)&&j instanceof U)return j;var fe=new U;return fe.parse(j,G,X),fe}U.prototype.parse=function(j,G,X){if(!N.isString(j))throw new TypeError("Parameter 'url' must be a string, not "+typeof j);var fe=j.indexOf("?"),Me=-1!==fe&&fe<j.indexOf("#")?"?":"#",me=j.split(Me);me[0]=me[0].replace(/\\/g,"/");var z=j=me.join(Me);if(z=z.trim(),!X&&1===j.split("#").length){var ne=m.exec(z);if(ne)return this.path=z,this.href=z,this.pathname=ne[1],ne[2]?(this.search=ne[2],this.query=G?b.parse(this.search.substr(1)):this.search.substr(1)):G&&(this.search="",this.query={}),this}var le=h.exec(z);if(le){var re=(le=le[0]).toLowerCase();this.protocol=re,z=z.substr(le.length)}if(X||le||z.match(/^\/\/[^@\/]+@[^@\/]+/)){var ue="//"===z.substr(0,2);ue&&(!le||!O[le])&&(z=z.substr(2),this.slashes=!0)}if(!O[le]&&(ue||le&&!E[le])){for(var he=-1,pe=0;pe<g.length;pe++)-1!==(ze=z.indexOf(g[pe]))&&(-1===he||ze<he)&&(he=ze);var at,Xe;for(-1!==(Xe=-1===he?z.lastIndexOf("@"):z.lastIndexOf("@",he))&&(at=z.slice(0,Xe),z=z.slice(Xe+1),this.auth=decodeURIComponent(at)),he=-1,pe=0;pe<V.length;pe++){var ze;-1!==(ze=z.indexOf(V[pe]))&&(-1===he||ze<he)&&(he=ze)}-1===he&&(he=z.length),this.host=z.slice(0,he),z=z.slice(he),this.parseHost(),this.hostname=this.hostname||"";var Pt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Pt)for(var bt=this.hostname.split(/\./),it=(pe=0,bt.length);pe<it;pe++){var rt=bt[pe];if(rt&&!rt.match(D)){for(var Te="",Ae=0,Ue=rt.length;Ae<Ue;Ae++)rt.charCodeAt(Ae)>127?Te+="x":Te+=rt[Ae];if(!Te.match(D)){var je=bt.slice(0,pe),We=bt.slice(pe+1),Je=rt.match(F);Je&&(je.push(Je[1]),We.unshift(Je[2])),We.length&&(z="/"+We.join(".")+z),this.hostname=je.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Pt||(this.hostname=Ke.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Pt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==z[0]&&(z="/"+z))}if(!L[re])for(pe=0,it=A.length;pe<it;pe++){var Bt=A[pe];if(-1!==z.indexOf(Bt)){var Fn=encodeURIComponent(Bt);Fn===Bt&&(Fn=escape(Bt)),z=z.split(Bt).join(Fn)}}var gi=z.indexOf("#");-1!==gi&&(this.hash=z.substr(gi),z=z.slice(0,gi));var Oi=z.indexOf("?");return-1!==Oi?(this.search=z.substr(Oi),this.query=z.substr(Oi+1),G&&(this.query=b.parse(this.query)),z=z.slice(0,Oi)):G&&(this.search="",this.query={}),z&&(this.pathname=z),E[re]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},U.prototype.format=function(){var j=this.auth||"";j&&(j=(j=encodeURIComponent(j)).replace(/%3A/i,":"),j+="@");var G=this.protocol||"",X=this.pathname||"",fe=this.hash||"",Me=!1,me="";this.host?Me=j+this.host:this.hostname&&(Me=j+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Me+=":"+this.port)),this.query&&N.isObject(this.query)&&Object.keys(this.query).length&&(me=b.stringify(this.query));var Q=this.search||me&&"?"+me||"";return G&&":"!==G.substr(-1)&&(G+=":"),this.slashes||(!G||E[G])&&!1!==Me?(Me="//"+(Me||""),X&&"/"!==X.charAt(0)&&(X="/"+X)):Me||(Me=""),fe&&"#"!==fe.charAt(0)&&(fe="#"+fe),Q&&"?"!==Q.charAt(0)&&(Q="?"+Q),G+Me+(X=X.replace(/[?#]/g,function(z){return encodeURIComponent(z)}))+(Q=Q.replace("#","%23"))+fe},U.prototype.resolve=function(j){return this.resolveObject(w(j,!1,!0)).format()},U.prototype.resolveObject=function(j){if(N.isString(j)){var G=new U;G.parse(j,!1,!0),j=G}for(var X=new U,fe=Object.keys(this),Me=0;Me<fe.length;Me++){var me=fe[Me];X[me]=this[me]}if(X.hash=j.hash,""===j.href)return X.href=X.format(),X;if(j.slashes&&!j.protocol){for(var Q=Object.keys(j),z=0;z<Q.length;z++){var ne=Q[z];"protocol"!==ne&&(X[ne]=j[ne])}return E[X.protocol]&&X.hostname&&!X.pathname&&(X.path=X.pathname="/"),X.href=X.format(),X}if(j.protocol&&j.protocol!==X.protocol){if(!E[j.protocol]){for(var le=Object.keys(j),re=0;re<le.length;re++){var ue=le[re];X[ue]=j[ue]}return X.href=X.format(),X}if(X.protocol=j.protocol,j.host||O[j.protocol])X.pathname=j.pathname;else{for(var it=(j.pathname||"").split("/");it.length&&!(j.host=it.shift()););j.host||(j.host=""),j.hostname||(j.hostname=""),""!==it[0]&&it.unshift(""),it.length<2&&it.unshift(""),X.pathname=it.join("/")}return X.search=j.search,X.query=j.query,X.host=j.host||"",X.auth=j.auth,X.hostname=j.hostname||j.host,X.port=j.port,(X.pathname||X.search)&&(X.path=(X.pathname||"")+(X.search||"")),X.slashes=X.slashes||j.slashes,X.href=X.format(),X}var ze=X.pathname&&"/"===X.pathname.charAt(0),at=j.host||j.pathname&&"/"===j.pathname.charAt(0),Xe=at||ze||X.host&&j.pathname,Pt=Xe,bt=X.pathname&&X.pathname.split("/")||[],rt=(it=j.pathname&&j.pathname.split("/")||[],X.protocol&&!E[X.protocol]);if(rt&&(X.hostname="",X.port=null,X.host&&(""===bt[0]?bt[0]=X.host:bt.unshift(X.host)),X.host="",j.protocol&&(j.hostname=null,j.port=null,j.host&&(""===it[0]?it[0]=j.host:it.unshift(j.host)),j.host=null),Xe=Xe&&(""===it[0]||""===bt[0])),at)X.host=j.host||""===j.host?j.host:X.host,X.hostname=j.hostname||""===j.hostname?j.hostname:X.hostname,X.search=j.search,X.query=j.query,bt=it;else if(it.length)bt||(bt=[]),bt.pop(),bt=bt.concat(it),X.search=j.search,X.query=j.query;else if(!N.isNullOrUndefined(j.search))return rt&&(X.hostname=X.host=bt.shift(),(Te=!!(X.host&&X.host.indexOf("@")>0)&&X.host.split("@"))&&(X.auth=Te.shift(),X.host=X.hostname=Te.shift())),X.search=j.search,X.query=j.query,(!N.isNull(X.pathname)||!N.isNull(X.search))&&(X.path=(X.pathname?X.pathname:"")+(X.search?X.search:"")),X.href=X.format(),X;if(!bt.length)return X.pathname=null,X.path=X.search?"/"+X.search:null,X.href=X.format(),X;for(var Ae=bt.slice(-1)[0],Ue=(X.host||j.host||bt.length>1)&&("."===Ae||".."===Ae)||""===Ae,je=0,We=bt.length;We>=0;We--)"."===(Ae=bt[We])?bt.splice(We,1):".."===Ae?(bt.splice(We,1),je++):je&&(bt.splice(We,1),je--);if(!Xe&&!Pt)for(;je--;je)bt.unshift("..");Xe&&""!==bt[0]&&(!bt[0]||"/"!==bt[0].charAt(0))&&bt.unshift(""),Ue&&"/"!==bt.join("/").substr(-1)&&bt.push("");var Te,Je=""===bt[0]||bt[0]&&"/"===bt[0].charAt(0);return rt&&(X.hostname=X.host=Je?"":bt.length?bt.shift():"",(Te=!!(X.host&&X.host.indexOf("@")>0)&&X.host.split("@"))&&(X.auth=Te.shift(),X.host=X.hostname=Te.shift())),(Xe=Xe||X.host&&bt.length)&&!Je&&bt.unshift(""),bt.length?X.pathname=bt.join("/"):(X.pathname=null,X.path=null),(!N.isNull(X.pathname)||!N.isNull(X.search))&&(X.path=(X.pathname?X.pathname:"")+(X.search?X.search:"")),X.auth=j.auth||X.auth,X.slashes=X.slashes||j.slashes,X.href=X.format(),X},U.prototype.parseHost=function(){var j=this.host,G=y.exec(j);G&&(":"!==(G=G[0])&&(this.port=G.substr(1)),j=j.substr(0,j.length-G.length)),j&&(this.hostname=j)}},796:ot=>{"use strict";ot.exports={isString:function(ut){return"string"==typeof ut},isObject:function(ut){return"object"==typeof ut&&null!==ut},isNull:function(ut){return null===ut},isNullOrUndefined:function(ut){return null==ut}}}},ot=>{ot(ot.s=176)}]);